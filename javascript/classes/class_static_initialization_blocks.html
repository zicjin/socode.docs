<h1>Class static initialization blocks</h1>
<div class="section-content">
<p><strong>Class static initialization blocks</strong> are a special feature of a <a href="../statements/class"><code>class</code></a> that enable more flexible initialization of <a href="static"><code>static</code></a> properties than can be achieved using per-field initialization.</p> <p>Static blocks allow statements to be evaluated during initialization, which allows initializations that (for example) include <code>try...catch</code> or set multiple fields from a single value.</p> <p> Initialization is performed in the context of the current class declaration, with privileged access to private state. This means that static blocks can also be used to share information between classes with instance private fields and other classes or functions declared in the same scope (analogous to "friend" classes in C++). </p>
</div>
<section aria-labelledby="try_it"><h2 id="try_it">Try it</h2>
<div class="section-content"><iframe class="interactive is-js-height" height="200" src="https://interactive-examples.mdn.mozilla.net/pages/js/classes-static-initialization.html" title="MDN Web Docs Interactive Example" loading="lazy"></iframe></div></section><section aria-labelledby="syntax"><h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example"><pre data-language="js"><span class="token keyword">static</span> <span class="token punctuation">{</span> <span class="token comment">/* â€¦ */</span> <span class="token punctuation">}</span>
</pre></div></div></section><section aria-labelledby="description"><h2 id="description">Description</h2>
<div class="section-content">
<p> A <a href="../statements/class"><code>class</code></a> can have any number of <code>static {}</code> initialization blocks in its class body. These are evaluated, along with any interleaved static field initializers, in the order they are declared. Any static initialization of a super class is performed first, before that of its sub classes. </p> <p> The scope of the variables declared inside the static block is local to the block. Since <code>var</code>, <code>function</code>, <code>const</code> or <code>let</code> declared in a <code>static {}</code> initialization block are local to the block, any <code>var</code> declarations in the block are not hoisted. </p> <div class="code-example"><pre data-language="js"><span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token string">'Outer y'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> field <span class="token operator">=</span> <span class="token string">'Inner y'</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>field<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// var defined in static block is not hoisted</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &gt; 'Outer y'</span>
</pre></div> <p> The <code>this</code> inside a static block refers to the constructor object of the class. <code>super.&lt;property&gt;</code> can be used to access properties of a super class. Note however that it is a syntax error to call <a href="../operators/super"><code>super()</code></a> in a class static initialization block, or to attempt to access arguments of the class constructor function. </p> <p>The scope of the static block is nested <em>within</em> the lexical scope of the class body, and can access the private instance variables of the class.</p> <p>A static initialization block may not have decorators (the class itself may).</p>
</div></section><section aria-labelledby="examples"><h2 id="examples">Examples</h2>
</section><section aria-labelledby="multiple_blocks"><h3 id="multiple_blocks">Multiple blocks</h3>
<div class="section-content">
<p> The code below demonstrates a class with static initialization blocks and interleaved static field initializers. The output shows that the blocks and fields are evaluated in execution order. </p> <div class="code-example"><pre data-language="js"><span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> field1 <span class="token operator">=</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'field1 called'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Class static block #1 called'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">static</span> field2 <span class="token operator">=</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'field2 called'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Class static block #2 called'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/*
&gt; "field1 called"
&gt; "Class static block #1 called"
&gt; "field2 called"
&gt; "Class static block #2 called"
*/</span>
</pre></div> <p>Note that any static initialization of a super class is performed first, before that of its sub classes.</p>
</div></section><section aria-labelledby="using_this_and_super"><h3 id="using_this_and_super">Using this and super</h3>
<div class="section-content">
<p> The <code>this</code> inside a static block refers to the constructor object of the class. This code shows how to access a public static field. </p> <div class="code-example"><pre data-language="js"><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> field <span class="token operator">=</span> <span class="token string">'A static field'</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>field<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></div> <p> The <a href="../operators/super"><code>super.property</code></a> can be used inside a <code>static</code> block to reference properties of a super class. This includes static properties, as shown below: </p> <div class="code-example"><pre data-language="js"><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> fieldA <span class="token operator">=</span> <span class="token string">'A.fieldA'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">extends</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">super</span><span class="token punctuation">.</span>fieldA<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 'A.fieldA'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></div>
</div></section><section aria-labelledby="access_to_private_fields"><h3 id="access_to_private_fields">Access to private fields</h3>
<div class="section-content">
<p>This example below shows how access can be granted to the private object of a class from an object outside the class (example from the <a href="https://v8.dev/features/class-static-initializer-blocks#access-to-private-fields" rel=" noopener">v8.dev blog</a>):</p> <div class="code-example"><pre data-language="js"><span class="token keyword">let</span> getDPrivateField<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">D</span> <span class="token punctuation">{</span>
  #privateField<span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>#privateField <span class="token operator">=</span> v<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">static</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">getDPrivateField</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">d</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> d<span class="token punctuation">.</span>#privateField<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">getDPrivateField</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">D</span><span class="token punctuation">(</span><span class="token string">'private'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &gt; private</span>
</pre></div>
</div></section><section aria-labelledby="workarounds"><h3 id="workarounds">Workarounds</h3>
<div class="section-content">
<p>Prior to ES13 more complex static initialization might be achieved by using a static method that is called after the other properties to perform static initialization, or having a method that is external to the class that performs initialization tasks.</p> <p>In both cases the approach is less elegant, and does not grant access to private methods in the class.</p>
</div></section><h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://tc39.es/ecma262/multipage/ecmascript-language-functions-and-classes.html#prod-ClassStaticBlock">ECMAScript Language Specification <br><small># prod-ClassStaticBlock</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
<th colspan="2">Server</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>Deno</th>
<th>Node.js</th>
</tr>
</thead>
<tbody><tr>
<th><code>Class_static_initialization_blocks</code></th>
<td class="bc-supports-yes"><div>94</div></td>
<td class="bc-supports-yes"><div>94</div></td>
<td class="bc-supports-yes"><div>93</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>80</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>94</div></td>
<td class="bc-supports-yes"><div>94</div></td>
<td class="bc-supports-yes"><div>93</div></td>
<td class="bc-supports-yes"><div>66</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>17.0</div></td>
<td class="bc-supports-yes"><div>1.14</div></td>
<td class="bc-supports-yes"><div>16.11.0</div></td>
</tr></tbody>
</table>
<section aria-labelledby="see_also"><h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li>
<a href="https://v8.dev/features/class-static-initializer-blocks" rel=" noopener">Class static initialization blocks</a> (v8.dev blog)</li> <li>
<a href="https://2ality.com/2021/09/class-static-block.html" rel=" noopener">ES2022 feature: class static initialization blocks</a> (2ality.com blog)</li> <li><a href="../classes">Classes</a></li> <li><a href="../operators/super"><code>super()</code></a></li> <li><a href="../global_objects/object/constructor">Object.prototype.constructor</a></li> </ul></div></section><aside class="metadata"><div class="metadata-content-container">
<div id="on-github" class="on-github">
<h3>Found a problem with this page?</h3>
<ul>
<li><a href="https://github.com/mdn/content/edit/main/files/en-us/web/javascript/reference/classes/class_static_initialization_blocks/index.md" target="_blank" rel="noopener noreferrer">Edit on <b>GitHub</b></a></li>
<li><a href="https://github.com/mdn/content/blob/main/files/en-us/web/javascript/reference/classes/class_static_initialization_blocks/index.md?plain=1" target="_blank" rel="noopener noreferrer">Source on <b>GitHub</b></a></li>
<li><a href="https://github.com/mdn/content/issues/new?template=page-report.yml&amp;mdn-url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FJavaScript%2FReference%2FClasses%2FClass_static_initialization_blocks&amp;metadata=%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EPage+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Fweb%2Fjavascript%2Freference%2Fclasses%2Fclass_static_initialization_blocks%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FJavaScript%2FReference%2FClasses%2FClass_static_initialization_blocks%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fmain%2Ffiles%2Fen-us%2Fweb%2Fjavascript%2Freference%2Fclasses%2Fclass_static_initialization_blocks%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2F91391d9015ffd672dac51f7336135676e05bb05d%0A*+Document+last+modified%3A+2022-07-22T05%3A49%3A08.000Z%0A%0A%3C%2Fdetails%3E" target="_blank" rel="noopener noreferrer">Report a problem with this content on <b>GitHub</b></a></li>
<li>Want to fix the problem yourself? See <a href="https://github.com/mdn/content/blob/main/README.md" target="_blank" rel="noopener noreferrer">our Contribution guide</a>.</li>
</ul>
</div>
<p class="last-modified-date"><b>Last modified:</b> <time datetime="2022-07-22T05:49:08.000Z">Jul 22, 2022</time>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/Class_static_initialization_blocks/contributors.txt">by MDN contributors</a></p>
</div></aside><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/Class_static_initialization_blocks" class="_attribution-link" target="_blank">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/Class_static_initialization_blocks</a>
  </p>
</div>
