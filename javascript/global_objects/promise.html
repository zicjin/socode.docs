<h1>Promise</h1>
<p>The <code>Promise</code> object represents the eventual completion (or failure) of an asynchronous operation and its resulting value.</p>
<div class="notecard note"> <p><strong>Note:</strong> This feature is available in <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API">Web Workers</a></p> </div> <p>To learn about the way promises work and how you can use them, we advise you to read <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises">Using promises</a> first.</p>
<h2 id="description">Description</h2>
<p>A <code>Promise</code> is a proxy for a value not necessarily known when the promise is created. It allows you to associate handlers with an asynchronous action's eventual success value or failure reason. This lets asynchronous methods return values like synchronous methods: instead of immediately returning the final value, the asynchronous method returns a <em>promise</em> to supply the value at some point in the future.</p> <p>A <code>Promise</code> is in one of these states:</p> <ul> <li>
<em>pending</em>: initial state, neither fulfilled nor rejected.</li> <li>
<em>fulfilled</em>: meaning that the operation was completed successfully.</li> <li>
<em>rejected</em>: meaning that the operation failed.</li> </ul> <p>A pending promise can either be <em>fulfilled</em> with a value or <em>rejected</em> with a reason (error). When either of these options happens, the associated handlers queued up by a promise's <code>then</code> method are called. If the promise has already been fulfilled or rejected when a corresponding handler is attached, the handler will be called, so there is no race condition between an asynchronous operation completing and its handlers being attached.</p> <p>As the <code><a href="promise/then"><code>Promise.prototype.then()</code></a></code> and <code><a href="promise/catch"><code>Promise.prototype.catch()</code></a></code> methods return promises, they can be chained.</p> <p> <img src="data:image/png;base64,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" alt="" width="801" height="297" loading="lazy"> </p> <div class="notecard note"> <p><strong>Note:</strong> Several other languages have mechanisms for lazy evaluation and deferring a computation, which they also call "promises", e.g. Scheme. Promises in JavaScript represent processes that are already happening, which can be chained with callback functions. If you are looking to lazily evaluate an expression, consider the <a href="../functions/arrow_functions">arrow function</a> with no arguments: <code>f = () =&gt; expression</code> to create the lazily-evaluated expression, and <code>f()</code> to evaluate.</p> </div> <div class="notecard note"> <p><strong>Note:</strong> A promise is said to be <em>settled</em> if it is either fulfilled or rejected, but not pending. You will also hear the term <em>resolved</em> used with promises — this means that the promise is settled or “locked-in” to match the state of another promise. <a href="https://github.com/domenic/promises-unwrapping/blob/master/docs/states-and-fates.md" rel=" noopener">States and fates</a> contain more details about promise terminology.</p> </div>
<h3 id="chained_promises">Chained Promises</h3>
<p>The methods <code>promise.then()</code>, <code>promise.catch()</code>, and <code>promise.finally()</code> are used to associate further action with a promise that becomes settled.</p> <p>The <code>.then()</code> method takes up to two arguments; the first argument is a callback function for the resolved case of the promise, and the second argument is a callback function for the rejected case. Each <code>.then()</code> returns a newly generated promise object, which can optionally be used for chaining; for example:</p> <div class="code-example"><pre data-language="js"><span class="token keyword">const</span> myPromise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

myPromise
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>handleResolvedA<span class="token punctuation">,</span> handleRejectedA<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>handleResolvedB<span class="token punctuation">,</span> handleRejectedB<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>handleResolvedC<span class="token punctuation">,</span> handleRejectedC<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></div> <p>Processing continues to the next link of the chain even when a <code>.then()</code> lacks a callback function that returns a Promise object. Therefore, a chain can safely omit every <em>rejection</em> callback function until the final <code>.catch()</code>.</p> <p>Handling a rejected promise in each <code>.then()</code> has consequences further down the promise chain. Sometimes there is no choice, because an error must be handled immediately. In such cases we must throw an error of some type to maintain error state down the chain. On the other hand, in the absence of an immediate need, it is simpler to leave out error handling until a final <code>.catch()</code> statement. A <code>.catch()</code> is really just a <code>.then()</code> without a slot for a callback function for the case when the promise is resolved.</p> <div class="code-example"><pre data-language="js">myPromise
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>handleResolvedA<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>handleResolvedB<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>handleResolvedC<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>handleRejectedAny<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></div> <p>Using <code><a href="../functions/arrow_functions"><code>Arrow Function Expressions</code></a></code> for the callback functions, an implementation of a promise chain might look something like this:</p> <div class="code-example"><pre data-language="js">promise1
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> value <span class="token operator">+</span> <span class="token string">' and bar'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> value <span class="token operator">+</span> <span class="token string">' and bar again'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> value <span class="token operator">+</span> <span class="token string">' and again'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> value <span class="token operator">+</span> <span class="token string">' and again'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></div> <p>The termination condition of a promise determines the "settled" state of the next promise in the chain. A "resolved" state indicates a successful completion of the promise, while a "rejected" state indicates a lack of success. The return value of each resolved promise in the chain is passed along to the next <code>.then()</code>, while the reason for rejection is passed along to the next rejection-handler function in the chain.</p> <p>The promises of a chain are nested like Russian dolls, but get popped like the top of a stack. The first promise in the chain is most deeply nested and is the first to pop.</p> <div class="code-example"><pre data-language="plain">(promise D, (promise C, (promise B, (promise A) ) ) )
</pre></div> <p>When a <code>nextValue</code> is a promise, the effect is a dynamic replacement. The <code>return</code> causes a promise to be popped, but the <code>nextValue</code> promise is pushed into its place. For the nesting shown above, suppose the <code>.then()</code> associated with "promise B" returns a <code>nextValue</code> of "promise X". The resulting nesting would look like this:</p> <div class="code-example"><pre data-language="plain">(promise D, (promise C, (promise X) ) )
</pre></div> <p>A promise can participate in more than one nesting. For the following code, the transition of <code>promiseA</code> into a "settled" state will cause both instances of <code>.then()</code> to be invoked.</p> <div class="code-example"><pre data-language="js"><span class="token keyword">const</span> promiseA <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>myExecutorFunc<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> promiseB <span class="token operator">=</span> promiseA<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>handleFulfilled1<span class="token punctuation">,</span> handleRejected1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> promiseC <span class="token operator">=</span> promiseA<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>handleFulfilled2<span class="token punctuation">,</span> handleRejected2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></div> <p>An action can be assigned to an already "settled" promise. In that case, the action (if appropriate) will be performed at the first asynchronous opportunity. Note that promises are guaranteed to be asynchronous. Therefore, an action for an already "settled" promise will occur only after the stack has cleared and a clock-tick has passed. The effect is much like that of <code>setTimeout(action,10)</code>.</p> <div class="code-example"><pre data-language="js"><span class="token keyword">const</span> promiseA <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token parameter">resolutionFunc<span class="token punctuation">,</span>rejectionFunc</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">resolutionFunc</span><span class="token punctuation">(</span><span class="token number">777</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// At this point, "promiseA" is already settled.</span>
promiseA<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"asynchronous logging has val:"</span><span class="token punctuation">,</span>val<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"immediate logging"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// produces output in this order:</span>
<span class="token comment">// immediate logging</span>
<span class="token comment">// asynchronous logging has val: 777</span>
</pre></div>
<h3 id="incumbent_settings_object_tracking">Incumbent settings object tracking</h3>
<p>A settings object is an <a href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" rel=" noopener">environment</a> that provides additional information when JavaScript code is running. This includes the realm and module map, as well as HTML specific information such as the origin. The incumbent settings object is tracked in order to ensure that the browser knows which one to use for a given piece of user code.</p> <p>To better picture this, we can take a closer look at how the realm might be an issue. A <strong>realm</strong> can be roughly thought of as the global object. What is unique about realms is that they hold all of the necessary information to run JavaScript code. This includes objects like <a href="array"><code>Array</code></a> and <a href="error"><code>Error</code></a>. Each settings object has its own "copy" of these and they are not shared. That can cause some unexpected behavior in relation to promises. In order to get around this, we track something called the <strong>incumbent settings object</strong>. This represents information specific to the context of the user code responsible for a certain function call.</p> <p>To illustrate this a bit further we can take a look at how an <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe"><code>&lt;iframe&gt;</code></a> embedded in a document communicates with its host. Since all web APIs are aware of the incumbent settings object, the following will work in all browsers:</p> <div class="code-example"><pre data-language="html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- we have a realm here --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"> <span class="token comment">// we have a realm here as well</span>
  <span class="token keyword">const</span> bound <span class="token operator">=</span> frames<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>
    frames<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"some data"</span><span class="token punctuation">,</span> <span class="token string">"*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// bound is a built-in function -- there is no user</span>
    <span class="token comment">// code on the stack, so which realm do we use?</span>
  window<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span>bound<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// this still works, because we use the youngest</span>
  <span class="token comment">// realm (the incumbent) on the stack</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</pre></div> <p>The same concept applies to promises. If we modify the above example a little bit, we get this:</p> <div class="code-example"><pre data-language="html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- we have a realm here --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"> <span class="token comment">// we have a realm here as well</span>
  <span class="token keyword">const</span> bound <span class="token operator">=</span> frames<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>
    frames<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"some data"</span><span class="token punctuation">,</span> <span class="token string">"*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// bound is a built in function -- there is no user</span>
    <span class="token comment">// code on the stack -- which realm do we use?</span>
  Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>bound<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// this still works, because we use the youngest</span>
  <span class="token comment">// realm (the incumbent) on the stack</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</pre></div> <p>If we change this so that the <code>&lt;iframe&gt;</code> in the document is listening to post messages, we can observe the effect of the incumbent settings object:</p> <div class="code-example"><pre data-language="html"><span class="token comment">&lt;!-- y.html --&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>x.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">const</span> bound <span class="token operator">=</span> frames<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>frames<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"some data"</span><span class="token punctuation">,</span> <span class="token string">"*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>bound<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</pre></div> <div class="code-example"><pre data-language="html"><span class="token comment">&lt;!-- x.html --&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"message"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"#text"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span>
  <span class="token comment">// this code will only run in browsers that track the incumbent settings object</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</pre></div> <p>In the above example, the inner text of the <code>&lt;iframe&gt;</code> will be updated only if the incumbent settings object is tracked. This is because without tracking the incumbent, we may end up using the wrong environment to send the message.</p> <div class="notecard note"> <p><strong>Note:</strong> Currently, incumbent realm tracking is fully implemented in Firefox, and has partial implementations in Chrome and Safari.</p> </div>
<h2 id="constructor">Constructor</h2>
<dl> <dt><a href="promise/promise"><code>Promise()</code></a></dt> <dd> <p>Creates a new <code>Promise</code> object. The constructor is primarily used to wrap functions that do not already support promises.</p> </dd> </dl>
<h2 id="static_methods">Static methods</h2>
<dl> <dt><a href="promise/all"><code>Promise.all(iterable)</code></a></dt> <dd> <p>Wait for all promises to be resolved, or for any to be rejected.</p> <p>If the returned promise resolves, it is resolved with an aggregating array of the values from the resolved promises, in the same order as defined in the iterable of multiple promises.</p> <p>If it rejects, it is rejected with the reason from the first promise in the iterable that was rejected.</p> </dd> <dt><a href="promise/allsettled"><code>Promise.allSettled(iterable)</code></a></dt> <dd> <p>Wait until all promises have settled (each may resolve or reject).</p> <p>Returns a Promise that resolves after all of the given promises is either fulfilled or rejected, with an array of objects that each describe the outcome of each promise.</p> </dd> <dt><a href="promise/any"><code>Promise.any(iterable)</code></a></dt> <dd> <p>Takes an iterable of Promise objects and, as soon as one of the promises in the iterable fulfills, returns a single promise that resolves with the value from that promise.</p> </dd> <dt><a href="promise/race"><code>Promise.race(iterable)</code></a></dt> <dd> <p>Wait until any of the promises is fulfilled or rejected.</p> <p>If the returned promise resolves, it is resolved with the value of the first promise in the iterable that resolved.</p> <p>If it rejects, it is rejected with the reason from the first promise that was rejected.</p> </dd> <dt><a href="promise/reject"><code>Promise.reject(reason)</code></a></dt> <dd> <p>Returns a new <code>Promise</code> object that is rejected with the given reason.</p> </dd> <dt><a href="promise/resolve"><code>Promise.resolve(value)</code></a></dt> <dd> <p>Returns a new <code>Promise</code> object that is resolved with the given value. If the value is a thenable (i.e. has a <code>then</code> method), the returned promise will "follow" that thenable, adopting its eventual state; otherwise, the returned promise will be fulfilled with the value.</p> <p>Generally, if you don't know if a value is a promise or not, <a href="promise/resolve"><code>Promise.resolve(value)</code></a> it instead and work with the return value as a promise.</p> </dd> </dl>
<h2 id="instance_methods">Instance methods</h2>
<p>See the <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTML_DOM_API/Microtask_guide">Microtask guide</a> to learn more about how these methods use the Microtask queue and services.</p> <dl> <dt><a href="promise/catch"><code>Promise.prototype.catch()</code></a></dt> <dd> <p>Appends a rejection handler callback to the promise, and returns a new promise resolving to the return value of the callback if it is called, or to its original fulfillment value if the promise is instead fulfilled.</p> </dd> <dt><a href="promise/then"><code>Promise.prototype.then()</code></a></dt> <dd> <p>Appends fulfillment and rejection handlers to the promise, and returns a new promise resolving to the return value of the called handler, or to its original settled value if the promise was not handled (i.e. if the relevant handler <code>onFulfilled</code> or <code>onRejected</code> is not a function).</p> </dd> <dt><a href="promise/finally"><code>Promise.prototype.finally()</code></a></dt> <dd> <p>Appends a handler to the promise, and returns a new promise that is resolved when the original promise is resolved. The handler is called when the promise is settled, whether fulfilled or rejected.</p> </dd> </dl>
<h2 id="examples">Examples</h2>
<h3 id="basic_example">Basic Example</h3>
<div class="code-example"><pre data-language="js"><span class="token keyword">let</span> myFirstPromise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// We call resolve(...) when what we were doing asynchronously was successful, and reject(...) when it failed.</span>
  <span class="token comment">// In this example, we use setTimeout(...) to simulate async code.</span>
  <span class="token comment">// In reality, you will probably be using something like XHR or an HTML5 API.</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">"Success!"</span><span class="token punctuation">)</span>  <span class="token comment">// Yay! Everything went well!</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

myFirstPromise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">successMessage</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// successMessage is whatever we passed in the resolve(...) function above.</span>
  <span class="token comment">// It doesn't have to be a string, but if it is only a succeed message, it probably will be.</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Yay! "</span> <span class="token operator">+</span> successMessage<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></div>
<h3 id="example_with_diverse_situations">Example with diverse situations</h3>
<p>This example shows diverse techniques for using Promise capabilities and diverse situations that can occur. To understand this, start by scrolling to the bottom of the code block, and examine the promise chain. Upon provision of an initial promise, a chain of promises can follow. The chain is composed of <code>.then()</code> calls, and typically (but not necessarily) has a single <code>.catch()</code> at the end, optionally followed by <code>.finally()</code>. In this example, the promise chain is initiated by a custom-written <code>new Promise()</code> construct; but in actual practice, promise chains more typically start with an API function (written by someone else) that returns a promise.</p> <p>The example function <code>tetheredGetNumber()</code> shows that a promise generator will utilize <code>reject()</code> while setting up an asynchronous call, or within the call-back, or both. The function <code>promiseGetWord()</code> illustrates how an API function might generate and return a promise in a self-contained manner.</p> <p>Note that the function <code>troubleWithGetNumber()</code> ends with a <code>throw()</code>. That is forced because an ES6 promise chain goes through all the <code>.then()</code> promises, even after an error, and without the "throw()", the error would seem "fixed". This is a hassle, and for this reason, it is common to omit <code>rejectionFunc</code> throughout the chain of <code>.then()</code> promises, and just have a single <code>rejectionFunc</code> in the final <code>catch()</code>. The alternative is to throw a special value (in this case "-999", but a custom Error type would be more appropriate).</p> <p>This code can be run under NodeJS. Comprehension is enhanced by seeing the errors actually occur. To force more errors, change the <code>threshold</code> values.</p> <div class="code-example"><pre data-language="js"><span class="token string">"use strict"</span><span class="token punctuation">;</span>

<span class="token comment">// To experiment with error handling, "threshold" values cause errors randomly</span>
<span class="token keyword">const</span> <span class="token constant">THRESHOLD_A</span> <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">// can use zero 0 to guarantee error</span>

<span class="token keyword">function</span> <span class="token function">tetheredGetNumber</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span>
      <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> randomInt <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> value <span class="token operator">=</span> randomInt <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>value <span class="token operator">&gt;=</span> <span class="token constant">THRESHOLD_A</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Too large: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">reject</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Error in callback </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>msg<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// To experiment with error at set-up, uncomment the following 'throw'.</span>
    <span class="token comment">// throw new Error("Bad setup");</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">reject</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Error during setup: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>err<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">determineParity</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> isOdd <span class="token operator">=</span> value <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">;</span>
  <span class="token keyword">const</span> parityInfo <span class="token operator">=</span> <span class="token punctuation">{</span> theNumber<span class="token operator">:</span> value<span class="token punctuation">,</span> isOdd<span class="token operator">:</span> isOdd <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> parityInfo<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">troubleWithGetNumber</span><span class="token punctuation">(</span><span class="token parameter">reason</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Trouble getting number: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>reason<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">throw</span> <span class="token operator">-</span><span class="token number">999</span><span class="token punctuation">;</span> <span class="token comment">// must "throw" something, to maintain error state down the chain</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">promiseGetWord</span><span class="token punctuation">(</span><span class="token parameter">parityInfo</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// The "tetheredGetWord()" function gets "parityInfo" as closure variable.</span>
  <span class="token keyword">const</span> <span class="token function-variable function">tetheredGetWord</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> theNumber <span class="token operator">=</span> parityInfo<span class="token punctuation">.</span>theNumber<span class="token punctuation">;</span>
    <span class="token keyword">const</span> threshold_B <span class="token operator">=</span> <span class="token constant">THRESHOLD_A</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>theNumber <span class="token operator">&gt;=</span> threshold_B<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">reject</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Still too large: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>theNumber<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      parityInfo<span class="token punctuation">.</span>wordEvenOdd <span class="token operator">=</span> parityInfo<span class="token punctuation">.</span>isOdd <span class="token operator">?</span> <span class="token string">'odd'</span> <span class="token operator">:</span> <span class="token string">'even'</span><span class="token punctuation">;</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span>parityInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>tetheredGetWord<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>tetheredGetNumber<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>determineParity<span class="token punctuation">,</span>troubleWithGetNumber<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>promiseGetWord<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">info</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Got: "</span><span class="token punctuation">,</span>info<span class="token punctuation">.</span>theNumber<span class="token punctuation">,</span><span class="token string">" , "</span><span class="token punctuation">,</span> info<span class="token punctuation">.</span>wordEvenOdd<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> info<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">reason</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>reason <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">999</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Had previously handled error"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Trouble with promiseGetWord(): </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>reason<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">info</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"All done"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></div>
<h3 id="advanced_example">Advanced Example</h3>
<p>This small example shows the mechanism of a <code>Promise</code>. The <code>testPromise()</code> method is called each time the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button"><code>&lt;button&gt;</code></a> is clicked. It creates a promise that will be fulfilled, using <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setTimeout"><code>WindowOrWorkerGlobalScope.setTimeout</code></a>, to the promise count (number starting from 1) every 1-3 seconds, at random. The <code>Promise()</code> constructor is used to create the promise.</p> <p>The fulfillment of the promise is logged, via a fulfill callback set using <a href="promise/then"><code>p1.then()</code></a>. A few logs show how the synchronous part of the method is decoupled from the asynchronous completion of the promise.</p> <p>By clicking the button several times in a short amount of time, you'll even see the different promises being fulfilled one after another.</p> <h4 id="html">HTML</h4> <div class="code-example"><pre data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>make-promise<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Make a promise!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>log<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</pre></div> <h4 id="javascript">JavaScript</h4> <div class="code-example"><pre data-language="js"><span class="token string">"use strict"</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> promiseCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">testPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> thisPromiseCount <span class="token operator">=</span> <span class="token operator">++</span>promiseCount<span class="token punctuation">;</span>
  <span class="token keyword">let</span> log <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'log'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// begin</span>
  log<span class="token punctuation">.</span><span class="token function">insertAdjacentHTML</span><span class="token punctuation">(</span><span class="token string">'beforeend'</span><span class="token punctuation">,</span> thisPromiseCount <span class="token operator">+</span> <span class="token string">') Started&lt;br&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// We make a new promise: we promise a numeric count of this promise, starting from 1 (after waiting 3s)</span>
  <span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// The executor function is called with the ability to resolve or reject the promise</span>
    log<span class="token punctuation">.</span><span class="token function">insertAdjacentHTML</span><span class="token punctuation">(</span><span class="token string">'beforeend'</span><span class="token punctuation">,</span> thisPromiseCount <span class="token operator">+</span> <span class="token string">') Promise constructor&lt;br&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// This is only an example to create asynchronism</span>
    window<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// We fulfill the promise !</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span>thisPromiseCount<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2000</span> <span class="token operator">+</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// We define what to do when the promise is resolved with the then() call,</span>
  <span class="token comment">// and what to do when the promise is rejected with the catch() call</span>
  p1<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Log the fulfillment value</span>
    log<span class="token punctuation">.</span><span class="token function">insertAdjacentHTML</span><span class="token punctuation">(</span><span class="token string">'beforeend'</span><span class="token punctuation">,</span> val <span class="token operator">+</span> <span class="token string">') Promise fulfilled&lt;br&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">reason</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// Log the rejection reason</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Handle rejected promise (</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>reason<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">) here.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// end</span>
  log<span class="token punctuation">.</span><span class="token function">insertAdjacentHTML</span><span class="token punctuation">(</span><span class="token string">'beforeend'</span><span class="token punctuation">,</span> thisPromiseCount <span class="token operator">+</span> <span class="token string">') Promise made&lt;br&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"Promise"</span> <span class="token keyword">in</span> window<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"make-promise"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span>testPromise<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  log <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'log'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  log<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">"Live example not available as your browser doesn't support the &lt;code&gt;Promise&lt;code&gt; interface."</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre></div> <h4 id="result">Result</h4>
<iframe class="sample-code-frame" title="Advanced Example sample" id="frame_Advanced_Example" width="500" height="200" src="https://yari-demos.prod.mdn.mozit.cloud/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/_sample_.Advanced_Example.html" loading="lazy"></iframe><h3 id="loading_an_image_with_xhr">Loading an image with XHR</h3>
<p>Another simple example using <code>Promise</code> and <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest"><code>XMLHttpRequest</code></a> to load an image is available at the MDN GitHub <a href="https://github.com/mdn/js-examples/tree/master/promises-test" rel=" noopener">js-examples</a> repository. You can also <a href="https://mdn.github.io/js-examples/promises-test/" rel=" noopener">see it in action</a>. Each step is commented on and allows you to follow the Promise and XHR architecture closely.</p>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://tc39.es/ecma262/multipage/control-abstraction-objects.html#sec-promise-objects">ECMAScript Language Specification (ECMAScript)<br><small># sec-promise-objects</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>Promise</code></th>
<td class="bc-supports-yes"><div>32</div></td>
<td class="bc-supports-yes"><div>12</div></td>
<td class="bc-supports-yes"><div>29</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>19</div></td>
<td class="bc-supports-yes"><div>8</div></td>
<td class="bc-supports-yes"><div>4.4.3</div></td>
<td class="bc-supports-yes"><div>32</div></td>
<td class="bc-supports-yes"><div>29</div></td>
<td class="bc-supports-yes"><div>19</div></td>
<td class="bc-supports-yes"><div>8</div></td>
<td class="bc-supports-yes"><div>2.0</div></td>
</tr>
<tr>
<th><code>Promise</code></th>
<td class="bc-supports-yes"><div>32</div></td>
<td class="bc-supports-yes"><div>12</div></td>
<td class="bc-supports-yes">
<div>29</div>
<div>Constructor requires a new operator since version 37.</div>
</td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>19</div></td>
<td class="bc-supports-yes">
<div>8</div>
<div>Constructor requires a new operator since version 10.</div>
</td>
<td class="bc-supports-yes"><div>4.4.3</div></td>
<td class="bc-supports-yes"><div>32</div></td>
<td class="bc-supports-yes">
<div>29</div>
<div>Constructor requires a new operator since version 37.</div>
</td>
<td class="bc-supports-yes"><div>19</div></td>
<td class="bc-supports-yes">
<div>8</div>
<div>Constructor requires a new operator since version 10.</div>
</td>
<td class="bc-supports-yes"><div>2.0</div></td>
</tr>
<tr>
<th><code>all</code></th>
<td class="bc-supports-yes"><div>32</div></td>
<td class="bc-supports-yes"><div>12</div></td>
<td class="bc-supports-yes"><div>29</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>19</div></td>
<td class="bc-supports-yes"><div>8</div></td>
<td class="bc-supports-yes"><div>4.4.3</div></td>
<td class="bc-supports-yes"><div>32</div></td>
<td class="bc-supports-yes"><div>29</div></td>
<td class="bc-supports-yes"><div>19</div></td>
<td class="bc-supports-yes"><div>8</div></td>
<td class="bc-supports-yes"><div>2.0</div></td>
</tr>
<tr>
<th><code>allSettled</code></th>
<td class="bc-supports-yes"><div>76</div></td>
<td class="bc-supports-yes"><div>79</div></td>
<td class="bc-supports-yes"><div>71</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>63</div></td>
<td class="bc-supports-yes"><div>13</div></td>
<td class="bc-supports-yes"><div>76</div></td>
<td class="bc-supports-yes"><div>76</div></td>
<td class="bc-supports-yes"><div>79</div></td>
<td class="bc-supports-yes"><div>54</div></td>
<td class="bc-supports-yes"><div>13</div></td>
<td class="bc-supports-yes"><div>12.0</div></td>
</tr>
<tr>
<th><code>any</code></th>
<td class="bc-supports-yes"><div>85</div></td>
<td class="bc-supports-yes"><div>85</div></td>
<td class="bc-supports-yes"><div>79</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>14</div></td>
<td class="bc-supports-yes"><div>85</div></td>
<td class="bc-supports-yes"><div>85</div></td>
<td class="bc-supports-yes"><div>79</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>14</div></td>
<td class="bc-supports-yes"><div>14.0</div></td>
</tr>
<tr>
<th><code>catch</code></th>
<td class="bc-supports-yes"><div>32</div></td>
<td class="bc-supports-yes"><div>12</div></td>
<td class="bc-supports-yes"><div>29</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>19</div></td>
<td class="bc-supports-yes"><div>8</div></td>
<td class="bc-supports-yes"><div>4.4.3</div></td>
<td class="bc-supports-yes"><div>32</div></td>
<td class="bc-supports-yes"><div>29</div></td>
<td class="bc-supports-yes"><div>19</div></td>
<td class="bc-supports-yes"><div>8</div></td>
<td class="bc-supports-yes"><div>2.0</div></td>
</tr>
<tr>
<th><code>finally</code></th>
<td class="bc-supports-yes"><div>63</div></td>
<td class="bc-supports-yes"><div>18</div></td>
<td class="bc-supports-yes"><div>58</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>50</div></td>
<td class="bc-supports-yes"><div>11.1</div></td>
<td class="bc-supports-yes"><div>63</div></td>
<td class="bc-supports-yes"><div>63</div></td>
<td class="bc-supports-yes"><div>58</div></td>
<td class="bc-supports-yes"><div>46</div></td>
<td class="bc-supports-yes"><div>11.3</div></td>
<td class="bc-supports-yes"><div>8.0</div></td>
</tr>
<tr>
<th><code>incumbent_settings_object_tracking</code></th>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>50</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>50</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
</tr>
<tr>
<th><code>race</code></th>
<td class="bc-supports-yes"><div>32</div></td>
<td class="bc-supports-yes"><div>12</div></td>
<td class="bc-supports-yes"><div>29</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>19</div></td>
<td class="bc-supports-yes"><div>8</div></td>
<td class="bc-supports-yes"><div>4.4.3</div></td>
<td class="bc-supports-yes"><div>32</div></td>
<td class="bc-supports-yes"><div>29</div></td>
<td class="bc-supports-yes"><div>19</div></td>
<td class="bc-supports-yes"><div>8</div></td>
<td class="bc-supports-yes"><div>2.0</div></td>
</tr>
<tr>
<th><code>reject</code></th>
<td class="bc-supports-yes"><div>32</div></td>
<td class="bc-supports-yes"><div>12</div></td>
<td class="bc-supports-yes"><div>29</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>19</div></td>
<td class="bc-supports-yes"><div>8</div></td>
<td class="bc-supports-yes"><div>4.4.3</div></td>
<td class="bc-supports-yes"><div>32</div></td>
<td class="bc-supports-yes"><div>29</div></td>
<td class="bc-supports-yes"><div>19</div></td>
<td class="bc-supports-yes"><div>8</div></td>
<td class="bc-supports-yes"><div>2.0</div></td>
</tr>
<tr>
<th><code>resolve</code></th>
<td class="bc-supports-yes"><div>32</div></td>
<td class="bc-supports-yes"><div>12</div></td>
<td class="bc-supports-yes"><div>29</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>19</div></td>
<td class="bc-supports-yes"><div>8</div></td>
<td class="bc-supports-yes"><div>4.4.3</div></td>
<td class="bc-supports-yes"><div>32</div></td>
<td class="bc-supports-yes"><div>29</div></td>
<td class="bc-supports-yes"><div>19</div></td>
<td class="bc-supports-yes"><div>8</div></td>
<td class="bc-supports-yes"><div>2.0</div></td>
</tr>
<tr>
<th><code>then</code></th>
<td class="bc-supports-yes"><div>32</div></td>
<td class="bc-supports-yes"><div>12</div></td>
<td class="bc-supports-yes"><div>29</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>19</div></td>
<td class="bc-supports-yes"><div>8</div></td>
<td class="bc-supports-yes"><div>4.4.3</div></td>
<td class="bc-supports-yes"><div>32</div></td>
<td class="bc-supports-yes"><div>29</div></td>
<td class="bc-supports-yes"><div>19</div></td>
<td class="bc-supports-yes"><div>8</div></td>
<td class="bc-supports-yes"><div>2.0</div></td>
</tr>
</tbody>
</table>
<h2 id="see_also">See also</h2>
<ul> <li>A polyfill of <code>Promise</code> is available in <a href="https://github.com/zloirock/core-js#ecmascript-promise" rel=" noopener"><code>core-js</code></a>
</li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises">Using promises</a></li> <li><a href="https://promisesaplus.com/" rel=" noopener">Promises/A+ specification</a></li> <li><a href="https://medium.com/@ramsunvtech/promises-of-promise-part-1-53f769245a53" rel=" noopener">Venkatraman.R - JS Promise (Part 1, Basics)</a></li> <li><a href="https://medium.com/@ramsunvtech/js-promise-part-2-q-js-when-js-and-rsvp-js-af596232525c#.dzlqh6ski" rel=" noopener">Venkatraman.R - JS Promise (Part 2 - Using Q.js, When.js and RSVP.js)</a></li> <li><a href="https://tech.io/playgrounds/11107/tools-for-promises-unittesting/introduction" rel=" noopener">Venkatraman.R - Tools for Promises Unit Testing</a></li> <li><a href="https://www.html5rocks.com/en/tutorials/es6/promises/" rel=" noopener">Jake Archibald: JavaScript Promises: There and Back Again</a></li> <li><a href="https://de.slideshare.net/domenicdenicola/callbacks-promises-and-coroutines-oh-my-the-evolution-of-asynchronicity-in-javascript" rel=" noopener">Domenic Denicola: Callbacks, Promises, and Coroutines – Asynchronous Programming Patterns in JavaScript</a></li> <li><a href="https://www.mattgreer.org/articles/promises-in-wicked-detail/" rel=" noopener">Matt Greer: JavaScript Promises ... In Wicked Detail</a></li> <li><a href="https://www.promisejs.org/" rel=" noopener">Forbes Lindesay: promisejs.org</a></li> <li><a href="https://github.com/anonyco/SPromiseMeSpeedJS/blob/master/README.md" rel=" noopener">Speed-polyfill to polyfill both promise availability and promise performance.</a></li> <li><a href="https://github.com/jakearchibald/es6-promise/" rel=" noopener">Promise polyfill</a></li> <li><a href="https://www.udacity.com/course/javascript-promises--ud898" rel=" noopener">Udacity: JavaScript Promises</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="_attribution-link" target="_blank">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise</a>
  </p>
</div>
