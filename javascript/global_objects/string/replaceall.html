<h1>String.prototype.replaceAll()</h1>
<div class="section-content">
<p> The <code>replaceAll()</code> method returns a new string with all matches of a <code>pattern</code> replaced by a <code>replacement</code>. The <code>pattern</code> can be a string or a <a href="../regexp"><code>RegExp</code></a>, and the <code>replacement</code> can be a string or a function to be called for each match. </p> <p>The original string is left unchanged.</p>
</div>
<section aria-labelledby="try_it"><h2 id="try_it">Try it</h2>
<div class="section-content"><iframe class="interactive is-js-height" height="200" src="https://interactive-examples.mdn.mozilla.net/pages/js/string-replaceall.html" title="MDN Web Docs Interactive Example" loading="lazy"></iframe></div></section><section aria-labelledby="syntax"><h2 id="syntax">Syntax</h2>
<div class="section-content">
<div class="code-example"><pre data-language="js"><span class="token function">replaceAll</span><span class="token punctuation">(</span>regexp<span class="token punctuation">,</span> newSubstr<span class="token punctuation">)</span>
<span class="token function">replaceAll</span><span class="token punctuation">(</span>regexp<span class="token punctuation">,</span> replacerFunction<span class="token punctuation">)</span>

<span class="token function">replaceAll</span><span class="token punctuation">(</span>substr<span class="token punctuation">,</span> newSubstr<span class="token punctuation">)</span>
<span class="token function">replaceAll</span><span class="token punctuation">(</span>substr<span class="token punctuation">,</span> replacerFunction<span class="token punctuation">)</span>
</pre></div> <div class="notecard note" id="sect1"> <p> <strong>Note:</strong> When using a `<em>regexp</em>` you have to set the global ("g") flag; otherwise, it will throw a <code>TypeError</code>: "replaceAll must be called with a global RegExp". </p> </div>
</div></section><section aria-labelledby="parameters"><h3 id="parameters">Parameters</h3>
<div class="section-content"><dl> <dt id="regexp">
<code>regexp</code> (pattern)</dt> <dd> <p> A <a href="../regexp"><code>RegExp</code></a> object or literal with the global flag. The matches are replaced with <code>newSubstr</code> or the value returned by the specified <code>replacerFunction</code>. A RegExp without the global ("g") flag will throw a <code>TypeError</code>: "replaceAll must be called with a global RegExp". </p> </dd> <dt id="substr"><code>substr</code></dt> <dd> <p> A <a href="../string"><code>String</code></a> that is to be replaced by <code>newSubstr</code>. It is treated as a literal string and is <em>not</em> interpreted as a regular expression. </p> </dd> <dt id="newsubstr">
<code>newSubstr</code> (replacement)</dt> <dd> <p> The <a href="../string"><code>String</code></a> that replaces the substring specified by the specified <code>regexp</code> or <code>substr</code> parameter. A number of special replacement patterns are supported; see the "<a href="#specifying_a_string_as_a_parameter">Specifying a string as a parameter</a>" section below. </p> </dd> <dt id="replacerfunction">
<code>replacerFunction</code> (replacement)</dt> <dd> <p> A function to be invoked to create the new substring to be used to replace the matches to the given <code>regexp</code> or <code>substr</code>. The arguments supplied to this function are described in the "<a href="#specifying_a_function_as_a_parameter">Specifying a function as a parameter</a>" section below. </p> </dd> </dl></div></section><section aria-labelledby="return_value"><h3 id="return_value">Return value</h3>
<div class="section-content"><p>A new string, with all matches of a pattern replaced by a replacement.</p></div></section><section aria-labelledby="description"><h2 id="description">Description</h2>
<div class="section-content"><p>This method does not change the calling <a href="../string"><code>String</code></a> object. It returns a new string.</p></div></section><section aria-labelledby="specifying_a_string_as_a_parameter"><h3 id="specifying_a_string_as_a_parameter">Specifying a string as a parameter</h3>
<div class="section-content">
<p>The replacement string can include the following special replacement patterns:</p> <div class="table-scroll"><div class="_table"><table> <thead> <tr> <th>Pattern</th> <th>Inserts</th> </tr> </thead> <tbody> <tr> <td><code>$$</code></td> <td>Inserts a <code>"$"</code>.</td> </tr> <tr> <td><code>$&amp;</code></td> <td>Inserts the matched substring.</td> </tr> <tr> <td><code>$`</code></td> <td>Inserts the portion of the string that precedes the matched substring.</td> </tr> <tr> <td><code>$'</code></td> <td>Inserts the portion of the string that follows the matched substring.</td> </tr> <tr> <td><code>$n</code></td> <td>Where <code>n</code> is a positive integer less than 100, inserts the <code>n</code>th parenthesized submatch string, provided the first argument was a <a href="../regexp"><code>RegExp</code></a> object. Note that this is <code>1</code>-indexed.</td> </tr> </tbody> </table></div></div>
</div></section><section aria-labelledby="specifying_a_function_as_a_parameter"><h3 id="specifying_a_function_as_a_parameter">Specifying a function as a parameter</h3>
<div class="section-content">
<p> You can specify a function as the second parameter. In this case, the function will be invoked after the match has been performed. The function's result (return value) will be used as the replacement string. (<strong>Note:</strong> The above-mentioned special replacement patterns do <em>not</em> apply in this case.) </p> <p>Note that if the first argument of an <code>replaceAll()</code> invocation is a <a href="../regexp"><code>RegExp</code></a> object or regular expression literal, the function will be invoked multiple times.</p> <p>The arguments to the function are as follows:</p> <div class="table-scroll"><div class="_table"><table> <thead> <tr> <th>Possible name</th> <th>Supplied value</th> </tr> </thead> <tbody> <tr> <td><code>match</code></td> <td>The matched substring. (Corresponds to <code>$&amp;</code> above.)</td> </tr> <tr> <td><code>p1, p2, ...</code></td> <td>The <em>n</em>th string found by a parenthesized capture group, provided the first argument to <code>replaceAll()</code> was a <a href="../regexp"><code>RegExp</code></a> object. (Corresponds to <code>$1</code>, <code>$2</code>, etc. above.) For example, if <code>/(\a+)(\b+)/</code>, was given, <code>p1</code> is the match for <code>\a+</code>, and <code>p2</code> for <code>\b+</code>.</td> </tr> <tr> <td><code>offset</code></td> <td>The offset of the matched substring within the whole string being examined. (For example, if the whole string was <code>'abcd'</code>, and the matched substring was <code>'bc'</code>, then this argument will be <code>1</code>.)</td> </tr> <tr> <td><code>string</code></td> <td>The whole string being examined.</td> </tr> <tr> <td><code>namedGroups</code></td> <td>An object of all named capturing groups. The keys are the names of the capturing groups and each value is the substring matching the named capture group. If the regular expression doesn't contain any capturing groups, <code>namedGroups</code> is undefined.</td> </tr> </tbody> </table></div></div> <p> (The exact number of arguments depends on whether the first argument is a <a href="../regexp"><code>RegExp</code></a> objectâ€”and, if so, how many parenthesized submatches it specifies.) </p>
</div></section><section aria-labelledby="examples"><h2 id="examples">Examples</h2>
</section><section aria-labelledby="using_replaceall"><h3 id="using_replaceall">Using replaceAll</h3>
<div class="section-content"><div class="code-example"><pre data-language="js"><span class="token string">'aabbcc'</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 'aa..cc'</span>
</pre></div></div></section><section aria-labelledby="non-global_regex_throws"><h3 id="non-global_regex_throws">Non-global regex throws</h3>
<div class="section-content">
<p>When using a regular expression search value, it must be global. This won't work:</p> <div class="code-example"><pre data-language="js"><span class="token string">'aabbcc'</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">b</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// TypeError: replaceAll must be called with a global RegExp</span>
</pre></div> <p>This will work:</p> <div class="code-example"><pre data-language="js"><span class="token string">'aabbcc'</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">b</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token string">"aa..cc"</span>
</pre></div>
</div></section><h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://tc39.es/ecma262/multipage/text-processing.html#sec-string.prototype.replaceall">ECMAScript Language Specification <br><small># sec-string.prototype.replaceall</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
<th colspan="2">Server</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>Deno</th>
<th>Node.js</th>
</tr>
</thead>
<tbody><tr>
<th><code>replaceAll</code></th>
<td class="bc-supports-yes"><div>85</div></td>
<td class="bc-supports-yes"><div>85</div></td>
<td class="bc-supports-yes"><div>77</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>71</div></td>
<td class="bc-supports-yes"><div>13.1</div></td>
<td class="bc-supports-yes"><div>85</div></td>
<td class="bc-supports-yes"><div>85</div></td>
<td class="bc-supports-yes"><div>79</div></td>
<td class="bc-supports-yes"><div>60</div></td>
<td class="bc-supports-yes"><div>13.4</div></td>
<td class="bc-supports-yes"><div>14.0</div></td>
<td class="bc-supports-yes"><div>1.2</div></td>
<td class="bc-supports-yes"><div>15.0.0</div></td>
</tr></tbody>
</table>
<section aria-labelledby="see_also"><h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="https://github.com/zloirock/core-js#ecmascript-string-and-regexp" rel=" noopener">Polyfill of <code>String.prototype.replaceAll</code> in <code>core-js</code></a></li> <li><a href="replace"><code>String.prototype.replace()</code></a></li> <li><a href="match"><code>String.prototype.match()</code></a></li> <li><a href="../regexp/exec"><code>RegExp.prototype.exec()</code></a></li> <li><a href="../regexp/test"><code>RegExp.prototype.test()</code></a></li> </ul></div></section><aside class="metadata"><div class="metadata-content-container">
<div id="on-github" class="on-github">
<h3>Found a problem with this page?</h3>
<ul>
<li><a href="https://github.com/mdn/content/edit/main/files/en-us/web/javascript/reference/global_objects/string/replaceall/index.md" target="_blank" rel="noopener noreferrer">Edit on <b>GitHub</b></a></li>
<li><a href="https://github.com/mdn/content/blob/main/files/en-us/web/javascript/reference/global_objects/string/replaceall/index.md?plain=1" target="_blank" rel="noopener noreferrer">Source on <b>GitHub</b></a></li>
<li><a href="https://github.com/mdn/content/issues/new?template=page-report.yml&amp;mdn-url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FJavaScript%2FReference%2FGlobal_Objects%2FString%2FreplaceAll&amp;metadata=%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EPage+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Fweb%2Fjavascript%2Freference%2Fglobal_objects%2Fstring%2Freplaceall%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FJavaScript%2FReference%2FGlobal_Objects%2FString%2FreplaceAll%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fmain%2Ffiles%2Fen-us%2Fweb%2Fjavascript%2Freference%2Fglobal_objects%2Fstring%2Freplaceall%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2Fbdcbacedd517e711d496a27d2da4eb7bb369e6e2%0A*+Document+last+modified%3A+2022-08-07T17%3A33%3A53.000Z%0A%0A%3C%2Fdetails%3E" target="_blank" rel="noopener noreferrer">Report a problem with this content on <b>GitHub</b></a></li>
<li>Want to fix the problem yourself? See <a href="https://github.com/mdn/content/blob/main/README.md" target="_blank" rel="noopener noreferrer">our Contribution guide</a>.</li>
</ul>
</div>
<p class="last-modified-date"><b>Last modified:</b> <time datetime="2022-08-07T17:33:53.000Z">Aug 7, 2022</time>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replaceAll/contributors.txt">by MDN contributors</a></p>
</div></aside><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replaceAll" class="_attribution-link" target="_blank">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replaceAll</a>
  </p>
</div>
