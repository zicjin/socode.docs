<h1>Template literals (Template strings)</h1>
<div class="section-content">
<p>Template literals are literals delimited with backtick (`) characters, allowing for <a href="#multi-line_strings">multi-line strings</a>, for <a href="#string_interpolation">string interpolation</a> with embedded expressions, and for special constructs called <a href="#tagged_templates">tagged templates</a>.</p> <p>Template literals are sometimes informally called <em>template strings</em>, because they are used most commonly for <a href="#string_interpolation">string interpolation</a> (to create strings by doing substitution of placeholders). However, a tagged template literal may not result in a string; it can be used with a custom <a href="#tagged_templates">tag function</a> to perform whatever operations you want on the different parts of the template literal.</p>
</div>
<section aria-labelledby="syntax"><h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example"><pre data-language="js"><span class="token comment">// Untagged, these create strings:</span>
<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">string text</span><span class="token template-punctuation string">`</span></span>

<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">string text line 1
 string text line 2</span><span class="token template-punctuation string">`</span></span>

<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">string text </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>expression<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> string text</span><span class="token template-punctuation string">`</span></span>

<span class="token comment">// Tagged, this calls the function "tagFunction" with the template as the</span>
<span class="token comment">// first argument and substitution values as subsequent arguments:</span>
tagFunction<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">string text </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>expression<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> string text</span><span class="token template-punctuation string">`</span></span>
</pre></div></div></section><section aria-labelledby="description"><h2 id="description">Description</h2>
<div class="section-content">
<p>Template literals are enclosed by backtick (`) characters instead of double or single quotes.</p> <p>Along with having normal strings, template literals can also contain other parts called <em>placeholders</em>, which are embedded expressions delimited by a dollar sign and curly braces: <code>${expression}</code>. The strings and placeholders get passed to a function — either a default function, or a function you supply. The default function (when you don't supply your own) just performs <a href="#string_interpolation">string interpolation</a> to do substitution of the placeholders and then concatenate the parts into a single string.</p> <p>To supply a function of your own, precede the template literal with a function name; the result is called a <a href="#tagged_templates"><strong>tagged template</strong></a>. In that case, the template literal is passed to your tag function, where you can then perform whatever operations you want on the different parts of the template literal.</p> <p>To escape a backtick in a template literal, put a backslash (<code>\</code>) before the backtick.</p> <div class="code-example"><pre data-language="js"><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\`</span><span class="token template-punctuation string">`</span></span> <span class="token operator">===</span> <span class="token string">'`'</span> <span class="token comment">// --&gt; true</span>
</pre></div> <p>Dollar signs can be escaped as well to prevent interpolation.</p> <div class="code-example"><pre data-language="js"><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\${1}</span><span class="token template-punctuation string">`</span></span> <span class="token operator">===</span> <span class="token string">'${1}'</span> <span class="token comment">// --&gt; true</span>
</pre></div>
</div></section><section aria-labelledby="multi-line_strings"><h3 id="multi-line_strings">Multi-line strings</h3>
<div class="section-content">
<p>Any newline characters inserted in the source are part of the template literal.</p> <p>Using normal strings, you would have to use the following syntax in order to get multi-line strings:</p> <div class="code-example"><pre data-language="js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'string text line 1\n'</span> <span class="token operator">+</span>
<span class="token string">'string text line 2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// "string text line 1</span>
<span class="token comment">// string text line 2"</span>
</pre></div> <p>Using template literals, you can do the same with this:</p> <div class="code-example"><pre data-language="js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">string text line 1
string text line 2</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// "string text line 1</span>
<span class="token comment">// string text line 2"</span>
</pre></div>
</div></section><section aria-labelledby="string_interpolation"><h3 id="string_interpolation">String interpolation</h3>
<div class="section-content">
<p>Without template literals, when you want to combine output from expressions with strings, you'd <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/First_steps/Strings#concatenation_using_">concatenate them</a> using the <a href="operators/addition">addition operator</a> <code>+</code>:</p> <div class="code-example"><pre data-language="js"><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Fifteen is '</span> <span class="token operator">+</span> <span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">' and\nnot '</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> a <span class="token operator">+</span> b<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// "Fifteen is 15 and</span>
<span class="token comment">// not 20."</span>
</pre></div> <p>That can be hard to read – especially when you have multiple expressions.</p> <p>With template literals, you can avoid the concatenation operator — and improve the readability of your code — by using placeholders of the form <code>${expression}</code> to perform substitutions for embedded expressions:</p> <div class="code-example"><pre data-language="js"><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Fifteen is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>a <span class="token operator">+</span> b<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> and
not </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">2</span> <span class="token operator">*</span> a <span class="token operator">+</span> b<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// "Fifteen is 15 and</span>
<span class="token comment">// not 20."</span>
</pre></div> <p>Note that there's a mild difference between the two syntaxes. Addition would coerce the expression to a <em>primitive</em>, which calls <a href="global_objects/object/valueof"><code>valueOf()</code></a> in priority; on the other hand, template literal would coerce the expression to a <em>string</em>, which calls <a href="global_objects/object/tostring"><code>toString()</code></a> in priority. If the expression has a <a href="global_objects/symbol/toprimitive"><code>@@toPrimitive</code></a> method, string concatenation calls it with <code>"default"</code> as hint, while template literals use <code>"string"</code>. This is important for objects that have different string and primitive representations — such as <a href="https://github.com/tc39/proposal-temporal" rel=" noopener">Temporal</a>, whose <code>valueOf()</code> method throws.</p> <div class="code-example"><pre data-language="js"><span class="token keyword">const</span> t <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">instant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token string">""</span> <span class="token operator">+</span> t<span class="token punctuation">;</span> <span class="token comment">// Throws TypeError</span>
<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>t<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span> <span class="token comment">// '2022-07-31T04:48:56.113918308Z'</span>
</pre></div>
</div></section><section aria-labelledby="nesting_templates"><h3 id="nesting_templates">Nesting templates</h3>
<div class="section-content">
<p>In certain cases, nesting a template is the easiest (and perhaps more readable) way to have configurable strings. Within a backtick-delimited template, it is simple to allow inner backticks by using them inside an <code>${expression}</code> placeholder within the template.</p> <p>For example, without template literals, if you wanted to return a certain value based on a particular condition, you could do something like the following:</p> <div class="code-example"><pre data-language="js"><span class="token keyword">let</span> classes <span class="token operator">=</span> <span class="token string">'header'</span><span class="token punctuation">;</span>
classes <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token function">isLargeScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span>
  <span class="token string-property property">''</span> <span class="token operator">:</span> item<span class="token punctuation">.</span>isCollapsed <span class="token operator">?</span>
    <span class="token string-property property">' icon-expander'</span> <span class="token operator">:</span> <span class="token string">' icon-collapser'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></div> <p>With a template literal but without nesting, you could do this:</p> <div class="code-example"><pre data-language="js"><span class="token keyword">const</span> classes <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">header </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> <span class="token function">isLargeScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span>
  <span class="token punctuation">(</span>item<span class="token punctuation">.</span>isCollapsed <span class="token operator">?</span> <span class="token string">'icon-expander'</span> <span class="token operator">:</span> <span class="token string">'icon-collapser'</span><span class="token punctuation">)</span> <span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</pre></div> <p>With nesting of template literals, you can do this:</p> <div class="code-example"><pre data-language="js"><span class="token keyword">const</span> classes <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">header </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> <span class="token function">isLargeScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span>
  <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">icon-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>isCollapsed <span class="token operator">?</span> <span class="token string">'expander'</span> <span class="token operator">:</span> <span class="token string">'collapser'</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</pre></div>
</div></section><section aria-labelledby="tagged_templates"><h3 id="tagged_templates">Tagged templates</h3>
<div class="section-content">
<p>A more advanced form of template literals are <em>tagged</em> templates.</p> <p>Tags allow you to parse template literals with a function. The first argument of a tag function contains an array of string values. The remaining arguments are related to the expressions.</p> <p>The tag function can then perform whatever operations on these arguments you wish, and return the manipulated string. (Alternatively, it can return something completely different, as described in one of the following examples.)</p> <p>The name of the function used for the tag can be whatever you want.</p> <div class="code-example"><pre data-language="js"><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token string">'Mike'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token number">28</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">myTag</span><span class="token punctuation">(</span><span class="token parameter">strings<span class="token punctuation">,</span> personExp<span class="token punctuation">,</span> ageExp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> str0 <span class="token operator">=</span> strings<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// "That "</span>
  <span class="token keyword">const</span> str1 <span class="token operator">=</span> strings<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// " is a "</span>
  <span class="token keyword">const</span> str2 <span class="token operator">=</span> strings<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// "."</span>

  <span class="token keyword">const</span> ageStr <span class="token operator">=</span> ageExp <span class="token operator">&gt;</span> <span class="token number">99</span> <span class="token operator">?</span> <span class="token string">'centenarian'</span> <span class="token operator">:</span> <span class="token string">'youngster'</span><span class="token punctuation">;</span>

  <span class="token comment">// We can even return a string built using a template literal</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>str0<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>personExp<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>str1<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ageStr<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>str2<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> output <span class="token operator">=</span> myTag<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">That </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>person<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> is a </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>output<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// That Mike is a youngster.</span>
</pre></div> <p>Tag functions don't even need to return a string!</p> <div class="code-example"><pre data-language="js"><span class="token keyword">function</span> <span class="token function">template</span><span class="token punctuation">(</span><span class="token parameter">strings<span class="token punctuation">,</span> <span class="token operator">...</span>keys</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>values</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> dict <span class="token operator">=</span> values<span class="token punctuation">[</span>values<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">[</span>strings<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    keys<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> value <span class="token operator">=</span> Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token operator">?</span> values<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">:</span> dict<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
      result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> strings<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> t1Closure <span class="token operator">=</span> template<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">0</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">1</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">0</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token comment">// const t1Closure = template(["","","","!"],0,1,0);</span>
<span class="token function">t1Closure</span><span class="token punctuation">(</span><span class="token string">'Y'</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                      <span class="token comment">// "YAY!"</span>

<span class="token keyword">const</span> t2Closure <span class="token operator">=</span> template<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">0</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token string">'foo'</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token comment">// const t2Closure = template([""," ","!"],0,"foo");</span>
<span class="token function">t2Closure</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">'World'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "Hello World!"</span>

<span class="token keyword">const</span> t3Closure <span class="token operator">=</span> template<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">I'm </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token string">'name'</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">. I'm almost </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token string">'age'</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> years old.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token comment">// const t3Closure = template(["I'm ", ". I'm almost ", " years old."], "name", "age");</span>
<span class="token function">t3Closure</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'MDN'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "I'm MDN. I'm almost 30 years old."</span>
<span class="token function">t3Closure</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'MDN'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "I'm MDN. I'm almost 30 years old."</span>
</pre></div> <p>The first argument received by the tag function is an array of strings. For any template literal, its length is equal to the number of substitutions (occurrences of <code>${…}</code>) plus one, and is therefore always non-empty.</p> <p>For any particular tagged template literal expression, the tag function will always be called with the exact same literal array, no matter how many times the literal is evaluated.</p> <div class="code-example"><pre data-language="js"><span class="token keyword">const</span> callHistory <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">tag</span><span class="token punctuation">(</span><span class="token parameter">strings<span class="token punctuation">,</span> <span class="token operator">...</span>values</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  callHistory<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>strings<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Return a freshly made object</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">evaluateLiteral</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> tag<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token string">'world'</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">evaluateLiteral</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token function">evaluateLiteral</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false; each time `tag` is called, it returns a new object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>callHistory<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> callHistory<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true; all evaluations of the same tagged literal would pass in the same strings array</span>
</pre></div> <p>This allows the tag to cache the result based on the identity of its first argument. To further ensure the array value's stability, the first argument and its <a href="#raw_strings"><code>raw</code> property</a> are both <a href="global_objects/object/isfrozen">frozen</a>, so you can't mutate them in any way.</p>
</div></section><section aria-labelledby="raw_strings"><h3 id="raw_strings">Raw strings</h3>
<div class="section-content">
<p>The special <code>raw</code> property, available on the first argument to the tag function, allows you to access the raw strings as they were entered, without processing <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Grammar_and_types#using_special_characters_in_strings">escape sequences</a>.</p> <div class="code-example"><pre data-language="js"><span class="token keyword">function</span> <span class="token function">tag</span><span class="token punctuation">(</span><span class="token parameter">strings</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>strings<span class="token punctuation">.</span>raw<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

tag<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">string text line 1 \n string text line 2</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token comment">// logs "string text line 1 \n string text line 2" ,</span>
<span class="token comment">// including the two characters '\' and 'n'</span>
</pre></div> <p>In addition, the <a href="global_objects/string/raw"><code>String.raw()</code></a> method exists to create raw strings just like the default template function and string concatenation would create.</p> <div class="code-example"><pre data-language="js"><span class="token keyword">const</span> str <span class="token operator">=</span> String<span class="token punctuation">.</span>raw<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hi\n</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">3</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token comment">// "Hi\\n5!"</span>

str<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token comment">// 6</span>

Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// "H,i,\\,n,5,!"</span>
</pre></div> <p><code>String.raw</code> functions like an "identity" tag if the literal doesn't contain any escape sequences. In case you want an actual identity tag that always works as if the literal is untagged, you can make a custom function that passes the "cooked" (i.e. escape sequences are processed) literal array to <code>String.raw</code>, pretending they are raw strings.</p> <div class="code-example"><pre data-language="js"><span class="token keyword">const</span> <span class="token function-variable function">identity</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">strings<span class="token punctuation">,</span> <span class="token operator">...</span>values</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> String<span class="token punctuation">.</span><span class="token function">raw</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">raw</span><span class="token operator">:</span> strings <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token operator">...</span>values<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>identity<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hi\n</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">2</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Hi</span>
<span class="token comment">// 5!</span>
</pre></div> <p>This is useful for many tools which give special treatment to literals tagged by a particular name.</p> <div class="code-example"><pre data-language="js"><span class="token keyword">const</span> <span class="token function-variable function">html</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">strings<span class="token punctuation">,</span> <span class="token operator">...</span>values</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> String<span class="token punctuation">.</span><span class="token function">raw</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">raw</span><span class="token operator">:</span> strings <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token operator">...</span>values<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Some formatters will format this literal's content as HTML</span>
<span class="token keyword">const</span> doc <span class="token operator">=</span> html<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Hello&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Hello world!&lt;/h1&gt;
  &lt;/body&gt;
&lt;/html&gt;
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</pre></div>
</div></section><section aria-labelledby="tagged_templates_and_escape_sequences"><h3 id="tagged_templates_and_escape_sequences">Tagged templates and escape sequences</h3>
<div class="section-content">
<h4 id="es2016_behavior">ES2016 behavior</h4> <p>As of ECMAScript 2016, tagged templates conform to the rules of the following escape sequences:</p> <ul> <li>Unicode escapes started by <code>\u</code>, for example <code>\u00A9</code>
</li> <li>Unicode code point escapes indicated by <code>\u{}</code>, for example <code>\u{2F804}</code>
</li> <li>Hexadecimal escapes started by <code>\x</code>, for example <code>\xA9</code>
</li> <li>Octal literal escapes started by <code>\0o</code> and followed by one or more digits, for example <code>\0o251</code>
</li> </ul> <p>This means that a tagged template like the following is problematic, because, per ECMAScript grammar, a parser looks for valid Unicode escape sequences, but finds malformed syntax:</p> <div class="code-example"><pre data-language="js">latex<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\unicode</span><span class="token template-punctuation string">`</span></span>
<span class="token comment">// Throws in older ECMAScript versions (ES2016 and earlier)</span>
<span class="token comment">// SyntaxError: malformed Unicode character escape sequence</span>
</pre></div> <h4 id="es2018_revision_of_illegal_escape_sequences">ES2018 revision of illegal escape sequences</h4> <p> Tagged templates should allow the embedding of languages (for example <a href="https://en.wikipedia.org/wiki/Domain-specific_language" rel=" noopener">DSLs</a>, or <a href="https://en.wikipedia.org/wiki/LaTeX" rel=" noopener">LaTeX</a>), where other escapes sequences are common. The ECMAScript proposal <a href="https://tc39.es/proposal-template-literal-revision/" rel=" noopener">Template Literal Revision</a> (integrated in the ECMAScript 2018 standard) removed the syntax restriction of ECMAScript escape sequences from tagged templates. </p> <p>However, illegal escape sequences must still be represented in the "cooked" representation. They will show up as <a href="global_objects/undefined"><code>undefined</code></a> element in the "cooked" array:</p> <div class="code-example"><pre data-language="js"><span class="token keyword">function</span> <span class="token function">latex</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token string-property property">"cooked"</span><span class="token operator">:</span> str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string-property property">"raw"</span><span class="token operator">:</span> str<span class="token punctuation">.</span>raw<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

latex<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\unicode</span><span class="token template-punctuation string">`</span></span>

<span class="token comment">// { cooked: undefined, raw: "\\unicode" }</span>
</pre></div> <p>Note that the escape-sequence restriction is only dropped from <em>tagged</em> templates—not from <em>untagged</em> template literals:</p> <div class="code-example"><pre data-language="js"><span class="token keyword">const</span> bad <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">bad escape sequence: \unicode</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</pre></div>
</div></section><h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://tc39.es/ecma262/multipage/ecmascript-language-expressions.html#sec-template-literals">ECMAScript Language Specification <br><small># sec-template-literals</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
<th colspan="2">Server</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>Deno</th>
<th>Node.js</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>Template_literals</code></th>
<td class="bc-supports-yes"><div>41</div></td>
<td class="bc-supports-yes"><div>12</div></td>
<td class="bc-supports-yes"><div>34</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>28</div></td>
<td class="bc-supports-yes"><div>9</div></td>
<td class="bc-supports-yes"><div>41</div></td>
<td class="bc-supports-yes"><div>41</div></td>
<td class="bc-supports-yes"><div>34</div></td>
<td class="bc-supports-yes"><div>28</div></td>
<td class="bc-supports-yes"><div>9</div></td>
<td class="bc-supports-yes"><div>4.0</div></td>
<td class="bc-supports-yes"><div>1.0</div></td>
<td class="bc-supports-yes"><div>4.0.0</div></td>
</tr>
<tr>
<th><code>template_literal_revision</code></th>
<td class="bc-supports-yes"><div>62</div></td>
<td class="bc-supports-yes"><div>79</div></td>
<td class="bc-supports-yes"><div>53</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>49</div></td>
<td class="bc-supports-yes"><div>11</div></td>
<td class="bc-supports-yes"><div>62</div></td>
<td class="bc-supports-yes"><div>62</div></td>
<td class="bc-supports-yes"><div>53</div></td>
<td class="bc-supports-yes"><div>46</div></td>
<td class="bc-supports-yes"><div>11</div></td>
<td class="bc-supports-yes"><div>8.0</div></td>
<td class="bc-supports-yes"><div>1.0</div></td>
<td class="bc-supports-yes">
<div>8.10.0</div>
<div>8.0.0</div>
</td>
</tr>
</tbody>
</table>
<section aria-labelledby="see_also"><h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="global_objects/string"><code>String</code></a></li> <li><a href="global_objects/string/raw"><code>String.raw()</code></a></li> <li><a href="lexical_grammar">Lexical grammar</a></li> <li><a href="https://gist.github.com/WebReflection/8f227532143e63649804" rel=" noopener">Template-like strings in ES3 compatible syntax</a></li> <li><a href="https://hacks.mozilla.org/2015/05/es6-in-depth-template-strings-2/" rel=" noopener">"ES6 in Depth: Template strings" on hacks.mozilla.org</a></li> </ul></div></section><aside class="metadata"><div class="metadata-content-container">
<div id="on-github" class="on-github">
<h3>Found a problem with this page?</h3>
<ul>
<li><a href="https://github.com/mdn/content/edit/main/files/en-us/web/javascript/reference/template_literals/index.md" target="_blank" rel="noopener noreferrer">Edit on <b>GitHub</b></a></li>
<li><a href="https://github.com/mdn/content/blob/main/files/en-us/web/javascript/reference/template_literals/index.md?plain=1" target="_blank" rel="noopener noreferrer">Source on <b>GitHub</b></a></li>
<li><a href="https://github.com/mdn/content/issues/new?template=page-report.yml&amp;mdn-url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FJavaScript%2FReference%2FTemplate_literals&amp;metadata=%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EPage+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Fweb%2Fjavascript%2Freference%2Ftemplate_literals%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FJavaScript%2FReference%2FTemplate_literals%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fmain%2Ffiles%2Fen-us%2Fweb%2Fjavascript%2Freference%2Ftemplate_literals%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2F2d6d6a1d9f8ba2073c9f8e1bbc6b4e20204fb53c%0A*+Document+last+modified%3A+2022-08-07T06%3A13%3A17.000Z%0A%0A%3C%2Fdetails%3E" target="_blank" rel="noopener noreferrer">Report a problem with this content on <b>GitHub</b></a></li>
<li>Want to fix the problem yourself? See <a href="https://github.com/mdn/content/blob/main/README.md" target="_blank" rel="noopener noreferrer">our Contribution guide</a>.</li>
</ul>
</div>
<p class="last-modified-date"><b>Last modified:</b> <time datetime="2022-08-07T06:13:17.000Z">Aug 7, 2022</time>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals/contributors.txt">by MDN contributors</a></p>
</div></aside><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals" class="_attribution-link" target="_blank">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals</a>
  </p>
</div>
