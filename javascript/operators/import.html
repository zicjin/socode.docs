<h1>import</h1>
<div class="section-content">
<p>The <code>import()</code> call, commonly called <em>dynamic import</em>, is a function-like expression that allows loading an ECMAScript module asynchronously and dynamically into a potentially non-module environment.</p> <p>Unlike the <a href="../statements/import">declaration-style counterpart</a>, dynamic imports are only evaluated when needed, and permits greater syntactic flexibility.</p>
</div>
<section aria-labelledby="syntax"><h2 id="syntax">Syntax</h2>
<div class="section-content">
<div class="code-example"><pre data-language="js"><span class="token keyword">import</span><span class="token punctuation">(</span>moduleName<span class="token punctuation">)</span>
</pre></div> <p>The <code>import()</code> call is a syntax that closely resembles a function call, but <code>import</code> itself is a keyword, not a function. You cannot alias it like <code>const myImport = import</code>, which will throw a <a href="../global_objects/syntaxerror"><code>SyntaxError</code></a>.</p>
</div></section><section aria-labelledby="parameters"><h3 id="parameters">Parameters</h3>
<div class="section-content"><dl> <dt id="modulename"><code>moduleName</code></dt> <dd> <p>The module to import from. The evaluation of the specifier is host-specified, but always follows the same algorithm as static <a href="../statements/import">import declarations</a>.</p> </dd> </dl></div></section><section aria-labelledby="return_value"><h3 id="return_value">Return value</h3>
<div class="section-content"><p>It returns a promise which fulfills to an object containing all exports from <code>moduleName</code>, with the same shape as a namespace import (<code>import * as name from moduleName</code>): an object with <code>null</code> prototype, and the default export available as a key named <code>default</code>.</p></div></section><section aria-labelledby="description"><h2 id="description">Description</h2>
<div class="section-content">
<p>The import declaration syntax (<code>import something from "somewhere"</code>) is static and will always result in the imported module being evaluated at load time. Dynamic imports allows one to circumvent the syntactic rigidity of import declarations and load a module conditionally or on demand. The following are some reasons why you might need to use dynamic import:</p> <ul> <li>When importing statically significantly slows the loading of your code and there is a low likelihood that you will need the code you are importing, or you will not need it until a later time.</li> <li>When importing statically significantly increases your program's memory usage and there is a low likelihood that you will need the code you are importing.</li> <li>When the module you are importing does not exist at load time.</li> <li>When the import specifier string needs to be constructed dynamically. (Static import only supports static specifiers.)</li> <li>When the module being imported has side effects, and you do not want those side effects unless some condition is true. (It is recommended not to have any side effects in a module, but you sometimes cannot control this in your module dependencies.)</li> <li>When you are in a non-module environment (for example, <code>eval</code> or a script file).</li> </ul> <p>Use dynamic import only when necessary. The static form is preferable for loading initial dependencies, and can benefit more readily from static analysis tools and <a href="https://developer.mozilla.org/en-US/docs/Glossary/Tree_shaking">tree shaking</a>.</p> <p>If your file is not run as a module (if it's referenced in an HTML file, the script tag must have <code>type="module"</code>), you will not be able to use static import declarations, but the asynchronous dynamic import syntax will always be available, allowing you to import modules into non-module environments.</p>
</div></section><section aria-labelledby="examples"><h2 id="examples">Examples</h2>
</section><section aria-labelledby="import_a_module_for_its_side_effects_only"><h3 id="import_a_module_for_its_side_effects_only">Import a module for its side effects only</h3>
<div class="section-content">
<div class="code-example"><pre data-language="js"><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>somethingIsTrue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// import module for side effects</span>
    <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"/modules/my-module.js"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></div> <p> If your project uses packages that export ESM, you can also import them for side effects only. This will run the code in the package entry point file (and any files it imports) only. </p>
</div></section><section aria-labelledby="importing_defaults"><h3 id="importing_defaults">Importing defaults</h3>
<div class="section-content">
<p>You need to destructure and rename the "default" key from the returned object.</p> <div class="code-example"><pre data-language="js"><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>somethingIsTrue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>
      <span class="token keyword">default</span><span class="token operator">:</span> myDefault<span class="token punctuation">,</span>
      foo<span class="token punctuation">,</span>
      bar<span class="token punctuation">,</span>
    <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"/modules/my-module.js"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></div>
</div></section><section aria-labelledby="importing_on-demand_in_response_to_user_action"><h3 id="importing_on-demand_in_response_to_user_action">Importing on-demand in response to user action</h3>
<div class="section-content">
<p>This example shows how to load functionality on to a page based on a user action, in this case a button click, and then call a function within that module. This is not the only way to implement this functionality. The <code>import()</code> function also supports <code>await</code>.</p> <div class="code-example"><pre data-language="js"><span class="token keyword">const</span> main <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"main"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> link <span class="token keyword">of</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"nav &gt; a"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  link<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"/modules/my-module.js"</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        module<span class="token punctuation">.</span><span class="token function">loadPageInto</span><span class="token punctuation">(</span>main<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        main<span class="token punctuation">.</span>textContent <span class="token operator">=</span> err<span class="token punctuation">.</span>message<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre></div>
</div></section><section aria-labelledby="importing_different_modules_based_on_environment"><h3 id="importing_different_modules_based_on_environment">Importing different modules based on environment</h3>
<div class="section-content">
<p>In processes such as server-side rendering, you may need to load different logic on server or in browser because they interact with different globals or modules (for example, browser code has access to web APIs like <code>document</code> and <code>navigator</code>, while server code has access to the server file system). You can do so through a conditional dynamic import.</p> <div class="code-example"><pre data-language="js"><span class="token keyword">let</span> myModule<span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window <span class="token operator">===</span> <span class="token string">"undefined"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  myModule <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"module-used-on-server"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  myModule <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"module-used-in-browser"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre></div>
</div></section><section aria-labelledby="importing_modules_with_a_non-literal_specifier"><h3 id="importing_modules_with_a_non-literal_specifier">Importing modules with a non-literal specifier</h3>
<div class="section-content">
<p>Dynamic imports allow any expression as the module specifier, not necessarily string literals.</p> <p>Here, we load 10 modules, <code>/modules/module-0.js</code>, <code>/modules/module-1.js</code>, etc., in parallel, and call the <code>load</code> functions that each one exports.</p> <div class="code-example"><pre data-language="js">Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>
  Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/modules/module-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>index<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.js</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">modules</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> modules<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> module<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></div>
</div></section><h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://tc39.es/ecma262/multipage/ecmascript-language-expressions.html#sec-import-calls">ECMAScript Language Specification <br><small># sec-import-calls</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
<th colspan="2">Server</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>Deno</th>
<th>Node.js</th>
</tr>
</thead>
<tbody><tr>
<th><code>import</code></th>
<td class="bc-supports-yes"><div>63</div></td>
<td class="bc-supports-yes"><div>79</div></td>
<td class="bc-supports-yes">
<div>67</div>
<div>66-67</div>
</td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>50</div></td>
<td class="bc-supports-yes"><div>11.1</div></td>
<td class="bc-supports-yes"><div>63</div></td>
<td class="bc-supports-yes"><div>63</div></td>
<td class="bc-supports-yes"><div>67</div></td>
<td class="bc-supports-yes"><div>46</div></td>
<td class="bc-supports-yes"><div>11.3</div></td>
<td class="bc-supports-yes"><div>8.0</div></td>
<td class="bc-supports-yes"><div>1.0</div></td>
<td class="bc-supports-yes">
<div>13.2.0</div>
<div>Dynamic <code>import</code> can be used in either CommonJS or ES module files, to import either CommonJS or ES module files. See Node's <a href="https://nodejs.org/api/esm.html#esm_import_expressions">ECMAScript Modules documentation</a> for more details.</div>
<div>12.0.0</div>
<div>Dynamic <code>import</code> can be used in either CommonJS or ES module files, to import either CommonJS or ES module files. See Node's <a href="https://nodejs.org/api/esm.html#esm_import_expressions">ECMAScript Modules documentation</a> for more details.</div>
</td>
</tr></tbody>
</table>
<section aria-labelledby="see_also"><h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="../statements/import"><code>import</code> declaration</a></li> </ul></div></section><aside class="metadata"><div class="metadata-content-container">
<div id="on-github" class="on-github">
<h3>Found a problem with this page?</h3>
<ul>
<li><a href="https://github.com/mdn/content/edit/main/files/en-us/web/javascript/reference/operators/import/index.md" target="_blank" rel="noopener noreferrer">Edit on <b>GitHub</b></a></li>
<li><a href="https://github.com/mdn/content/blob/main/files/en-us/web/javascript/reference/operators/import/index.md?plain=1" target="_blank" rel="noopener noreferrer">Source on <b>GitHub</b></a></li>
<li><a href="https://github.com/mdn/content/issues/new?template=page-report.yml&amp;mdn-url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FJavaScript%2FReference%2FOperators%2Fimport&amp;metadata=%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EPage+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Fweb%2Fjavascript%2Freference%2Foperators%2Fimport%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FJavaScript%2FReference%2FOperators%2Fimport%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fmain%2Ffiles%2Fen-us%2Fweb%2Fjavascript%2Freference%2Foperators%2Fimport%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2Fc450c4c454e1540327be87ae3fd8dd0becf52d68%0A*+Document+last+modified%3A+2022-07-10T08%3A26%3A25.000Z%0A%0A%3C%2Fdetails%3E" target="_blank" rel="noopener noreferrer">Report a problem with this content on <b>GitHub</b></a></li>
<li>Want to fix the problem yourself? See <a href="https://github.com/mdn/content/blob/main/README.md" target="_blank" rel="noopener noreferrer">our Contribution guide</a>.</li>
</ul>
</div>
<p class="last-modified-date"><b>Last modified:</b> <time datetime="2022-07-10T08:26:25.000Z">Jul 10, 2022</time>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/import/contributors.txt">by MDN contributors</a></p>
</div></aside><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/import" class="_attribution-link" target="_blank">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/import</a>
  </p>
</div>
