<h1 id="cmd-complete">complete - edit command specific tab-completions</h1>  <h2 id="complete-edit-command-specific-tab-completions">Synopsis</h2> <pre data-language="shell">complete [( -c | --command | -p | --path )] COMMAND
        [( -c | --command | -p | --path ) COMMAND]...
        [( -e | --erase )]
        [( -s | --short-option ) SHORT_OPTION]...
        [( -l | --long-option | -o | --old-option ) LONG_OPTION]...
        [( -a | --arguments ) ARGUMENTS]
        [( -k | --keep-order )]
        [( -f | --no-files )]
        [( -F | --force-files )]
        [( -r | --require-parameter )]
        [( -x | --exclusive )]
        [( -w | --wraps ) WRAPPED_COMMAND]...
        [( -n | --condition ) CONDITION]
        [( -d | --description ) DESCRIPTION]
complete ( -C [STRING] | --do-complete[=STRING] )
</pre>   <h2 id="description">Description</h2> <p><code>complete</code> defines, removes or lists completions for a command.</p> <p>For an introduction to writing your own completions, see <a class="reference internal" href="../completions#completion-own"><span class="std std-ref">Writing your own completions</span></a> in the fish manual.</p> <ul class="simple"> <li>
<code>-c COMMAND</code> or <code>--command COMMAND</code> specifies that <code>COMMAND</code> is the name of the command. If there is no <code>-c</code> or <code>-p</code>, one non-option argument will be used as the command.</li> <li>
<code>-p COMMAND</code> or <code>--path COMMAND</code> specifies that <code>COMMAND</code> is the absolute path of the command (optionally containing wildcards).</li> <li>
<code>-e</code> or <code>--erase</code> deletes the specified completion.</li> <li>
<code>-s SHORT_OPTION</code> or <code>--short-option=SHORT_OPTION</code> adds a short option to the completions list.</li> <li>
<code>-l LONG_OPTION</code> or <code>--long-option=LONG_OPTION</code> adds a GNU style long option to the completions list.</li> <li>
<code>-o LONG_OPTION</code> or <code>--old-option=LONG_OPTION</code> adds an old style long option to the completions list (See below for details).</li> <li>
<code>-a ARGUMENTS</code> or <code>--arguments=ARGUMENTS</code> adds the specified option arguments to the completions list.</li> <li>
<code>-k</code> or <code>--keep-order</code> keeps the order of <code>ARGUMENTS</code> instead of sorting alphabetically. Multiple <code>complete</code> calls with <code>-k</code> result in arguments of the later ones displayed first.</li> <li>
<code>-f</code> or <code>--no-files</code> says that this completion may not be followed by a filename.</li> <li>
<code>-F</code> or <code>--force-files</code> says that this completion may be followed by a filename, even if another applicable <code>complete</code> specified <code>--no-files</code>.</li> <li>
<code>-r</code> or <code>--require-parameter</code> says that this completion must have an option argument, i.e. may not be followed by another option.</li> <li>
<code>-x</code> or <code>--exclusive</code> is short for <code>-r</code> and <code>-f</code>.</li> <li>
<code>-w WRAPPED_COMMAND</code> or <code>--wraps=WRAPPED_COMMAND</code> causes the specified command to inherit completions from the wrapped command (See below for details).</li> <li>
<code>-n CONDITION</code> or <code>--condition CONDITION</code> specifies that this completion should only be used if the CONDITION (a shell command) returns 0. This makes it possible to specify completions that should only be used in some cases.</li> <li>
<code>-C STRING</code> or <code>--do-complete=STRING</code> makes complete try to find all possible completions for the specified string. If there is no STRING, the current commandline is used instead.</li> </ul> <p>Command specific tab-completions in <code>fish</code> are based on the notion of options and arguments. An option is a parameter which begins with a hyphen, such as <code>-h</code>, <code>-help</code> or <code>--help</code>. Arguments are parameters that do not begin with a hyphen. Fish recognizes three styles of options, the same styles as the GNU getopt library. These styles are:</p> <ul class="simple"> <li>Short options, like <code>-a</code>. Short options are a single character long, are preceded by a single hyphen and can be grouped together (like <code>-la</code>, which is equivalent to <code>-l -a</code>). Option arguments may be specified in the following parameter (<code>-w 32</code>) or by appending the option with the value (<code>-w32</code>).</li> <li>Old style long options, like <code>-Wall</code> or <code>-name</code>. Old style long options can be more than one character long, are preceded by a single hyphen and may not be grouped together. Option arguments are specified in the following parameter (<code>-ao null</code>).</li> <li>GNU style long options, like <code>--colors</code>. GNU style long options can be more than one character long, are preceded by two hyphens, and can't be grouped together. Option arguments may be specified in the following parameter (<code>--quoting-style shell</code>) or after a <code>=</code> (<code>--quoting-style=shell</code>).</li> </ul> <p>Multiple commands and paths can be given in one call to define the same completions for multiple commands.</p> <p>Multiple command switches and wrapped commands can also be given to define multiple completions in one call.</p> <p>Invoking <code>complete</code> multiple times for the same command adds the new definitions on top of any existing completions defined for the command.</p> <p>When <code>-a</code> or <code>--arguments</code> is specified in conjunction with long, short, or old style options, the specified arguments are only completed as arguments for any of the specified options. If <code>-a</code> or <code>--arguments</code> is specified without any long, short, or old style options, the specified arguments are used when completing non-option arguments to the command (except when completing an option argument that was specified with <code>-r</code> or <code>--require-parameter</code>).</p> <p>Command substitutions found in <code>ARGUMENTS</code> should return a newline-separated list of arguments, and each argument may optionally have a tab character followed by the argument description. Description given this way override a description given with <code>-d</code> or <code>--description</code>.</p> <p>The <code>-w</code> or <code>--wraps</code> options causes the specified command to inherit completions from another command, "wrapping" the other command. The wrapping command can also have additional completions. A command can wrap multiple commands, and wrapping is transitive: if A wraps B, and B wraps C, then A automatically inherits all of C's completions. Wrapping can be removed using the <code>-e</code> or <code>--erase</code> options. Wrapping only works for completions specified with <code>-c</code> or <code>--command</code> and are ignored when specifying completions with <code>-p</code> or <code>--path</code>.</p> <p>When erasing completions, it is possible to either erase all completions for a specific command by specifying <code>complete -c COMMAND -e</code>, or by specifying a specific completion option to delete.</p> <p>When <code>complete</code> is called without anything that would define or erase completions (options, arguments, wrapping, ...), it shows matching completions instead. So <code>complete</code> without any arguments shows all loaded completions, <code>complete -c foo</code> shows all loaded completions for <code>foo</code>. Since completions are <a class="reference internal" href="../language#syntax-function-autoloading"><span class="std std-ref">autoloaded</span></a>, you will have to trigger them first.</p>   <h2 id="examples">Examples</h2> <p>The short style option <code>-o</code> for the <code>gcc</code> command needs a file argument:</p> <pre data-language="shell">complete -c gcc -s o -r
</pre> <p>The short style option <code>-d</code> for the <code>grep</code> command requires one of <code>read</code>, <code>skip</code> or <code>recurse</code>:</p> <pre data-language="shell">complete -c grep -s d -x -a "read skip recurse"
</pre> <p>The <code>su</code> command takes any username as an argument. Usernames are given as the first colon-separated field in the file /etc/passwd. This can be specified as:</p> <pre data-language="shell">complete -x -c su -d "Username" -a "(cat /etc/passwd | cut -d : -f 1)"
</pre> <p>The <code>rpm</code> command has several different modes. If the <code>-e</code> or <code>--erase</code> flag has been specified, <code>rpm</code> should delete one or more packages, in which case several switches related to deleting packages are valid, like the <code>nodeps</code> switch.</p> <p>This can be written as:</p> <pre data-language="shell">complete -c rpm -n "__fish_contains_opt -s e erase" -l nodeps -d "Don't check dependencies"
</pre> <p>where <code>__fish_contains_opt</code> is a function that checks the command line buffer for the presence of a specified set of options.</p> <p>To implement an alias, use the <code>-w</code> or <code>--wraps</code> option:</p> <pre data-language="shell">complete -c hub -w git
</pre> <p>Now hub inherits all of the completions from git. Note this can also be specified in a function declaration (<code>function thing -w otherthing</code>).</p> <pre data-language="shell">complete -c git
</pre> <p>Show all completions for <code>git</code>.</p>   <div class="_attribution">
  <p class="_attribution-p">
    <a href="https://fishshell.com/docs/3.3/cmds/complete.html" class="_attribution-link" target="_blank">https://fishshell.com/docs/3.3/cmds/complete.html</a>
  </p>
</div>
