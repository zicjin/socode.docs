<h1 id="cmd-trap">trap - perform an action when the shell receives a signal</h1>  <h2 id="trap-perform-an-action-when-the-shell-receives-a-signal">Synopsis</h2> <pre data-language="shell">trap [OPTIONS] [[ARG] REASON ... ]
</pre>   <h2 id="description">Description</h2> <p><code>trap</code> is a wrapper around the fish event delivery framework. It exists for backwards compatibility with POSIX shells. For other uses, it is recommended to define an <a class="reference internal" href="../language#event"><span class="std std-ref">event handler</span></a>.</p> <p>The following parameters are available:</p> <ul class="simple"> <li>
<code>ARG</code> is the command to be executed on signal delivery.</li> <li>
<code>REASON</code> is the name of the event to trap. For example, a signal like <code>INT</code> or <code>SIGINT</code>, or the special symbol <code>EXIT</code>.</li> <li>
<code>-l</code> or <code>--list-signals</code> prints a list of signal names.</li> <li>
<code>-p</code> or <code>--print</code> prints all defined signal handlers.</li> </ul> <p>If <code>ARG</code> and <code>REASON</code> are both specified, <code>ARG</code> is the command to be executed when the event specified by <code>REASON</code> occurs (e.g., the signal is delivered).</p> <p>If <code>ARG</code> is absent (and there is a single REASON) or -, each specified signal is reset to its original disposition (the value it had upon entrance to the shell). If <code>ARG</code> is the null string the signal specified by each <code>REASON</code> is ignored by the shell and by the commands it invokes.</p> <p>If <code>ARG</code> is not present and <code>-p</code> has been supplied, then the trap commands associated with each <code>REASON</code> are displayed. If no arguments are supplied or if only <code>-p</code> is given, <code>trap</code> prints the list of commands associated with each signal.</p> <p>Signal names are case insensitive and the <code>SIG</code> prefix is optional.</p> <p>The exit status is 1 if any <code>REASON</code> is invalid; otherwise trap returns 0.</p>   <h2 id="example">Example</h2> <pre data-language="shell">trap "status --print-stack-trace" SIGUSR1
# Prints a stack trace each time the SIGUSR1 signal is sent to the shell.
</pre>   <div class="_attribution">
  <p class="_attribution-p">
    <a href="https://fishshell.com/docs/3.3/cmds/trap.html" class="_attribution-link" target="_blank">https://fishshell.com/docs/3.3/cmds/trap.html</a>
  </p>
</div>
