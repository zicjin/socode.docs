<h1 id="cmd-test">test - perform tests on files and text</h1>  <h2 id="test-perform-tests-on-files-and-text">Synopsis</h2> <pre data-language="shell">test [EXPRESSION]
[ [EXPRESSION] ]
</pre>   <h2 id="description">Description</h2> <p>Tests the expression given and sets the exit status to 0 if true, and 1 if false. An expression is made up of one or more operators and their arguments.</p> <p>The first form (<code>test</code>) is preferred. For compatibility with other shells, the second form is available: a matching pair of square brackets (<code>[ [EXPRESSION ] ]</code>).</p> <p>This test is mostly POSIX-compatible.</p> <p>When using a variable as an argument for a test operator you should almost always enclose it in double-quotes. There are only two situations it is safe to omit the quote marks. The first is when the argument is a literal string with no whitespace or other characters special to the shell (e.g., semicolon). For example, <code>test -b /my/file</code>. The second is using a variable that expands to exactly one element including if that element is the empty string (e.g., <code>set x ''</code>). If the variable is not set, set but with no value, or set to more than one value you must enclose it in double-quotes. For example, <code>test "$x" = "$y"</code>. Since it is always safe to enclose variables in double-quotes when used as <code>test</code> arguments that is the recommended practice.</p>   <h2 id="operators-for-files-and-directories">Operators for files and directories</h2> <ul class="simple"> <li>
<code>-b FILE</code> returns true if <code>FILE</code> is a block device.</li> <li>
<code>-c FILE</code> returns true if <code>FILE</code> is a character device.</li> <li>
<code>-d FILE</code> returns true if <code>FILE</code> is a directory.</li> <li>
<code>-e FILE</code> returns true if <code>FILE</code> exists.</li> <li>
<code>-f FILE</code> returns true if <code>FILE</code> is a regular file.</li> <li>
<code>-g FILE</code> returns true if <code>FILE</code> has the set-group-ID bit set.</li> <li>
<code>-G FILE</code> returns true if <code>FILE</code> exists and has the same group ID as the current user.</li> <li>
<code>-k FILE</code> returns true if <code>FILE</code> has the sticky bit set. If the OS does not support the concept it returns false. See <a class="reference external" href="https://en.wikipedia.org/wiki/Sticky_bit">https://en.wikipedia.org/wiki/Sticky_bit</a>.</li> <li>
<code>-L FILE</code> returns true if <code>FILE</code> is a symbolic link.</li> <li>
<code>-O FILE</code> returns true if <code>FILE</code> exists and is owned by the current user.</li> <li>
<code>-p FILE</code> returns true if <code>FILE</code> is a named pipe.</li> <li>
<code>-r FILE</code> returns true if <code>FILE</code> is marked as readable.</li> <li>
<code>-s FILE</code> returns true if the size of <code>FILE</code> is greater than zero.</li> <li>
<code>-S FILE</code> returns true if <code>FILE</code> is a socket.</li> <li>
<code>-t FD</code> returns true if the file descriptor <code>FD</code> is a terminal (TTY).</li> <li>
<code>-u FILE</code> returns true if <code>FILE</code> has the set-user-ID bit set.</li> <li>
<code>-w FILE</code> returns true if <code>FILE</code> is marked as writable; note that this does not check if the filesystem is read-only.</li> <li>
<code>-x FILE</code> returns true if <code>FILE</code> is marked as executable.</li> </ul>   <h2 id="operators-for-text-strings">Operators for text strings</h2> <ul class="simple"> <li>
<code>STRING1 = STRING2</code> returns true if the strings <code>STRING1</code> and <code>STRING2</code> are identical.</li> <li>
<code>STRING1 != STRING2</code> returns true if the strings <code>STRING1</code> and <code>STRING2</code> are not identical.</li> <li>
<code>-n STRING</code> returns true if the length of <code>STRING</code> is non-zero.</li> <li>
<code>-z STRING</code> returns true if the length of <code>STRING</code> is zero.</li> </ul>   <h2 id="operators-to-compare-and-examine-numbers">Operators to compare and examine numbers</h2> <ul class="simple"> <li>
<code>NUM1 -eq NUM2</code> returns true if <code>NUM1</code> and <code>NUM2</code> are numerically equal.</li> <li>
<code>NUM1 -ne NUM2</code> returns true if <code>NUM1</code> and <code>NUM2</code> are not numerically equal.</li> <li>
<code>NUM1 -gt NUM2</code> returns true if <code>NUM1</code> is greater than <code>NUM2</code>.</li> <li>
<code>NUM1 -ge NUM2</code> returns true if <code>NUM1</code> is greater than or equal to <code>NUM2</code>.</li> <li>
<code>NUM1 -lt NUM2</code> returns true if <code>NUM1</code> is less than <code>NUM2</code>.</li> <li>
<code>NUM1 -le NUM2</code> returns true if <code>NUM1</code> is less than or equal to <code>NUM2</code>.</li> </ul> <p>Both integers and floating point numbers are supported.</p>   <h2 id="operators-to-combine-expressions">Operators to combine expressions</h2> <ul class="simple"> <li>
<code>COND1 -a COND2</code> returns true if both <code>COND1</code> and <code>COND2</code> are true.</li> <li>
<code>COND1 -o COND2</code> returns true if either <code>COND1</code> or <code>COND2</code> are true.</li> </ul> <p>Expressions can be inverted using the <code>!</code> operator:</p> <ul class="simple"> <li>
<code>! EXPRESSION</code> returns true if <code>EXPRESSION</code> is false, and false if <code>EXPRESSION</code> is true.</li> </ul> <p>Expressions can be grouped using parentheses.</p> <ul class="simple"> <li>
<code>( EXPRESSION )</code> returns the value of <code>EXPRESSION</code>.</li> </ul>  <p>Note that parentheses will usually require escaping with <code>\(</code> to avoid being interpreted as a command substitution.</p>    <h2 id="examples">Examples</h2> <p>If the <code>/tmp</code> directory exists, copy the <code>/etc/motd</code> file to it:</p> <pre data-language="shell">if test -d /tmp
    cp /etc/motd /tmp/motd
end
</pre> <p>If the variable <code>MANPATH</code> is defined and not empty, print the contents. (If <code>MANPATH</code> is not defined, then it will expand to zero arguments, unless quoted.)</p> <pre data-language="shell">if test -n "$MANPATH"
    echo $MANPATH
end
</pre> <p>Parentheses and the <code>-o</code> and <code>-a</code> operators can be combined to produce more complicated expressions. In this example, success is printed if there is a <code>/foo</code> or <code>/bar</code> file as well as a <code>/baz</code> or <code>/bat</code> file.</p> <pre data-language="shell">if test \( -f /foo -o -f /bar \) -a \( -f /baz -o -f /bat \)
    echo Success.
end.
</pre> <p>Numerical comparisons will simply fail if one of the operands is not a number:</p> <pre data-language="shell">if test 42 -eq "The answer to life, the universe and everything"
    echo So long and thanks for all the fish # will not be executed
end
</pre> <p>A common comparison is with $status:</p> <pre data-language="shell">if test $status -eq 0
    echo "Previous command succeeded"
end
</pre> <p>The previous test can likewise be inverted:</p> <pre data-language="shell">if test ! $status -eq 0
    echo "Previous command failed"
end
</pre> <p>which is logically equivalent to the following:</p> <pre data-language="shell">if test $status -ne 0
    echo "Previous command failed"
end
</pre>   <h2 id="standards">Standards</h2> <p><code>test</code> implements a subset of the <a class="reference external" href="https://www.unix.com/man-page/posix/1p/test/">IEEE Std 1003.1-2008 (POSIX.1) standard</a>. The following exceptions apply:</p> <ul class="simple"> <li>The <code>&lt;</code> and <code>&gt;</code> operators for comparing strings are not implemented.</li> <li>Because this test is a shell builtin and not a standalone utility, using the -c flag on a special file descriptors like standard input and output may not return the same result when invoked from within a pipe as one would expect when invoking the <code>test</code> utility in another shell.</li> </ul>  <p>In cases such as this, one can use <code>command</code> <code>test</code> to explicitly use the system's standalone <code>test</code> rather than this <code>builtin</code> <code>test</code>.</p>    <div class="_attribution">
  <p class="_attribution-p">
    <a href="https://fishshell.com/docs/3.3/cmds/test.html" class="_attribution-link" target="_blank">https://fishshell.com/docs/3.3/cmds/test.html</a>
  </p>
</div>
