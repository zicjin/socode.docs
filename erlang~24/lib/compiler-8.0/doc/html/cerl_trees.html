  <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-module-idm4517').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-idm4517').style.visibility = 'hidden';">Module</span></h2> <p class="REFBODY module-body">cerl_trees</p> </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-module-summary-idm4518').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-summary-idm4518').style.visibility = 'hidden';">Module Summary</span></h2> <p class="REFBODY module-summary-body">Basic functions on Core Erlang abstract syntax trees.</p> </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-description-idm4519').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-description-idm4519').style.visibility = 'hidden';">Description</span></h2> 
<p>Basic functions on Core Erlang abstract syntax trees.</p> <p>Syntax trees are defined in the module <code><a href="cerl">cerl</a></code>.</p>  </div> <div class="innertube"> <h2>Data types</h2>   <dl id="types"> <dt><strong>cerl() = <code id="type-cerl">cerl:cerl()</code></strong></dt>  </dl>  </div> <div class="innertube"><h2><span onmouseover="document.getElementById('ghlink-exports-idm4532').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-exports-idm4532').style.visibility = 'hidden';">Exports</span></h2></div> <div class="exports-body"> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-depth-1-idm4534').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-depth-1-idm4534').style.visibility = 'hidden';" id="depth-1">depth(T::<code>cerl:cerl()</code>) -&gt; non_neg_integer()</span></div></td> <td class="func-since-td"></td> </tr></table> <div class="exports-tube">

<p>Returns the length of the longest path in the tree. A leaf node has depth zero, the tree representing "<code class="code">{foo, bar}</code>" has depth one, etc.</p> </div> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-fold-2-idm4542').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-fold-2-idm4542').style.visibility = 'hidden';" id="fold-2">fold(F::(<code>cerl:cerl()</code>, term()) -&gt; term(), S::term(), T::<code>cerl:cerl()</code>) -&gt; term()</span></div></td> <td class="func-since-td"></td> </tr></table> <div class="exports-tube">

<p>Does a fold operation over the nodes of the tree. The result is the value of <code class="code">Function(X1, Function(X2, ... Function(Xn, Unit) ... ))</code>, where <code class="code">X1, ..., Xn</code> are the nodes of <code class="code">Tree</code> in a post-order traversal. </p> <p><strong>See also:</strong> <code><a href="#mapfold-3">mapfold/3</a></code>.</p> </div> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-free_variables-1-idm4556').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-free_variables-1-idm4556').style.visibility = 'hidden';" id="free_variables-1">free_variables(T::<code>cerl:cerl()</code>) -&gt; [<code>cerl:var_name()</code>]</span></div></td> <td class="func-since-td"></td> </tr></table> <div class="exports-tube">

<p>Like <code class="code">variables/1</code>, but only includes variables that are free in the tree. </p> <p><strong>See also:</strong> <code><a href="#next_free_variable_name-1">next_free_variable_name/1</a></code>, <code><a href="#variables-1">variables/1</a></code>.</p> </div> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-get_label-1-idm4569').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-get_label-1-idm4569').style.visibility = 'hidden';" id="get_label-1">get_label(T::<code>cerl:cerl()</code>) -&gt; top | integer()</span></div></td> <td class="func-since-td"></td> </tr></table>  <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-label-1-idm4575').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-label-1-idm4575').style.visibility = 'hidden';" id="label-1">label(T::<code>cerl:cerl()</code>) -&gt; {<code>cerl:cerl()</code>, integer()}</span></div></td> <td class="func-since-td"></td> </tr></table> <div class="exports-tube">

<p>Equivalent to <code><a href="#label-2">label(Tree, 0)</a></code>.</p> </div> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-label-2-idm4584').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-label-2-idm4584').style.visibility = 'hidden';" id="label-2">label(T::<code>cerl:cerl()</code>, N::integer()) -&gt; {<code>cerl:cerl()</code>, integer()}</span></div></td> <td class="func-since-td"></td> </tr></table> <div class="exports-tube">

<p>Labels each expression in the tree. A term <code class="code">{label, L}</code> is prefixed to the annotation list of each expression node, where L is a unique number for every node, except for variables (and function name variables) which get the same label if they represent the same variable. Constant literal nodes are not labeled.</p> <p>The returned value is a tuple <code class="code">{NewTree, Max}</code>, where <code class="code">NewTree</code> is the labeled tree and <code class="code">Max</code> is 1 plus the largest label value used. All previous annotation terms on the form <code class="code">{label, X}</code> are deleted.</p> <p>The values of L used in the tree is a dense range from <code class="code">N</code> to <code class="code">Max - 1</code>, where <code class="code">N =&lt; Max =&lt; N + size(Tree)</code>. Note that it is possible that no labels are used at all, i.e., <code class="code">N = Max</code>.</p> <p>Note: All instances of free variables will be given distinct labels.</p> <p><strong>See also:</strong> <code><a href="#label-1">label/1</a></code>, <code><a href="#size-1">size/1</a></code>.</p> </div> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-map-1-idm4608').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-map-1-idm4608').style.visibility = 'hidden';" id="map-1">map(F::(<code>cerl:cerl()</code>) -&gt; <code>cerl:cerl()</code>, T::<code>cerl:cerl()</code>) -&gt; <code>cerl:cerl()</code></span></div></td> <td class="func-since-td"></td> </tr></table> <div class="exports-tube">

<p>Maps a function onto the nodes of a tree. This replaces each node in the tree by the result of applying the given function on the original node, bottom-up. </p> <p><strong>See also:</strong> <code><a href="#mapfold-3">mapfold/3</a></code>.</p> </div> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-mapfold-2-idm4621').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-mapfold-2-idm4621').style.visibility = 'hidden';" id="mapfold-2">mapfold(F::(<code>cerl:cerl()</code>, term()) -&gt; {<code>cerl:cerl()</code>, term()}, S0::term(), T::<code>cerl:cerl()</code>) -&gt; {<code>cerl:cerl()</code>, term()}</span></div></td> <td class="func-since-td"></td> </tr></table> <div class="exports-tube">

<p>Does a combined map/fold operation on the nodes of the tree. This is similar to <code class="code">map/2</code>, but also propagates a value from each application of <code class="code">Function</code> to the next, starting with the given value <code class="code">Initial</code>, while doing a post-order traversal of the tree, much like <code class="code">fold/3</code>.</p> <p>This is the same as mapfold/4, with an identity function as the pre-operation. </p> <p><strong>See also:</strong> <code><a href="#fold-3">fold/3</a></code>, <code><a href="#map-2">map/2</a></code>, <code><a href="#mapfold-4">mapfold/4</a></code>.</p> </div> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-mapfold-2-idm4641').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-mapfold-2-idm4641').style.visibility = 'hidden';" id="mapfold-2">mapfold(Pre::(<code>cerl:cerl()</code>, term()) -&gt; {<code>cerl:cerl()</code>, term()} | skip, Post::(<code>cerl:cerl()</code>, term()) -&gt; {<code>cerl:cerl()</code>, term()}, S00::term(), T0::<code>cerl:cerl()</code>) -&gt; {<code>cerl:cerl()</code>, term()}</span></div></td> <td class="func-since-td"></td> </tr></table> <div class="exports-tube">

<p>Does a combined map/fold operation on the nodes of the tree. It begins by calling <code class="code">Pre</code> on the tree, using the <code class="code">Initial</code> value. <code class="code">Pre</code> must either return a tree with an updated accumulator or the atom <code class="code">skip</code>.</p> <p>If a tree is returned, this function deconstructs the top node of the returned tree and recurses on the children, using the returned value as the new initial and carrying the returned values from one call to the next. Finally it reassembles the top node from the children, calls <code class="code">Post</code> on it and returns the result.</p> <p>If <code class="code">skip</code> is returned, it returns the tree and accumulator as is.</p> </div> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-next_free_variable_name-1-idm4661').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-next_free_variable_name-1-idm4661').style.visibility = 'hidden';" id="next_free_variable_name-1">next_free_variable_name(T::<code>cerl:cerl()</code>) -&gt; integer()</span></div></td> <td class="func-since-td"></td> </tr></table> <div class="exports-tube">

<p>Returns a integer variable name higher than any other integer variable name in the syntax tree. An exception is thrown if <code class="code">Tree</code> does not represent a well-formed Core Erlang syntax tree. </p> <p><strong>See also:</strong> <code><a href="#free_variables-1">free_variables/1</a></code>, <code><a href="#variables-1">variables/1</a></code>.</p> </div> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-size-1-idm4673').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-size-1-idm4673').style.visibility = 'hidden';" id="size-1">size(T::<code>cerl:cerl()</code>) -&gt; non_neg_integer()</span></div></td> <td class="func-since-td"></td> </tr></table> <div class="exports-tube">

<p>Returns the number of nodes in <code class="code">Tree</code>.</p> </div> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-variables-1-idm4681').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-variables-1-idm4681').style.visibility = 'hidden';" id="variables-1">variables(T::<code>cerl:cerl()</code>) -&gt; [<code>cerl:var_name()</code>]</span></div></td> <td class="func-since-td"></td> </tr></table> <div class="exports-tube">

<p>Returns an ordered-set list of the names of all variables in the syntax tree. (This includes function name variables.) An exception is thrown if <code class="code">Tree</code> does not represent a well-formed Core Erlang syntax tree. </p> <p><strong>See also:</strong> <code><a href="#free_variables-1">free_variables/1</a></code>, <code><a href="#next_free_variable_name-1">next_free_variable_name/1</a></code>.</p> </div> </div> Richard Carlsson carlsson.richard@gmail.com<div class="footer"> <hr> <p>Copyright © 1997-2021 Ericsson AB. All Rights Reserved.</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2021 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>
