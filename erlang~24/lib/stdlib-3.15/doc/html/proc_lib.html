  <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-module-idm20300').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-idm20300').style.visibility = 'hidden';">Module</span></h2> <p class="REFBODY module-body">proc_lib</p> </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-module-summary-idm20301').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-summary-idm20301').style.visibility = 'hidden';">Module Summary</span></h2> <p class="REFBODY module-summary-body">Functions for asynchronous and synchronous start of processes adhering to the OTP design principles.</p> </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-description-idm20302').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-description-idm20302').style.visibility = 'hidden';">Description</span></h2> 
<p>This module is used to start processes adhering to the <code> OTP Design Principles</code>. Specifically, the functions in this module are used by the OTP standard behaviors (for example, <code class="code">gen_server</code> and <code class="code">gen_statem</code>) when starting new processes. The functions can also be used to start <strong>special processes</strong>, user-defined processes that comply to the OTP design principles. For an example, see section <code> sys and proc_lib</code> in OTP Design Principles.</p> <p>Some useful information is initialized when a process starts. The registered names, or the process identifiers, of the parent process, and the parent ancestors, are stored together with information about the function initially called in the process.</p> <p>While in "plain Erlang", a process is said to terminate normally only for exit reason <code class="code">normal</code>, a process started using <code class="code">proc_lib</code> is also said to terminate normally if it exits with reason <code class="code">shutdown</code> or <code class="code">{shutdown,Term}</code>. <code class="code">shutdown</code> is the reason used when an application (supervision tree) is stopped.</p> <p>When a process that is started using <code class="code">proc_lib</code> terminates abnormally (that is, with another exit reason than <code class="code">normal</code>, <code class="code">shutdown</code>, or <code class="code">{shutdown,Term}</code>), a <strong>crash report</strong> is generated, which is written to terminal by the default logger handler setup by Kernel. For more information about how crash reports were logged prior to Erlang/OTP 21.0, see <code>SASL Error Logging</code> in the SASL User's Guide.</p> <p>Unlike in "plain Erlang", <code class="code">proc_lib</code> processes will not generate <strong>error reports</strong>, which are written to the terminal by the emulator. All exceptions are converted to <strong>exits</strong> which are ignored by the default <code class="code">logger</code> handler.</p> <p>The crash report contains the previously stored information, such as ancestors and initial function, the termination reason, and information about other processes that terminate as a result of this process terminating.</p>  </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-data-types-idm20329').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-data-types-idm20329').style.visibility = 'hidden';">Data Types</span></h2> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-spawn_option').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-spawn_option').style.visibility = 'hidden';">  <code>spawn_option() = <span id="type-spawn_option">erlang:spawn_opt_option()</span></code><br> </div> <div class="data-type-desc">

<p>See <code> <span class="code">erlang:spawn_opt/2,3,4,5</span></code>.</p> </div> </div> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-start_spawn_option').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-start_spawn_option').style.visibility = 'hidden';">  <code>start_spawn_option() = <br id="type-start_spawn_option">    link |<br>    {priority, <span>erlang:priority_level()</span>} |<br>    {max_heap_size, <span>erlang:max_heap_size()</span>} |<br>    {min_heap_size, integer() &gt;= 0} |<br>    {min_bin_vheap_size, integer() &gt;= 0} |<br>    {fullsweep_after, integer() &gt;= 0} |<br>    {message_queue_data, <span>erlang:message_queue_data()</span>}</code><br> </div> <div class="data-type-desc">

<p>A restricted set of <code><a href="#type-spawn_option">spawn options</a></code>. Most notably <code class="code">monitor</code> is <strong>not</strong> part of these options.</p> </div> </div> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-dict_or_pid').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-dict_or_pid').style.visibility = 'hidden';">  <code>dict_or_pid() = <br id="type-dict_or_pid">    pid() |<br>    (ProcInfo :: [term()]) |<br>    {X :: integer(), Y :: integer(), Z :: integer()}</code><br> </div>  </div> </div> <div class="innertube"><h2><span onmouseover="document.getElementById('ghlink-exports-idm20345').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-exports-idm20345').style.visibility = 'hidden';">Exports</span></h2></div> <div class="exports-body"> <table class="func-table" id="format-1"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-format-1-idp850').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-format-1-idp850').style.visibility = 'hidden';"> format(CrashReport) -&gt; string()</div></td> <td class="func-since-td"></td> </tr></table>  <h2 class="func-types-title">Types</h2>   <div class="exports-tube">

<p>Equivalent to <code><a href="#format-2"> <span class="code">format(CrashReport, latin1)</span></a></code>.</p> </div> <table class="func-table" id="format-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-format-2-idp851').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-format-2-idp851').style.visibility = 'hidden';"> format(CrashReport, Encoding) -&gt; string()</div></td> <td class="func-since-td"><span class="since">OTP R16B</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>    <div class="exports-tube">

<div class="note"> <div class="label">Note</div> <div class="content">

<p>This function is deprecated in the sense that the <code class="code">error_logger</code> is no longer the preferred interface for logging in Erlang/OTP. A new <code>logging API</code> was added in Erlang/OTP 21.0, but legacy <code class="code">error_logger</code> handlers can still be used. New Logger handlers do not need to use this function, since the formatting callback (<code class="code">report_cb</code>) is included as metadata in the log event.</p> </div> </div> <p>This function can be used by a user-defined legacy <code class="code">error_logger</code> event handler to format a crash report. The crash report is sent using <code> <span class="code">logger(3)</span></code>, and the event to be handled is of the format <code class="code">{error_report, GL, {Pid, crash_report, CrashReport}}</code>, where <code class="code">GL</code> is the group leader pid of process <code class="code">Pid</code> that sent the crash report.</p> </div> <table class="func-table" id="format-3"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-format-3-idp852').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-format-3-idp852').style.visibility = 'hidden';"> format(CrashReport, Encoding, Depth) -&gt; string()</div></td> <td class="func-since-td"><span class="since">OTP 18.1</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>     <div class="exports-tube">

<div class="note"> <div class="label">Note</div> <div class="content">

<p>This function is deprecated in the sense that the <code class="code">error_logger</code> is no longer the preferred interface for logging in Erlang/OTP. A new <code>logging API</code> was added in Erlang/OTP 21.0, but legacy <code class="code">error_logger</code> handlers can still be used. New Logger handlers do not need to used this function, since the formatting callback (<code class="code">report_cb</code>) is included as metadata in the log event.</p> </div> </div> <p>This function can be used by a user-defined legacy <code class="code">error_logger</code> event handler to format a crash report. When Depth is specified as a positive integer, it is used in the format string to limit the output as follows: <code class="code">io_lib:format("~P", [Term,Depth])</code>.</p> </div> <table class="func-table" id="hibernate-3"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-hibernate-3-idp853').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-hibernate-3-idp853').style.visibility = 'hidden';"> hibernate(Module, Function, Args) -&gt; no_return()</div></td> <td class="func-since-td"></td> </tr></table>  <h2 class="func-types-title">Types</h2>     <div class="exports-tube">

<p>This function does the same as (and does call) the <code> <span class="code">hibernate/3</span></code> BIF, but ensures that exception handling and logging continues to work as expected when the process wakes up.</p> <p>Always use this function instead of the BIF for processes started using <code class="code">proc_lib</code> functions.</p> </div> <table class="func-table" id="init_ack-1"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-init_ack-1-idp854').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-init_ack-1-idp854').style.visibility = 'hidden';"> init_ack(Ret) -&gt; ok</div></td> <td class="func-since-td"></td> </tr></table> <table class="func-table" id="init_ack-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-init_ack-2-idp855').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-init_ack-2-idp855').style.visibility = 'hidden';"> init_ack(Parent, Ret) -&gt; ok</div></td> <td class="func-since-td"></td> </tr></table>  <h2 class="func-types-title">Types</h2>    <div class="exports-tube">

<p>This function must be used by a process that has been started by a <code><a href="#start-3"><span class="code">start[_link]/3,4,5</span></a></code> function. It tells <code class="code">Parent</code> that the process has initialized itself, has started, or has failed to initialize itself.</p> <p>Function <code class="code">init_ack/1</code> uses the parent value previously stored by the start function used.</p> <p>If this function is not called, the start function returns an error tuple (if a link and/or a time-out is used) or hang otherwise.</p> <p>The following example illustrates how this function and <code class="code">proc_lib:start_link/3</code> are used:</p> <pre data-language="erlang">-module(my_proc).
-export([start_link/0]).
-export([init/1]).

start_link() -&gt;
    proc_lib:start_link(my_proc, init, [self()]).

init(Parent) -&gt;
    case do_initialization() of
        ok -&gt;
            proc_lib:init_ack(Parent, {ok, self()});
        {error, Reason} -&gt;
            exit(Reason)
    end,
    loop().

...</pre> </div> <table class="func-table" id="initial_call-1"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-initial_call-1-idp856').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-initial_call-1-idp856').style.visibility = 'hidden';"> initial_call(Process) -&gt; {Module, Function, Args} | false</div></td> <td class="func-since-td"></td> </tr></table>  <h2 class="func-types-title">Types</h2>      <div class="exports-tube">

<p>Extracts the initial call of a process that was started using one of the spawn or start functions in this module. <code class="code">Process</code> can either be a pid, an integer tuple (from which a pid can be created), or the process information of a process <code class="code">Pid</code> fetched through an <code class="code">erlang:process_info(Pid)</code> function call.</p> <div class="note"> <div class="label">Note</div> <div class="content">

<p>The list <code class="code">Args</code> no longer contains the arguments, but the same number of atoms as the number of arguments; the first atom is <code class="code">'Argument__1'</code>, the second <code class="code">'Argument__2'</code>, and so on. The reason is that the argument list could waste a significant amount of memory, and if the argument list contained funs, it could be impossible to upgrade the code for the module.</p> <p>If the process was spawned using a fun, <code class="code">initial_call/1</code> no longer returns the fun, but the module, function for the local function implementing the fun, and the arity, for example, <code class="code">{some_module,-work/3-fun-0-,0}</code> (meaning that the fun was created in function <code class="code">some_module:work/3</code>). The reason is that keeping the fun would prevent code upgrade for the module, and that a significant amount of memory could be wasted.</p> </div> </div> </div> <table class="func-table" id="spawn-1"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-spawn-1-idp857').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-spawn-1-idp857').style.visibility = 'hidden';"> spawn(Fun) -&gt; pid()</div></td> <td class="func-since-td"></td> </tr></table> <table class="func-table" id="spawn-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-spawn-2-idp858').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-spawn-2-idp858').style.visibility = 'hidden';"> spawn(Node, Fun) -&gt; pid()</div></td> <td class="func-since-td"></td> </tr></table> <table class="func-table" id="spawn-3"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-spawn-3-idp859').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-spawn-3-idp859').style.visibility = 'hidden';"> spawn(Module, Function, Args) -&gt; pid()</div></td> <td class="func-since-td"></td> </tr></table> <table class="func-table" id="spawn-4"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-spawn-4-idp860').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-spawn-4-idp860').style.visibility = 'hidden';"> spawn(Node, Module, Function, Args) -&gt; pid()</div></td> <td class="func-since-td"></td> </tr></table>  <h2 class="func-types-title">Types</h2>       <div class="exports-tube">

<p>Spawns a new process and initializes it as described in the beginning of this manual page. The process is spawned using the <code><span class="code">spawn</span></code> BIFs.</p> </div> <table class="func-table" id="spawn_link-1"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-spawn_link-1-idp861').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-spawn_link-1-idp861').style.visibility = 'hidden';"> spawn_link(Fun) -&gt; pid()</div></td> <td class="func-since-td"></td> </tr></table> <table class="func-table" id="spawn_link-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-spawn_link-2-idp862').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-spawn_link-2-idp862').style.visibility = 'hidden';"> spawn_link(Node, Fun) -&gt; pid()</div></td> <td class="func-since-td"></td> </tr></table> <table class="func-table" id="spawn_link-3"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-spawn_link-3-idp863').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-spawn_link-3-idp863').style.visibility = 'hidden';"> spawn_link(Module, Function, Args) -&gt; pid()</div></td> <td class="func-since-td"></td> </tr></table> <table class="func-table" id="spawn_link-4"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-spawn_link-4-idp864').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-spawn_link-4-idp864').style.visibility = 'hidden';"> spawn_link(Node, Module, Function, Args) -&gt; pid()</div></td> <td class="func-since-td"></td> </tr></table>  <h2 class="func-types-title">Types</h2>       <div class="exports-tube">

<p>Spawns a new process and initializes it as described in the beginning of this manual page. The process is spawned using the <code><span class="code">spawn_link</span></code> BIFs.</p> </div> <table class="func-table" id="spawn_opt-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-spawn_opt-2-idp865').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-spawn_opt-2-idp865').style.visibility = 'hidden';"> spawn_opt(Fun, SpawnOpts) -&gt; pid() | {pid(), reference()}</div></td> <td class="func-since-td"></td> </tr></table> <table class="func-table" id="spawn_opt-3"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-spawn_opt-3-idp866').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-spawn_opt-3-idp866').style.visibility = 'hidden';"> spawn_opt(Node, Function, SpawnOpts) -&gt;<br> pid() | {pid(), reference()}</div></td> <td class="func-since-td"></td> </tr></table> <table class="func-table" id="spawn_opt-4"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-spawn_opt-4-idp867').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-spawn_opt-4-idp867').style.visibility = 'hidden';"> spawn_opt(Module, Function, Args, SpawnOpts) -&gt;<br> pid() | {pid(), reference()}</div></td> <td class="func-since-td"></td> </tr></table> <table class="func-table" id="spawn_opt-5"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-spawn_opt-5-idp868').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-spawn_opt-5-idp868').style.visibility = 'hidden';"> spawn_opt(Node, Module, Function, Args, SpawnOpts) -&gt;<br> pid() | {pid(), reference()}</div></td> <td class="func-since-td"></td> </tr></table>  <h2 class="func-types-title">Types</h2>        <div class="exports-tube">

<p>Spawns a new process and initializes it as described in the beginning of this manual page. The process is spawned using the <code><span class="code">erlang:spawn_opt</span></code> BIFs.</p> </div> <table class="func-table" id="start-3"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-start-3-idp869').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-start-3-idp869').style.visibility = 'hidden';"> start(Module, Function, Args) -&gt; Ret</div></td> <td class="func-since-td"></td> </tr></table> <table class="func-table" id="start-4"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-start-4-idp870').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-start-4-idp870').style.visibility = 'hidden';"> start(Module, Function, Args, Time) -&gt; Ret</div></td> <td class="func-since-td"></td> </tr></table> <table class="func-table" id="start-5"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-start-5-idp871').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-start-5-idp871').style.visibility = 'hidden';"> start(Module, Function, Args, Time, SpawnOpts) -&gt; Ret</div></td> <td class="func-since-td"></td> </tr></table>  <h2 class="func-types-title">Types</h2>        <div class="exports-tube">

<p>Starts a new process synchronously. Spawns the process and waits for it to start. When the process has started, it <strong>must</strong> call <code><a href="#init_ack-2"><span class="code">init_ack(Parent, Ret)</span></a></code> or <code><a href="#init_ack-1"><span class="code">init_ack(Ret)</span></a></code>, where <code class="code">Parent</code> is the process that evaluates this function. At this time, <code class="code">Ret</code> is returned.</p> <p>If <code class="code">Time</code> is specified as an integer, this function waits for <code class="code">Time</code> milliseconds for the new process to call <code class="code">init_ack</code>, or <code class="code">Ret = {error, timeout}</code> will be returned, and the process is killed.</p> <p>Argument <code class="code">SpawnOpts</code>, if specified, is passed as the last argument to the <code> <span class="code">spawn_opt/2,3,4,5</span></code> BIF.</p> <div class="note"> <div class="label">Note</div> <div class="content">

<p>Using spawn option <code class="code">monitor</code> is not allowed. It causes the function to fail with reason <code class="code">badarg</code>.</p> </div> </div> </div> <table class="func-table" id="start_link-3"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-start_link-3-idp872').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-start_link-3-idp872').style.visibility = 'hidden';"> start_link(Module, Function, Args) -&gt; Ret</div></td> <td class="func-since-td"></td> </tr></table> <table class="func-table" id="start_link-4"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-start_link-4-idp873').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-start_link-4-idp873').style.visibility = 'hidden';"> start_link(Module, Function, Args, Time) -&gt; Ret</div></td> <td class="func-since-td"></td> </tr></table> <table class="func-table" id="start_link-5"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-start_link-5-idp874').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-start_link-5-idp874').style.visibility = 'hidden';"> start_link(Module, Function, Args, Time, SpawnOpts) -&gt; Ret</div></td> <td class="func-since-td"></td> </tr></table>  <h2 class="func-types-title">Types</h2>        <div class="exports-tube">

<p> Starts a new process synchronously. Spawns the process and waits for it to start. A link is atomically set on the newly spawned process. When the process has started, it <strong>must</strong> call <code><a href="#init_ack-2"><span class="code">init_ack(Parent, Ret)</span></a></code> or <code><a href="#init_ack-1"><span class="code">init_ack(Ret)</span></a></code>, where <code class="code">Parent</code> is the process that evaluates this function. At this time, <code class="code">Ret</code> is returned.</p> <p>If <code class="code">Time</code> is specified as an integer, this function waits for <code class="code">Time</code> milliseconds for the new process to call <code class="code">init_ack</code>, or <code class="code">Ret = {error, timeout}</code> will be returned, and the process is killed.</p> <p>If the process crashes before it has called <code class="code">init_ack/1,2</code>, <code class="code">Ret = {error, Reason}</code> will be returned if the calling process traps exits.</p> <p>Argument <code class="code">SpawnOpts</code>, if specified, is passed as the last argument to the <code> <span class="code">spawn_opt/2,3,4,5</span></code> BIF.</p> <div class="note"> <div class="label">Note</div> <div class="content">

<p>Using spawn option <code class="code">monitor</code> is not allowed. It causes the function to fail with reason <code class="code">badarg</code>.</p> </div> </div> </div> <table class="func-table" id="start_monitor-3"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-start_monitor-3-idp875').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-start_monitor-3-idp875').style.visibility = 'hidden';"> start_monitor(Module, Function, Args) -&gt; {Ret, Mon}</div></td> <td class="func-since-td"><span class="since">OTP 23.0</span></td> </tr></table> <table class="func-table" id="start_monitor-4"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-start_monitor-4-idp876').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-start_monitor-4-idp876').style.visibility = 'hidden';"> start_monitor(Module, Function, Args, Time) -&gt; {Ret, Mon}</div></td> <td class="func-since-td"><span class="since">OTP 23.0</span></td> </tr></table> <table class="func-table" id="start_monitor-5"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-start_monitor-5-idp877').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-start_monitor-5-idp877').style.visibility = 'hidden';"> start_monitor(Module, Function, Args, Time, SpawnOpts) -&gt;<br> {Ret, Mon}</div></td> <td class="func-since-td"><span class="since">OTP 23.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>         <div class="exports-tube">

<p> Starts a new process synchronously. Spawns the process and waits for it to start. A monitor is atomically set on the newly spawned process. When the process has started, it <strong>must</strong> call <code><a href="#init_ack-2"><span class="code">init_ack(Parent, Ret)</span></a></code> or <code><a href="#init_ack-1"><span class="code">init_ack(Ret)</span></a></code>, where <code class="code">Parent</code> is the process that evaluates this function. At this time, <code class="code">Ret</code> is returned.</p> <p>If <code class="code">Time</code> is specified as an integer, this function waits for <code class="code">Time</code> milliseconds for the new process to call <code class="code">init_ack</code>, or <code class="code">Ret = {error, timeout}</code> will be returned, and the process is killed.</p> <p> The return value is <code class="code">{Ret, Mon}</code> where <code class="code">Ret</code> corresponds to the <code class="code">Ret</code> argument in the call to <code class="code">init_ack()</code>, and <code class="code">Mon</code> is the monitor reference of the monitor that has been set up. </p> <p> A <code class="code">'DOWN'</code> message will be delivered to the caller if this function returns, and the spawned process terminates. This is true also in the case when the operation times out. </p> <p>Argument <code class="code">SpawnOpts</code>, if specified, is passed as the last argument to the <code> <span class="code">spawn_opt/2,3,4,5</span></code> BIF.</p> <div class="note"> <div class="label">Note</div> <div class="content">

<p>Using spawn option <code class="code">monitor</code> is not allowed. It causes the function to fail with reason <code class="code">badarg</code>.</p> </div> </div> </div> <table class="func-table" id="stop-1"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-stop-1-idp878').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-stop-1-idp878').style.visibility = 'hidden';"> stop(Process) -&gt; ok</div></td> <td class="func-since-td"><span class="since">OTP 18.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>   <div class="exports-tube">

<p>Equivalent to <code><a href="#stop-3"> <span class="code">stop(Process, normal, infinity)</span></a></code>.</p> </div> <table class="func-table" id="stop-3"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-stop-3-idp879').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-stop-3-idp879').style.visibility = 'hidden';"> stop(Process, Reason, Timeout) -&gt; ok</div></td> <td class="func-since-td"><span class="since">OTP 18.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>     <div class="exports-tube">

<p>Orders the process to exit with the specified <code class="code">Reason</code> and waits for it to terminate.</p> <p>Returns <code class="code">ok</code> if the process exits with the specified <code class="code">Reason</code> within <code class="code">Timeout</code> milliseconds.</p> <p>If the call times out, a <code class="code">timeout</code> exception is raised.</p> <p>If the process does not exist, a <code class="code">noproc</code> exception is raised.</p> <p>The implementation of this function is based on the <code class="code">terminate</code> system message, and requires that the process handles system messages correctly. For information about system messages, see <code><a href="sys"><span class="code">sys(3)</span></a></code> and section <code> sys and proc_lib</code> in OTP Design Principles.</p> </div> <table class="func-table" id="translate_initial_call-1"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-translate_initial_call-1-idp880').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-translate_initial_call-1-idp880').style.visibility = 'hidden';"> translate_initial_call(Process) -&gt; {Module, Function, Arity}</div></td> <td class="func-since-td"></td> </tr></table>  <h2 class="func-types-title">Types</h2>      <div class="exports-tube">

<p>This function is used by functions <code><a href="c#i-0"><span class="code">c:i/0</span></a></code> and <code><a href="c#regs-0"><span class="code">c:regs/0</span></a></code> to present process information.</p> <p>This function extracts the initial call of a process that was started using one of the spawn or start functions in this module, and translates it to more useful information. <code class="code">Process</code> can either be a pid, an integer tuple (from which a pid can be created), or the process information of a process <code class="code">Pid</code> fetched through an <code class="code">erlang:process_info(Pid)</code> function call.</p> <p>If the initial call is to one of the system-defined behaviors such as <code class="code">gen_server</code> or <code class="code">gen_event</code>, it is translated to more useful information. If a <code class="code">gen_server</code> is spawned, the returned <code class="code">Module</code> is the name of the callback module and <code class="code">Function</code> is <code class="code">init</code> (the function that initiates the new server).</p> <p>A <code class="code">supervisor</code> and a <code class="code">supervisor_bridge</code> are also <code class="code">gen_server</code> processes. To return information that this process is a supervisor and the name of the callback module, <code class="code">Module</code> is <code class="code">supervisor</code> and <code class="code">Function</code> is the name of the supervisor callback module. <code class="code">Arity</code> is <code class="code">1</code>, as the <code class="code">init/1</code> function is called initially in the callback module.</p> <p>By default, <code class="code">{proc_lib,init_p,5}</code> is returned if no information about the initial call can be found. It is assumed that the caller knows that the process has been spawned with the <code class="code">proc_lib</code> module.</p> </div> </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-see-also-idm20650').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-see-also-idm20650').style.visibility = 'hidden';">See Also</span></h2>  <p><code> <span class="code">error_logger(3)</span></code></p> <p><code> <span class="code">logger(3)</span></code></p>  </div> <div class="footer"> <hr> <p>Copyright © 1997-2021 Ericsson AB. All Rights Reserved.</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2021 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>
