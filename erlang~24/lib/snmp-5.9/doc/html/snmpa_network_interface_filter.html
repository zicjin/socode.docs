  <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-module-idm7800').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-idm7800').style.visibility = 'hidden';">Module</span></h2> <p class="REFBODY module-body">snmpa_network_interface_filter</p> </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-module-summary-idm7801').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-summary-idm7801').style.visibility = 'hidden';">Module Summary</span></h2> <p class="REFBODY module-summary-body">Behaviour module for the SNMP agent network-interface filter.</p> </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-description-idm7802').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-description-idm7802').style.visibility = 'hidden';">Description</span></h2> 
<p>This module defines the behaviour of the agent network interface filter. A <code class="code">snmpa_network_interface_filter</code> compliant module must export the following functions: </p> <ul> <li> <p><code><a href="#accept_recv">accept_recv/2</a></code></p> </li> <li> <p><code><a href="#accept_send">accept_send/2</a></code></p> </li> <li> <p><code><a href="#accept_recv_pdu">accept_recv_pdu/3</a></code></p> </li> <li> <p><code><a href="#accept_send_pdu">accept_send_pdu/2</a></code></p> </li> </ul> <p>The semantics of them and their exact signatures are explained below. </p> <p>The purpose of the network interface filter is to allow for filtering of messages (accept or reject) receive and send. This is done on two levels: </p> <ul> <li> <p>The first level is at the transport entry / exit point, i.e. immediately after the receipt of the message before any message processing is done (accept_recv) and immediately before sending the message after all message processing is done (accept_send).</p> </li> <li> <p>The second level is at the MPD entry / exit point, i.e. immediately after the basic message processing (accept_recv_pdu) / immediately before the basic message processing (accept_send_pdu).</p> </li> </ul> <p>Note that the network interface filter is something which is used by the network interface implementation provided by the application (<code class="code">snmpa_net_if</code>). The default filter accepts all messages.</p> <p>A network interface filter can e.g. be used during testing or for load regulation. If the intended use is load regulation, see also <code><a href="snmp_config#agent_ni_req_limit">req_limit</a></code> and the function <code><a href="snmpa#register_notification_filter">register_notification_filter</a></code>. </p> <p>Legacy network interface filter modules used arguments on the form <code class="code">(IpAddr, PortNumber,...)</code> instead of <code class="code">(Domain, Addr, ...)</code>, and if the SNMP agent is run without changing the configuration to use transport domains the network interface filter will still get the old arguments and work as before.</p>  </div> <div class="innertube"> <h2>Data types</h2>  <pre data-language="erlang">port() = integer() &gt; 0
pdu_type() = 'get-request' | 'get-next-request' | 'get-response' | 
             'set-request' | trap | 'get-bulk-request' | 'inform-request' | 
             report</pre> <p>See also the <code><a href="snmpa_conf#types"> data types in <span class="code">snmpa_conf</span></a></code>.</p>   </div> <div class="innertube"><h2><span onmouseover="document.getElementById('ghlink-exports-idm7840').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-exports-idm7840').style.visibility = 'hidden';">Exports</span></h2></div> <div class="exports-body"> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-accept_recv-2-idm7842').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-accept_recv-2-idm7842').style.visibility = 'hidden';" id="accept_recv-2">accept_recv(Domain, Addr) -&gt; boolean()</span></div></td> <td class="func-since-td"></td> </tr></table> <div class="exports-tube">  <h2 class="func-types-title">Types</h2>    
<p>Called at the reception of a message (before <strong>any</strong> processing has been done).</p> <p>For the message to be discarded, the function <strong>must</strong> return <strong>false</strong>. </p>   </div> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-accept_send-2-idm7855').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-accept_send-2-idm7855').style.visibility = 'hidden';" id="accept_send-2">accept_send(Domain, Addr) -&gt; boolean()</span></div></td> <td class="func-since-td"></td> </tr></table> <div class="exports-tube">  <h2 class="func-types-title">Types</h2>    
<p>Called before the sending of a message (after <strong>all</strong> processing has been done).</p> <p>For the message to be discarded, the function <strong>must</strong> return <strong>false</strong>. </p>   </div> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-accept_recv_pdu-3-idm7868').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-accept_recv_pdu-3-idm7868').style.visibility = 'hidden';" id="accept_recv_pdu-3">accept_recv_pdu(Domain, Addr, PduType) -&gt; boolean()</span></div></td> <td class="func-since-td"></td> </tr></table> <div class="exports-tube">  <h2 class="func-types-title">Types</h2>     
<p>Called after the basic message processing (MPD) has been done, but before the pdu is handed over to the master-agent for primary processing.</p> <p>For the pdu to be discarded, the function <strong>must</strong> return <strong>false</strong>. </p>   </div> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-accept_send_pdu-2-idm7881').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-accept_send_pdu-2-idm7881').style.visibility = 'hidden';" id="accept_send_pdu-2">accept_send_pdu(Targets, PduType) -&gt; Reply</span></div></td> <td class="func-since-td"></td> </tr></table> <div class="exports-tube">  <h2 class="func-types-title">Types</h2>          
<p>Called before the basic message processing (MPD) is done, when a pdu has been received from the master-agent.</p> <p>For the message to be discarded all together, the function <strong>must</strong> return <strong>false</strong>. </p> <p>Note that it is possible for this function to filter out targets (but <strong>not</strong> to add its own) by returning an updated <code class="code">Targets</code> list (<code class="code">NewTargets</code>). </p>  </div> </div> <div class="footer"> <hr> <p>Copyright Â© 1997-2021 Ericsson AB. All Rights Reserved.</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2021 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>
