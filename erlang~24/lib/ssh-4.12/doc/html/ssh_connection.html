  <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-module-idm2905').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-idm2905').style.visibility = 'hidden';">Module</span></h2> <p class="REFBODY module-body">ssh_connection</p> </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-module-summary-idm2906').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-summary-idm2906').style.visibility = 'hidden';">Module Summary</span></h2> <p class="REFBODY module-summary-body"> This module provides API functions to send SSH Connection Protocol events to the other side of an SSH channel. </p> </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-description-idm2907').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-description-idm2907').style.visibility = 'hidden';">Description</span></h2> 
<p>The <code><a href="http://www.ietf.org/rfc/rfc4254.txt">SSH Connection Protocol</a></code> is used by clients and servers, that is, SSH channels, to communicate over the SSH connection. The API functions in this module send SSH Connection Protocol events, which are received as messages by the remote channel handling the remote channel. The Erlang format of thoose messages is (see also <code><a href="#type-event">below</a></code>): </p> <p><code class="code">{ssh_cm,</code><code>ssh:connection_ref()</code><code class="code">,</code><code><a href="#type-channel_msg"><span class="code">channel_msg()</span></a></code><code class="code">}</code> </p> <p> If the <code><a href="ssh_client_channel">ssh_client_channel</a></code> behavior is used to implement the channel process, these messages are handled by <code><a href="ssh_client_channel#Module:handle_ssh_msg-2">handle_ssh_msg/2</a></code>.</p>  </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-data-types-idm2921').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-data-types-idm2921').style.visibility = 'hidden';">Data Types</span></h2> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-ssh_data_type_code').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-ssh_data_type_code').style.visibility = 'hidden';">  <code id="type-ssh_data_type_code">ssh_data_type_code() = integer() &gt;= 0</code><br> </div> <div class="data-type-desc">

<p>The valid values are <code class="code">0</code> ("normal") and <code class="code">1</code> ("stderr"), see <code><a href="https://tools.ietf.org/html/rfc4254#page/8">RFC 4254, Section 5.2</a></code>.</p> </div> </div> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-result').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-result').style.visibility = 'hidden';">  <code>result() = <span id="type-result"><a href="#type-req_status">req_status()</a></span> | {error, <span><a href="#type-reason">reason()</a></span>}</code><br> <code id="type-reason">reason() = closed | timeout</code><br> </div> <div class="data-type-desc">

<p>The result of a call.</p> <p>If the request reached the peer, was handled and the response reached the requesting node the <code><a href="#type-req_status">req_status()</a></code> is the status reported from the peer.</p> <p>If not, the <code><a href="#type-reason">reason()</a></code> indicates what went wrong:</p> <dl> <dt><strong><code class="code">closed</code></strong></dt> <dd>indicates that the channel or connection was closed when trying to send the request </dd> <dt><strong><code class="code">timeout</code></strong></dt> <dd>indicates that the operation exceeded a time limit </dd> </dl> </div> </div> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-req_status').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-req_status').style.visibility = 'hidden';">  <code id="type-req_status">req_status() = success | failure</code><br> </div> <div class="data-type-desc">

<p>The status of a request. Coresponds to the <code class="code">SSH_MSG_CHANNEL_SUCCESS</code> and <code class="code">SSH_MSG_CHANNEL_FAILURE</code> values in <code><a href="https://tools.ietf.org/html/rfc4254#section-5.4">RFC 4254, Section 5.4</a></code>. </p> </div> </div> <h4><span onmouseover="document.getElementById('ghlink-SSH Connection Protocol: General-idm2952').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-SSH Connection Protocol: General-idm2952').style.visibility = 'hidden';">SSH Connection Protocol: General</span></h4> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-event').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-event').style.visibility = 'hidden';">  <code>event() = {ssh_cm, <span id="type-event"><a href="ssh#type-connection_ref">ssh:connection_ref()</a></span>, <span><a href="#type-channel_msg">channel_msg()</a></span>}</code><br> <code>channel_msg() = <br id="type-channel_msg">    <span><a href="#type-data_ch_msg">data_ch_msg()</a></span> |<br>    <span><a href="#type-eof_ch_msg">eof_ch_msg()</a></span> |<br>    <span><a href="#type-closed_ch_msg">closed_ch_msg()</a></span> |<br>    <span><a href="#type-pty_ch_msg">pty_ch_msg()</a></span> |<br>    <span><a href="#type-env_ch_msg">env_ch_msg()</a></span> |<br>    <span><a href="#type-shell_ch_msg">shell_ch_msg()</a></span> |<br>    <span><a href="#type-exec_ch_msg">exec_ch_msg()</a></span> |<br>    <span><a href="#type-signal_ch_msg">signal_ch_msg()</a></span> |<br>    <span><a href="#type-window_change_ch_msg">window_change_ch_msg()</a></span> |<br>    <span><a href="#type-exit_status_ch_msg">exit_status_ch_msg()</a></span> |<br>    <span><a href="#type-exit_signal_ch_msg">exit_signal_ch_msg()</a></span></code><br> </div> <div class="data-type-desc">

<p>As mentioned in the introduction, the <code><a href="https://tools.ietf.org/html/rfc4254">SSH Connection Protocol</a></code> events are handled as messages. When writing a channel handling process without using the support by the <code><a href="ssh_client_channel">ssh_client_channel</a></code> behavior the process must handle thoose messages. </p> </div> </div> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-want_reply').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-want_reply').style.visibility = 'hidden';">  <code id="type-want_reply">want_reply() = boolean()</code><br> </div> <div class="data-type-desc">

<p>Messages that include a <code class="code">WantReply</code> expect the channel handling process to call <code><a href="ssh_connection#reply_request-4"> ssh_connection:reply_request/4</a></code> with the boolean value of <code class="code">WantReply</code> as the second argument.</p> </div> </div> <h4><span onmouseover="document.getElementById('ghlink-Data Transfer (RFC 4254, section 5.2)-idm2967').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-Data Transfer (RFC 4254, section 5.2)-idm2967').style.visibility = 'hidden';">Data Transfer (RFC 4254, section 5.2)</span></h4> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-data_ch_msg').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-data_ch_msg').style.visibility = 'hidden';">  <code>data_ch_msg() = <br id="type-data_ch_msg">    {data,<br>     <span><a href="ssh#type-channel_id">ssh:channel_id()</a></span>,<br>     <span><a href="#type-ssh_data_type_code">ssh_data_type_code()</a></span>,<br>     Data :: binary()}</code><br> </div> <div class="data-type-desc">

<p>Data has arrived on the channel. This event is sent as a result of calling <code><a href="ssh_connection#send-3"> ssh_connection:send/[3,4,5]</a></code>. </p> </div> </div> <h4><span onmouseover="document.getElementById('ghlink-Closing a Channel (RFC 4254, section 5.3)-idm2973').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-Closing a Channel (RFC 4254, section 5.3)-idm2973').style.visibility = 'hidden';">Closing a Channel (RFC 4254, section 5.3)</span></h4> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-eof_ch_msg').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-eof_ch_msg').style.visibility = 'hidden';">  <code>eof_ch_msg() = {eof, <span id="type-eof_ch_msg"><a href="ssh#type-channel_id">ssh:channel_id()</a></span>}</code><br> </div> <div class="data-type-desc">

<p>Indicates that the other side sends no more data. This event is sent as a result of calling <code><a href="ssh_connection#send_eof-2"> ssh_connection:send_eof/2</a></code>. </p> </div> </div> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-closed_ch_msg').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-closed_ch_msg').style.visibility = 'hidden';">  <code>closed_ch_msg() = {closed, <span id="type-closed_ch_msg"><a href="ssh#type-channel_id">ssh:channel_id()</a></span>}</code><br> </div> <div class="data-type-desc">

<p>This event is sent as a result of calling <code><a href="ssh_connection#close-2">ssh_connection:close/2</a></code>. Both the handling of this event and sending it are taken care of by the <code><a href="ssh_client_channel">ssh_client_channel</a></code> behavior.</p> </div> </div> <h4><span onmouseover="document.getElementById('ghlink-Requesting a Pseudo-Terminal (RFC 4254, section 6.2)-idm2985').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-Requesting a Pseudo-Terminal (RFC 4254, section 6.2)-idm2985').style.visibility = 'hidden';">Requesting a Pseudo-Terminal (RFC 4254, section 6.2)</span></h4> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-pty_ch_msg').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-pty_ch_msg').style.visibility = 'hidden';">  <code>pty_ch_msg() = <br id="type-pty_ch_msg">    {pty,<br>     <span><a href="ssh#type-channel_id">ssh:channel_id()</a></span>,<br>     <span><a href="#type-want_reply">want_reply()</a></span>,<br>     {Terminal :: string(),<br>      CharWidth :: integer() &gt;= 0,<br>      RowHeight :: integer() &gt;= 0,<br>      PixelWidth :: integer() &gt;= 0,<br>      PixelHeight :: integer() &gt;= 0,<br>      TerminalModes :: [<span><a href="#type-term_mode">term_mode()</a></span>]}}</code><br> <code>term_mode() = <br id="type-term_mode">    {Opcode :: atom() | byte(), Value :: integer() &gt;= 0}</code><br> </div> <div class="data-type-desc">

<p>A pseudo-terminal has been requested for the session. <code class="code">Terminal</code> is the value of the TERM environment variable value, that is, <code class="code">vt100</code>. Zero dimension parameters must be ignored. The character/row dimensions override the pixel dimensions (when non-zero). Pixel dimensions refer to the drawable area of the window. <code class="code">Opcode</code> in the <code class="code">TerminalModes</code> list is the mnemonic name, represented as a lowercase Erlang atom, defined in <code><a href="https://tools.ietf.org/html/rfc4254#section/8">RFC 4254</a></code>, Section 8. It can also be an <code class="code">Opcode</code> if the mnemonic name is not listed in the RFC. Example: <code class="code">OP code: 53, mnemonic name ECHO erlang atom: echo</code>. This event is sent as a result of calling <code><a href="ssh_connection#ptty_alloc-4">ssh_connection:ptty_alloc/4</a></code>.</p> </div> </div> <h4><span onmouseover="document.getElementById('ghlink-Environment Variable Passing (RFC 4254, section 6.4)-idm2999').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-Environment Variable Passing (RFC 4254, section 6.4)-idm2999').style.visibility = 'hidden';">Environment Variable Passing (RFC 4254, section 6.4)</span></h4> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-env_ch_msg').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-env_ch_msg').style.visibility = 'hidden';">  <code>env_ch_msg() = <br id="type-env_ch_msg">    {env,<br>     <span><a href="ssh#type-channel_id">ssh:channel_id()</a></span>,<br>     <span><a href="#type-want_reply">want_reply()</a></span>,<br>     Var :: string(),<br>     Value :: string()}</code><br> </div> <div class="data-type-desc">

<p>Environment variables can be passed to the shell/command to be started later. This event is sent as a result of calling <code><a href="ssh_connection#setenv-5"> ssh_connection:setenv/5</a></code>. </p> </div> </div> <h4><span onmouseover="document.getElementById('ghlink-Starting a Shell or Command (RFC 4254, section 6.5)-idm3005').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-Starting a Shell or Command (RFC 4254, section 6.5)-idm3005').style.visibility = 'hidden';">Starting a Shell or Command (RFC 4254, section 6.5)</span></h4> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-shell_ch_msg').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-shell_ch_msg').style.visibility = 'hidden';">  <code>shell_ch_msg() = {shell, <span id="type-shell_ch_msg"><a href="ssh#type-channel_id">ssh:channel_id()</a></span>, <span><a href="#type-want_reply">want_reply()</a></span>}</code><br> </div> <div class="data-type-desc">

<p>This message requests that the user default shell is started at the other end. This event is sent as a result of calling <code><a href="ssh_connection#shell-2"> ssh_connection:shell/2</a></code>. </p> </div> </div> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-exec_ch_msg').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-exec_ch_msg').style.visibility = 'hidden';">  <code>exec_ch_msg() = <br id="type-exec_ch_msg">    {exec, <span><a href="ssh#type-channel_id">ssh:channel_id()</a></span>, <span><a href="#type-want_reply">want_reply()</a></span>, Command :: string()}</code><br> </div> <div class="data-type-desc">

<p>This message requests that the server starts execution of the given command. This event is sent as a result of calling <code><a href="ssh_connection#exec-4">ssh_connection:exec/4 </a></code>. </p> </div> </div> <h4><span onmouseover="document.getElementById('ghlink-Window Dimension Change Message (RFC 4254, section 6.7)-idm3016').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-Window Dimension Change Message (RFC 4254, section 6.7)-idm3016').style.visibility = 'hidden';">Window Dimension Change Message (RFC 4254, section 6.7)</span></h4> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-window_change_ch_msg').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-window_change_ch_msg').style.visibility = 'hidden';">  <code>window_change_ch_msg() = <br id="type-window_change_ch_msg">    {window_change,<br>     <span><a href="ssh#type-channel_id">ssh:channel_id()</a></span>,<br>     CharWidth :: integer() &gt;= 0,<br>     RowHeight :: integer() &gt;= 0,<br>     PixelWidth :: integer() &gt;= 0,<br>     PixelHeight :: integer() &gt;= 0}</code><br> </div> <div class="data-type-desc">

<p>When the window (terminal) size changes on the client side, it <strong>can</strong> send a message to the server side to inform it of the new dimensions. No API function generates this event.</p> </div> </div> <h4><span onmouseover="document.getElementById('ghlink-Signals (RFC 4254, section 6.9)-idm3022').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-Signals (RFC 4254, section 6.9)-idm3022').style.visibility = 'hidden';">Signals (RFC 4254, section 6.9)</span></h4> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-signal_ch_msg').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-signal_ch_msg').style.visibility = 'hidden';">  <code>signal_ch_msg() = <br id="type-signal_ch_msg">    {signal, <span><a href="ssh#type-channel_id">ssh:channel_id()</a></span>, SignalName :: string()}</code><br> </div> <div class="data-type-desc">

<p>A signal can be delivered to the remote process/service using the following message. Some systems do not support signals, in which case they are to ignore this message. There is currently no function to generate this event as the signals referred to are on OS-level and not something generated by an Erlang program.</p> </div> </div> <h4><span onmouseover="document.getElementById('ghlink-Returning Exit Status (RFC 4254, section 6.10)-idm3027').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-Returning Exit Status (RFC 4254, section 6.10)-idm3027').style.visibility = 'hidden';">Returning Exit Status (RFC 4254, section 6.10)</span></h4> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-exit_status_ch_msg').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-exit_status_ch_msg').style.visibility = 'hidden';">  <code>exit_status_ch_msg() = <br id="type-exit_status_ch_msg">    {exit_status,<br>     <span><a href="ssh#type-channel_id">ssh:channel_id()</a></span>,<br>     ExitStatus :: integer() &gt;= 0}</code><br> </div> <div class="data-type-desc">

<p>When the command running at the other end terminates, the following message can be sent to return the exit status of the command. A zero <code class="code">exit_status</code> usually means that the command terminated successfully. This event is sent as a result of calling <code><a href="ssh_connection#exit_status-3"> ssh_connection:exit_status/3</a></code>.</p> </div> </div> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-exit_signal_ch_msg').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-exit_signal_ch_msg').style.visibility = 'hidden';">  <code>exit_signal_ch_msg() = <br id="type-exit_signal_ch_msg">    {exit_signal,<br>     <span><a href="ssh#type-channel_id">ssh:channel_id()</a></span>,<br>     ExitSignal :: string(),<br>     ErrorMsg :: string(),<br>     LanguageString :: string()}</code><br> </div> <div class="data-type-desc">

<p>A remote execution can terminate violently because of a signal. Then this message can be received. For details on valid string values, see <code><a href="https://tools.ietf.org/html/rfc4254#section-6.10">RFC 4254</a></code> Section 6.10, which shows a special case of these signals.</p> </div> </div> </div> <div class="innertube"><h2><span onmouseover="document.getElementById('ghlink-exports-idm3039').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-exports-idm3039').style.visibility = 'hidden';">Exports</span></h2></div> <div class="exports-body"> <table class="func-table" id="adjust_window-3"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-adjust_window-3-idp22').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-adjust_window-3-idp22').style.visibility = 'hidden';"> adjust_window(ConnectionRef, ChannelId, NumOfBytes) -&gt; ok</div></td> <td class="func-since-td"></td> </tr></table>  <h2 class="func-types-title">Types</h2>     <div class="exports-tube">

<p>Adjusts the SSH flow control window. This is to be done by both the client- and server-side channel processes.</p> <div class="note"> <div class="label">Note</div> <div class="content">

<p>Channels implemented with the <code><a href="ssh_client_channel"> ssh_client_channel</a></code> behavior do not normally need to call this function as flow control is handled by the behavior. The behavior adjusts the window every time the callback <code><a href="ssh_client_channel#Module:handle_ssh_msg-2"> handle_ssh_msg/2</a></code> returns after processing channel data.</p>
</div> </div> </div> <table class="func-table" id="close-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-close-2-idp23').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-close-2-idp23').style.visibility = 'hidden';"> close(ConnectionRef, ChannelId) -&gt; ok</div></td> <td class="func-since-td"></td> </tr></table>  <h2 class="func-types-title">Types</h2>    <div class="exports-tube">

<p>A server- or client-channel process can choose to close their session by sending a close event. </p> <div class="note"> <div class="label">Note</div> <div class="content">

<p>This function is called by the <code class="code">ssh_client_channel</code> behavior when the channel is terminated, see <code><a href="ssh_client_channel"> ssh_client_channel(3)</a></code>. Thus, channels implemented with the behavior are not to call this function explicitly.</p>
</div> </div> </div> <table class="func-table" id="exec-4"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-exec-4-idp24').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-exec-4-idp24').style.visibility = 'hidden';"> exec(ConnectionRef, ChannelId, Command, Timeout) -&gt; <code><a href="#type-result">result()</a></code> </div></td> <td class="func-since-td"></td> </tr></table>  <h2 class="func-types-title">Types</h2>      <div class="exports-tube">

<p>Is to be called by a client-channel process to request that the server starts executing the given command. The result is several messages according to the following pattern. The last message is a channel close message, as the <code class="code">exec</code> request is a one-time execution that closes the channel when it is done.</p> <dl> <dt><strong>N x <code><a href="#type-data_ch_msg">data message(s)</a></code></strong></dt> <dd><p>The result of executing the command can be only one line or thousands of lines depending on the command.</p></dd> <dt><strong>0 or 1 x <code><a href="#type-eof_ch_msg">eof message</a></code></strong></dt> <dd><p>Indicates that no more data is to be sent.</p></dd> <dt><strong>0 or 1 x <code><a href="#type-exit_signal_ch_msg">exit signal message</a></code></strong></dt> <dd><p>Not all systems send signals. For details on valid string values, see RFC 4254, Section 6.10</p></dd> <dt><strong>0 or 1 x <code><a href="#type-exit_status_ch_msg">exit status message</a></code></strong></dt> <dd><p>It is recommended by the SSH Connection Protocol to send this message, but that is not always the case.</p></dd> <dt><strong>1 x <code><a href="#type-closed_ch_msg">closed status message</a></code></strong></dt> <dd><p>Indicates that the <code class="code">ssh_client_channel</code> started for the execution of the command has now been shut down.</p></dd> </dl> <p>See the User's Guide section on <code><a href="using_ssh#one-time-execution">One-Time Execution</a></code> for examples. </p> </div> <table class="func-table" id="exit_status-3"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-exit_status-3-idp25').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-exit_status-3-idp25').style.visibility = 'hidden';"> exit_status(ConnectionRef, ChannelId, Status) -&gt; ok</div></td> <td class="func-since-td"></td> </tr></table>  <h2 class="func-types-title">Types</h2>     <div class="exports-tube">

<p>Is to be called by a server-channel process to send the exit status of a command to the client.</p> </div> <table class="func-table" id="ptty_alloc-3"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-ptty_alloc-3-idp26').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-ptty_alloc-3-idp26').style.visibility = 'hidden';"> ptty_alloc(ConnectionRef, ChannelId, Options) -&gt; <code><a href="#type-result">result()</a></code> </div></td> <td class="func-since-td"><span class="since">OTP 17.5</span></td> </tr></table> <table class="func-table" id="ptty_alloc-4"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-ptty_alloc-4-idp27').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-ptty_alloc-4-idp27').style.visibility = 'hidden';"> ptty_alloc(ConnectionRef, ChannelId, Options, Timeout) -&gt; <code><a href="#type-result">result()</a></code> </div></td> <td class="func-since-td"><span class="since">OTP 17.4</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>      <div class="exports-tube">

<p>Sends an SSH Connection Protocol <code class="code">pty_req</code>, to allocate a pseudo-terminal. Is to be called by an SSH client process.</p> <p>Options:</p> <dl> <dt><strong>{term, string()}</strong></dt> <dd><p>Defaults to <strong>os:getenv("TERM")</strong> or <strong>vt100</strong> if it is undefined.</p></dd> <dt><strong>{width, integer()}</strong></dt> <dd><p>Defaults to 80 if <code class="code">pixel_width</code> is not defined.</p></dd> <dt><strong>{height, integer()}</strong></dt> <dd><p>Defaults to 24 if <code class="code">pixel_height</code> is not defined.</p></dd> <dt><strong>{pixel_width, integer()}</strong></dt> <dd><p>Is disregarded if <code class="code">width</code> is defined.</p></dd> <dt><strong>{pixel_height, integer()}</strong></dt> <dd><p>Is disregarded if <code class="code">height</code> is defined.</p></dd> <dt><strong>{pty_opts, [{posix_atom(), integer()}]}</strong></dt> <dd> <p>Option can be an empty list. Otherwise, see possible <strong>POSIX</strong> names in Section 8 in <code><a href="http://www.ietf.org/rfc/rfc4254.txt"> RFC 4254</a></code>.</p> </dd> </dl> </div> <table class="func-table" id="reply_request-4"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-reply_request-4-idp28').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-reply_request-4-idp28').style.visibility = 'hidden';"> reply_request(ConnectionRef, WantReply, Status, ChannelId) -&gt; ok</div></td> <td class="func-since-td"></td> </tr></table>  <h2 class="func-types-title">Types</h2>      <div class="exports-tube">

<p>Sends status replies to requests where the requester has stated that it wants a status report, that is, <code class="code">WantReply = true</code>. If <code class="code">WantReply</code> is <code class="code">false</code>, calling this function becomes a "noop". Is to be called while handling an SSH Connection Protocol message containing a <code class="code">WantReply</code> boolean value.</p> </div> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-send-3-idm3140').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-send-3-idm3140').style.visibility = 'hidden';" id="send-3">send(ConnectionRef, ChannelId, Data) -&gt;</span></div></td> <td class="func-since-td"></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-send-4-idm3141').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-send-4-idm3141').style.visibility = 'hidden';" id="send-4">send(ConnectionRef, ChannelId, Data, Timeout) -&gt;</span></div></td> <td class="func-since-td"></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-send-4-idm3142').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-send-4-idm3142').style.visibility = 'hidden';" id="send-4">send(ConnectionRef, ChannelId, Type, Data) -&gt;</span></div></td> <td class="func-since-td"></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-send-5-idm3143').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-send-5-idm3143').style.visibility = 'hidden';" id="send-5">send(ConnectionRef, ChannelId, Type, Data, TimeOut) -&gt; ok | Error</span></div></td> <td class="func-since-td"></td> </tr></table> <div class="exports-tube">  <h2 class="func-types-title">Types</h2>        
<p>Is to be called by client- and server-channel processes to send data to each other. </p> <p>The function <code>subsystem/4</code> and subsequent calls of <code class="code">send/3,4,5</code> must be executed in the same process. </p>  </div> <table class="func-table" id="send_eof-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-send_eof-2-idp29').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-send_eof-2-idp29').style.visibility = 'hidden';"> send_eof(ConnectionRef, ChannelId) -&gt; ok | {error, closed}</div></td> <td class="func-since-td"></td> </tr></table>  <h2 class="func-types-title">Types</h2>    <div class="exports-tube">

<p>Sends EOF on channel <code class="code">ChannelId</code>.</p> </div> <table class="func-table" id="session_channel-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-session_channel-2-idp30').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-session_channel-2-idp30').style.visibility = 'hidden';"> session_channel(ConnectionRef, Timeout) -&gt; Result</div></td> <td class="func-since-td"></td> </tr></table> <table class="func-table" id="session_channel-4"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-session_channel-4-idp31').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-session_channel-4-idp31').style.visibility = 'hidden';"> session_channel(ConnectionRef, InitialWindowSize, MaxPacketSize,<br> Timeout) -&gt;<br> Result</div></td> <td class="func-since-td"></td> </tr></table>  <h2 class="func-types-title">Types</h2>       <div class="exports-tube">

<p>Opens a channel for an SSH session. The channel id returned from this function is the id used as input to the other functions in this module.</p> </div> <table class="func-table" id="setenv-5"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-setenv-5-idp32').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-setenv-5-idp32').style.visibility = 'hidden';"> setenv(ConnectionRef, ChannelId, Var, Value, Timeout) -&gt; success</div></td> <td class="func-since-td"></td> </tr></table>  <h2 class="func-types-title">Types</h2>       <div class="exports-tube">

<p>Environment variables can be passed before starting the shell/command. Is to be called by a client channel processes.</p> </div> <table class="func-table" id="shell-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-shell-2-idp33').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-shell-2-idp33').style.visibility = 'hidden';"> shell(ConnectionRef, ChannelId) -&gt; Result</div></td> <td class="func-since-td"></td> </tr></table>  <h2 class="func-types-title">Types</h2>     <div class="exports-tube">

<p>Is to be called by a client channel process to request that the user default shell (typically defined in /etc/passwd in Unix systems) is executed at the server end.</p> <p>Note: the return value is <code class="code">ok</code> instead of <code class="code">success</code> unlike in other functions in this module. This is a fault that was introduced so long ago that any change would break a large number of existing software. </p> </div> <table class="func-table" id="subsystem-4"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-subsystem-4-idp34').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-subsystem-4-idp34').style.visibility = 'hidden';"> subsystem(ConnectionRef, ChannelId, Subsystem, Timeout) -&gt;<br> <code><a href="#type-result">result()</a></code> </div></td> <td class="func-since-td"></td> </tr></table>  <h2 class="func-types-title">Types</h2>      <div class="exports-tube">

<p>Is to be called by a client-channel process for requesting to execute a predefined subsystem on the server. </p> <p>The function <code class="code">subsystem/4</code> and subsequent calls of <code>send/3,4,5</code> must be executed in the same process. </p> </div> </div> <div class="footer"> <hr> <p>Copyright © 2005-2021 Ericsson AB. All Rights Reserved.</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2021 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>
