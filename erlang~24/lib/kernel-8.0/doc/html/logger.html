  <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-module-idm14031').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-idm14031').style.visibility = 'hidden';">Module</span></h2> <p class="REFBODY module-body">logger</p> </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-module-summary-idm14032').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-summary-idm14032').style.visibility = 'hidden';">Module Summary</span></h2> <p class="REFBODY module-summary-body">API module for Logger, the standard logging facility in Erlang/OTP.</p> <h2><span onmouseover="document.getElementById('ghlink-since-idm14032').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-since-idm14032').style.visibility = 'hidden';">Since</span></h2> <p class="REFBODY module-since"> Module logger was introduced in OTP 21.0. </p> </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-description-idm14033').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-description-idm14033').style.visibility = 'hidden';">Description</span></h2> 
<p>This module implements the main API for logging in Erlang/OTP. To create a log event, use the <code><a href="#logging_API">API functions</a></code> or the log <code><a href="#macros">macros</a></code>, for example:</p> <pre data-language="erlang">?LOG_ERROR("error happened because: ~p", [Reason]).   % With macro
logger:error("error happened because: ~p", [Reason]). % Without macro</pre> <p>To configure the Logger backend, use <code><span>Kernel configuration parameters</span></code> or <code><a href="#configuration_API">configuration functions</a></code> in the Logger API.</p> <p>By default, the Kernel application installs one log handler at system start. This handler is named <code class="code">default</code>. It receives and processes standard log events produced by the Erlang runtime system, standard behaviours and different Erlang/OTP applications. The log events are by default printed to the terminal.</p> <p>If you want your systems logs to be printed to a file instead, you must configure the default handler to do so. The simplest way is to include the following in your <code><a href="config"><span class="code">sys.config</span></a></code>:</p> <pre data-language="erlang">[{kernel,
  [{logger,
    [{handler, default, logger_std_h,
      #{config =&gt; #{file =&gt; "path/to/file.log"}}}]}]}].</pre> <p> For more information about: </p> <ul> <li>the Logger facility in general, see the <code><a href="logger_chapter">User's Guide</a></code>.</li> <li>how to configure Logger, see the <code><a href="logger_chapter#configuration">Configuration</a></code> section in the User's Guide.</li> <li>the built-in handlers, see <code><a href="logger_std_h">logger_std_h</a></code> and <code><a href="logger_disk_log_h">logger_disk_log_h</a></code>.</li> <li>the built-in formatter, see <code><a href="logger_formatter">logger_formatter</a></code>.</li> <li>built-in filters, see <code><a href="logger_filters">logger_filters</a></code>.</li> </ul> <div class="note"> <div class="label">Note</div> <div class="content">

<p>Since Logger is new in Erlang/OTP 21.0, we do reserve the right to introduce changes to the Logger API and functionality in patches following this release. These changes might or might not be backwards compatible with the initial version.</p> </div> </div>  </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-data-types-idm14062').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-data-types-idm14062').style.visibility = 'hidden';">Data Types</span></h2> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-filter').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-filter').style.visibility = 'hidden';">  <code>filter() = <br id="type-filter">    {fun((<span><a href="#type-log_event">log_event()</a></span>, <span><a href="#type-filter_arg">filter_arg()</a></span>) -&gt; <span><a href="#type-filter_return">filter_return()</a></span>),<br>     <span><a href="#type-filter_arg">filter_arg()</a></span>}</code><br> </div> <div class="data-type-desc">

<p>A filter which can be installed as a handler filter, or as a primary filter in Logger.</p> </div> </div> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-filter_arg').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-filter_arg').style.visibility = 'hidden';">  <code id="type-filter_arg">filter_arg() = term()</code><br> </div> <div class="data-type-desc">

<p>The second argument to the filter fun.</p> </div> </div> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-filter_id').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-filter_id').style.visibility = 'hidden';">  <code id="type-filter_id">filter_id() = atom()</code><br> </div> <div class="data-type-desc">

<p>A unique identifier for a filter.</p> </div> </div> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-filter_return').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-filter_return').style.visibility = 'hidden';">  <code>filter_return() = stop | ignore | <span id="type-filter_return"><a href="#type-log_event">log_event()</a></span></code><br> </div> <div class="data-type-desc">

<p>The return value from the filter fun.</p> </div> </div> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-formatter_config').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-formatter_config').style.visibility = 'hidden';">  <code id="type-formatter_config">formatter_config() = #{atom() =&gt; term()}</code><br> </div> <div class="data-type-desc">

<p>Configuration data for the formatter. See <code><a href="logger_formatter"> <span class="code">logger_formatter(3)</span></a></code> for an example of a formatter implementation.</p> </div> </div> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-handler_config').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-handler_config').style.visibility = 'hidden';">  <code>handler_config() = <br id="type-handler_config">    #{id =&gt; <span><a href="#type-handler_id">handler_id()</a></span>,<br>      config =&gt; term(),<br>      level =&gt; <span><a href="#type-level">level()</a></span> | all | none,<br>      module =&gt; module(),<br>      filter_default =&gt; log | stop,<br>      filters =&gt; [{<span><a href="#type-filter_id">filter_id()</a></span>, <span><a href="#type-filter">filter()</a></span>}],<br>      formatter =&gt; {module(), <span><a href="#type-formatter_config">formatter_config()</a></span>}}</code><br> </div> <div class="data-type-desc">

<p>Handler configuration data for Logger. The following default values apply:</p> <ul> <li><code class="code">level =&gt; all</code></li> <li><code class="code">filter_default =&gt; log</code></li> <li><code class="code">filters =&gt; []</code></li> <li> <code class="code">formatter =&gt; {logger_formatter, DefaultFormatterConfig</code>}</li> </ul> <p>In addition to these, the following fields are automatically inserted by Logger, values taken from the two first parameters to <code><a href="#add_handler-3"><span class="code">add_handler/3</span></a></code>:</p> <ul> <li><code class="code">id =&gt; HandlerId</code></li> <li><code class="code">module =&gt; Module</code></li> </ul> <p>These are read-only and cannot be changed in runtime.</p> <p>Handler specific configuration data is inserted by the handler callback itself, in a sub structure associated with the field named <code class="code">config</code>. See the <code><a href="logger_std_h"><span class="code">logger_std_h(3)</span></a></code> and <code><a href="logger_disk_log_h"><span class="code">logger_disk_log_h(3)</span></a></code> manual pages for information about the specific configuration for these handlers.</p> <p>See the <code><a href="logger_formatter#type-config"> <span class="code">logger_formatter(3)</span></a></code> manual page for information about the default configuration for this formatter.</p> </div> </div> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-handler_id').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-handler_id').style.visibility = 'hidden';">  <code id="type-handler_id">handler_id() = atom()</code><br> </div> <div class="data-type-desc">

<p>A unique identifier for a handler instance.</p> </div> </div> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-level').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-level').style.visibility = 'hidden';">  <code>level() = <br id="type-level">    emergency | alert | critical | error | warning | notice |<br>    info | debug</code><br> </div> <div class="data-type-desc">

<p>The severity level for the message to be logged.</p> </div> </div> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-log_event').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-log_event').style.visibility = 'hidden';">  <code>log_event() = <br id="type-log_event">    #{level := <span><a href="#type-level">level()</a></span>,<br>      msg :=<br>          {<span>io:format()</span>, [term()]} |<br>          {report, <span><a href="#type-report">report()</a></span>} |<br>          {string, <span>unicode:chardata()</span>},<br>      meta := <span><a href="#type-metadata">metadata()</a></span>}</code><br> </div>  </div> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-metadata').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-metadata').style.visibility = 'hidden';">  <code>metadata() = <br id="type-metadata">    #{pid =&gt; pid(),<br>      gl =&gt; pid(),<br>      time =&gt; <span><a href="#type-timestamp">timestamp()</a></span>,<br>      mfa =&gt; {module(), atom(), integer() &gt;= 0},<br>      file =&gt; <span>file:filename()</span>,<br>      line =&gt; integer() &gt;= 0,<br>      domain =&gt; [atom()],<br>      report_cb =&gt; <span><a href="#type-report_cb">report_cb()</a></span>,<br>      atom() =&gt; term()}</code><br> </div> <div class="data-type-desc">

<p>Metadata for the log event.</p> <p>Logger adds the following metadata to each log event:</p> <ul> <li><code class="code">pid =&gt; self()</code></li> <li><code class="code">gl =&gt; group_leader()</code></li> <li><code class="code">time =&gt; logger:timestamp()</code></li> </ul> <p>When a log macro is used, Logger also inserts location information:</p> <ul> <li><code class="code">mfa =&gt; {?MODULE, ?FUNCTION_NAME, ?FUNCTION_ARITY}</code></li> <li><code class="code">file =&gt; ?FILE</code></li> <li><code class="code">line =&gt; ?LINE</code></li> </ul> <p>You can add custom metadata, either by:</p> <ul> <li>specifying a map as the last parameter to any of the log macros or the logger API functions.</li> <li>setting process metadata with <code><a href="#set_process_metadata-1"> <span class="code">set_process_metadata/1</span></a></code> or <code><a href="#update_process_metadata-1"> <span class="code">update_process_metadata/1</span></a></code>.</li> <li>setting primary metadata with <code><a href="#set_primary_config-1"> <span class="code">set_primary_config/1</span></a></code> or through the kernel configuration parameter <code><span> logger_metadata</span></code> </li> </ul> <div class="note"> <div class="label">Note</div> <div class="content">

<p>When adding custom metadata, make sure not to use any of the keys mentioned above as that may cause a lot of confusion about the log events.</p> </div> </div> <p>Logger merges all the metadata maps before forwarding the log event to the handlers. If the same keys occur, values from the log call overwrite process metadata, which overwrites the primary metadata, which in turn overwrite values set by Logger.</p> <p>The following custom metadata keys have special meaning:</p> <dl> <dt><strong><code class="code">domain</code></strong></dt> <dd> <p>The value associated with this key is used by filters for grouping log events originating from, for example, specific functional areas. See <code><a href="logger_filters#domain-2"> <span class="code">logger_filters:domain/2</span></a></code> for a description of how this field can be used.</p> </dd> <dt><strong><code class="code">report_cb</code></strong></dt> <dd> <p>If the log message is specified as a <code><a href="#type-report"><span class="code">report()</span></a></code>, the <code class="code">report_cb</code> key can be associated with a fun (report callback) that converts the report to a format string and arguments, or directly to a string. See the type definition of <code><a href="#type-report_cb"><span class="code">report_cb()</span></a></code>, and section <code><a href="logger_chapter#log_message">Log Message</a></code> in the User's Guide for more information about report callbacks.</p> </dd> </dl> </div> </div> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-msg_fun').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-msg_fun').style.visibility = 'hidden';">  <code>msg_fun() = <br id="type-msg_fun">    fun((term()) -&gt;<br>            <span><a href="#type-msg_fun_return">msg_fun_return()</a></span> | {<span><a href="#type-msg_fun_return">msg_fun_return()</a></span>, <span><a href="#type-metadata">metadata()</a></span>})</code><br> </div>  </div> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-msg_fun_return').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-msg_fun_return').style.visibility = 'hidden';">  <code>msg_fun_return() = <br id="type-msg_fun_return">    {<span>io:format()</span>, [term()]} |<br>    <span><a href="#type-report">report()</a></span> |<br>    <span>unicode:chardata()</span> |<br>    ignore</code><br> </div>  </div> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-olp_config').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-olp_config').style.visibility = 'hidden';">  <code>olp_config() = <br id="type-olp_config">    #{sync_mode_qlen =&gt; integer() &gt;= 0,<br>      drop_mode_qlen =&gt; integer() &gt;= 1,<br>      flush_qlen =&gt; integer() &gt;= 1,<br>      burst_limit_enable =&gt; boolean(),<br>      burst_limit_max_count =&gt; integer() &gt;= 1,<br>      burst_limit_window_time =&gt; integer() &gt;= 1,<br>      overload_kill_enable =&gt; boolean(),<br>      overload_kill_qlen =&gt; integer() &gt;= 1,<br>      overload_kill_mem_size =&gt; integer() &gt;= 1,<br>      overload_kill_restart_after =&gt; integer() &gt;= 0 | infinity}</code><br> </div>  </div> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-primary_config').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-primary_config').style.visibility = 'hidden';">  <code>primary_config() = <br id="type-primary_config">    #{level =&gt; <span><a href="#type-level">level()</a></span> | all | none,<br>      metadata =&gt; <span><a href="#type-metadata">metadata()</a></span>,<br>      filter_default =&gt; log | stop,<br>      filters =&gt; [{<span><a href="#type-filter_id">filter_id()</a></span>, <span><a href="#type-filter">filter()</a></span>}]}</code><br> </div> <div class="data-type-desc">

<p>Primary configuration data for Logger. The following default values apply:</p> <ul> <li><code class="code">level =&gt; info</code></li> <li><code class="code">filter_default =&gt; log</code></li> <li><code class="code">filters =&gt; []</code></li> </ul> </div> </div> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-report').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-report').style.visibility = 'hidden';">  <code id="type-report">report() = map() | [{atom(), term()}]</code><br> </div>  </div> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-report_cb').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-report_cb').style.visibility = 'hidden';">  <code>report_cb() = <br id="type-report_cb">    fun((<span><a href="#type-report">report()</a></span>) -&gt; {<span>io:format()</span>, [term()]}) |<br>    fun((<span><a href="#type-report">report()</a></span>, <span><a href="#type-report_cb_config">report_cb_config()</a></span>) -&gt; <span>unicode:chardata()</span>)</code><br> </div> <div class="data-type-desc">

<p>A fun which converts a <code><a href="#type-report"><span class="code">report()</span> </a></code> to a format string and arguments, or directly to a string. See section <code><a href="logger_chapter#log_message">Log Message</a></code> in the User's Guide for more information.</p> </div> </div> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-report_cb_config').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-report_cb_config').style.visibility = 'hidden';">  <code>report_cb_config() = <br id="type-report_cb_config">    #{depth := integer() &gt;= 1 | unlimited,<br>      chars_limit := integer() &gt;= 1 | unlimited,<br>      single_line := boolean()}</code><br> </div>  </div> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-timestamp').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-timestamp').style.visibility = 'hidden';">  <code id="type-timestamp">timestamp() = integer()</code><br> </div> <div class="data-type-desc">

<p>A timestamp produced with <code><a href="#timestamp-0"> <span class="code">logger:timestamp()</span></a></code>.</p> </div> </div> </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-macros-idm14225').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-macros-idm14225').style.visibility = 'hidden';">Macros</span></h2>  <p>The following macros are defined in <code class="code">logger.hrl</code>, which is included in a module with the directive</p> <pre data-language="erlang">-include_lib("kernel/include/logger.hrl").</pre> <ul> <li><code class="code">?LOG_EMERGENCY(StringOrReport[,Metadata])</code></li> <li><code class="code">?LOG_EMERGENCY(FunOrFormat,Args[,Metadata])</code></li> <li><code class="code">?LOG_ALERT(StringOrReport[,Metadata])</code></li> <li><code class="code">?LOG_ALERT(FunOrFormat,Args[,Metadata])</code></li> <li><code class="code">?LOG_CRITICAL(StringOrReport[,Metadata])</code></li> <li><code class="code">?LOG_CRITICAL(FunOrFormat,Args[,Metadata])</code></li> <li><code class="code">?LOG_ERROR(StringOrReport[,Metadata])</code></li> <li><code class="code">?LOG_ERROR(FunOrFormat,Args[,Metadata])</code></li> <li><code class="code">?LOG_WARNING(StringOrReport[,Metadata])</code></li> <li><code class="code">?LOG_WARNING(FunOrFormat,Args[,Metadata])</code></li> <li><code class="code">?LOG_NOTICE(StringOrReport[,Metadata])</code></li> <li><code class="code">?LOG_NOTICE(FunOrFormat,Args[,Metadata])</code></li> <li><code class="code">?LOG_INFO(StringOrReport[,Metadata])</code></li> <li><code class="code">?LOG_INFO(FunOrFormat,Args[,Metadata])</code></li> <li><code class="code">?LOG_DEBUG(StringOrReport[,Metadata])</code></li> <li><code class="code">?LOG_DEBUG(FunOrFormat,Args[,Metadata])</code></li> <li><code class="code">?LOG(Level,StringOrReport[,Metadata])</code></li> <li><code class="code">?LOG(Level,FunOrFormat,Args[,Metadata])</code></li> </ul> <p>All macros expand to a call to Logger, where <code class="code">Level</code> is taken from the macro name, or from the first argument in the case of the <code class="code">?LOG</code> macro. Location data is added to the metadata as described under the <code><a href="#type-metadata"><span class="code">metadata()</span></a></code> type definition.</p> <p>The call is wrapped in a case statement and will be evaluated only if <code class="code">Level</code> is equal to or below the configured log level.</p>  </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-logging-api-functions-idm14275').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-logging-api-functions-idm14275').style.visibility = 'hidden';">Logging API functions</span></h2>  </div> <div class="innertube"><h2><span onmouseover="document.getElementById('ghlink-exports-idm14274').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-exports-idm14274').style.visibility = 'hidden';">Exports</span></h2></div> <div class="exports-body"> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-emergency-1-idm14279').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-emergency-1-idm14279').style.visibility = 'hidden';" id="emergency-1">emergency(StringOrReport[,Metadata])</span></div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-emergency-2-idm14280').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-emergency-2-idm14280').style.visibility = 'hidden';" id="emergency-2">emergency(Format,Args[,Metadata])</span></div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-emergency-2-idm14281').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-emergency-2-idm14281').style.visibility = 'hidden';" id="emergency-2">emergency(Fun,FunArgs[,Metadata])</span></div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <div class="exports-tube">

<p>Equivalent to <code><a href="#log-2"><span class="code">log(emergency,...)</span></a></code>.</p> </div> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-alert-1-idm14289').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-alert-1-idm14289').style.visibility = 'hidden';" id="alert-1">alert(StringOrReport[,Metadata])</span></div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-alert-2-idm14290').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-alert-2-idm14290').style.visibility = 'hidden';" id="alert-2">alert(Format,Args[,Metadata])</span></div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-alert-2-idm14291').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-alert-2-idm14291').style.visibility = 'hidden';" id="alert-2">alert(Fun,FunArgs[,Metadata])</span></div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <div class="exports-tube">

<p>Equivalent to <code><a href="#log-2"><span class="code">log(alert,...)</span></a></code>.</p> </div> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-critical-1-idm14299').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-critical-1-idm14299').style.visibility = 'hidden';" id="critical-1">critical(StringOrReport[,Metadata])</span></div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-critical-2-idm14300').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-critical-2-idm14300').style.visibility = 'hidden';" id="critical-2">critical(Format,Args[,Metadata])</span></div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-critical-2-idm14301').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-critical-2-idm14301').style.visibility = 'hidden';" id="critical-2">critical(Fun,FunArgs[,Metadata])</span></div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <div class="exports-tube">

<p>Equivalent to <code><a href="#log-2"><span class="code">log(critical,...)</span></a></code>.</p> </div> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-error-1-idm14309').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-error-1-idm14309').style.visibility = 'hidden';" id="error-1">error(StringOrReport[,Metadata])</span></div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-error-2-idm14310').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-error-2-idm14310').style.visibility = 'hidden';" id="error-2">error(Format,Args[,Metadata])</span></div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-error-2-idm14311').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-error-2-idm14311').style.visibility = 'hidden';" id="error-2">error(Fun,FunArgs[,Metadata])</span></div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <div class="exports-tube">

<p>Equivalent to <code><a href="#log-2"><span class="code">log(error,...)</span></a></code>.</p> </div> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-warning-1-idm14319').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-warning-1-idm14319').style.visibility = 'hidden';" id="warning-1">warning(StringOrReport[,Metadata])</span></div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-warning-2-idm14320').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-warning-2-idm14320').style.visibility = 'hidden';" id="warning-2">warning(Format,Args[,Metadata])</span></div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-warning-2-idm14321').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-warning-2-idm14321').style.visibility = 'hidden';" id="warning-2">warning(Fun,FunArgs[,Metadata])</span></div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <div class="exports-tube">

<p>Equivalent to <code><a href="#log-2"><span class="code">log(warning,...)</span></a></code>.</p> </div> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-notice-1-idm14329').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-notice-1-idm14329').style.visibility = 'hidden';" id="notice-1">notice(StringOrReport[,Metadata])</span></div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-notice-2-idm14330').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-notice-2-idm14330').style.visibility = 'hidden';" id="notice-2">notice(Format,Args[,Metadata])</span></div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-notice-2-idm14331').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-notice-2-idm14331').style.visibility = 'hidden';" id="notice-2">notice(Fun,FunArgs[,Metadata])</span></div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <div class="exports-tube">

<p>Equivalent to <code><a href="#log-2"><span class="code">log(notice,...)</span></a></code>.</p> </div> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-info-1-idm14339').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-info-1-idm14339').style.visibility = 'hidden';" id="info-1">info(StringOrReport[,Metadata])</span></div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-info-2-idm14340').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-info-2-idm14340').style.visibility = 'hidden';" id="info-2">info(Format,Args[,Metadata])</span></div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-info-2-idm14341').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-info-2-idm14341').style.visibility = 'hidden';" id="info-2">info(Fun,FunArgs[,Metadata])</span></div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <div class="exports-tube">

<p>Equivalent to <code><a href="#log-2"><span class="code">log(info,...)</span></a></code>.</p> </div> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-debug-1-idm14349').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-debug-1-idm14349').style.visibility = 'hidden';" id="debug-1">debug(StringOrReport[,Metadata])</span></div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-debug-2-idm14350').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-debug-2-idm14350').style.visibility = 'hidden';" id="debug-2">debug(Format,Args[,Metadata])</span></div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-debug-2-idm14351').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-debug-2-idm14351').style.visibility = 'hidden';" id="debug-2">debug(Fun,FunArgs[,Metadata])</span></div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <div class="exports-tube">

<p>Equivalent to <code><a href="#log-2"><span class="code">log(debug,...)</span></a></code>.</p> </div> <table class="func-table" id="log-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-log-2-idp386').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-log-2-idp386').style.visibility = 'hidden';"> log(Level, StringOrReport) -&gt; ok</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <table class="func-table" id="log-3"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-log-3-idp387').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-log-3-idp387').style.visibility = 'hidden';"> log(Level, StringOrReport, Metadata) -&gt; ok</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-log-3-idp388').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-log-3-idp388').style.visibility = 'hidden';"> log(Level, Format, Args) -&gt; ok</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-log-3-idp389').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-log-3-idp389').style.visibility = 'hidden';"> log(Level, Fun, FunArgs) -&gt; ok</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <table class="func-table" id="log-4"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-log-4-idp390').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-log-4-idp390').style.visibility = 'hidden';"> log(Level, Format, Args, Metadata) -&gt; ok</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-log-4-idp391').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-log-4-idp391').style.visibility = 'hidden';"> log(Level, Fun, FunArgs, Metadata) -&gt; ok</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>         <div class="exports-tube">

<p>Create a log event at the given <code><a href="logger_chapter#log_level">log level</a></code>, with the given <code><a href="logger_chapter#log_message">message</a></code> to be logged and <code><a href="logger_chapter#metadata"><strong>metadata</strong></a></code>. Examples:</p> <pre data-language="erlang">%% A plain string
logger:log(info, "Hello World").
%% A plain string with metadata
logger:log(debug, "Hello World", #{ meta =&gt; data }).
%% A format string with arguments
logger:log(warning, "The roof is on ~ts",[Cause]).
%% A report
logger:log(warning, #{ what =&gt; roof, cause =&gt; Cause }).</pre> <p>The message and metadata can either be given directly in the arguments, or returned from a fun. Passing a fun instead of the message/metadata directly is useful in scenarios when the message/metadata is very expensive to compute. This is because the fun is only evaluted when the message/metadata is actually needed, which may be not at all if the log event is not to be logged. Examples:</p> <pre data-language="erlang">%% A plain string with expensive metadata
logger:info(fun([]) -&gt; {"Hello World", #{ meta =&gt; expensive() }} end,[]).
%% An expensive report
logger:debug(fun(What) -&gt; #{ what =&gt; What, cause =&gt; expensive() } end,roof).
%% A plain string with expensive metadata and normal metadata
logger:debug(fun([]) -&gt; {"Hello World", #{ meta =&gt; expensive() }} end,[],
             #{ meta =&gt; data }).</pre> <p>When metadata is given both as an argument and returned from the fun they are merged. If equal keys exists the values are taken from the metadata returned by the fun.</p> </div> </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-configuration-api-functions-idm14384').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-configuration-api-functions-idm14384').style.visibility = 'hidden';">Configuration API functions</span></h2>  </div> <div class="innertube"><h2><span onmouseover="document.getElementById('ghlink-exports-idm14383').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-exports-idm14383').style.visibility = 'hidden';">Exports</span></h2></div> <div class="exports-body"> <table class="func-table" id="add_handler-3"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-add_handler-3-idp392').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-add_handler-3-idp392').style.visibility = 'hidden';"> add_handler(HandlerId, Module, Config) -&gt; ok | {error, term()}</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>     <div class="exports-tube">

<p>Add a handler with the given configuration.</p> <p><code class="code">HandlerId</code> is a unique identifier which must be used in all subsequent calls referring to this handler.</p> </div> <table class="func-table" id="add_handler_filter-3"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-add_handler_filter-3-idp393').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-add_handler_filter-3-idp393').style.visibility = 'hidden';"> add_handler_filter(HandlerId, FilterId, Filter) -&gt;<br> ok | {error, term()}</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>     <div class="exports-tube">

<p>Add a filter to the specified handler.</p> <p>The filter fun is called with the log event as the first parameter, and the specified <code class="code">filter_args()</code> as the second parameter.</p> <p>The return value of the fun specifies if a log event is to be discarded or forwarded to the handler callback:</p> <dl> <dt><strong><code class="code">log_event()</code></strong></dt> <dd> <p>The filter <strong>passed</strong>. The next handler filter, if any, is applied. If no more filters exist for this handler, the log event is forwarded to the handler callback.</p> </dd> <dt><strong><code class="code">stop</code></strong></dt> <dd> <p>The filter <strong>did not pass</strong>, and the log event is immediately discarded.</p> </dd> <dt><strong><code class="code">ignore</code></strong></dt> <dd> <p>The filter has no knowledge of the log event. The next handler filter, if any, is applied. If no more filters exist for this handler, the value of the <code class="code">filter_default</code> configuration parameter for the handler specifies if the log event shall be discarded or forwarded to the handler callback.</p> </dd> </dl> <p>See section <code><a href="logger_chapter#filters">Filters</a></code> in the User's Guide for more information about filters.</p> <p>Some built-in filters exist. These are defined in <code><a href="logger_filters"><span class="code">logger_filters(3)</span></a></code>.</p> </div> <table class="func-table" id="add_handlers-1"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-add_handlers-1-idp394').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-add_handlers-1-idp394').style.visibility = 'hidden';"> add_handlers(Application) -&gt; ok | {error, term()}</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>   <div class="exports-tube">

<p>Reads the application configuration parameter <code class="code">logger</code> and calls <code class="code">add_handlers/1</code> with its contents.</p> </div> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-add_handlers-1-idp395').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-add_handlers-1-idp395').style.visibility = 'hidden';"> add_handlers(HandlerConfig) -&gt; ok | {error, term()}</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>    <div class="exports-tube">

<p>This function should be used by custom Logger handlers to make configuration consistent no matter which handler the system uses. Normal usage is to add a call to <code class="code">logger:add_handlers/1</code> just after the processes that the handler needs are started, and pass the application's <code class="code">logger</code> configuration as the argument. For example:</p> <pre data-language="erlang">-behaviour(application).
start(_, []) -&gt;
    case supervisor:start_link({local, my_sup}, my_sup, []) of
        {ok, Pid} -&gt;
            ok = logger:add_handlers(my_app),
            {ok, Pid, []};
        Error -&gt; Error
     end.</pre> <p>This reads the <code class="code">logger</code> configuration parameter from the <code class="code">my_app</code> application and starts the configured handlers. The contents of the configuration use the same rules as the <code><a href="logger_chapter#handler-configuration">logger handler configuration</a></code>. </p> <p>If the handler is meant to replace the default handler, the Kernel's default handler have to be disabled before the new handler is added. A <code class="code">sys.config</code> file that disables the Kernel handler and adds a custom handler could look like this:</p> <pre data-language="erlang">[{kernel,
  [{logger,
    %% Disable the default Kernel handler
    [{handler, default, undefined}]}]},
 {my_app,
  [{logger,
    %% Enable this handler as the default
    [{handler, default, my_handler, #{}}]}]}].</pre> </div> <table class="func-table" id="add_primary_filter-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-add_primary_filter-2-idp396').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-add_primary_filter-2-idp396').style.visibility = 'hidden';"> add_primary_filter(FilterId, Filter) -&gt; ok | {error, term()}</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>    <div class="exports-tube">

<p>Add a primary filter to Logger.</p> <p>The filter fun is called with the log event as the first parameter, and the specified <code class="code">filter_args()</code> as the second parameter.</p> <p>The return value of the fun specifies if a log event is to be discarded or forwarded to the handlers:</p> <dl> <dt><strong><code class="code">log_event()</code></strong></dt> <dd> <p>The filter <strong>passed</strong>. The next primary filter, if any, is applied. If no more primary filters exist, the log event is forwarded to the handler part of Logger, where handler filters are applied.</p> </dd> <dt><strong><code class="code">stop</code></strong></dt> <dd> <p>The filter <strong>did not pass</strong>, and the log event is immediately discarded.</p> </dd> <dt><strong><code class="code">ignore</code></strong></dt> <dd> <p>The filter has no knowledge of the log event. The next primary filter, if any, is applied. If no more primary filters exist, the value of the primary <code class="code">filter_default</code> configuration parameter specifies if the log event shall be discarded or forwarded to the handler part.</p> </dd> </dl> <p>See section <code><a href="logger_chapter#filters"> Filters</a></code> in the User's Guide for more information about filters.</p> <p>Some built-in filters exist. These are defined in <code><a href="logger_filters"><span class="code">logger_filters(3)</span></a></code>.</p> </div> <table class="func-table" id="get_config-0"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-get_config-0-idp397').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-get_config-0-idp397').style.visibility = 'hidden';"> get_config() -&gt;<br> #{primary =&gt; <code><a href="#type-primary_config">primary_config()</a></code>,<br> handlers =&gt; [<code><a href="#type-handler_config">handler_config()</a></code>],<br> proxy =&gt; <code><a href="#type-olp_config">olp_config()</a></code>,<br> module_levels =&gt;<br> [{module(), <code><a href="#type-level">level()</a></code> | all | none}]}</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <div class="exports-tube">

<p>Look up all current Logger configuration, including primary, handler, and proxy configuration, and module level settings.</p> </div> <table class="func-table" id="get_handler_config-0"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-get_handler_config-0-idp398').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-get_handler_config-0-idp398').style.visibility = 'hidden';"> get_handler_config() -&gt; [Config]</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>   <div class="exports-tube">

<p>Look up the current configuration for all handlers.</p> </div> <table class="func-table" id="get_handler_config-1"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-get_handler_config-1-idp399').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-get_handler_config-1-idp399').style.visibility = 'hidden';"> get_handler_config(HandlerId) -&gt; {ok, Config} | {error, term()}</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>    <div class="exports-tube">

<p>Look up the current configuration for the given handler.</p> </div> <table class="func-table" id="get_handler_ids-0"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-get_handler_ids-0-idp400').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-get_handler_ids-0-idp400').style.visibility = 'hidden';"> get_handler_ids() -&gt; [HandlerId]</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>   <div class="exports-tube">

<p>Look up the identities for all installed handlers.</p> </div> <table class="func-table" id="get_primary_config-0"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-get_primary_config-0-idp401').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-get_primary_config-0-idp401').style.visibility = 'hidden';"> get_primary_config() -&gt; Config</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>   <div class="exports-tube">

<p>Look up the current primary configuration for Logger.</p> </div> <table class="func-table" id="get_proxy_config-0"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-get_proxy_config-0-idp402').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-get_proxy_config-0-idp402').style.visibility = 'hidden';"> get_proxy_config() -&gt; Config</div></td> <td class="func-since-td"><span class="since">OTP 21.3</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>   <div class="exports-tube">

<p>Look up the current configuration for the Logger proxy.</p> <p>For more information about the proxy, see section <code><a href="logger_chapter#proxy">Logger Proxy</a></code> in the Kernel User's Guide.</p> </div> <table class="func-table" id="get_module_level-0"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-get_module_level-0-idp403').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-get_module_level-0-idp403').style.visibility = 'hidden';"> get_module_level() -&gt; [{Module, Level}]</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>    <div class="exports-tube">

<p>Look up all current module levels. Returns a list containing one <code class="code">{Module,Level}</code> element for each module for which the module level was previously set with <code><a href="#set_module_level-2"> <span class="code">set_module_level/2</span></a></code>.</p> </div> <table class="func-table" id="get_module_level-1"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-get_module_level-1-idp404').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-get_module_level-1-idp404').style.visibility = 'hidden';"> get_module_level(Modules) -&gt; [{Module, Level}]</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>     <div class="exports-tube">

<p>Look up the current level for the given modules. Returns a list containing one <code class="code">{Module,Level}</code> element for each of the given modules for which the module level was previously set with <code><a href="#set_module_level-2"> <span class="code">set_module_level/2</span></a></code>.</p> </div> <table class="func-table" id="get_process_metadata-0"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-get_process_metadata-0-idp405').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-get_process_metadata-0-idp405').style.visibility = 'hidden';"> get_process_metadata() -&gt; Meta | undefined</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>   <div class="exports-tube">

<p>Retrieve data set with <code><a href="#set_process_metadata-1"> <span class="code">set_process_metadata/1</span></a></code> or <code><a href="#update_process_metadata-1"> <span class="code">update_process_metadata/1</span></a></code>.</p> </div> <table class="func-table" id="i-0"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-i-0-idp406').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-i-0-idp406').style.visibility = 'hidden';"> i() -&gt; ok</div></td> <td class="func-since-td"><span class="since">OTP 21.3</span></td> </tr></table> <table class="func-table" id="i-1"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-i-1-idp407').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-i-1-idp407').style.visibility = 'hidden';"> i(What) -&gt; ok</div></td> <td class="func-since-td"><span class="since">OTP 21.3</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>   <div class="exports-tube">

<p>Pretty print the Logger configuration.</p> </div> <table class="func-table" id="remove_handler-1"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-remove_handler-1-idp408').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-remove_handler-1-idp408').style.visibility = 'hidden';"> remove_handler(HandlerId) -&gt; ok | {error, term()}</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>   <div class="exports-tube">

<p>Remove the handler identified by <code class="code">HandlerId</code>.</p> </div> <table class="func-table" id="remove_handler_filter-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-remove_handler_filter-2-idp409').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-remove_handler_filter-2-idp409').style.visibility = 'hidden';"> remove_handler_filter(HandlerId, FilterId) -&gt; ok | {error, term()}</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>    <div class="exports-tube">

<p>Remove the filter identified by <code class="code">FilterId</code> from the handler identified by <code class="code">HandlerId</code>.</p> </div> <table class="func-table" id="remove_primary_filter-1"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-remove_primary_filter-1-idp410').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-remove_primary_filter-1-idp410').style.visibility = 'hidden';"> remove_primary_filter(FilterId) -&gt; ok | {error, term()}</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>   <div class="exports-tube">

<p>Remove the primary filter identified by <code class="code">FilterId</code> from Logger.</p> </div> <table class="func-table" id="set_application_level-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-set_application_level-2-idp411').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-set_application_level-2-idp411').style.visibility = 'hidden';"> set_application_level(Application, Level) -&gt;<br> ok | {error, not_loaded}</div></td> <td class="func-since-td"><span class="since">OTP 21.1</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>    <div class="exports-tube">

<p>Set the log level for all the modules of the specified application.</p> <p>This function is a convenience function that calls <code><a href="#set_module_level-2">logger:set_module_level/2</a></code> for each module associated with an application.</p> </div> <table class="func-table" id="set_handler_config-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-set_handler_config-2-idp412').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-set_handler_config-2-idp412').style.visibility = 'hidden';"> set_handler_config(HandlerId, Config) -&gt; ok | {error, term()}</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>    <div class="exports-tube">

<p>Set configuration data for the specified handler. This overwrites the current handler configuration.</p> <p>To modify the existing configuration, use <code><a href="#update_handler_config-2"> <span class="code">update_handler_config/2</span></a></code>, or, if a more complex merge is needed, read the current configuration with <code><a href="#get_handler_config-1"><span class="code">get_handler_config/1</span> </a></code>, then do the merge before writing the new configuration back with this function.</p> <p>If a key is removed compared to the current configuration, and the key is known by Logger, the default value is used. If it is a custom key, then it is up to the handler implementation if the value is removed or a default value is inserted.</p> </div> <table class="func-table" id="set_handler_config-3"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-set_handler_config-3-idp413').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-set_handler_config-3-idp413').style.visibility = 'hidden';"> set_handler_config(HandlerId, Key :: level, Level) -&gt; Return</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-set_handler_config-3-idp414').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-set_handler_config-3-idp414').style.visibility = 'hidden';"> set_handler_config(HandlerId,<br> Key :: filter_default,<br> FilterDefault) -&gt;<br> Return</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-set_handler_config-3-idp415').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-set_handler_config-3-idp415').style.visibility = 'hidden';"> set_handler_config(HandlerId, Key :: filters, Filters) -&gt; Return</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-set_handler_config-3-idp416').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-set_handler_config-3-idp416').style.visibility = 'hidden';"> set_handler_config(HandlerId, Key :: formatter, Formatter) -&gt;<br> Return</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-set_handler_config-3-idp417').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-set_handler_config-3-idp417').style.visibility = 'hidden';"> set_handler_config(HandlerId, Key :: config, Config) -&gt; Return</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>         <div class="exports-tube">

<p>Add or update configuration data for the specified handler. If the given <code class="code">Key</code> already exists, its associated value will be changed to the given value. If it does not exist, it will be added.</p> <p>If the value is incomplete, which for example can be the case for the <code class="code">config</code> key, it is up to the handler implementation how the unspecified parts are set. For all handlers in the Kernel application, unspecified data for the <code class="code">config</code> key is set to default values. To update only specified data, and keep the existing configuration for the rest, use <code><a href="#update_handler_config-3"> <span class="code">update_handler_config/3</span></a></code>.</p> <p>See the definition of the <code><a href="#type-handler_config"> <span class="code">handler_config()</span></a></code> type for more information about the different parameters.</p> </div> <table class="func-table" id="set_primary_config-1"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-set_primary_config-1-idp418').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-set_primary_config-1-idp418').style.visibility = 'hidden';"> set_primary_config(Config) -&gt; ok | {error, term()}</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>   <div class="exports-tube">

<p>Set primary configuration data for Logger. This overwrites the current configuration.</p> <p>To modify the existing configuration, use <code><a href="#update_primary_config-1"> <span class="code">update_primary_config/1</span></a></code>, or, if a more complex merge is needed, read the current configuration with <code><a href="#get_primary_config-0"><span class="code">get_primary_config/0</span> </a></code>, then do the merge before writing the new configuration back with this function.</p> <p>If a key is removed compared to the current configuration, the default value is used.</p> </div> <table class="func-table" id="set_primary_config-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-set_primary_config-2-idp419').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-set_primary_config-2-idp419').style.visibility = 'hidden';"> set_primary_config(Key :: level, Level) -&gt; ok | {error, term()}</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-set_primary_config-2-idp420').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-set_primary_config-2-idp420').style.visibility = 'hidden';"> set_primary_config(Key :: filter_default, FilterDefault) -&gt;<br> ok | {error, term()}</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-set_primary_config-2-idp421').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-set_primary_config-2-idp421').style.visibility = 'hidden';"> set_primary_config(Key :: filters, Filters) -&gt;<br> ok | {error, term()}</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-set_primary_config-2-idp422').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-set_primary_config-2-idp422').style.visibility = 'hidden';"> set_primary_config(Key :: metadata, Meta) -&gt; ok | {error, term()}</div></td> <td class="func-since-td"><span class="since">OTP 24.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>      <div class="exports-tube">

<p>Add or update primary configuration data for Logger. If the given <code class="code">Key</code> already exists, its associated value will be changed to the given value. If it does not exist, it will be added.</p> </div> <table class="func-table" id="set_proxy_config-1"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-set_proxy_config-1-idp423').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-set_proxy_config-1-idp423').style.visibility = 'hidden';"> set_proxy_config(Config) -&gt; ok | {error, term()}</div></td> <td class="func-since-td"><span class="since">OTP 21.3</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>   <div class="exports-tube">

<p>Set configuration data for the Logger proxy. This overwrites the current proxy configuration. Keys that are not specified in the <code class="code">Config</code> map gets default values.</p> <p>To modify the existing configuration, use <code><a href="#update_proxy_config-1"> <span class="code">update_proxy_config/1</span></a></code>, or, if a more complex merge is needed, read the current configuration with <code><a href="#get_proxy_config-0"><span class="code">get_proxy_config/0</span> </a></code>, then do the merge before writing the new configuration back with this function.</p> <p>For more information about the proxy, see section <code><a href="logger_chapter#proxy">Logger Proxy</a></code> in the Kernel User's Guide.</p> </div> <table class="func-table" id="set_module_level-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-set_module_level-2-idp424').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-set_module_level-2-idp424').style.visibility = 'hidden';"> set_module_level(Modules, Level) -&gt; ok | {error, term()}</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>    <div class="exports-tube">

<p>Set the log level for the specified modules.</p> <p>The log level for a module overrides the primary log level of Logger for log events originating from the module in question. Notice, however, that it does not override the level configuration for any handler.</p> <p>For example: Assume that the primary log level for Logger is <code class="code">info</code>, and there is one handler, <code class="code">h1</code>, with level <code class="code">info</code> and one handler, <code class="code">h2</code>, with level <code class="code">debug</code>.</p> <p>With this configuration, no debug messages will be logged, since they are all stopped by the primary log level.</p> <p>If the level for <code class="code">mymodule</code> is now set to <code class="code">debug</code>, then debug events from this module will be logged by the handler <code class="code">h2</code>, but not by handler <code class="code">h1</code>.</p> <p>Debug events from other modules are still not logged.</p> <p>To change the primary log level for Logger, use <code><a href="#set_primary_config-2"> <span class="code">set_primary_config(level, Level)</span></a></code>.</p> <p>To change the log level for a handler, use <code><a href="#set_handler_config-3"> <span class="code">set_handler_config(HandlerId, level, Level)</span> </a></code>.</p> <div class="note"> <div class="label">Note</div> <div class="content">

<p>The originating module for a log event is only detected if the key <code class="code">mfa</code> exists in the metadata, and is associated with <code class="code">{Module, Function, Arity}</code>. When log macros are used, this association is automatically added to all log events. If an API function is called directly, without using a macro, the logging client must explicitly add this information if module levels shall have any effect.</p> </div> </div> </div> <table class="func-table" id="set_process_metadata-1"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-set_process_metadata-1-idp425').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-set_process_metadata-1-idp425').style.visibility = 'hidden';"> set_process_metadata(Meta) -&gt; ok</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>   <div class="exports-tube">

<p>Set metadata which Logger shall automatically insert in all log events produced on the current process.</p> <p>Location data produced by the log macros, and/or metadata given as argument to the log call (API function or macro), are merged with the process metadata. If the same keys occur, values from the metadata argument to the log call overwrite values from the process metadata, which in turn overwrite values from the location data.</p> <p>Subsequent calls to this function overwrites previous data set. To update existing data instead of overwriting it, see <code><a href="#update_process_metadata-1"> <span class="code">update_process_metadata/1</span></a></code>.</p> </div> <table class="func-table" id="unset_application_level-1"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-unset_application_level-1-idp426').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-unset_application_level-1-idp426').style.visibility = 'hidden';"> unset_application_level(Application) -&gt;<br> ok | {error, {not_loaded, Application}}</div></td> <td class="func-since-td"><span class="since">OTP 21.1</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>   <div class="exports-tube">

<p>Unset the log level for all the modules of the specified application.</p> <p>This function is a utility function that calls <code><a href="#unset_module_level-1">logger:unset_module_level/2</a></code> for each module associated with an application.</p> </div> <table class="func-table" id="unset_module_level-0"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-unset_module_level-0-idp427').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-unset_module_level-0-idp427').style.visibility = 'hidden';"> unset_module_level() -&gt; ok</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <div class="exports-tube">

<p>Remove module specific log settings. After this, the primary log level is used for all modules.</p> </div> <table class="func-table" id="unset_module_level-1"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-unset_module_level-1-idp428').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-unset_module_level-1-idp428').style.visibility = 'hidden';"> unset_module_level(Modules) -&gt; ok</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>   <div class="exports-tube">

<p>Remove module specific log settings. After this, the primary log level is used for the specified modules.</p> </div> <table class="func-table" id="unset_process_metadata-0"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-unset_process_metadata-0-idp429').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-unset_process_metadata-0-idp429').style.visibility = 'hidden';"> unset_process_metadata() -&gt; ok</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <div class="exports-tube">

<p>Delete data set with <code><a href="#set_process_metadata-1"> <span class="code">set_process_metadata/1</span></a></code> or <code><a href="#update_process_metadata-1"> <span class="code">update_process_metadata/1</span></a></code>.</p> </div> <table class="func-table" id="update_formatter_config-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-update_formatter_config-2-idp430').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-update_formatter_config-2-idp430').style.visibility = 'hidden';"> update_formatter_config(HandlerId, FormatterConfig) -&gt;<br> ok | {error, term()}</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>    <div class="exports-tube">

<p>Update the formatter configuration for the specified handler.</p> <p>The new configuration is merged with the existing formatter configuration.</p> <p>To overwrite the existing configuration without any merge, use</p> <pre data-language="erlang">
<a href="#set_handler_config-3">set_handler_config(HandlerId, formatter, {FormatterModule, FormatterConfig})</a>.</pre> </div> <table class="func-table" id="update_formatter_config-3"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-update_formatter_config-3-idp431').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-update_formatter_config-3-idp431').style.visibility = 'hidden';"> update_formatter_config(HandlerId, Key, Value) -&gt;<br> ok | {error, term()}</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>     <div class="exports-tube">

<p>Update the formatter configuration for the specified handler.</p> <p>This is equivalent to</p> <pre data-language="erlang">
<a href="#update_formatter_config-2">update_formatter_config(HandlerId, #{Key =&gt; Value})</a></pre> </div> <table class="func-table" id="update_handler_config-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-update_handler_config-2-idp432').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-update_handler_config-2-idp432').style.visibility = 'hidden';"> update_handler_config(HandlerId, Config) -&gt; ok | {error, term()}</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>    <div class="exports-tube">

<p>Update configuration data for the specified handler. This function behaves as if it was implemented as follows:</p> <pre data-language="erlang">{ok, {_, Old}} = logger:get_handler_config(HandlerId),
logger:set_handler_config(HandlerId, maps:merge(Old, Config)).</pre> <p>To overwrite the existing configuration without any merge, use <code><a href="#set_handler_config-2"><span class="code">set_handler_config/2</span> </a></code>.</p> </div> <table class="func-table" id="update_handler_config-3"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-update_handler_config-3-idp433').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-update_handler_config-3-idp433').style.visibility = 'hidden';"> update_handler_config(HandlerId, Key :: level, Level) -&gt; Return</div></td> <td class="func-since-td"><span class="since">OTP 21.2</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-update_handler_config-3-idp434').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-update_handler_config-3-idp434').style.visibility = 'hidden';"> update_handler_config(HandlerId,<br> Key :: filter_default,<br> FilterDefault) -&gt;<br> Return</div></td> <td class="func-since-td"><span class="since">OTP 21.2</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-update_handler_config-3-idp435').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-update_handler_config-3-idp435').style.visibility = 'hidden';"> update_handler_config(HandlerId, Key :: filters, Filters) -&gt;<br> Return</div></td> <td class="func-since-td"><span class="since">OTP 21.2</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-update_handler_config-3-idp436').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-update_handler_config-3-idp436').style.visibility = 'hidden';"> update_handler_config(HandlerId, Key :: formatter, Formatter) -&gt;<br> Return</div></td> <td class="func-since-td"><span class="since">OTP 21.2</span></td> </tr></table> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-update_handler_config-3-idp437').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-update_handler_config-3-idp437').style.visibility = 'hidden';"> update_handler_config(HandlerId, Key :: config, Config) -&gt; Return</div></td> <td class="func-since-td"><span class="since">OTP 21.2</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>         <div class="exports-tube">

<p>Add or update configuration data for the specified handler. If the given <code class="code">Key</code> already exists, its associated value will be changed to the given value. If it does not exist, it will be added.</p> <p>If the value is incomplete, which for example can be the case for the <code class="code">config</code> key, it is up to the handler implementation how the unspecified parts are set. For all handlers in the Kernel application, unspecified data for the <code class="code">config</code> key is not changed. To reset unspecified data to default values, use <code><a href="#set_handler_config-3"> <span class="code">set_handler_config/3</span></a></code>.</p> <p>See the definition of the <code><a href="#type-handler_config"> <span class="code">handler_config()</span></a></code> type for more information about the different parameters.</p> </div> <table class="func-table" id="update_primary_config-1"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-update_primary_config-1-idp438').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-update_primary_config-1-idp438').style.visibility = 'hidden';"> update_primary_config(Config) -&gt; ok | {error, term()}</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>   <div class="exports-tube">

<p>Update primary configuration data for Logger. This function behaves as if it was implemented as follows:</p> <pre data-language="erlang">Old = logger:get_primary_config(),
logger:set_primary_config(maps:merge(Old, Config)).</pre> <p>To overwrite the existing configuration without any merge, use <code><a href="#set_primary_config-1"><span class="code">set_primary_config/1</span> </a></code>.</p> </div> <table class="func-table" id="update_process_metadata-1"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-update_process_metadata-1-idp439').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-update_process_metadata-1-idp439').style.visibility = 'hidden';"> update_process_metadata(Meta) -&gt; ok</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>   <div class="exports-tube">

<p>Set or update metadata to use when logging from current process</p> <p>If process metadata exists for the current process, this function behaves as if it was implemented as follows:</p> <pre data-language="erlang">logger:set_process_metadata(maps:merge(logger:get_process_metadata(), Meta)).</pre> <p>If no process metadata exists, the function behaves as <code><a href="#set_process_metadata-1"> <span class="code">set_process_metadata/1</span> </a></code>.</p> </div> <table class="func-table" id="update_proxy_config-1"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-update_proxy_config-1-idp440').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-update_proxy_config-1-idp440').style.visibility = 'hidden';"> update_proxy_config(Config) -&gt; ok | {error, term()}</div></td> <td class="func-since-td"><span class="since">OTP 21.3</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>   <div class="exports-tube">

<p>Update configuration data for the Logger proxy. This function behaves as if it was implemented as follows:</p> <pre data-language="erlang">Old = logger:get_proxy_config(),
logger:set_proxy_config(maps:merge(Old, Config)).</pre> <p>To overwrite the existing configuration without any merge, use <code><a href="#set_proxy_config-1"><span class="code">set_proxy_config/1</span> </a></code>.</p> <p>For more information about the proxy, see section <code><a href="logger_chapter#proxy">Logger Proxy</a></code> in the Kernel User's Guide.</p> </div> </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-miscellaneous-api-functions-idm14795').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-miscellaneous-api-functions-idm14795').style.visibility = 'hidden';">Miscellaneous API functions</span></h2>  </div> <div class="innertube"><h2><span onmouseover="document.getElementById('ghlink-exports-idm14794').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-exports-idm14794').style.visibility = 'hidden';">Exports</span></h2></div> <div class="exports-body"> <table class="func-table" id="compare_levels-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-compare_levels-2-idp441').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-compare_levels-2-idp441').style.visibility = 'hidden';"> compare_levels(Level1, Level2) -&gt; eq | gt | lt</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>    <div class="exports-tube">

<p>Compare the severity of two log levels. Returns <code class="code">gt</code> if <code class="code">Level1</code> is more severe than <code class="code">Level2</code>, <code class="code">lt</code> if <code class="code">Level1</code> is less severe, and <code class="code">eq</code> if the levels are equal.</p> </div> <table class="func-table" id="format_report-1"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-format_report-1-idp442').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-format_report-1-idp442').style.visibility = 'hidden';"> format_report(Report) -&gt; FormatArgs</div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>    <div class="exports-tube">

<p>Convert a log message on report form to <code class="code">{Format, Args}</code>. This is the default report callback used by <code><a href="logger_formatter"> <span class="code">logger_formatter(3)</span></a></code> when no custom report callback is found. See section <code><a href="logger_chapter#log_message">Log Message</a></code> in the Kernel User's Guide for information about report callbacks and valid forms of log messages.</p> <p>The function produces lines of <code class="code">Key: Value</code> from key-value lists. Strings are printed with <code class="code">~ts</code> and other terms with <code class="code">~tp</code>.</p> <p>If <code class="code">Report</code> is a map, it is converted to a key-value list before formatting as such.</p> </div> <table class="func-table" id="timestamp-0"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-timestamp-0-idp443').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-timestamp-0-idp443').style.visibility = 'hidden';"> timestamp() -&gt; <code><a href="#type-timestamp">timestamp()</a></code> </div></td> <td class="func-since-td"><span class="since">OTP 21.3</span></td> </tr></table> <div class="exports-tube">

<p>Return a timestamp that can be inserted as the <code class="code">time</code> field in the meta data for a log event. It is produced with <code> <span class="code">os:system_time(microsecond)</span></code>.</p> <p>Notice that Logger automatically inserts a timestamp in the meta data unless it already exists. This function is exported for the rare case when the timestamp must be taken at a different point in time than when the log event is issued.</p> </div> </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-handler-callback-functions-idm14835').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-handler-callback-functions-idm14835').style.visibility = 'hidden';">Handler Callback Functions</span></h2>   <p id="handler_callback_functions">The following functions are to be exported from a handler callback module.</p>  </div> <div class="innertube"><h2><span onmouseover="document.getElementById('ghlink-exports-idm14834').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-exports-idm14834').style.visibility = 'hidden';">Exports</span></h2></div> <div class="exports-body"> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-HModule:adding_handler-1-idm14840').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-HModule:adding_handler-1-idm14840').style.visibility = 'hidden';" id="HModule:adding_handler-1">HModule:adding_handler(Config1) -&gt; {ok, Config2} | {error, Reason}</span></div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <div class="exports-tube">  <h2 class="func-types-title">Types</h2>    
<p>This callback function is optional.</p> <p>The function is called on a temporary process when a new handler is about to be added. The purpose is to verify the configuration and initiate all resources needed by the handler.</p> <p>The handler identity is associated with the <code class="code">id</code> key in <code class="code">Config1</code>.</p> <p>If everything succeeds, the callback function can add possible default values or internal state values to the configuration, and return the adjusted map in <code class="code">{ok,Config2}</code>.</p> <p>If the configuration is faulty, or if the initiation fails, the callback function must return <code class="code">{error,Reason}</code>.</p>  </div> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-HModule:changing_config-3-idm14857').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-HModule:changing_config-3-idm14857').style.visibility = 'hidden';" id="HModule:changing_config-3">HModule:changing_config(SetOrUpdate, OldConfig, NewConfig) -&gt; {ok, Config} | {error, Reason}</span></div></td> <td class="func-since-td"><span class="since">OTP 21.2</span></td> </tr></table> <div class="exports-tube">  <h2 class="func-types-title">Types</h2>     
<p>This callback function is optional.</p> <p>The function is called on a temporary process when the configuration for a handler is about to change. The purpose is to verify and act on the new configuration.</p> <p><code class="code">OldConfig</code> is the existing configuration and <code class="code">NewConfig</code> is the new configuration.</p> <p>The handler identity is associated with the <code class="code">id</code> key in <code class="code">OldConfig</code>.</p> <p><code class="code">SetOrUpdate</code> has the value <code class="code">set</code> if the configuration change originates from a call to <code><a href="#set_handler_config-2"> <span class="code">set_handler_config/2,3</span></a></code>, and <code class="code">update</code> if it originates from <code><a href="#update_handler_config-2"> <span class="code">update_handler_config/2,3</span></a></code>. The handler can use this parameter to decide how to update the value of the <code class="code">config</code> field, that is, the handler specific configuration data. Typically, if <code class="code">SetOrUpdate</code> equals <code class="code">set</code>, values that are not specified must be given their default values. If <code class="code">SetOrUpdate</code> equals <code class="code">update</code>, the values found in <code class="code">OldConfig</code> must be used instead.</p> <p>If everything succeeds, the callback function must return a possibly adjusted configuration in <code class="code">{ok,Config}</code>.</p> <p>If the configuration is faulty, the callback function must return <code class="code">{error,Reason}</code>.</p>  </div> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-HModule:filter_config-1-idm14892').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-HModule:filter_config-1-idm14892').style.visibility = 'hidden';" id="HModule:filter_config-1">HModule:filter_config(Config) -&gt; FilteredConfig</span></div></td> <td class="func-since-td"><span class="since">OTP 21.2</span></td> </tr></table> <div class="exports-tube">  <h2 class="func-types-title">Types</h2>   
<p>This callback function is optional.</p> <p>The function is called when one of the Logger API functions for fetching the handler configuration is called, for example <code><a href="#get_handler_config-1"> <span class="code">logger:get_handler_config/1</span></a></code>.</p> <p>It allows the handler to remove internal data fields from its configuration data before it is returned to the caller.</p>  </div> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-HModule:log-2-idm14904').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-HModule:log-2-idm14904').style.visibility = 'hidden';" id="HModule:log-2">HModule:log(LogEvent, Config) -&gt; void()</span></div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <div class="exports-tube">  <h2 class="func-types-title">Types</h2>    
<p>This callback function is mandatory.</p> <p>The function is called when all primary filters and all handler filters for the handler in question have passed for the given log event. It is called on the client process, that is, the process that issued the log event.</p> <p>The handler identity is associated with the <code class="code">id</code> key in <code class="code">Config</code>.</p> <p>The handler must log the event.</p> <p>The return value from this function is ignored by Logger.</p>  </div> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-HModule:removing_handler-1-idm14920').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-HModule:removing_handler-1-idm14920').style.visibility = 'hidden';" id="HModule:removing_handler-1">HModule:removing_handler(Config) -&gt; ok</span></div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <div class="exports-tube">  <h2 class="func-types-title">Types</h2>   
<p>This callback function is optional.</p> <p>The function is called on a temporary process when a handler is about to be removed. The purpose is to release all resources used by the handler.</p> <p>The handler identity is associated with the <code class="code">id</code> key in <code class="code">Config</code>.</p> <p>The return value is ignored by Logger.</p>  </div> </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-formatter-callback-functions-idm14933').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-formatter-callback-functions-idm14933').style.visibility = 'hidden';">Formatter Callback Functions</span></h2>   <p id="formatter_callback_functions">The following functions are to be exported from a formatter callback module.</p>  </div> <div class="innertube"><h2><span onmouseover="document.getElementById('ghlink-exports-idm14932').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-exports-idm14932').style.visibility = 'hidden';">Exports</span></h2></div> <div class="exports-body"> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-FModule:check_config-1-idm14938').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-FModule:check_config-1-idm14938').style.visibility = 'hidden';" id="FModule:check_config-1">FModule:check_config(FConfig) -&gt; ok | {error, Reason}</span></div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <div class="exports-tube">  <h2 class="func-types-title">Types</h2>    
<p>This callback function is optional.</p> <p>The function is called by a Logger when formatter configuration is set or modified. The formatter must validate the given configuration and return <code class="code">ok</code> if it is correct, and <code class="code">{error,Reason}</code> if it is faulty.</p> <p>The following Logger API functions can trigger this callback:</p> <ul> <li><code><a href="logger#add_handler-3"> <span class="code">logger:add_handler/3</span></a></code></li> <li><code><a href="logger#set_handler_config-2"> <span class="code">logger:set_handler_config/2,3</span></a></code></li> <li><code><a href="logger#update_handler_config-2"> <span class="code">logger:update_handler_config/2,3</span></a></code></li> <li><code><a href="logger#update_formatter_config-2"> <span class="code">logger:update_formatter_config/2</span></a></code></li> </ul> <p>See <code><a href="logger_formatter"> <span class="code">logger_formatter(3)</span></a></code> for an example implementation. <code class="code">logger_formatter</code> is the default formatter used by Logger.</p>  </div> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-FModule:format-2-idm14968').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-FModule:format-2-idm14968').style.visibility = 'hidden';" id="FModule:format-2">FModule:format(LogEvent, FConfig) -&gt; FormattedLogEntry</span></div></td> <td class="func-since-td"><span class="since">OTP 21.0</span></td> </tr></table> <div class="exports-tube">  <h2 class="func-types-title">Types</h2>     
<p>This callback function is mandatory.</p> <p>The function can be called by a log handler to convert a log event term to a printable string. The returned value can, for example, be printed as a log entry to the console or a file using <code> <span class="code">io:put_chars/1,2</span></code>.</p> <p>See <code><a href="logger_formatter"> <span class="code">logger_formatter(3)</span></a></code> for an example implementation. <code class="code">logger_formatter</code> is the default formatter used by Logger.</p>  </div> </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-see-also-idm14986').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-see-also-idm14986').style.visibility = 'hidden';">See Also</span></h2>  <p> <code><a href="config"><span class="code">config(4)</span></a></code>, <code><span class="code">erlang(3)</span></code>, <code><span class="code">io(3)</span></code>, <code><a href="logger_disk_log_h"><span class="code">logger_disk_log_h(3)</span></a></code>, <code><a href="logger_filters"><span class="code">logger_filters(3)</span></a></code>, <code><a href="logger_formatter"><span class="code">logger_formatter(3)</span></a></code>, <code><a href="logger_std_h"><span class="code">logger_std_h(3)</span></a></code>, <code><span class="code">unicode(3)</span></code> </p>  </div> <div class="footer"> <hr> <p>Copyright © 1997-2021 Ericsson AB. All Rights Reserved.</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2021 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>
