  <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-module-idm11913').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-idm11913').style.visibility = 'hidden';">Module</span></h2> <p class="REFBODY module-body">global_group</p> </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-module-summary-idm11914').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-summary-idm11914').style.visibility = 'hidden';">Module Summary</span></h2> <p class="REFBODY module-summary-body">Grouping nodes to global name registration groups.</p> </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-description-idm11915').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-description-idm11915').style.visibility = 'hidden';">Description</span></h2> 
<p>This module makes it possible to partition the nodes of a system into <strong>global groups</strong>. Each global group has its own global namespace, see <code><a href="global"> <span class="code">global(3)</span></a></code>.</p> <p>The main advantage of dividing systems into global groups is that the background load decreases while the number of nodes to be updated is reduced when manipulating globally registered names.</p> <p>The Kernel configuration parameter <code class="code">global_groups</code> defines the global groups (see also <code><span><span class="code">kernel(6)</span></span></code> and <code><a href="config"><span class="code">config(4)</span></a></code>):</p> <pre data-language="erlang">{global_groups, [GroupTuple :: group_tuple()]}</pre> <p>For the processes and nodes to run smoothly using the global group functionality, the following criteria must be met:</p> <ul> <li> <p>An instance of the global group server, <code class="code">global_group</code>, must be running on each node. The processes are automatically started and synchronized when a node is started.</p> </li> <li> <p>All involved nodes must agree on the global group definition, otherwise the behavior of the system is undefined.</p> </li> <li> <p><strong>All</strong> nodes in the system must belong to exactly one global group.</p> </li> </ul> <p>In the following descriptions, a <strong>group node</strong> is a node belonging to the same global group as the local node.</p>  </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-data-types-idm11940').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-data-types-idm11940').style.visibility = 'hidden';">Data Types</span></h2> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-group_tuple').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-group_tuple').style.visibility = 'hidden';">  <code>group_tuple() = <br id="type-group_tuple">    {GroupName :: <span><a href="#type-group_name">group_name()</a></span>, [node()]} |<br>    {GroupName :: <span><a href="#type-group_name">group_name()</a></span>,<br>     PublishType :: <span><a href="#type-publish_type">publish_type()</a></span>,<br>     [node()]}</code><br> </div> <div class="data-type-desc">

<p>A <code class="code">GroupTuple</code> without <code class="code">PublishType</code> is the same as a <code class="code">GroupTuple</code> with <code class="code">PublishType</code> equal to <code class="code">normal</code>. </p> </div> </div> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-group_name').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-group_name').style.visibility = 'hidden';">  <code id="type-group_name">group_name() = atom()</code><br> </div>  </div> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-publish_type').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-publish_type').style.visibility = 'hidden';">  <code id="type-publish_type">publish_type() = hidden | normal</code><br> </div> <div class="data-type-desc">

<p>A node started with command-line flag <code class="code">-hidden</code> (see <code><span class="code">erl(1)</span></code>) is said to be a <strong>hidden</strong> node. A hidden node establishes hidden connections to nodes not part of the same global group, but normal (visible) connections to nodes part of the same global group.</p> <p>A global group defined with <code class="code">PublishType</code> equal to <code class="code">hidden</code> is said to be a hidden global group. All nodes in a hidden global group are hidden nodes, whether they are started with command-line flag <code class="code">-hidden</code> or not.</p> </div> </div> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-name').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-name').style.visibility = 'hidden';">  <code id="type-name">name() = atom()</code><br> </div> <div class="data-type-desc">

<p>A registered name.</p>
</div> </div> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-where').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-where').style.visibility = 'hidden';">  <code>where() = {node, node()} | {group, <span id="type-where"><a href="#type-group_name">group_name()</a></span>}</code><br> </div>  </div> </div> <div class="innertube"><h2><span onmouseover="document.getElementById('ghlink-exports-idm11970').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-exports-idm11970').style.visibility = 'hidden';">Exports</span></h2></div> <div class="exports-body"> <table class="func-table" id="global_groups-0"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-global_groups-0-idp315').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-global_groups-0-idp315').style.visibility = 'hidden';"> global_groups() -&gt; {GroupName, GroupNames} | undefined</div></td> <td class="func-since-td"></td> </tr></table>  <h2 class="func-types-title">Types</h2>    <div class="exports-tube">

<p>Returns a tuple containing the name of the global group that the local node belongs to, and the list of all other known group names. Returns <code class="code">undefined</code> if no global groups are defined.</p> </div> <table class="func-table" id="info-0"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-info-0-idp316').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-info-0-idp316').style.visibility = 'hidden';"> info() -&gt; [info_item()]</div></td> <td class="func-since-td"></td> </tr></table>  <h2 class="func-types-title">Types</h2>    <div class="exports-tube">

<p>Returns a list containing information about the global groups. Each list element is a tuple. The order of the tuples is undefined.</p> <dl> <dt><strong><code class="code">{state, State}</code></strong></dt> <dd> <p>If the local node is part of a global group, <code class="code">State</code> is equal to <code class="code">synced</code>. If no global groups are defined, <code class="code">State</code> is equal to <code class="code">no_conf</code>.</p> </dd> <dt><strong><code class="code">{own_group_name, GroupName}</code></strong></dt> <dd> <p>The name (atom) of the group that the local node belongs to.</p> </dd> <dt><strong><code class="code">{own_group_nodes, Nodes}</code></strong></dt> <dd> <p>A list of node names (atoms), the group nodes.</p> </dd> <dt><strong><code class="code">{synced_nodes, Nodes}</code></strong></dt> <dd> <p>A list of node names, the group nodes currently synchronized with the local node.</p> </dd> <dt><strong><code class="code">{sync_error, Nodes}</code></strong></dt> <dd> <p>A list of node names, the group nodes with which the local node has failed to synchronize.</p> </dd> <dt><strong><code class="code">{no_contact, Nodes}</code></strong></dt> <dd> <p>A list of node names, the group nodes to which there are currently no connections.</p> </dd> <dt><strong><code class="code">{other_groups, Groups}</code></strong></dt> <dd> <p><code class="code">Groups</code> is a list of tuples <code class="code">{GroupName, Nodes}</code>, specifying the name and nodes of the other global groups.</p> </dd> <dt><strong><code class="code">{monitoring, Pids}</code></strong></dt> <dd> <p>A list of pids, specifying the processes that have subscribed to <code class="code">nodeup</code> and <code class="code">nodedown</code> messages.</p> </dd> </dl> </div> <table class="func-table" id="monitor_nodes-1"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-monitor_nodes-1-idp317').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-monitor_nodes-1-idp317').style.visibility = 'hidden';"> monitor_nodes(Flag) -&gt; ok</div></td> <td class="func-since-td"></td> </tr></table>  <h2 class="func-types-title">Types</h2>   <div class="exports-tube">

<p>Depending on <code class="code">Flag</code>, the calling process starts subscribing (<code class="code">Flag</code> equal to <code class="code">true</code>) or stops subscribing (<code class="code">Flag</code> equal to <code class="code">false</code>) to node status change messages.</p> <p>A process that has subscribed receives the messages <code class="code">{nodeup, Node}</code> and <code class="code">{nodedown, Node}</code> when a group node connects or disconnects, respectively.</p> </div> <table class="func-table" id="own_nodes-0"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-own_nodes-0-idp318').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-own_nodes-0-idp318').style.visibility = 'hidden';"> own_nodes() -&gt; Nodes</div></td> <td class="func-since-td"></td> </tr></table>  <h2 class="func-types-title">Types</h2>   <div class="exports-tube">

<p>Returns the names of all group nodes, regardless of their current status.</p> </div> <table class="func-table" id="registered_names-1"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-registered_names-1-idp319').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-registered_names-1-idp319').style.visibility = 'hidden';"> registered_names(Where) -&gt; Names</div></td> <td class="func-since-td"></td> </tr></table>  <h2 class="func-types-title">Types</h2>    <div class="exports-tube">

<p>Returns a list of all names that are globally registered on the specified node or in the specified global group.</p> </div> <table class="func-table" id="send-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-send-2-idp320').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-send-2-idp320').style.visibility = 'hidden';"> send(Name, Msg) -&gt; pid() | {badarg, {Name, Msg}}</div></td> <td class="func-since-td"></td> </tr></table> <table class="func-table" id="send-3"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-send-3-idp321').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-send-3-idp321').style.visibility = 'hidden';"> send(Where, Name, Msg) -&gt; pid() | {badarg, {Name, Msg}}</div></td> <td class="func-since-td"></td> </tr></table>  <h2 class="func-types-title">Types</h2>     <div class="exports-tube">

<p>Searches for <code class="code">Name</code>, globally registered on the specified node or in the specified global group, or (if argument <code class="code">Where</code> is not provided) in any global group. The global groups are searched in the order that they appear in the value of configuration parameter <code class="code">global_groups</code>.</p> <p>If <code class="code">Name</code> is found, message <code class="code">Msg</code> is sent to the corresponding pid. The pid is also the return value of the function. If the name is not found, the function returns <code class="code">{badarg, {Name, Msg}}</code>.</p> </div> <table class="func-table" id="sync-0"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-sync-0-idp322').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-sync-0-idp322').style.visibility = 'hidden';"> sync() -&gt; ok</div></td> <td class="func-since-td"></td> </tr></table> <div class="exports-tube">

<p>Synchronizes the group nodes, that is, the global name servers on the group nodes. Also checks the names globally registered in the current global group and unregisters them on any known node not part of the group.</p> <p>If synchronization is not possible, an error report is sent to the error logger (see also <code><a href="error_logger"><span class="code">error_logger(3)</span></a></code>. </p> <p>Returns <code class="code">{error, {'invalid global_groups definition', Bad}}</code> if configuration parameter <code class="code">global_groups</code> has an invalid value <code class="code">Bad</code>.</p> </div> <table class="func-table" id="whereis_name-1"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-whereis_name-1-idp323').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-whereis_name-1-idp323').style.visibility = 'hidden';"> whereis_name(Name) -&gt; pid() | undefined</div></td> <td class="func-since-td"></td> </tr></table> <table class="func-table" id="whereis_name-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-whereis_name-2-idp324').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-whereis_name-2-idp324').style.visibility = 'hidden';"> whereis_name(Where, Name) -&gt; pid() | undefined</div></td> <td class="func-since-td"></td> </tr></table>  <h2 class="func-types-title">Types</h2>    <div class="exports-tube">

<p>Searches for <code class="code">Name</code>, globally registered on the specified node or in the specified global group, or (if argument <code class="code">Where</code> is not provided) in any global group. The global groups are searched in the order that they appear in the value of configuration parameter <code class="code">global_groups</code>.</p> <p>If <code class="code">Name</code> is found, the corresponding pid is returned. If the name is not found, the function returns <code class="code">undefined</code>.</p> </div> </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-notes-idm12110').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-notes-idm12110').style.visibility = 'hidden';">Notes</span></h2>  <ul> <li><p>In the situation where a node has lost its connections to other nodes in its global group, but has connections to nodes in other global groups, a request from another global group can produce an incorrect or misleading result. For example, the isolated node can have inaccurate information about registered names in its global group.</p></li> <li><p>Function <code><a href="#send-2"><span class="code">send/2,3</span></a></code> is not secure.</p></li> <li><p>Distribution of applications is highly dependent of the global group definitions. It is not recommended that an application is distributed over many global groups, as the registered names can be moved to another global group at failover/takeover. Nothing prevents this to be done, but the application code must then handle the situation.</p></li> </ul>  </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-see-also-idm12121').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-see-also-idm12121').style.visibility = 'hidden';">See Also</span></h2>  <p><code><a href="global"><span class="code">global(3)</span></a></code>, <code><span class="code">erl(1)</span></code></p>  </div> <div class="footer"> <hr> <p>Copyright © 1997-2021 Ericsson AB. All Rights Reserved.</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2021 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>
