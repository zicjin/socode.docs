  <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-module-idm6615').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-idm6615').style.visibility = 'hidden';">Module</span></h2> <p class="REFBODY module-body">erpc</p> </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-module-summary-idm6616').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-summary-idm6616').style.visibility = 'hidden';">Module Summary</span></h2> <p class="REFBODY module-summary-body">Enhanced Remote Procedure Call</p> <h2><span onmouseover="document.getElementById('ghlink-since-idm6616').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-since-idm6616').style.visibility = 'hidden';">Since</span></h2> <p class="REFBODY module-since"> Module erpc was introduced in OTP 23.0. </p> </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-description-idm6617').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-description-idm6617').style.visibility = 'hidden';">Description</span></h2> 
<p> This module provide services similar to Remote Procedure Calls. A remote procedure call is a method to call a function on a remote node and collect the answer. It is used for collecting information on a remote node, or for running a function with some specific side effects on the remote node. </p> <p> This is an enhanced subset of the operations provided by the <code><a href="rpc"><span class="code">rpc</span></a></code> module. Enhanced in the sense that it makes it possible to distinguish between returned value, raised exceptions, and other errors. <code class="code">erpc</code> also has better performance and scalability than the original <code class="code">rpc</code> implementation. However, current <code class="code">rpc</code> module will utilize <code class="code">erpc</code> in order to also provide these properties when possible. </p> <p> In order for an <code class="code">erpc</code> operation to succeed, the remote node also needs to support <code class="code">erpc</code>. Typically only ordinary Erlang nodes as of OTP 23 have <code class="code">erpc</code> support. </p> <p> Note that it is up to the user to ensure that correct code to execute via <code class="code">erpc</code> is available on the involved nodes. </p>  </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-data-types-idm6632').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-data-types-idm6632').style.visibility = 'hidden';">Data Types</span></h2> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-request_id').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-request_id').style.visibility = 'hidden';">  <code id="type-request_id">request_id()</code><br> </div> <div class="data-type-desc">

<p> An opaque type of call request identifiers. For more information see <code><a href="#send_request-4"><span class="code">send_request/4</span></a></code>. </p> </div> </div> </div> <div class="innertube"><h2><span onmouseover="document.getElementById('ghlink-exports-idm6639').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-exports-idm6639').style.visibility = 'hidden';">Exports</span></h2></div> <div class="exports-body"> <table class="func-table" id="call-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-call-2-idp147').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-call-2-idp147').style.visibility = 'hidden';"> call(Node, Fun) -&gt; Result</div></td> <td class="func-since-td"><span class="since">OTP 23.0</span></td> </tr></table> <table class="func-table" id="call-3"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-call-3-idp148').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-call-3-idp148').style.visibility = 'hidden';"> call(Node, Fun, Timeout) -&gt; Result</div></td> <td class="func-since-td"><span class="since">OTP 23.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>      <div class="exports-tube">

<p> The same as calling <code><a href="#call-5"><span class="code">erpc:call(Node,erlang,apply,[Fun,[]],Timeout)</span></a></code>. May raise all the same exceptions as <code class="code">erpc:call/5</code> plus an <code class="code">{erpc, badarg}</code> <code class="code">error</code> exception if <code class="code">Fun</code> is not a fun of zero arity. </p> <p> The call <code class="code">erpc:call(Node,Fun)</code> is the same as the call <code class="code">erpc:call(Node,Fun,infinity)</code>. </p> </div> <table class="func-table" id="call-4"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-call-4-idp149').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-call-4-idp149').style.visibility = 'hidden';"> call(Node, Module, Function, Args) -&gt; Result</div></td> <td class="func-since-td"><span class="since">OTP 23.0</span></td> </tr></table> <table class="func-table" id="call-5"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-call-5-idp150').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-call-5-idp150').style.visibility = 'hidden';"> call(Node, Module, Function, Args, Timeout) -&gt; Result</div></td> <td class="func-since-td"><span class="since">OTP 23.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>        <div class="exports-tube">

<p> Evaluates <code class="code">apply(Module, Function, Args)</code> on node <code class="code">Node</code> and returns the corresponding value <code class="code">Result</code>. <code class="code">Timeout</code> is an integer representing the timeout in milliseconds or the atom <code class="code">infinity</code> which prevents the operation from ever timing out. </p> <p>The call <code class="code">erpc:call(Node, Module, Function, Args)</code> is equivalent to the call <code class="code">erpc:call(Node, Module, Function, Args, infinity)</code></p> <p> The <code class="code">call()</code> function only returns if the applied function successfully returned without raising any uncaught exceptions, the operation did not time out, and no failures occurred. In all other cases an exception is raised. The following exceptions, listed by exception class, can currently be raised by <code class="code">erpc:call()</code>: </p> <dl> <dt><strong><code class="code">throw</code></strong></dt> <dd><p> The applied function called <code class="code">throw(Value)</code> and did not catch this exception. The exception reason <code class="code">Value</code> equals the argument passed to <code class="code">throw/1</code>. </p></dd> <dt><strong><code class="code">exit</code></strong></dt> <dd> <p> Exception reason: </p> <dl> <dt><strong><code class="code">{exception, ExitReason}</code></strong></dt> <dd><p> The applied function called <code class="code">exit(ExitReason)</code> and did not catch this exception. The exit reason <code class="code">ExitReason</code> equals the argument passed to <code class="code">exit/1</code>. </p></dd> <dt><strong><code class="code">{signal, ExitReason}</code></strong></dt> <dd><p> The process that applied the function received an exit signal and terminated due to this signal. The process terminated with exit reason <code class="code">ExitReason</code>. </p></dd> </dl> </dd> <dt><strong><code class="code">error</code></strong></dt> <dd> <p> Exception reason: </p> <dl> <dt><strong><code class="code">{exception, ErrorReason, StackTrace}</code></strong></dt> <dd><p> A runtime error occurred which raised and error exception while applying the function, and the applied function did not catch the exception. The error reason <code class="code">ErrorReason</code> indicates the type of error that occurred. <code class="code">StackTrace</code> is formatted as when caught in a <code class="code">try/catch</code> construct. The <code class="code">StackTrace</code> is limited to the applied function and functions called by it. </p></dd> <dt><strong><code class="code">{erpc, ERpcErrorReason}</code></strong></dt> <dd> <p> The <code class="code">erpc</code> operation failed. The following <code class="code">ERpcErrorReason</code>s are the most common ones: </p> <dl> <dt><strong><code class="code">badarg</code></strong></dt> <dd> <p>If any one of these are true:</p> <ul> <li><p><code class="code">Node</code> is not an atom.</p></li> <li><p><code class="code">Module</code> is not an atom.</p></li> <li><p><code class="code">Function</code> is not an atom.</p></li> <li><p><code class="code">Args</code> is not a list. Note that the list is not verified to be a proper list at the client side.</p></li> <li><p><code class="code">Timeout</code> is not the atom <code class="code">infinity</code> or an integer in valid range.</p></li> </ul> </dd> <dt><strong><code class="code">noconnection</code></strong></dt> <dd><p> The connection to <code class="code">Node</code> was lost or could not be established. The function may or may not be applied. </p></dd> <dt><strong><code class="code">system_limit</code></strong></dt> <dd><p> The <code class="code">erpc</code> operation failed due to some system limit being reached. This typically due to failure to create a process on the remote node <code class="code">Node</code>, but can be other things as well. </p></dd> <dt><strong><code class="code">timeout</code></strong></dt> <dd><p> The <code class="code">erpc</code> operation timed out. The function may or may not be applied. </p></dd> <dt><strong><code class="code">notsup</code></strong></dt> <dd> <p> The remote node <code class="code">Node</code> does not support this <code class="code">erpc</code> operation. </p> </dd> </dl> </dd> </dl> </dd> </dl> <p> If the <code class="code">erpc</code> operation fails, but it is unknown if the function is/will be applied (that is, a timeout or a connection loss), the caller will not receive any further information about the result if/when the applied function completes. If the applied function explicitly communicates with the calling process, such communication may, of course, reach the calling process. </p> <div class="note"> <div class="label">Note</div> <div class="content">

<p> You cannot make <strong>any</strong> assumptions about the process that will perform the <code class="code">apply()</code>. It may be the calling process itself, a server, or a freshly spawned process. </p> </div> </div> </div> <table class="func-table" id="cast-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-cast-2-idp151').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-cast-2-idp151').style.visibility = 'hidden';"> cast(Node, Fun) -&gt; ok</div></td> <td class="func-since-td"><span class="since">OTP 23.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>    <div class="exports-tube">

<p> The same as calling <code><a href="#cast-4"><span class="code">erpc:cast(Node,erlang,apply,[Fun,[]])</span></a></code>. </p> <p><code class="code">erpc:cast/2</code> fails with an <code class="code">{erpc, badarg}</code> <code class="code">error</code> exception if:</p> <ul> <li><p><code class="code">Node</code> is not an atom.</p></li> <li><p><code class="code">Fun</code> is not a a fun of zero arity.</p></li> </ul> </div> <table class="func-table" id="cast-4"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-cast-4-idp152').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-cast-4-idp152').style.visibility = 'hidden';"> cast(Node, Module, Function, Args) -&gt; ok</div></td> <td class="func-since-td"><span class="since">OTP 23.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>      <div class="exports-tube">

<p> Evaluates <code class="code">apply(Module, Function, Args)</code> on node <code class="code">Node</code>. No response is delivered to the calling process. <code class="code">erpc:cast()</code> returns immediately after the cast request has been sent. Any failures beside bad arguments are silently ignored. </p> <p><code class="code">erpc:cast/4</code> fails with an <code class="code">{erpc, badarg}</code> <code class="code">error</code> exception if:</p> <ul> <li><p><code class="code">Node</code> is not an atom.</p></li> <li><p><code class="code">Module</code> is not an atom.</p></li> <li><p><code class="code">Function</code> is not an atom.</p></li> <li><p><code class="code">Args</code> is not a list. Note that the list is not verified to be a proper list at the client side.</p></li> </ul> <div class="note"> <div class="label">Note</div> <div class="content">

<p> You cannot make <strong>any</strong> assumptions about the process that will perform the <code class="code">apply()</code>. It may be a server, or a freshly spawned process. </p> </div> </div> </div> <table class="func-table" id="check_response-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-check_response-2-idp153').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-check_response-2-idp153').style.visibility = 'hidden';"> check_response(Message, RequestId) -&gt;<br> {response, Result} | no_response</div></td> <td class="func-since-td"><span class="since">OTP 23.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>     <div class="exports-tube">

<p> Check if a message is a response to a <code class="code">call</code> request previously made by the calling process using <code><a href="#send_request-4"><span class="code">erpc:send_request/4</span></a></code>. <code class="code">RequestId</code> should be the value returned from the previously made <code class="code">erpc:send_request()</code> call, and the corresponding response should not already have been received and handled to completion by <code class="code">erpc:check_response()</code>, <code><a href="#receive_response-2"><span class="code">erpc:receive_response()</span></a></code>, or <code><a href="#wait_response-2"><span class="code">erpc:wait_response()</span></a></code>. <code class="code">Message</code> is the message to check. </p> <p> If <code class="code">Message</code> does not correspond to the response, the atom <code class="code">no_response</code> is returned. If <code class="code">Message</code> corresponds to the response, the <code class="code">call</code> operation is completed and either the result is returned as <code class="code">{response, Result}</code> where <code class="code">Result</code> corresponds to the value returned from the applied function or an exception is raised. The exceptions that can be raised corresponds to the same exceptions as can be raised by <code><a href="#call-4"><span class="code">erpc:call/4</span></a></code>. That is, no <code class="code">{erpc, timeout}</code> <code class="code">error</code> exception can be raised. <code class="code">erpc:check_response()</code> will fail with an <code class="code">{erpc, badarg}</code> exception if/when an invalid <code class="code">RequestId</code> is detected. </p> <p> If the <code class="code">erpc</code> operation fails, but it is unknown if the function is/will be applied (that is, a connection loss), the caller will not receive any further information about the result if/when the applied function completes. If the applied function explicitly communicates with the calling process, such communication may, of course, reach the calling process. </p> </div> <table class="func-table" id="multicall-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-multicall-2-idp154').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-multicall-2-idp154').style.visibility = 'hidden';"> multicall(Nodes, Fun) -&gt; Result</div></td> <td class="func-since-td"><span class="since">OTP 23.0</span></td> </tr></table> <table class="func-table" id="multicall-3"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-multicall-3-idp155').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-multicall-3-idp155').style.visibility = 'hidden';"> multicall(Nodes, Fun, Timeout) -&gt; Result</div></td> <td class="func-since-td"><span class="since">OTP 23.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>      <div class="exports-tube">

<p> The same as calling <code><a href="#multicall-5"><span class="code">erpc:multicall(Nodes,erlang,apply,[Fun,[]],Timeout)</span></a></code>. May raise all the same exceptions as <code class="code">erpc:multicall/5</code> plus an <code class="code">{erpc, badarg}</code> <code class="code">error</code> exception if <code class="code">Fun</code> is not a fun of zero arity. </p> <p> The call <code class="code">erpc:multicall(Nodes,Fun)</code> is the same as the call <code class="code">erpc:multicall(Nodes,Fun, infinity)</code>. </p> </div> <table class="func-table" id="multicall-4"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-multicall-4-idp156').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-multicall-4-idp156').style.visibility = 'hidden';"> multicall(Nodes, Module, Function, Args) -&gt; Result</div></td> <td class="func-since-td"><span class="since">OTP 23.0</span></td> </tr></table> <table class="func-table" id="multicall-5"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-multicall-5-idp157').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-multicall-5-idp157').style.visibility = 'hidden';"> multicall(Nodes, Module, Function, Args, Timeout) -&gt; Result</div></td> <td class="func-since-td"><span class="since">OTP 23.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>          <div class="exports-tube">

<p> Performs multiple <code class="code">call</code> operations in parallel on multiple nodes. That is, evaluates <code class="code">apply(Module, Function, Args)</code> on the nodes <code class="code">Nodes</code> in parallel. <code class="code">Timeout</code> is an integer representing the timeout in milliseconds or the atom <code class="code">infinity</code> which prevents the operation from ever timing out. The result is returned as a list where the result from each node is placed at the same position as the node name is placed in <code class="code">Nodes</code>. Each item in the resulting list is formatted as either: </p> <dl> <dt><strong><code class="code">{ok, Result}</code></strong></dt> <dd><p> The <code class="code">call</code> operation for this specific node returned <code class="code">Result</code>. </p></dd> <dt><strong><code class="code">{Class, ExceptionReason}</code></strong></dt> <dd><p> The <code class="code">call</code> operation for this specific node raised an exception of class <code class="code">Class</code> with exception reason <code class="code">ExceptionReason</code>. These corresponds the the exceptions that <code><a href="#call-5"><span class="code">erpc:call/5</span></a></code> can raise. </p></dd> </dl> <p><code class="code">erpc:multicall/5</code> fails with an <code class="code">{erpc, badarg}</code> <code class="code">error</code> exception if:</p> <ul> <li><p><code class="code">Nodes</code> is not a proper list of atoms. Note that some requests may already have been sent when the failure occurs. That is, the function may or may not be applied on some nodes.</p></li> <li><p><code class="code">Module</code> is not an atom.</p></li> <li><p><code class="code">Function</code> is not an atom.</p></li> <li><p><code class="code">Args</code> is not a list. Note that the list is not verified to be a proper list at the client side.</p></li> </ul> <p> The call <code class="code">erpc:multicall(Nodes, Module, Function, Args)</code> is equivalent to the call <code class="code">erpc:multicall(Nodes, Module, Function, Args, infinity)</code>. These calls are also equivalent to calling <code class="code">my_multicall(Nodes, Module, Function, Args)</code> if one disregard performance and failure behavior: </p> <pre data-language="erlang">
my_multicall(Nodes, Module, Function, Args) -&gt;
  ReqIds = lists:map(fun (Node) -&gt;
                       <a href="#send_request-4">erpc:send_request(Node, Module, Function, Args)</a>
                     end,
                     Nodes),
  lists:map(fun (ReqId) -&gt;
              try
                {ok, <a href="#receive_response-2">erpc:receive_response(ReqId, infinity)</a>}
              catch
                Class:Reason -&gt;
                  {Class, Reason}
              end
            end,
            ReqIds).
</pre> <p> The <code class="code">Timeout</code> value in milliseconds sets an upper time limit for all <code class="code">call</code> operations to complete. </p> <p> If an <code class="code">erpc</code> operation fails, but it is unknown if the function is/will be applied (that is, a timeout, connection loss, or an improper <code class="code">Nodes</code> list), the caller will not receive any further information about the result if/when the applied function completes. If the applied function communicates with the calling process, such communication may, of course, reach the calling process. </p> <div class="note"> <div class="label">Note</div> <div class="content">

<p> You cannot make <strong>any</strong> assumptions about the process that will perform the <code class="code">apply()</code>. It may be the calling process itself, a server, or a freshly spawned process. </p> </div> </div> </div> <table class="func-table" id="multicast-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-multicast-2-idp158').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-multicast-2-idp158').style.visibility = 'hidden';"> multicast(Nodes, Fun) -&gt; ok</div></td> <td class="func-since-td"><span class="since">OTP 23.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>    <div class="exports-tube">

<p> The same as calling <code><a href="#multicast-4"><span class="code">erpc:multicast(Nodes,erlang,apply,[Fun,[]])</span></a></code>. </p> <p><code class="code">erpc:multicast/2</code> fails with an <code class="code">{erpc, badarg}</code> <code class="code">error</code> exception if:</p> <ul> <li><p><code class="code">Nodes</code> is not a proper list of atoms.</p></li> <li><p><code class="code">Fun</code> is not a a fun of zero arity.</p></li> </ul> </div> <table class="func-table" id="multicast-4"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-multicast-4-idp159').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-multicast-4-idp159').style.visibility = 'hidden';"> multicast(Nodes, Module, Function, Args) -&gt; ok</div></td> <td class="func-since-td"><span class="since">OTP 23.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>      <div class="exports-tube">

<p> Evaluates <code class="code">apply(Module, Function, Args)</code> on the nodes <code class="code">Nodes</code>. No response is delivered to the calling process. <code class="code">erpc:multicast()</code> returns immediately after the cast requests have been sent. Any failures beside bad arguments are silently ignored. </p> <p><code class="code">erpc:multicast/4</code> fails with an <code class="code">{erpc, badarg}</code> <code class="code">error</code> exception if:</p> <ul> <li><p><code class="code">Nodes</code> is not a proper list of atoms. Note that some requests may already have been sent when the failure occurs. That is, the function may or may not be applied on some nodes.</p></li> <li><p><code class="code">Module</code> is not an atom.</p></li> <li><p><code class="code">Function</code> is not an atom.</p></li> <li><p><code class="code">Args</code> is not a list. Note that the list is not verified to be a proper list at the client side.</p></li> </ul> <div class="note"> <div class="label">Note</div> <div class="content">

<p> You cannot make <strong>any</strong> assumptions about the process that will perform the <code class="code">apply()</code>. It may be a server, or a freshly spawned process. </p> </div> </div> </div> <table class="func-table" id="receive_response-1"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-receive_response-1-idp160').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-receive_response-1-idp160').style.visibility = 'hidden';"> receive_response(RequestId) -&gt; Result</div></td> <td class="func-since-td"><span class="since">OTP 23.0</span></td> </tr></table> <table class="func-table" id="receive_response-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-receive_response-2-idp161').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-receive_response-2-idp161').style.visibility = 'hidden';"> receive_response(RequestId, Timeout) -&gt; Result</div></td> <td class="func-since-td"><span class="since">OTP 23.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>     <div class="exports-tube">

<p> Receive a response to a <code class="code">call</code> request previously made by the calling process using <code><a href="#send_request-4"><span class="code">erpc:send_request/4</span></a></code>. <code class="code">RequestId</code> should be the value returned from the previously made <code class="code">erpc:send_request()</code> call, and the corresponding response should not already have been received and handled to completion by <code><a href="#check_response-2"><span class="code">erpc:check_response()</span></a></code>, <code class="code">erpc:receive_response()</code>, or <code><a href="#wait_response-2"><span class="code">erpc:wait_response()</span></a></code>. <code class="code">Timeout</code> is an integer representing the timeout in milliseconds or the atom <code class="code">infinity</code> which prevents the operation from ever timing out. The <code class="code">call</code> operation is completed once the <code class="code">erpc:receive_response()</code> call returns or raise an exception. </p> <p> The call <code class="code">erpc:receive_response(RequestId)</code> is equivalent to the call <code class="code">erpc:receive_response(RequestId, infinity)</code>. </p> <p> A call to the function <code class="code">my_call(Node, Module, Function, Args, Timeout)</code> below is equivalent to the call <code><a href="#call-5"><span class="code">erpc:call(Node, Module, Function, Args, Timeout)</span></a></code> if one disregards performance. <code class="code">erpc:call()</code> can utilize a message queue optimization which removes the need to scan the whole message queue which the combination <code class="code">erpc:send_request()/erpc:receive_response()</code> cannot. </p> <pre data-language="erlang">
my_call(Node, Module, Function, Args, Timeout) -&gt;
  RequestId = <a href="#send_request-4">erpc:send_request(Node, Module, Function, Args)</a>,
  erpc:receive_response(RequestId, Timeout).
</pre> <p> If the <code class="code">erpc</code> operation fails, but it is unknown if the function is/will be applied (that is, a timeout, or a connection loss), the caller will not receive any further information about the result if/when the applied function completes. If the applied function explicitly communicates with the calling process, such communication may, of course, reach the calling process. </p> <p> <code class="code">erpc:receive_response()</code> will return or raise exceptions the same way as <code><a href="#call-5"><span class="code">erpc:call/5</span></a></code> does with the exception of <code class="code">{erpc, badarg}</code>. An <code class="code">{erpc, badarg}</code> exception will be raised if/when an invalid <code class="code">RequestId</code> is detected or if an invalid <code class="code">Timeout</code> is passed. </p> </div> <table class="func-table" id="send_request-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-send_request-2-idp162').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-send_request-2-idp162').style.visibility = 'hidden';"> send_request(Node, Fun) -&gt; RequestId</div></td> <td class="func-since-td"><span class="since">OTP 23.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>     <div class="exports-tube">

<p> The same as calling <code><a href="#send_request-4"><span class="code">erpc:send_request(Node,erlang,apply,[Fun,[]])</span></a></code>. </p> <p><code class="code">erpc:send_request/2</code> fails with an <code class="code">{erpc, badarg}</code> <code class="code">error</code> exception if:</p> <ul> <li><p><code class="code">Node</code> is not an atom.</p></li> <li><p><code class="code">Fun</code> is not a fun of zero arity.</p></li> </ul> <div class="note"> <div class="label">Note</div> <div class="content">

<p> You cannot make <strong>any</strong> assumptions about the process that will perform the <code class="code">apply()</code>. It may be a server, or a freshly spawned process. </p> </div> </div> </div> <table class="func-table" id="send_request-4"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-send_request-4-idp163').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-send_request-4-idp163').style.visibility = 'hidden';"> send_request(Node, Module, Function, Args) -&gt; RequestId</div></td> <td class="func-since-td"><span class="since">OTP 23.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>       <div class="exports-tube">

<p> Send an asynchronous <code class="code">call</code> request to the node <code class="code">Node</code>. <code class="code">erpc:send_request()</code> returns a request identifier that later is to be passed as argument to either <code><a href="#receive_response-1"><span class="code">erpc:receive_response()</span></a></code>, <code><a href="#wait_response-1"><span class="code">erpc:wait_response()</span></a></code>, or, <code><a href="#check_response-2"><span class="code">erpc:check_response()</span></a></code> in order to get the response of the call request. </p> <p><code class="code">erpc:send_request()</code> fails with an <code class="code">{erpc, badarg}</code> <code class="code">error</code> exception if:</p> <ul> <li><p><code class="code">Node</code> is not an atom.</p></li> <li><p><code class="code">Module</code> is not an atom.</p></li> <li><p><code class="code">Function</code> is not an atom.</p></li> <li><p><code class="code">Args</code> is not a list. Note that the list is not verified to be a proper list at the client side.</p></li> </ul> </div> <table class="func-table" id="wait_response-1"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-wait_response-1-idp164').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-wait_response-1-idp164').style.visibility = 'hidden';"> wait_response(RequestId) -&gt; {response, Result} | no_response</div></td> <td class="func-since-td"><span class="since">OTP 23.0</span></td> </tr></table> <table class="func-table" id="wait_response-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-wait_response-2-idp165').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-wait_response-2-idp165').style.visibility = 'hidden';"> wait_response(RequestId, WaitTime) -&gt;<br> {response, Result} | no_response</div></td> <td class="func-since-td"><span class="since">OTP 23.0</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>     <div class="exports-tube">

<p> Wait or poll for a response message to a <code class="code">call</code> request previously made by the calling process using <code><a href="#send_request-4"><span class="code">erpc:send_request/4</span></a></code>. <code class="code">RequestId</code> should be the value returned from the previously made <code class="code">erpc:send_request()</code> call, and the corresponding response should not already have been received and handled to completion by <code><a href="#check_response-2"><span class="code">erpc:check_response()</span></a></code>, <code><a href="#receive_response-2"><span class="code">erpc:receive_response()</span></a></code>, or <code class="code">erpc:wait_response()</code>. <code class="code">WaitTime</code> equals the time to wait in milliseconds (or the atom <code class="code">infinity</code>) during the wait. <code class="code">WaitTime</code> is an integer representing time to wait in milliseconds or the atom <code class="code">infinity</code> which will cause <code class="code">wait_response/2</code> to wait for a response until it appears regardless of how long time that is. </p> <p> The call <code class="code">erpc:wait_response(RequestId)</code> is equivalent to the call <code class="code">erpc:wait_response(RequestId, 0)</code>. That is, poll for a response message to a <code class="code">call</code> request previously made by the calling process. </p> <p> If no response is received before <code class="code">WaitTime</code> milliseconds, the atom <code class="code">no_response</code> is returned. It is valid to continue waiting for a response as many times as needed up until a response has been received and completed by <code class="code">erpc:check_response()</code>, <code class="code">erpc:receive_response()</code>, or <code class="code">erpc:wait_response()</code>. If a response is received, the <code class="code">call</code> operation is completed and either the result is returned as <code class="code">{response, Result}</code> where <code class="code">Result</code> corresponds to the value returned from the applied function or an exception is raised. The exceptions that can be raised corresponds to the same exceptions as can be raised by <code><a href="#call-4"><span class="code">erpc:call/4</span></a></code>. That is, no <code class="code">{erpc, timeout}</code> <code class="code">error</code> exception can be raised. <code class="code">erpc:wait_response()</code> will fail with an <code class="code">{erpc, badarg}</code> exception if/when an invalid <code class="code">RequestId</code> is detected or if an invalid <code class="code">WaitTime</code> is passed. </p> <p> If the <code class="code">erpc</code> operation fails, but it is unknown if the function is/will be applied (that is, a too large wait time value, or a connection loss), the caller will not receive any further information about the result if/when the applied function completes. If the applied function explicitly communicates with the calling process, such communication may, of course, reach the calling process. </p> </div> </div> <div class="footer"> <hr> <p>Copyright Â© 1997-2021 Ericsson AB. All Rights Reserved.</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2021 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>
