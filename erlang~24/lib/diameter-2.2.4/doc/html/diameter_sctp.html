  <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-module-idm3813').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-idm3813').style.visibility = 'hidden';">Module</span></h2> <p class="REFBODY module-body">diameter_sctp</p> </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-module-summary-idm3814').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-summary-idm3814').style.visibility = 'hidden';">Module Summary</span></h2> <p class="REFBODY module-summary-body">Diameter transport over SCTP.</p> <h2><span onmouseover="document.getElementById('ghlink-since-idm3814').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-since-idm3814').style.visibility = 'hidden';">Since</span></h2> <p class="REFBODY module-since"> Module diameter_sctp was introduced in OTP R14B03. </p> </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-description-idm3815').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-description-idm3815').style.visibility = 'hidden';">Description</span></h2> 
<p> This module implements diameter transport over SCTP using <code>gen_sctp(3)</code>. It can be specified as the value of a transport_module option to <code><a href="diameter#add_transport-2">diameter:add_transport/2</a></code> and implements the behaviour documented in <code><a href="diameter_transport">diameter_transport(3)</a></code>.</p>   </div> <div class="innertube"><h2><span onmouseover="document.getElementById('ghlink-exports-idm3821').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-exports-idm3821').style.visibility = 'hidden';">Exports</span></h2></div> <div class="exports-body"> <table class="func-table"><tr class="func-tr"> <td class="func-td"><div><span onmouseover="document.getElementById('ghlink-start-3-idm3823').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-start-3-idm3823').style.visibility = 'hidden';" id="start-3">start({Type, Ref}, Svc, [Opt]) -&gt; {ok, Pid, [LAddr]} | {error, Reason}</span></div></td> <td class="func-since-td"><span class="since">OTP R14B03</span></td> </tr></table> <div class="exports-tube">  <h2 class="func-types-title">Types</h2>            
<p> The start function required by <code><a href="diameter_transport">diameter_transport(3)</a></code>.</p> <p> Options <code class="code">raddr</code> and <code class="code">rport</code> specify the remote address and port for a connecting transport and not valid for a listening transport: the former is required while latter defaults to 3868 if unspecified. Multiple <code class="code">raddr</code> options can be specified, in which case the connecting transport in question attempts each in sequence until an association is established.</p> <p> Option <code class="code">accept</code> specifies remote addresses for a listening transport and is not valid for a connecting transport. If specified, a remote address that does not match one of the specified addresses causes the association to be aborted. Multiple <code class="code">accept</code> options can be specified. A string-valued <code class="code">Match</code> that does not parse as an address is interpreted as a regular expression.</p> <p> Option <code class="code">unordered</code> specifies whether or not to use unordered delivery, integer <code class="code">N</code> being equivalent to <code class="code">N =&lt; OS</code>, where <code class="code">OS</code> is the number of outbound streams negotiated on the association in question. Regardless of configuration, sending is ordered on stream 0 until reception of a second incoming message, to ensure that a peer receives capabilities exchange messages before any other. Defaults to <code class="code">false</code>.</p> <p> Option <code class="code">packet</code> determines how/if an incoming message is packaged into a diameter_packet record. If <code class="code">false</code> then messages are received as binary(). If <code class="code">true</code> then as a record with the binary() message in the <code class="code">bin</code> field and a <code class="code">{stream, Id}</code> tuple in the <code class="code">transport_data</code> field, where <code class="code">Id</code> is the identifier of the inbound stream the message was received on. If <code class="code">raw</code> then as a record with the received ancillary sctp_sndrcvinfo record in the <code class="code">transport_data</code> field. Defaults to <code class="code">true</code>.</p> <p> Options <code class="code">message_cb</code> and <code class="code">sender</code> have semantics identical to those documented in <code><a href="diameter_tcp#sender">diameter_tcp(3)</a></code>, but with the message argument to a <code class="code">recv</code> callback being as directed by the <code class="code">packet</code> option.</p> <p> An <code class="code">{outstream, Id}</code> tuple in the <code class="code">transport_data</code> field of a outgoing diameter_packet record sets the outbound stream on which the message is sent, modulo the negotiated number of outbound streams. Any other value causes successive such sends to cycle though all outbound streams.</p> <p> Remaining options are any accepted by <code>gen_sctp:open/1</code>, with the exception of options <code class="code">mode</code>, <code class="code">binary</code>, <code class="code">list</code>, <code class="code">active</code> and <code class="code">sctp_events</code>. Note that options <code class="code">ip</code> and <code class="code">port</code> specify the local address and port respectively.</p> <p> Multiple <code class="code">ip</code> options can be specified for a multihomed peer. If none are specified then the values of <code class="code">Host-IP-Address</code> in the <code class="code">diameter_service</code> record are used. Option <code class="code">port</code> defaults to 3868 for a listening transport and 0 for a connecting transport.</p> <div class="warning"> <div class="label">Warning</div> <div class="content">

<p> An small receive buffer may result in a peer having to resend incoming messages: set the <code>inet(3)</code> option <code class="code">recbuf</code> to increase the buffer size.</p> <p> An small send buffer may result in outgoing messages being discarded: set the <code>inet(3)</code> option <code class="code">sndbuf</code> to increase the buffer size.</p> </div> </div>  </div> </div> <div class="innertube"> <h2>See also</h2>  <p> <code><a href="diameter">diameter(3)</a></code>, <code><a href="diameter_transport">diameter_transport(3)</a></code>, <code>gen_sctp(3)</code>, <code>inet(3)</code></p>  </div> <div class="footer"> <hr> <p>Copyright Â© 2011-2021 Ericsson AB. All Rights Reserved.</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2021 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>
