  <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-command-idm20580').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-command-idm20580').style.visibility = 'hidden';">Command</span></h2> <p class="REFBODY command-body">erlc</p> </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-command-summary-idm20581').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-command-summary-idm20581').style.visibility = 'hidden';">Command Summary</span></h2> <p class="REFBODY command-summary-body">Compiler</p> </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-description-idm20582').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-description-idm20582').style.visibility = 'hidden';">Description</span></h2> 
<p>The <code class="code">erlc</code> program provides a common way to run all compilers in the Erlang system. Depending on the extension of each input file, <code class="code">erlc</code> invokes the appropriate compiler. Regardless of which compiler is used, the same flags are used to provide parameters, such as include paths and output directory.</p> <p>The current working directory, <code class="code">"."</code>, is not included in the code path when running the compiler. This is to avoid loading Beam files from the current working directory that could potentially be in conflict with the compiler or the Erlang/OTP system used by the compiler.</p>  </div> <div class="innertube"><h2><span onmouseover="document.getElementById('ghlink-exports-idm20588').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-exports-idm20588').style.visibility = 'hidden';">Exports</span></h2></div> <div class="exports-body"> <div>erlc flags file1.ext file2.ext...</div> <div class="exports-tube">

<p>Compiles one or more files. The files must include the extension, for example, <code class="code">.erl</code> for Erlang source code, or <code class="code">.yrl</code> for Yecc source code. <code class="code">Erlc</code> uses the extension to invoke the correct compiler.</p> </div> </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-generally-useful-flags-idm20597').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-generally-useful-flags-idm20597').style.visibility = 'hidden';">Generally Useful Flags</span></h2>  <p>The following flags are supported:</p> <dl> <dt><strong><code class="code">-I &lt;Directory&gt;</code></strong></dt> <dd> <p>Instructs the compiler to search for include files in the <code class="code">Directory</code>. When encountering an <code class="code">-include</code> or <code class="code">-include_lib</code> directive, the compiler searches for header files in the following directories:</p> <ul> <li> <p><code class="code">"."</code>, the current working directory of the file server</p> </li> <li> <p>The base name of the compiled file</p> </li> <li> <p>The directories specified using option <code class="code">-I</code>; the directory specified last is searched first</p> </li> </ul> </dd> <dt><strong><code class="code">-o &lt;Directory&gt;</code></strong></dt> <dd> <p>The directory where the compiler is to place the output files. Defaults to the current working directory.</p> </dd> <dt><strong><code class="code">-D&lt;Name&gt;</code></strong></dt> <dd> <p>Defines a macro.</p> </dd> <dt><strong><code class="code">-D&lt;Name&gt;=&lt;Value&gt;</code></strong></dt> <dd> <p>Defines a macro with the specified value. The value can be any Erlang term. Depending on the platform, the value may need to be quoted if the shell itself interprets certain characters. On Unix, terms containing tuples and lists must be quoted. Terms containing spaces must be quoted on all platforms.</p> </dd> <dt><strong><code class="code">-WError</code></strong></dt> <dd> <p>Makes all warnings into errors.</p> </dd> <dt><strong><code class="code">-W&lt;Number&gt;</code></strong></dt> <dd> <p>Sets warning level to <code class="code">Number</code>. Defaults to <code class="code">1</code>. To turn off warnings, use <code class="code">-W0</code>.</p> </dd> <dt><strong><code class="code">-W</code></strong></dt> <dd> <p>Same as <code class="code">-W1</code>. Default.</p> </dd> <dt><strong><code class="code">-v</code></strong></dt> <dd> <p>Enables verbose output.</p> </dd> <dt><strong><code class="code">-b &lt;Output_type&gt;</code></strong></dt> <dd> <p>Specifies the type of output file. <code class="code">Output_type</code> is the same as the file extension of the output file, but without the period. This option is ignored by compilers that have a single output format.</p> </dd> <dt><strong><code class="code">-no-server</code></strong></dt> <dd> <p>Do not use the <code><a href="#compile_server">compile server</a></code>.</p> </dd> <dt><strong><code class="code">-server</code></strong></dt> <dd> <p>Use the <code><a href="#compile_server">compile server</a></code>.</p> </dd> <dt><strong><code class="code">-M</code></strong></dt> <dd> <p>Produces a Makefile rule to track header dependencies. The rule is sent to <code class="code">stdout</code>. No object file is produced.</p> </dd> <dt><strong><code class="code">-MMD</code></strong></dt> <dd> <p>Generate dependencies as a side-effect. The object file will be produced as normal. This option overrides the option <code class="code">-M</code>.</p> </dd> <dt><strong><code class="code">-MF &lt;Makefile&gt;</code></strong></dt> <dd> <p>As option <code class="code">-M</code>, except that the Makefile is written to <code class="code">Makefile</code>. No object file is produced.</p> </dd> <dt><strong><code class="code">-MD</code></strong></dt> <dd> <p>Same as <code class="code">-M -MF &lt;File&gt;.Pbeam</code>.</p> </dd> <dt><strong><code class="code">-MT &lt;Target&gt;</code></strong></dt> <dd> <p>In conjunction with option <code class="code">-M</code> or <code class="code">-MF</code>, changes the name of the rule emitted to <code class="code">Target</code>.</p> </dd> <dt><strong><code class="code">-MQ &lt;Target&gt;</code></strong></dt> <dd> <p>As option <code class="code">-MT</code>, except that characters special to <code class="code">make/1</code> are quoted.</p> </dd> <dt><strong><code class="code">-MP</code></strong></dt> <dd> <p>In conjunction with option <code class="code">-M</code> or <code class="code">-MF</code>, adds a phony target for each dependency.</p> </dd> <dt><strong><code class="code">-MG</code></strong></dt> <dd> <p>In conjunction with option <code class="code">-M</code> or <code class="code">-MF</code>, considers missing headers as generated files and adds them to the dependencies.</p> </dd> <dt><strong><code class="code">--</code></strong></dt> <dd> <p>Signals that no more options will follow. The rest of the arguments is treated as filenames, even if they start with hyphens.</p> </dd> <dt><strong><code class="code">+&lt;Term&gt;</code></strong></dt> <dd> <p>A flag starting with a plus (<code class="code">+</code>) rather than a hyphen is converted to an Erlang term and passed unchanged to the compiler. For example, option <code class="code">export_all</code> for the Erlang compiler can be specified as follows:</p> <pre data-language="erlang">
erlc +export_all file.erl</pre> <p>Depending on the platform, the value may need to be quoted if the shell itself interprets certain characters. On Unix, terms containing tuples and lists must be quoted. Terms containing spaces must be quoted on all platforms.</p> </dd> </dl>  </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-special-flags-idm20722').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-special-flags-idm20722').style.visibility = 'hidden';">Special Flags</span></h2>  <p>The following flags are useful in special situations, such as rebuilding the OTP system:</p> <dl> <dt><strong><code class="code">-pa &lt;Directory&gt;</code></strong></dt> <dd> <p>Appends <code class="code">Directory</code> to the front of the code path in the invoked Erlang emulator. This can be used to invoke another compiler than the default one.</p> </dd> <dt><strong><code class="code">-pz &lt;Directory&gt;</code></strong></dt> <dd> <p>Appends <code class="code">Directory</code> to the code path in the invoked Erlang emulator.</p> </dd> </dl>  </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-supported-compilers-idm20736').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-supported-compilers-idm20736').style.visibility = 'hidden';">Supported Compilers</span></h2>  <p>The following compilers are supported:</p> <dl> <dt><strong><code class="code">.erl</code></strong></dt> <dd> <p>Erlang source code. It generates a <code class="code">.beam</code> file.</p> <p>Options <code class="code">-P</code>, <code class="code">-E</code>, and <code class="code">-S</code> are equivalent to <code class="code">+'P'</code>, <code class="code">+'E'</code>, and <code class="code">+'S'</code>, except that it is not necessary to include the single quotes to protect them from the shell.</p> <p>Supported options: <code class="code">-I</code>, <code class="code">-o</code>, <code class="code">-D</code>, <code class="code">-v</code>, <code class="code">-W</code>, <code class="code">-b</code>.</p> </dd> <dt><strong><code class="code">.S</code></strong></dt> <dd> <p>Erlang assembler source code. It generates a <code class="code">.beam</code> file.</p> <p>Supported options: same as for <code class="code">.erl</code>.</p> </dd> <dt><strong><code class="code">.core</code></strong></dt> <dd> <p>Erlang core source code. It generates a <code class="code">.beam</code> file.</p> <p>Supported options: same as for <code class="code">.erl</code>.</p> </dd> <dt><strong><code class="code">.yrl</code></strong></dt> <dd> <p>Yecc source code. It generates an <code class="code">.erl</code> file.</p> <p>Use option <code class="code">-I</code> with the name of a file to use that file as a customized prologue file (option <code class="code">includefile</code>).</p> <p>Supported options: <code class="code">-o</code>, <code class="code">-v</code>, <code class="code">-I</code>, <code class="code">-W</code>.</p> </dd> <dt><strong><code class="code">.mib</code></strong></dt> <dd> <p>MIB for SNMP. It generates a <code class="code">.bin</code> file.</p> <p>Supported options: <code class="code">-I</code>, <code class="code">-o</code>, <code class="code">-W</code>.</p> </dd> <dt><strong><code class="code">.bin</code></strong></dt> <dd> <p>A compiled MIB for SNMP. It generates a <code class="code">.hrl</code> file.</p> <p>Supported options: <code class="code">-o</code>, <code class="code">-v</code>.</p> </dd> <dt><strong><code class="code">.rel</code></strong></dt> <dd> <p>Script file. It generates a boot file.</p> <p>Use option <code class="code">-I</code> to name directories to be searched for application files (equivalent to the <code class="code">path</code> in the option list for <code class="code">systools:make_script/2</code>).</p> <p>Supported option: <code class="code">-o</code>.</p> </dd> <dt><strong><code class="code">.asn1</code></strong></dt> <dd> <p>ASN1 file. It creates an <code class="code">.erl</code>, <code class="code">.hrl</code>, and <code class="code">.asn1db</code> file from an <code class="code">.asn1</code> file. Also compiles the <code class="code">.erl</code> using the Erlang compiler unless option <code class="code">+noobj</code> is specified.</p> <p>Supported options: <code class="code">-I</code>, <code class="code">-o</code>, <code class="code">-b</code>, <code class="code">-W</code>.</p> </dd> <dt><strong><code class="code">.idl</code></strong></dt> <dd> <p>IC file. It runs the IDL compiler.</p> <p>Supported options: <code class="code">-I</code>, <code class="code">-o</code>.</p> </dd> </dl>  </div> <div class="innertube"> <h2> <span onmouseover="document.getElementById('ghlink-compile-server-idm20835').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-compile-server-idm20835').style.visibility = 'hidden';" id="compile_server">Compile Server</span> </h2>  <p>The compile server can be used to potentially speed up the build of multi-file projects by avoiding to start an Erlang system for each file to compile. Whether it will speed up the build depends on the nature of the project and the build machine.</p> <p>By default, the compile server is not used. It can be enabled by giving <code class="code">erlc</code> the option <code class="code">-server</code> or by setting the environment variable <code class="code">ERLC_USE_SERVER</code> to <code class="code">yes</code> or <code class="code">true</code>.</p> <p>When the compile server is enabled, <code class="code">erlc</code> will automatically use the server if it is started and start the server if has not already started. The server will terminate itself when it has been idle for some number of seconds.</p> <p><code class="code">erlc</code> and the compile server communicate using the Erlang distribution. The compile server is started as a hidden node, with a name that includes the current user. Thus, each user on a computer has their own compile server.</p> <p>Using the compile server does not always speed up the build, as the compile server sometimes must be restarted to ensure correctness. Here are some examples of situtations that force a restart:</p> <ul> <li> <code class="code">erlc</code> wants to use a different version of Erlang than the compile server is using.</li> <li> <code class="code">erlc</code> wants to use different options for <code class="code">erl</code> than the compile server was started with. (A change to code path using the option <code class="code">-pa</code> could cause different parse transforms to be loaded. To be safe, the compile server will be restarted when any <code class="code">erl</code> option is changed.)</li> <li>If the current working directory for <code class="code">erlc</code> is different from the working directory active when the compile server was started, <strong>and</strong> if the compile server has active jobs, it will be restarted as soon as those jobs have finished. (Build systems that build files randomly across multiple directories in parallel will probably not benefit from the compile server.)</li> </ul>  </div> <div class="innertube"> <h2> <span onmouseover="document.getElementById('ghlink-environment-variables-idm20861').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-environment-variables-idm20861').style.visibility = 'hidden';" id="environment_variables">Environment Variables</span> </h2>  <dl> <dt><strong><code class="code">ERLC_EMULATOR</code></strong></dt> <dd>The command for starting the emulator. Defaults to <code class="code">erl</code> in the same directory as the <code class="code">erlc</code> program itself, or, if it does not exist, <code class="code">erl</code> in any of the directories specified in environment variable <code class="code">PATH</code>.</dd> <dt><strong><code class="code">ERLC_USE_SERVER</code></strong></dt> <dd>Allowed values are <code class="code">yes</code> or <code class="code">true</code> to use the <code><a href="#compile_server">compile server</a></code>, and <code class="code">no</code> or <code class="code">false</code> to not use the compile server. If other values are given, <code class="code">erlc</code> will print a warning message and continue. </dd> <dt><strong><code class="code">ERLC_SERVER_ID</code></strong></dt> <dd>Tells <code class="code">erlc</code> to identify the <code><a href="#compile_server">compile server</a></code> by the given name, allowing a single user to run multiple unrelated builds in parallel without them affecting each other, which can be useful for shared build machines and the like. The name must be alpha­numeric, and it defaults to being empty. </dd> </dl>  </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-see-also-idm20886').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-see-also-idm20886').style.visibility = 'hidden';">See Also</span></h2>  <p><code><a href="erl"><span class="code">erl(1)</span></a></code>, <code><span class="code">compile(3)</span></code>, <code><span class="code">yecc(3)</span></code>, <code><span class="code">snmp(3)</span></code></p>  </div> <div class="footer"> <hr> <p>Copyright © 1997-2021 Ericsson AB. All Rights Reserved.</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2021 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>
