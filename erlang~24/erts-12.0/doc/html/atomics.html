  <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-module-idm7175').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-idm7175').style.visibility = 'hidden';">Module</span></h2> <p class="REFBODY module-body">atomics</p> </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-module-summary-idm7176').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-summary-idm7176').style.visibility = 'hidden';">Module Summary</span></h2> <p class="REFBODY module-summary-body">Atomic Functions</p> <h2><span onmouseover="document.getElementById('ghlink-since-idm7176').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-since-idm7176').style.visibility = 'hidden';">Since</span></h2> <p class="REFBODY module-since"> Module atomics was introduced in OTP 21.2. </p> </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-description-idm7177').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-description-idm7177').style.visibility = 'hidden';">Description</span></h2> 
<p>This module provides a set of functions to do atomic operations towards mutable atomic variables. The implementation utilizes only atomic hardware instructions without any software level locking, which makes it very efficient for concurrent access. The atomics are organized into arrays with the following semantics:</p> <ul> <li> <p>Atomics are 64 bit integers.</p> </li> <li> <p>Atomics can be represented as either signed or unsigned.</p> </li> <li> <p>Atomics wrap around at overflow and underflow operations.</p> </li> <li> <p>All operations guarantee atomicity. No intermediate results can be seen. The result of one mutation can only be the input to one following mutation.</p> </li> <li> <p>All atomic operations are mutually ordered. If atomic B is updated <strong>after</strong> atomic A, then that is how it will appear to any concurrent readers. No one can read the new value of B and then read the old value of A.</p> </li> <li> <p>Indexes into atomic arrays are one-based. An atomic array of arity N contains N atomics with index from 1 to N.</p> </li> </ul>  </div> <div class="innertube"> <h2><span onmouseover="document.getElementById('ghlink-data-types-idm7193').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-data-types-idm7193').style.visibility = 'hidden';">Data Types</span></h2> <div class="data-types-body"> <div class="data-type-name" onmouseover="document.getElementById('ghlink-type-atomics_ref').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-atomics_ref').style.visibility = 'hidden';">  <code id="type-atomics_ref">atomics_ref()</code><br> </div> <div class="data-type-desc">

<p>Identifies an atomic array returned from <code><a href="#new-2"><span class="code">new/2</span></a></code>.</p> </div> </div> </div> <div class="innertube"><h2><span onmouseover="document.getElementById('ghlink-exports-idm7200').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-exports-idm7200').style.visibility = 'hidden';">Exports</span></h2></div> <div class="exports-body"> <table class="func-table" id="new-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-new-2-idp1').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-new-2-idp1').style.visibility = 'hidden';"> new(Arity, Opts) -&gt; <code><a href="#type-atomics_ref">atomics_ref()</a></code> </div></td> <td class="func-since-td"><span class="since">OTP 21.2</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>     <div class="exports-tube">

<p>Create a new array of <code class="code">Arity</code> number of atomics. All atomics in the array are initially set to zero.</p> <p>Argument <code class="code">Opts</code> is a list of the following possible options:</p> <dl> <dt><strong><code class="code">{signed, boolean()}</code></strong></dt> <dd> <p>Indicate if the elements of the array will be treated as signed or unsigned integers. Default is <code class="code">true</code> (signed).</p> <p>The integer interval for signed atomics are from <code class="code">-(1 bsl 63)</code> to <code class="code">(1 bsl 63)-1</code> and for unsigned atomics from <code class="code">0</code> to <code class="code">(1 bsl 64)-1</code>.</p> </dd> </dl> <p>Atomics are not tied to the current process and are automatically garbage collected when they are no longer referenced.</p> </div> <table class="func-table" id="put-3"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-put-3-idp2').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-put-3-idp2').style.visibility = 'hidden';"> put(Ref, Ix, Value) -&gt; ok</div></td> <td class="func-since-td"><span class="since">OTP 21.2</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>     <div class="exports-tube">

<p>Set atomic to <code class="code">Value</code>.</p> </div> <table class="func-table" id="get-2"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-get-2-idp3').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-get-2-idp3').style.visibility = 'hidden';"> get(Ref, Ix) -&gt; integer()</div></td> <td class="func-since-td"><span class="since">OTP 21.2</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>    <div class="exports-tube">

<p>Read atomic value.</p> </div> <table class="func-table" id="add-3"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-add-3-idp4').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-add-3-idp4').style.visibility = 'hidden';"> add(Ref, Ix, Incr) -&gt; ok</div></td> <td class="func-since-td"><span class="since">OTP 21.2</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>     <div class="exports-tube">

<p>Add <code class="code">Incr</code> to atomic.</p> </div> <table class="func-table" id="add_get-3"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-add_get-3-idp5').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-add_get-3-idp5').style.visibility = 'hidden';"> add_get(Ref, Ix, Incr) -&gt; integer()</div></td> <td class="func-since-td"><span class="since">OTP 21.2</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>     <div class="exports-tube">

<p>Atomic addition and return of the result.</p> </div> <table class="func-table" id="sub-3"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-sub-3-idp6').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-sub-3-idp6').style.visibility = 'hidden';"> sub(Ref, Ix, Decr) -&gt; ok</div></td> <td class="func-since-td"><span class="since">OTP 21.2</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>     <div class="exports-tube">

<p>Subtract <code class="code">Decr</code> from atomic.</p> </div> <table class="func-table" id="sub_get-3"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-sub_get-3-idp7').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-sub_get-3-idp7').style.visibility = 'hidden';"> sub_get(Ref, Ix, Decr) -&gt; integer()</div></td> <td class="func-since-td"><span class="since">OTP 21.2</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>     <div class="exports-tube">

<p>Atomic subtraction and return of the result.</p> </div> <table class="func-table" id="exchange-3"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-exchange-3-idp8').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-exchange-3-idp8').style.visibility = 'hidden';"> exchange(Ref, Ix, Desired) -&gt; integer()</div></td> <td class="func-since-td"><span class="since">OTP 21.2</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>     <div class="exports-tube">

<p>Atomically replaces the value of the atomic with <code class="code">Desired</code> and returns the value it held previously.</p> </div> <table class="func-table" id="compare_exchange-4"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-compare_exchange-4-idp9').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-compare_exchange-4-idp9').style.visibility = 'hidden';"> compare_exchange(Ref, Ix, Expected, Desired) -&gt; ok | integer()</div></td> <td class="func-since-td"><span class="since">OTP 21.2</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>      <div class="exports-tube">

<p>Atomically compares the atomic with <code class="code">Expected</code>, and if those are equal, set atomic to <code class="code">Desired</code>. Returns <code class="code">ok</code> if <code class="code">Desired</code> was written. Returns the actual atomic value if not equal to <code class="code">Expected</code>.</p> </div> <table class="func-table" id="info-1"><tr class="func-tr"> <td class="func-td"><div onmouseover="document.getElementById('ghlink-info-1-idp10').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-info-1-idp10').style.visibility = 'hidden';"> info(Ref) -&gt; Info</div></td> <td class="func-since-td"><span class="since">OTP 21.2</span></td> </tr></table>  <h2 class="func-types-title">Types</h2>        <div class="exports-tube">

<p>Return information about an atomic array in a map. The map has the following keys:</p> <dl> <dt><strong><code class="code">size</code></strong></dt> <dd><p>The number of atomics in the array.</p></dd> <dt><strong><code class="code">max</code></strong></dt> <dd><p>The highest possible value an atomic in this array can hold.</p></dd> <dt><strong><code class="code">min</code></strong></dt> <dd><p>The lowest possible value an atomic in this array can hold.</p></dd> <dt><strong><code class="code">memory</code></strong></dt> <dd><p>Approximate memory consumption for the array in bytes.</p></dd> </dl> </div> </div> <div class="footer"> <hr> <p>Copyright © 1997-2021 Ericsson AB. All Rights Reserved.</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2021 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>
