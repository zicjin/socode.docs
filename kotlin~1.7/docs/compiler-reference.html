<h1 data-toc="compiler-reference" id="compiler-reference.md">Kotlin compiler options</h1>
<p id="9529f562">Each release of Kotlin includes compilers for the supported targets: JVM, JavaScript, and native binaries for <a href="native-overview#target-platforms" id="dbcccd2f">supported platforms</a>.</p>
<p id="f3eec8f9">These compilers are used by the IDE when you click the <b id="bed7e0ba" class="">Compile</b> or <b id="66e1baaa" class="">Run</b> button for your Kotlin project.</p>
<p id="126bf46c">You can also run Kotlin compilers manually from the command line as described in the <a href="command-line" id="fba3665b">Working with command-line compiler</a> tutorial.</p>
<section class="chapter"><h2 id="compiler-options" data-toc="compiler-reference#compiler-options">Compiler options</h2>
<p id="8ced1382">Kotlin compilers have a number of options for tailoring the compiling process. Compiler options for different targets are listed on this page together with a description of each one.</p>
<p id="8ba83f74">There are several ways to set the compiler options and their values (<em id="f232087b" class="">compiler arguments</em>):</p>
<ul class="list _ul" id="59dce174">
<li class="list__item" id="da783c4"><p>In IntelliJ IDEA, write in the compiler arguments in the <b id="fd222b60" class="">Additional command line parameters</b> text box in <b id="20996ca7" class="">Settings/Preferences</b> | <b id="e354bd95" class="">Build, Execution, Deployment</b> | <b id="ea24d5f7" class="">Compiler</b> | <b id="44f46ecd" class="">Kotlin Compiler</b>.</p></li>
<li class="list__item" id="e356c12d"><p>If you're using Gradle, specify the compiler arguments in the <code class="code ">kotlinOptions</code> property of the Kotlin compilation task. For details, see <a href="gradle#compiler-options" id="f0dfc9b6">Gradle</a>.</p></li>
<li class="list__item" id="ed67ff98"><p>If you're using Maven, specify the compiler arguments in the <code class="code ">&lt;configuration&gt;</code> element of the Maven plugin node. For details, see <a href="maven#specifying-compiler-options" id="daf48ca1">Maven</a>.</p></li>
<li class="list__item" id="58864741"><p>If you run a command-line compiler, add the compiler arguments directly to the utility call or write them into an <a href="#argfile" id="9c2a1fbf">argfile</a>.</p></li>
</ul>
<p id="4a0881af">For example:</p>
<pre class="code" data-language="bash">$ kotlinc hello.kt -include-runtime -d hello.jar
</pre>
<aside data-type="note" class="prompt" data-title="" id="aeee7037"><p id="97d414b9">On Windows, when you pass compiler arguments that contain delimiter characters (whitespace, <code class="code ">=</code>, <code class="code ">;</code>, <code class="code ">,</code>), surround these arguments with double quotes (<code class="code ">"</code>).</p>
<p> <code class="code ">$ kotlinc.bat hello.kt -include-runtime -d "My Folder\hello.jar"</code></p></aside></section><section class="chapter"><h2 id="common-options" data-toc="compiler-reference#common-options">Common options</h2>
<p id="c182d086">The following options are common for all Kotlin compilers.</p>
<section class="chapter"><h3 id="version" data-toc="compiler-reference#version">-version</h3>
<p id="ddfcec27">Display the compiler version.</p></section><section class="chapter"><h3 id="nowarn" data-toc="compiler-reference#nowarn">-nowarn</h3>
<p id="7ae8e1cb">Suppress the compiler from displaying warnings during compilation.</p></section><section class="chapter"><h3 id="werror" data-toc="compiler-reference#werror">-Werror</h3>
<p id="a2968206">Turn any warnings into a compilation error.</p></section><section class="chapter"><h3 id="verbose" data-toc="compiler-reference#verbose">-verbose</h3>
<p id="54853e40">Enable verbose logging output which includes details of the compilation process.</p></section><section class="chapter"><h3 id="script" data-toc="compiler-reference#script">-script</h3>
<p id="50085052">Evaluate a Kotlin script file. When called with this option, the compiler executes the first Kotlin script (<code class="code ">*.kts</code>) file among the given arguments.</p></section><section class="chapter"><h3 id="help-h" data-toc="compiler-reference#help-h">-help (-h)</h3>
<p id="bc917e17">Display usage information and exit. Only standard options are shown. To show advanced options, use <code class="code ">-X</code>.</p></section><section class="chapter"><h3 id="x" data-toc="compiler-reference#x">-X</h3>
<p id="7caac00f">Display information about the advanced options and exit. These options are currently unstable: their names and behavior may be changed without notice.</p></section><section class="chapter"><h3 id="kotlin-home-path" data-toc="compiler-reference#kotlin-home-path">-kotlin-home path</h3>
<p id="32e27362">Specify a custom path to the Kotlin compiler used for the discovery of runtime libraries.</p></section><section class="chapter"><h3 id="p-plugin-pluginid-optionname-value" data-toc="compiler-reference#p-plugin-pluginid-optionname-value">-P plugin:pluginId:optionName=value</h3>
<p id="a65c286c">Pass an option to a Kotlin compiler plugin. Available plugins and their options are listed in the <b id="d0605eb7" class="">Tools &gt; Compiler plugins</b> section of the documentation.</p></section><section class="chapter"><h3 id="language-version-version" data-toc="compiler-reference#language-version-version">-language-version version</h3>
<p id="8395068">Provide source compatibility with the specified version of Kotlin.</p></section><section class="chapter"><h3 id="api-version-version" data-toc="compiler-reference#api-version-version">-api-version version</h3>
<p id="c3d68748">Allow using declarations only from the specified version of Kotlin bundled libraries.</p></section><section class="chapter"><h3 id="progressive" data-toc="compiler-reference#progressive">-progressive</h3>
<p id="7cfa05a3">Enable the <a href="whatsnew13#progressive-mode" id="265807d6">progressive mode</a> for the compiler.</p>
<p id="a94b0893">In the progressive mode, deprecations and bug fixes for unstable code take effect immediately, instead of going through a graceful migration cycle. Code written in the progressive mode is backwards compatible; however, code written in a non-progressive mode may cause compilation errors in the progressive mode.</p></section><section class="chapter"><h3 id="argfile" data-toc="compiler-reference#argfile">@argfile</h3>
<p id="19a7e31a">Read the compiler options from the given file. Such a file can contain compiler options with values and paths to the source files. Options and paths should be separated by whitespaces. For example:</p>
<p> <code class="code ">-include-runtime -d hello.jar hello.kt</code></p>
<p id="80b44aef">To pass values that contain whitespaces, surround them with single (<b id="3fe51164" class="">'</b>) or double (<b id="5daab988" class="">"</b>) quotes. If a value contains quotation marks in it, escape them with a backslash (<b id="6bd97ef1" class="">\</b>).</p>
<p> <code class="code ">-include-runtime -d 'My folder'</code></p>
<p id="d8f5e802">You can also pass multiple argument files, for example, to separate compiler options from source files.</p>
<pre class="code" data-language="bash">$ kotlinc @compiler.options @classes
</pre>
<p id="c3350904">If the files reside in locations different from the current directory, use relative paths.</p>
<pre class="code" data-language="bash">$ kotlinc @options/compiler.options hello.kt
</pre></section><section class="chapter"><h3 id="opt-in-annotation" data-toc="compiler-reference#opt-in-annotation">-opt-in annotation</h3>
<p id="44487dd">Enable usages of API that <a href="opt-in-requirements" id="bdd13486">requires opt-in</a> with a requirement annotation with the given fully qualified name.</p></section></section><section class="chapter"><h2 id="kotlin-jvm-compiler-options" data-toc="compiler-reference#kotlin-jvm-compiler-options">Kotlin/JVM compiler options</h2>
<p id="461376a">The Kotlin compiler for JVM compiles Kotlin source files into Java class files. The command-line tools for Kotlin to JVM compilation are <code class="code ">kotlinc</code> and <code class="code ">kotlinc-jvm</code>. You can also use them for executing Kotlin script files.</p>
<p id="b9153446">In addition to the <a href="#common-options" id="ebd3bfdf">common options</a>, Kotlin/JVM compiler has the options listed below.</p>
<section class="chapter"><h3 id="classpath-path-cp-path" data-toc="compiler-reference#classpath-path-cp-path">-classpath path (-cp path)</h3>
<p id="e38cfafd">Search for class files in the specified paths. Separate elements of the classpath with system path separators (<b id="e85c8089" class="">;</b> on Windows, <b id="1bc9d6c6" class="">:</b> on macOS/Linux). The classpath can contain file and directory paths, ZIP, or JAR files.</p></section><section class="chapter"><h3 id="d-path" data-toc="compiler-reference#d-path">-d path</h3>
<p id="8f0926e1">Place the generated class files into the specified location. The location can be a directory, a ZIP, or a JAR file.</p></section><section class="chapter"><h3 id="include-runtime" data-toc="compiler-reference#include-runtime">-include-runtime</h3>
<p id="498cc62">Include the Kotlin runtime into the resulting JAR file. Makes the resulting archive runnable on any Java-enabled environment.</p></section><section class="chapter"><h3 id="jdk-home-path" data-toc="compiler-reference#jdk-home-path">-jdk-home path</h3>
<p id="8172cfcb">Use a custom JDK home directory to include into the classpath if it differs from the default <code class="code ">JAVA_HOME</code>.</p></section><section class="chapter"><h3 id="xjdk-release-version" data-toc="compiler-reference#xjdk-release-version">-Xjdk-release=version</h3>
<p id="14ea6360">Specify the target version of the generated JVM bytecode. Limit the API of the JDK in the classpath to the specified Java version. Automatically sets <a href="#jvm-target-version" id="f4fe8587"><code class="code ">-jvm-target version</code></a>. Possible values are <code class="code ">1.8</code>, <code class="code ">9</code>, <code class="code ">10</code>, ..., <code class="code ">18</code>. The default value is <code class="code ">1.8</code>.</p>
<aside data-type="note" class="prompt" data-title="" id="fa6e19f0"><p id="65a43f3">This option is <a href="https://youtrack.jetbrains.com/issue/KT-29974" id="929356cc" data-external="true" rel="noopener noreferrer">not guaranteed</a> to be effective for each JDK distribution.</p></aside></section><section class="chapter"><h3 id="jvm-target-version" data-toc="compiler-reference#jvm-target-version">-jvm-target version</h3>
<p id="23cbcaad">Specify the target version of the generated JVM bytecode. Possible values are <code class="code ">1.8</code>, <code class="code ">9</code>, <code class="code ">10</code>, ..., <code class="code ">18</code>. The default value is <code class="code ">1.8</code>.</p></section><section class="chapter"><h3 id="java-parameters" data-toc="compiler-reference#java-parameters">-java-parameters</h3>
<p id="8054bd0c">Generate metadata for Java 1.8 reflection on method parameters.</p></section><section class="chapter"><h3 id="module-name-name-jvm" data-toc="compiler-reference#module-name-name-jvm">-module-name name (JVM)</h3>
<p id="fe66a755">Set a custom name for the generated <code class="code ">.kotlin_module</code> file.</p></section><section class="chapter"><h3 id="no-jdk" data-toc="compiler-reference#no-jdk">-no-jdk</h3>
<p id="bd467af5">Don't automatically include the Java runtime into the classpath.</p></section><section class="chapter"><h3 id="no-reflect" data-toc="compiler-reference#no-reflect">-no-reflect</h3>
<p id="d19913cc">Don't automatically include the Kotlin reflection (<code class="code ">kotlin-reflect.jar</code>) into the classpath.</p></section><section class="chapter"><h3 id="no-stdlib-jvm" data-toc="compiler-reference#no-stdlib-jvm">-no-stdlib (JVM)</h3>
<p id="4221ebb6">Don't automatically include the Kotlin/JVM stdlib (<code class="code ">kotlin-stdlib.jar</code>) and Kotlin reflection (<code class="code ">kotlin-reflect.jar</code>) into the classpath.</p></section><section class="chapter"><h3 id="script-templates-classnames" data-toc="compiler-reference#script-templates-classnames">-script-templates classnames[,]</h3>
<p id="d03be58b">Script definition template classes. Use fully qualified class names and separate them with commas (<b id="da01bce" class="">,</b>).</p></section></section><section class="chapter"><h2 id="kotlin-js-compiler-options" data-toc="compiler-reference#kotlin-js-compiler-options">Kotlin/JS compiler options</h2>
<p id="93c91fec">The Kotlin compiler for JS compiles Kotlin source files into JavaScript code. The command-line tool for Kotlin to JS compilation is <code class="code ">kotlinc-js</code>.</p>
<p id="5e3628d9">In addition to the <a href="#common-options" id="27d495b4">common options</a>, Kotlin/JS compiler has the options listed below.</p>
<section class="chapter"><h3 id="libraries-path" data-toc="compiler-reference#libraries-path">-libraries path</h3>
<p id="2a4b4db4">Paths to Kotlin libraries with <code class="code ">.meta.js</code> and <code class="code ">.kjsm</code> files, separated by the system path separator.</p></section><section class="chapter"><h3 id="main-call-nocall" data-toc="compiler-reference#main-call-nocall">-main {call|noCall}</h3>
<p id="b8daca9e">Define whether the <code class="code ">main</code> function should be called upon execution.</p></section><section class="chapter"><h3 id="meta-info" data-toc="compiler-reference#meta-info">-meta-info</h3>
<p id="f16a1aba">Generate <code class="code ">.meta.js</code> and <code class="code ">.kjsm</code> files with metadata. Use this option when creating a JS library.</p></section><section class="chapter"><h3 id="module-kind-umd-commonjs-amd-plain" data-toc="compiler-reference#module-kind-umd-commonjs-amd-plain">-module-kind {umd|commonjs|amd|plain}</h3>
<p id="7ee86a79">The kind of JS module generated by the compiler:</p>
<ul class="list _ul" id="7b09ea79">
<li class="list__item" id="f17f634"><p><code class="code ">umd</code> - a <a href="https://github.com/umdjs/umd" id="9625635" data-external="true" rel="noopener noreferrer">Universal Module Definition</a> module</p></li>
<li class="list__item" id="ca285b91"><p><code class="code ">commonjs</code> - a <a href="http://www.commonjs.org/" id="4cfa320c" data-external="true" rel="noopener noreferrer">CommonJS</a> module</p></li>
<li class="list__item" id="825867fd"><p><code class="code ">amd</code> - an <a href="https://en.wikipedia.org/wiki/Asynchronous_module_definition" id="fba22d6a" data-external="true" rel="noopener noreferrer">Asynchronous Module Definition</a> module</p></li>
<li class="list__item" id="15c39c5f"><p><code class="code ">plain</code> - a plain JS module</p></li>
</ul>
<p id="8820ce89">To learn more about the different kinds of JS module and the distinctions between them, see <a href="https://www.davidbcalhoun.com/2014/what-is-amd-commonjs-and-umd/" id="40271d6c" data-external="true" rel="noopener noreferrer">this</a> article.</p></section><section class="chapter"><h3 id="no-stdlib-js" data-toc="compiler-reference#no-stdlib-js">-no-stdlib (JS)</h3>
<p id="de888d51">Don't automatically include the default Kotlin/JS stdlib into the compilation dependencies.</p></section><section class="chapter"><h3 id="output-filepath" data-toc="compiler-reference#output-filepath">-output filepath</h3>
<p id="b6bf91b8">Set the destination file for the compilation result. The value must be a path to a <code class="code ">.js</code> file including its name.</p></section><section class="chapter"><h3 id="output-postfix-filepath" data-toc="compiler-reference#output-postfix-filepath">-output-postfix filepath</h3>
<p id="49139872">Add the content of the specified file to the end of the output file.</p></section><section class="chapter"><h3 id="output-prefix-filepath" data-toc="compiler-reference#output-prefix-filepath">-output-prefix filepath</h3>
<p id="30053018">Add the content of the specified file to the beginning of the output file.</p></section><section class="chapter"><h3 id="source-map" data-toc="compiler-reference#source-map">-source-map</h3>
<p id="66d40776">Generate the source map.</p></section><section class="chapter"><h3 id="source-map-base-dirs-path" data-toc="compiler-reference#source-map-base-dirs-path">-source-map-base-dirs path</h3>
<p id="8961479f">Use the specified paths as base directories. Base directories are used for calculating relative paths in the source map.</p></section><section class="chapter"><h3 id="source-map-embed-sources-always-never-inlining" data-toc="compiler-reference#source-map-embed-sources-always-never-inlining">-source-map-embed-sources {always|never|inlining}</h3>
<p id="63237de9">Embed source files into the source map.</p></section><section class="chapter"><h3 id="source-map-prefix" data-toc="compiler-reference#source-map-prefix">-source-map-prefix</h3>
<p id="a872ec86">Add the specified prefix to paths in the source map.</p></section></section><section class="chapter"><h2 id="kotlin-native-compiler-options" data-toc="compiler-reference#kotlin-native-compiler-options">Kotlin/Native compiler options</h2>
<p id="6f0345f2">Kotlin/Native compiler compiles Kotlin source files into native binaries for the <a href="native-overview#target-platforms" id="e0a04cba">supported platforms</a>. The command-line tool for Kotlin/Native compilation is <code class="code ">kotlinc-native</code>.</p>
<p id="d587cde3">In addition to the <a href="#common-options" id="22763223">common options</a>, Kotlin/Native compiler has the options listed below.</p>
<section class="chapter"><h3 id="enable-assertions-ea" data-toc="compiler-reference#enable-assertions-ea">-enable-assertions (-ea)</h3>
<p id="87cdeaaf">Enable runtime assertions in the generated code.</p></section><section class="chapter"><h3 id="g" data-toc="compiler-reference#g">-g</h3>
<p id="fbc32da5">Enable emitting debug information.</p></section><section class="chapter"><h3 id="generate-test-runner-tr" data-toc="compiler-reference#generate-test-runner-tr">-generate-test-runner (-tr)</h3>
<p id="2086b311">Produce an application for running unit tests from the project.</p></section><section class="chapter"><h3 id="generate-worker-test-runner-trw" data-toc="compiler-reference#generate-worker-test-runner-trw">-generate-worker-test-runner (-trw)</h3>
<p id="e64147">Produce an application for running unit tests in a <a href="native-immutability#concurrency-in-kotlin-native" id="a87cacce">worker thread</a>.</p></section><section class="chapter"><h3 id="generate-no-exit-test-runner-trn" data-toc="compiler-reference#generate-no-exit-test-runner-trn">-generate-no-exit-test-runner (-trn)</h3>
<p id="62e53623">Produce an application for running unit tests without an explicit process exit.</p></section><section class="chapter"><h3 id="include-binary-path-ib-path" data-toc="compiler-reference#include-binary-path-ib-path">-include-binary path (-ib path)</h3>
<p id="f904e6b">Pack external binary within the generated klib file.</p></section><section class="chapter"><h3 id="library-path-l-path" data-toc="compiler-reference#library-path-l-path">-library path (-l path)</h3>
<p id="d543bd88">Link with the library. To learn about using libraries in Kotlin/native projects, see <a href="native-libraries" id="a3bce368">Kotlin/Native libraries</a>.</p></section><section class="chapter"><h3 id="library-version-version-lv-version" data-toc="compiler-reference#library-version-version-lv-version">-library-version version (-lv version)</h3>
<p id="a5d75d3b">Set the library version.</p></section><section class="chapter"><h3 id="list-targets" data-toc="compiler-reference#list-targets">-list-targets</h3>
<p id="c48659e2">List the available hardware targets.</p></section><section class="chapter"><h3 id="manifest-path" data-toc="compiler-reference#manifest-path">-manifest path</h3>
<p id="c419cc99">Provide a manifest addend file.</p></section><section class="chapter"><h3 id="module-name-name-native" data-toc="compiler-reference#module-name-name-native">-module-name name (Native)</h3>
<p id="d1c6dfb1">Specify a name for the compilation module. This option can also be used to specify a name prefix for the declarations exported to Objective-C: <a href="native-faq#how-do-i-specify-a-custom-objective-c-prefix-name-for-my-kotlin-framework" id="4da091a9">How do I specify a custom Objective-C prefix/name for my Kotlin framework?</a></p></section><section class="chapter"><h3 id="native-library-path-nl-path" data-toc="compiler-reference#native-library-path-nl-path">-native-library path (-nl path)</h3>
<p id="b743a575">Include the native bitcode library.</p></section><section class="chapter"><h3 id="no-default-libs" data-toc="compiler-reference#no-default-libs">-no-default-libs</h3>
<p id="c83b1860">Disable linking user code with the <a href="native-platform-libs" id="98cb482f">default platform libraries</a> distributed with the compiler.</p></section><section class="chapter"><h3 id="nomain" data-toc="compiler-reference#nomain">-nomain</h3>
<p id="2dfefba9">Assume the <code class="code ">main</code> entry point to be provided by external libraries.</p></section><section class="chapter"><h3 id="nopack" data-toc="compiler-reference#nopack">-nopack</h3>
<p id="ecd816e9">Don't pack the library into a klib file.</p></section><section class="chapter"><h3 id="linker-option" data-toc="compiler-reference#linker-option">-linker-option</h3>
<p id="1a04f39d">Pass an argument to the linker during binary building. This can be used for linking against some native library.</p></section><section class="chapter"><h3 id="linker-options-args" data-toc="compiler-reference#linker-options-args">-linker-options args</h3>
<p id="a2db0815">Pass multiple arguments to the linker during binary building. Separate arguments with whitespaces.</p></section><section class="chapter"><h3 id="nostdlib" data-toc="compiler-reference#nostdlib">-nostdlib</h3>
<p id="9407f68b">Don't link with stdlib.</p></section><section class="chapter"><h3 id="opt" data-toc="compiler-reference#opt">-opt</h3>
<p id="379d5d9d">Enable compilation optimizations.</p></section><section class="chapter"><h3 id="output-name-o-name" data-toc="compiler-reference#output-name-o-name">-output name (-o name)</h3>
<p id="eb530e11">Set the name for the output file.</p></section><section class="chapter"><h3 id="entry-name-e-name" data-toc="compiler-reference#entry-name-e-name">-entry name (-e name)</h3>
<p id="897790b2">Specify the qualified entry point name.</p></section><section class="chapter"><h3 id="produce-output-p-output" data-toc="compiler-reference#produce-output-p-output">-produce output (-p output)</h3>
<p id="58395883">Specify output file kind:</p>
<ul class="list _ul" id="ee8773b3">
<li class="list__item" id="bc6dec60"><p><code class="code ">program</code></p></li>
<li class="list__item" id="da1ff349"><p><code class="code ">static</code></p></li>
<li class="list__item" id="bb0b31c1"><p><code class="code ">dynamic</code></p></li>
<li class="list__item" id="11695aad"><p><code class="code ">framework</code></p></li>
<li class="list__item" id="576c2bb0"><p><code class="code ">library</code></p></li>
<li class="list__item" id="f50ab7d1"><p><code class="code ">bitcode</code></p></li>
</ul></section><section class="chapter"><h3 id="repo-path-r-path" data-toc="compiler-reference#repo-path-r-path">-repo path (-r path)</h3>
<p id="ed1b8814">Library search path. For more information, see <a href="native-libraries#library-search-sequence" id="76648046">Library search sequence</a>.</p></section><section class="chapter"><h3 id="target-target" data-toc="compiler-reference#target-target">-target target</h3>
<p id="b7ade5ea">Set hardware target. To see the list of available targets, use the <a href="#list-targets" id="1a1eefea"><code class="code ">-list-targets</code></a> option.</p></section></section><div class="last-modified"> Last modified: 08 August 2022</div>

<div class="navigation-links _bottom"> <a class="navigation-links__prev" href="command-line">Kotlin command-line compiler</a> <a class="navigation-links__next" href="all-open-plugin">All-open compiler plugin</a> </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://kotlinlang.org/docs/compiler-reference.html" class="_attribution-link" target="_blank">https://kotlinlang.org/docs/compiler-reference.html</a>
  </p>
</div>
