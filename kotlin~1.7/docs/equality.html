<h1 data-toc="equality" id="equality.md">Equality</h1>
<p id="972029f5">In Kotlin there are two types of equality:</p>
<ul class="list _ul" id="7c58f469">
<li class="list__item" id="15572e99"><p><em id="99382673" class="">Structural</em> equality (<code class="code ">==</code> - a check for <code class="code ">equals()</code>)</p></li>
<li class="list__item" id="180fec65"><p><em id="b2a6268" class="">Referential</em> equality (<code class="code ">===</code> - two references point to the same object)</p></li>
</ul>
<section class="chapter"><h2 id="structural-equality" data-toc="equality#structural-equality">Structural equality</h2>
<p id="99c0eb48">Structural equality is checked by the <code class="code ">==</code> operation and its negated counterpart <code class="code ">!=</code>. By convention, an expression like <code class="code ">a == b</code> is translated to:</p>
<pre class="code" data-language="kotlin">a?.equals(b) ?: (b === null)
</pre>
<p id="2199d921">If <code class="code ">a</code> is not <code class="code ">null</code>, it calls the <code class="code ">equals(Any?)</code> function, otherwise (<code class="code ">a</code> is <code class="code ">null</code>) it checks that <code class="code ">b</code> is referentially equal to <code class="code ">null</code>.</p>
<p id="39d2dce5">Note that there's no point in optimizing your code when comparing to <code class="code ">null</code> explicitly: <code class="code ">a == null</code> will be automatically translated to <code class="code ">a === null</code>.</p>
<p id="8a2b4d6d">To provide a custom equals check implementation, override the <a href="../api/latest/jvm/stdlib/kotlin/-any/equals" id="f050ff5d" data-external="true" rel="noopener noreferrer"><code class="code ">equals(other: Any?): Boolean</code></a> function. Functions with the same name and other signatures, like <code class="code ">equals(other: Foo)</code>, don't affect equality checks with the operators <code class="code ">==</code> and <code class="code ">!=</code>.</p>
<p id="432c5fc3">Structural equality has nothing to do with comparison defined by the <code class="code ">Comparable&lt;...&gt;</code> interface, so only a custom <code class="code ">equals(Any?)</code> implementation may affect the behavior of the operator.</p></section><section class="chapter"><h2 id="referential-equality" data-toc="equality#referential-equality">Referential equality</h2>
<p id="b92c0085">Referential equality is checked by the <code class="code ">===</code> operation and its negated counterpart <code class="code ">!==</code>. <code class="code ">a === b</code> evaluates to true if and only if <code class="code ">a</code> and <code class="code ">b</code> point to the same object. For values represented by primitive types at runtime (for example, <code class="code ">Int</code>), the <code class="code ">===</code> equality check is equivalent to the <code class="code ">==</code> check.</p></section><section class="chapter"><h2 id="floating-point-numbers-equality" data-toc="equality#floating-point-numbers-equality">Floating-point numbers equality</h2>
<p id="c2a914ac">When an equality check operands are statically known to be <code class="code ">Float</code> or <code class="code ">Double</code> (nullable or not), the check follows the <a href="https://en.wikipedia.org/wiki/IEEE_754" id="edb6d284" data-external="true" rel="noopener noreferrer">IEEE 754 Standard for Floating-Point Arithmetic</a>.</p>
<p id="82188e55">Otherwise, the structural equality is used, which disagrees with the standard so that <code class="code ">NaN</code> is equal to itself, and <code class="code ">-0.0</code> is not equal to <code class="code ">0.0</code>.</p>
<p id="10e21c1c">See: <a href="basic-types#floating-point-numbers-comparison" id="ca40172">Floating-point numbers comparison</a>.</p></section><div class="last-modified"> Last modified: 08 August 2022</div>

<div class="navigation-links _bottom"> <a class="navigation-links__prev" href="null-safety">Null safety</a> <a class="navigation-links__next" href="this-expressions">This expressions</a> </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://kotlinlang.org/docs/equality.html" class="_attribution-link" target="_blank">https://kotlinlang.org/docs/equality.html</a>
  </p>
</div>
