<h1 data-toc="multiplatform-mobile-android-dependencies" id="multiplatform-mobile-android-dependencies.md">Adding Android dependencies</h1>
<p id="bc455eee">The workflow for adding Android-specific dependencies to a Kotlin Multiplatform module is the same as it is for pure Android projects: declare the dependency in your Gradle file and import the project. After that, you can use this dependency in your Kotlin code.</p>
<p id="bc09d913">We recommend declaring Android dependencies in Multiplatform Mobile projects by adding them to a specific Android source set. For that, update your <code class="code ">build.gradle(.kts)</code> file in the <code class="code ">shared</code> directory of your project:</p>
<div class="tabs" id="1f9461bc" data-group="build-script">
<div class="tabs__content" data-gtm="tab" id="829bd070" data-sync-tabs="kotlin" data-title="Kotlin"><pre class="code" data-language="kotlin">sourceSets["androidMain"].dependencies {
    implementation("com.example.android:app-magic:12.3")
}
</pre></div>
<div class="tabs__content" data-gtm="tab" id="966b8402" data-sync-tabs="groovy" data-title="Groovy"><pre class="code" data-language="groovy">sourceSets {
    androidMain {
        dependencies {
            implementation 'com.example.android:app-magic:12.3'
        }
    }
}
</pre></div>
</div>
<p id="a4b7b03f">Moving what was a top-level dependency in an Android project to a specific source set in a Multiplatform Mobile project might be difficult if the top-level dependency had a non-trivial configuration name. For example, to move a <code class="code ">debugImplementation</code> dependency from the top level of an Android project, youâ€™ll need to add an implementation dependency to the source set named <code class="code ">androidDebug</code>. To minimize the effort you have to put in to deal with migration problems like this, you can add a <code class="code ">dependencies</code> block inside the <code class="code ">android</code> block:</p>
<div class="tabs" id="59f3bf4d" data-group="build-script">
<div class="tabs__content" data-gtm="tab" id="e0577185" data-sync-tabs="kotlin" data-title="Kotlin"><pre class="code" data-language="kotlin">android {
    //...
    dependencies {
        implementation("com.example.android:app-magic:12.3")
    }
}
</pre></div>
<div class="tabs__content" data-gtm="tab" id="9200bda3" data-sync-tabs="groovy" data-title="Groovy"><pre class="code" data-language="groovy">android {
    //...
    dependencies {
        implementation 'com.example.android:app-magic:12.3'
    }
}
</pre></div>
</div>
<p id="e56f4a7e">Dependencies declared here will be treated exactly the same as dependencies from the top-level block, but declaring them this way will also separate Android dependencies visually in your build script and make it less confusing.</p>
<p id="a62e976f">Putting dependencies into a standalone <code class="code ">dependencies</code> block at the end of the script, in a way that is idiomatic to Android projects, is also supported. However, we strongly recommend <b id="594057ef" class="">against</b> doing this because configuring a build script with Android dependencies in the top-level block and other target dependencies in each source set is likely to cause confusion.</p>
<section class="chapter"><h2 id="what-s-next" data-toc="multiplatform-mobile-android-dependencies#what-s-next">What's next?</h2>
<p id="d03a9d5">Check out other resources on adding dependencies in multiplatform projects and learn more about:</p>
<ul class="list _ul" id="bd673ed">
<li class="list__item" id="3af044ae"><p><a href="https://developer.android.com/studio/build/dependencies" id="fde56876" data-external="true" rel="noopener noreferrer">Adding dependencies in the official Android documentation</a></p></li>
<li class="list__item" id="6294ef4"><p><a href="multiplatform-add-dependencies" id="66c5daec">Adding dependencies on multiplatform libraries or other multiplatform projects</a></p></li>
<li class="list__item" id="6399713b"><p><a href="multiplatform-mobile-ios-dependencies" id="b835d88a">Adding iOS dependencies</a></p></li>
</ul></section><div class="last-modified"> Last modified: 08 August 2022</div>

<div class="navigation-links _bottom"> <a class="navigation-links__prev" href="multiplatform-add-dependencies">Adding dependencies on multiplatform libraries</a> <a class="navigation-links__next" href="multiplatform-mobile-ios-dependencies">Adding iOS dependencies</a> </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://kotlinlang.org/docs/multiplatform-mobile-android-dependencies.html" class="_attribution-link" target="_blank">https://kotlinlang.org/docs/multiplatform-mobile-android-dependencies.html</a>
  </p>
</div>
