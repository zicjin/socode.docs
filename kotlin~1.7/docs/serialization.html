<h1 data-toc="serialization" id="serialization.md">Serialization</h1>
<p id="a55a1211"><em id="1ca9b982" class="">Serialization</em> is the process of converting data used by an application to a format that can be transferred over a network or stored in a database or a file. In turn, <em id="c793c4f4" class="">deserialization</em> is the opposite process of reading data from an external source and converting it into a runtime object. Together they are an essential part of most applications that exchange data with third parties.</p>
<p id="12679e79">Some data serialization formats, such as <a href="https://www.json.org/json-en.html" id="c007096e" data-external="true" rel="noopener noreferrer">JSON</a> and <a href="https://developers.google.com/protocol-buffers" id="3c120270" data-external="true" rel="noopener noreferrer">protocol buffers</a> are particularly common. Being language-neutral and platform-neutral, they enable data exchange between systems written in any modern language.</p>
<p id="50f78f42">In Kotlin, data serialization tools are available in a separate component, <a href="https://github.com/Kotlin/kotlinx.serialization" id="1f8d1ede" data-external="true" rel="noopener noreferrer">kotlinx.serialization</a>. It consists of two main parts: the Gradle plugin –<code class="code ">org.jetbrains.kotlin.plugin.serialization</code> and the runtime libraries.</p>
<section class="chapter"><h2 id="libraries" data-toc="serialization#libraries">Libraries</h2>
<p id="3555ef9a"><code class="code ">kotlinx.serialization</code> provides sets of libraries for all supported platforms – JVM, JavaScript, Native – and for various serialization formats – JSON, CBOR, protocol buffers, and others. You can find the complete list of supported serialization formats <a href="#formats" id="cee04996">below</a>.</p>
<p id="22a1bc6e">All Kotlin serialization libraries belong to the <code class="code ">org.jetbrains.kotlinx:</code> group. Their names start with <code class="code ">kotlinx-serialization-</code> and have suffixes that reflect the serialization format. Examples:</p>
<ul class="list _ul" id="43204b6f">
<li class="list__item" id="30b277ef"><p><code class="code ">org.jetbrains.kotlinx:kotlinx-serialization-json</code> provides JSON serialization for Kotlin projects.</p></li>
<li class="list__item" id="7128b9d9"><p><code class="code ">org.jetbrains.kotlinx:kotlinx-serialization-cbor</code> provides CBOR serialization.</p></li>
</ul>
<p id="bcf4c408">Platform-specific artifacts are handled automatically; you don't need to add them manually. Use the same dependencies in JVM, JS, Native, and multiplatform projects.</p>
<p id="e330ebc2">Note that the <code class="code ">kotlinx.serialization</code> libraries use their own versioning structure, which doesn't match Kotlin's versioning. Check out the releases on <a href="https://github.com/Kotlin/kotlinx.serialization/releases" id="26f71862" data-external="true" rel="noopener noreferrer">GitHub</a> to find the latest versions.</p></section><section class="chapter"><h2 id="formats" data-toc="serialization#formats">Formats</h2>
<p id="dc8b8f13"><code class="code ">kotlinx.serialization</code> includes libraries for various serialization formats:</p>
<ul class="list _ul" id="8503028e">
<li class="list__item" id="6445bddf"><p><a href="https://www.json.org/" id="b8d4e0bf" data-external="true" rel="noopener noreferrer">JSON</a>: <a href="https://github.com/Kotlin/kotlinx.serialization/blob/master/formats/README.md#json" id="aa1fd3f" data-external="true" rel="noopener noreferrer"><code class="code ">kotlinx-serialization-json</code></a></p></li>
<li class="list__item" id="2cf439a1"><p><a href="https://developers.google.com/protocol-buffers" id="ff572232" data-external="true" rel="noopener noreferrer">Protocol buffers</a>: <a href="https://github.com/Kotlin/kotlinx.serialization/blob/master/formats/README.md#protobuf" id="84ef7751" data-external="true" rel="noopener noreferrer"><code class="code ">kotlinx-serialization-protobuf</code></a></p></li>
<li class="list__item" id="14da2c66"><p><a href="https://cbor.io/" id="3c2bca77" data-external="true" rel="noopener noreferrer">CBOR</a>: <a href="https://github.com/Kotlin/kotlinx.serialization/blob/master/formats/README.md#cbor" id="a7bddfa2" data-external="true" rel="noopener noreferrer"><code class="code ">kotlinx-serialization-cbor</code></a></p></li>
<li class="list__item" id="6bb0139e"><p><a href="https://en.wikipedia.org/wiki/.properties" id="7b507dd3" data-external="true" rel="noopener noreferrer">Properties</a>: <a href="https://github.com/Kotlin/kotlinx.serialization/blob/master/formats/README.md#properties" id="fe567f8c" data-external="true" rel="noopener noreferrer"><code class="code ">kotlinx-serialization-properties</code></a></p></li>
<li class="list__item" id="80a5ec16"><p><a href="https://github.com/lightbend/config/blob/master/HOCON.md" id="7288e2bc" data-external="true" rel="noopener noreferrer">HOCON</a>: <a href="https://github.com/Kotlin/kotlinx.serialization/blob/master/formats/README.md#hocon" id="daf78223" data-external="true" rel="noopener noreferrer"><code class="code ">kotlinx-serialization-hocon</code></a> (only on JVM)</p></li>
</ul>
<p id="71acc3db">Note that all libraries except JSON serialization (<code class="code ">kotlinx-serialization-core</code>) are <a href="components-stability" id="34b28e3">Experimental</a>, which means their API can be changed without notice.</p>
<p id="455a8338">There are also community-maintained libraries that support more serialization formats, such as <a href="https://yaml.org/" id="198708f3" data-external="true" rel="noopener noreferrer">YAML</a> or <a href="https://avro.apache.org/" id="2d76b8fd" data-external="true" rel="noopener noreferrer">Apache Avro</a>. For detailed information about available serialization formats, see the <a href="https://github.com/Kotlin/kotlinx.serialization/blob/master/formats/README.md" id="cb56397e" data-external="true" rel="noopener noreferrer"><code class="code ">kotlinx.serialization</code> documentation</a>.</p></section><section class="chapter"><h2 id="example-json-serialization" data-toc="serialization#example-json-serialization">Example: JSON serialization</h2>
<p id="fe47a71">Let’s take a look at how to serialize Kotlin objects into JSON.</p>
<p id="d7c86a0d">Before starting, you’ll need to configure your build script so that you can use Kotlin serialization tools in your project:</p>
<ol class="list _decimal" id="5dbdb147">
<li class="list__item" id="bd1657ea">
<p id="3412747a">Apply the Kotlin serialization Gradle plugin <code class="code ">org.jetbrains.kotlin.plugin.serialization</code> (or <code class="code ">kotlin(“plugin.serialization”)</code> in the Kotlin Gradle DSL).</p>
<div class="tabs" id="cd74c97" data-group="build-script">
<div class="tabs__content" data-gtm="tab" id="65bca85a" data-sync-tabs="kotlin" data-title="Kotlin"><pre class="code" data-language="kotlin">plugins {
    kotlin("jvm") version "1.7.10"
    kotlin("plugin.serialization") version "1.7.10"
}
</pre></div>
<div class="tabs__content" data-gtm="tab" id="64d2744b" data-sync-tabs="groovy" data-title="Groovy"><pre class="code" data-language="groovy">plugins {
    id 'org.jetbrains.kotlin.jvm' version '1.7.10'
    id 'org.jetbrains.kotlin.plugin.serialization' version '1.7.10'  
}
</pre></div>
</div>
</li>
<li class="list__item" id="a00eda07">
<p id="9ea45e65">Add the JSON serialization library dependency:<code class="code ">org.jetbrains.kotlinx:kotlinx-serialization-json:1.3.2</code></p>
<div class="tabs" id="37e85741" data-group="build-script">
<div class="tabs__content" data-gtm="tab" id="d329d28a" data-sync-tabs="kotlin" data-title="Kotlin"><pre class="code" data-language="kotlin">dependencies {
    implementation("org.jetbrains.kotlinx:kotlinx-serialization-json:1.3.2")
} 
</pre></div>
<div class="tabs__content" data-gtm="tab" id="98ca2530" data-sync-tabs="groovy" data-title="Groovy"><pre class="code" data-language="groovy">dependencies {
    implementation 'org.jetbrains.kotlinx:kotlinx-serialization-json:1.3.2'
} 
</pre></div>
</div>
</li>
</ol>
<p id="8dc2e76c">Now you're ready to use the serialization API in your code. The API is located in the the <code class="code ">kotlinx.serialization</code> package and its format-specific subpackages such as <code class="code ">kotlinx.serialization.json</code>.</p>
<p id="e47d206e">First, make a class serializable by annotating it with <code class="code ">@Serializable</code>.</p>
<pre class="code" data-language="kotlin">import kotlinx.serialization.Serializable

@Serializable
data class Data(val a: Int, val b: String)
</pre>
<p id="a17e7a32">You can now serialize an instance of this class by calling <code class="code ">Json.encodeToString()</code>.</p>
<pre class="code" data-language="kotlin">import kotlinx.serialization.Serializable
import kotlinx.serialization.json.Json
import kotlinx.serialization.encodeToString

@Serializable
data class Data(val a: Int, val b: String)

fun main() {
   val json = Json.encodeToString(Data(42, "str"))
}
</pre>
<p id="4dd5abde">As a result, you get a string containing the state of this object in the JSON format: <code class="code ">{"a": 42, "b": "str"}</code></p>
<p id="b6f08c14">You can also serialize object collections, such as lists, in a single call.</p>
<pre class="code" data-language="kotlin">val dataList = listOf(Data(42, "str"), Data(12, "test"))
val jsonList = Json.encodeToString(dataList)
</pre>
<p id="8b8143ad">To deserialize an object from JSON, use the <code class="code ">decodeFromString()</code> function:</p>
<pre class="code" data-language="kotlin">import kotlinx.serialization.Serializable
import kotlinx.serialization.json.Json
import kotlinx.serialization.decodeFromString

@Serializable
data class Data(val a: Int, val b: String)

fun main() {
   val obj = Json.decodeFromString&lt;Data&gt;("""{"a":42, "b": "str"}""")
}
</pre>
<p id="df2fcd00">For more information about serialization in Kotlin, see the <a href="https://github.com/Kotlin/kotlinx.serialization/blob/master/docs/serialization-guide.md" id="87a46cd5" data-external="true" rel="noopener noreferrer">Kotlin Serialization Guide</a>.</p></section><div class="last-modified"> Last modified: 08 August 2022</div>

<div class="navigation-links _bottom"> <a class="navigation-links__prev" href="debug-flow-with-idea">Debug Kotlin Flow using IntelliJ IDEA – tutorial</a> <a class="navigation-links__next" href="keyword-reference">Keywords and operators</a> </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://kotlinlang.org/docs/serialization.html" class="_attribution-link" target="_blank">https://kotlinlang.org/docs/serialization.html</a>
  </p>
</div>
