<h1 data-toc="ksp-reference" id="ksp-reference.md">Java annotation processing to KSP reference</h1>
<section class="chapter"><h2 id="program-elements" data-toc="ksp-reference#program-elements">Program elements</h2>
<div class="table-wrapper"><table class=" wide" id="ddfd154c">
<thead><tr class="ijRowHead" id="4f2bab94">
<th id="10cacdb3"><p><b id="bc2accb1" class="">Java</b></p></th>
<th id="3b58e458"><p><b id="da5b5a53" class="">Closest facility in KSP</b></p></th>
<th id="75db66e5"><p><b id="cede2a37" class="">Notes</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="33c8ba16">
<td id="5c61fb05"><p><code class="code ">AnnotationMirror</code></p></td>
<td id="ad2bac8"><p><code class="code ">KSAnnotation</code></p></td>
<td id="934a3449"></td>
</tr>
<tr class="" id="bf9851f8">
<td id="cfb88f06"><p><code class="code ">AnnotationValue</code></p></td>
<td id="e10ca6e0"><p><code class="code ">KSValueArguments</code></p></td>
<td id="33189bb5"></td>
</tr>
<tr class="" id="71fed82c">
<td id="cb8e67f"><p><code class="code ">Element</code></p></td>
<td id="335b10b2"><p><code class="code ">KSDeclaration</code>/<code class="code ">KSDeclarationContainer</code></p></td>
<td id="7975e698"></td>
</tr>
<tr class="" id="d367ab23">
<td id="8c5daf85"><p><code class="code ">ExecutableElement</code></p></td>
<td id="b95c88c8"><p><code class="code ">KSFunctionDeclaration</code></p></td>
<td id="2a9a283b"></td>
</tr>
<tr class="" id="a05b0170">
<td id="8fe8a086"><p><code class="code ">PackageElement</code></p></td>
<td id="4ba38454"><p><code class="code ">KSFile</code></p></td>
<td id="b471ae0f"><p>KSP doesn't model packages as program elements</p></td>
</tr>
<tr class="" id="bc30cf67">
<td id="83c93730"><p><code class="code ">Parameterizable</code></p></td>
<td id="465542a0"><p><code class="code ">KSDeclaration</code></p></td>
<td id="db99afc8"></td>
</tr>
<tr class="" id="c07ee4a2">
<td id="57722839"><p><code class="code ">QualifiedNameable</code></p></td>
<td id="25735015"><p><code class="code ">KSDeclaration</code></p></td>
<td id="c3c7c1a3"></td>
</tr>
<tr class="" id="db2540a8">
<td id="7922f6b2"><p><code class="code ">TypeElement</code></p></td>
<td id="45ce6b4"><p><code class="code ">KSClassDeclaration</code></p></td>
<td id="22aefec0"></td>
</tr>
<tr class="" id="fb2e8d9c">
<td id="5401c0d2"><p><code class="code ">TypeParameterElement</code></p></td>
<td id="c9f7da09"><p><code class="code ">KSTypeParameter</code></p></td>
<td id="53b46bb5"></td>
</tr>
<tr class="" id="1c61f48f">
<td id="e7c5a967"><p><code class="code ">VariableElement</code></p></td>
<td id="aa85e70"><p><code class="code ">KSValueParameter</code>/<code class="code ">KSPropertyDeclaration</code></p></td>
<td id="dc2a061f"></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h2 id="types" data-toc="ksp-reference#types">Types</h2>
<p id="2ab20ef5">KSP requires explicit type resolution, so some functionalities in Java can only be carried out by <code class="code ">KSType</code> and the corresponding elements before resolution.</p>
<div class="table-wrapper"><table class=" wide" id="6cc61b2a">
<thead><tr class="ijRowHead" id="6c985516">
<th id="a2a6f928"><p><b id="ffbcbce8" class="">Java</b></p></th>
<th id="4caf1047"><p><b id="7d225d33" class="">Closest facility in KSP</b></p></th>
<th id="68e1f989"><p><b id="3e4dfa03" class="">Notes</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="e0d83ae4">
<td id="ba7ca4ef"><p><code class="code ">ArrayType</code></p></td>
<td id="9b7e32e3"><p><code class="code ">KSBuiltIns.arrayType</code></p></td>
<td id="69d566e1"></td>
</tr>
<tr class="" id="60c598d2">
<td id="1d60e734"><p><code class="code ">DeclaredType</code></p></td>
<td id="94e821f9"><p><code class="code ">KSType</code>/<code class="code ">KSClassifierReference</code></p></td>
<td id="862ed858"></td>
</tr>
<tr class="" id="cced3fb4">
<td id="713f2bc8"><p><code class="code ">ErrorType</code></p></td>
<td id="a12fb9b0"><p><code class="code ">KSType.isError</code></p></td>
<td id="892c9ff8"></td>
</tr>
<tr class="" id="ebb40eeb">
<td id="2f573039"><p><code class="code ">ExecutableType</code></p></td>
<td id="91f14796"><p><code class="code ">KSType</code>/<code class="code ">KSCallableReference</code></p></td>
<td id="d19572eb"></td>
</tr>
<tr class="" id="8112287">
<td id="2a968df7"><p><code class="code ">IntersectionType</code></p></td>
<td id="ef224bfb"><p><code class="code ">KSType</code>/<code class="code ">KSTypeParameter</code></p></td>
<td id="1571d841"></td>
</tr>
<tr class="" id="62c559d8">
<td id="50832c98"><p><code class="code ">NoType</code></p></td>
<td id="904a6867"><p><code class="code ">KSType.isError</code></p></td>
<td id="ab3ada93"><p>N/A in KSP</p></td>
</tr>
<tr class="" id="4ee4269a">
<td id="8e9dc1ca"><p><code class="code ">NullType</code></p></td>
<td id="48db0b1f"></td>
<td id="a35bc5b3"><p>N/A in KSP</p></td>
</tr>
<tr class="" id="685da8f3">
<td id="63d20f6c"><p><code class="code ">PrimitiveType</code></p></td>
<td id="5cee8640"><p><code class="code ">KSBuiltIns</code></p></td>
<td id="7056548c"><p>Not exactly same as primitive type in Java</p></td>
</tr>
<tr class="" id="396ee975">
<td id="c367385b"><p><code class="code ">ReferenceType</code></p></td>
<td id="2977b778"><p><code class="code ">KSTypeReference</code></p></td>
<td id="510159c5"></td>
</tr>
<tr class="" id="cc42017d">
<td id="41e5d490"><p><code class="code ">TypeMirror</code></p></td>
<td id="130b42f9"><p><code class="code ">KSType</code></p></td>
<td id="c20f3aae"></td>
</tr>
<tr class="" id="a927bd1">
<td id="4ed5917e"><p><code class="code ">TypeVariable</code></p></td>
<td id="f7fb4f9b"><p><code class="code ">KSTypeParameter</code></p></td>
<td id="a07e637c"></td>
</tr>
<tr class="" id="1f703936">
<td id="707987c3"><p><code class="code ">UnionType</code></p></td>
<td id="7afc3892"><p>N/A</p></td>
<td id="66c7eff3"><p>Kotlin has only one type per catch block. <code class="code ">UnionType</code> is also not observable by even Java annotation processors</p></td>
</tr>
<tr class="" id="70a03f17">
<td id="e2b58be6"><p><code class="code ">WildcardType</code></p></td>
<td id="75bdf1a4"><p><code class="code ">KSType</code>/<code class="code ">KSTypeArgument</code></p></td>
<td id="73941bf0"></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h2 id="misc" data-toc="ksp-reference#misc">Misc</h2>
<div class="table-wrapper"><table class=" wide" id="7a7f0120">
<thead><tr class="ijRowHead" id="6b88a83a">
<th id="5751c766"><p><b id="4e2f10cb" class="">Java</b></p></th>
<th id="84a4c687"><p><b id="759701ee" class="">Closest facility in KSP</b></p></th>
<th id="7e92db6e"><p><b id="44dfe8d" class="">Notes</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="144a9636">
<td id="bf0e19ab"><p><code class="code ">Name</code></p></td>
<td id="85bce7d7"><p><code class="code ">KSName</code></p></td>
<td id="cfd71b75"></td>
</tr>
<tr class="" id="e012a668">
<td id="a2fa8468"><p><code class="code ">ElementKind</code></p></td>
<td id="76a872de"><p><code class="code ">ClassKind</code>/<code class="code ">FunctionKind</code></p></td>
<td id="5f47f557"></td>
</tr>
<tr class="" id="a3ceecbe">
<td id="1c50e11b"><p><code class="code ">Modifier</code></p></td>
<td id="bfcd5190"><p><code class="code ">Modifier</code></p></td>
<td id="e9161649"></td>
</tr>
<tr class="" id="42c82f68">
<td id="e3abf889"><p><code class="code ">NestingKind</code></p></td>
<td id="934f92bc"><p><code class="code ">ClassKind</code>/<code class="code ">FunctionKind</code></p></td>
<td id="28b6cb3c"></td>
</tr>
<tr class="" id="841df54">
<td id="a1664326"><p><code class="code ">AnnotationValueVisitor</code></p></td>
<td id="14a34a36"></td>
<td id="907ee726"></td>
</tr>
<tr class="" id="b1a6f084">
<td id="c0f96388"><p><code class="code ">ElementVisitor</code></p></td>
<td id="388fc05b"><p><code class="code ">KSVisitor</code></p></td>
<td id="d352ef9d"></td>
</tr>
<tr class="" id="3f541477">
<td id="48f79f57"><p><code class="code ">AnnotatedConstruct</code></p></td>
<td id="6a887b55"><p><code class="code ">KSAnnotated</code></p></td>
<td id="dcd0581d"></td>
</tr>
<tr class="" id="9203efeb">
<td id="55af9394"><p><code class="code ">TypeVisitor</code></p></td>
<td id="af6311f1"></td>
<td id="b3edc5d9"></td>
</tr>
<tr class="" id="be5f81e9">
<td id="c805578a"><p><code class="code ">TypeKind</code></p></td>
<td id="e8d99a21"><p><code class="code ">KSBuiltIns</code></p></td>
<td id="a8c75234"><p>Some can be found in builtins, otherwise check <code class="code ">KSClassDeclaration</code> for <code class="code ">DeclaredType</code></p></td>
</tr>
<tr class="" id="ca3661c9">
<td id="f9f983c"><p><code class="code ">ElementFilter</code></p></td>
<td id="dddf0e51"><p><code class="code ">Collection.filterIsInstance</code></p></td>
<td id="6a4d6d78"></td>
</tr>
<tr class="" id="c709601c">
<td id="343a7511"><p><code class="code ">ElementKindVisitor</code></p></td>
<td id="381790e6"><p><code class="code ">KSVisitor</code></p></td>
<td id="9ea594c3"></td>
</tr>
<tr class="" id="f8e5e489">
<td id="92767fde"><p><code class="code ">ElementScanner</code></p></td>
<td id="ca14c89d"><p><code class="code ">KSTopDownVisitor</code></p></td>
<td id="28433887"></td>
</tr>
<tr class="" id="a7b71425">
<td id="73d15956"><p><code class="code ">SimpleAnnotationValueVisitor</code></p></td>
<td id="9deb2f8b"></td>
<td id="816eba88"><p>Not needed in KSP</p></td>
</tr>
<tr class="" id="99e24bf8">
<td id="51c76046"><p><code class="code ">SimpleElementVisitor</code></p></td>
<td id="ac6c947d"><p><code class="code ">KSVisitor</code></p></td>
<td id="3092ddd4"></td>
</tr>
<tr class="" id="5e9004db">
<td id="63095d1b"><p><code class="code ">SimpleTypeVisitor</code></p></td>
<td id="8603ab42"></td>
<td id="4e0c5de0"></td>
</tr>
<tr class="" id="684d4746">
<td id="473d4536"><p><code class="code ">TypeKindVisitor</code></p></td>
<td id="d203fcdc"></td>
<td id="e7900457"></td>
</tr>
<tr class="" id="ed0da59c">
<td id="faf5e115"><p><code class="code ">Types</code></p></td>
<td id="10c010fc"><p><code class="code ">Resolver</code>/<code class="code ">utils</code></p></td>
<td id="116eebd0"><p>Some of the <code class="code ">utils</code> are also integrated into symbol interfaces</p></td>
</tr>
<tr class="" id="2b9c82b8">
<td id="73045759"><p><code class="code ">Elements</code></p></td>
<td id="8dc21d7d"><p><code class="code ">Resolver</code>/<code class="code ">utils</code></p></td>
<td id="26c9afaf"></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h2 id="details" data-toc="ksp-reference#details">Details</h2>
<p id="e4676a0a">See how functionalities of Java annotation processing API can be carried out by KSP.</p>
<section class="chapter"><h3 id="annotationmirror" data-toc="ksp-reference#annotationmirror">AnnotationMirror</h3>
<div class="table-wrapper"><table class=" wide" id="865d2aea">
<thead><tr class="ijRowHead" id="b295ba4a">
<th id="44d70fef"><p><b id="307ab654" class="">Java</b></p></th>
<th id="907ae88f"><p><b id="6839d0da" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="d14c9890">
<td id="2f0a32a2"><p><code class="code ">getAnnotationType</code></p></td>
<td id="c678020c"><p><code class="code ">ksAnnotation.annotationType</code></p></td>
</tr>
<tr class="" id="121aded1">
<td id="2818d65a"><p><code class="code ">getElementValues</code></p></td>
<td id="9d739ffa"><p><code class="code ">ksAnnotation.arguments</code></p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="annotationvalue" data-toc="ksp-reference#annotationvalue">AnnotationValue</h3>
<div class="table-wrapper"><table class=" wide" id="f69035e0">
<thead><tr class="ijRowHead" id="baf66f8e">
<th id="286457df"><p><b id="25dde5dc" class="">Java</b></p></th>
<th id="7f785bea"><p><b id="c8e683fd" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody><tr class="" id="70ef6f4">
<td id="12d81a76"><p><code class="code ">getValue</code></p></td>
<td id="e6ad1eb4"><p><code class="code ">ksValueArgument.value</code></p></td>
</tr></tbody>
</table></div></section><section class="chapter"><h3 id="element" data-toc="ksp-reference#element">Element</h3>
<div class="table-wrapper"><table class=" wide" id="8cbe2013">
<thead><tr class="ijRowHead" id="7c57b7ae">
<th id="bb33431c"><p><b id="f8229abc" class="">Java</b></p></th>
<th id="db4c0730"><p><b id="4868571c" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="d1542835">
<td id="afdbf82d"><p><code class="code ">asType</code></p></td>
<td id="8f1939fc"><p><code class="code ">ksClassDeclaration.asType(...)</code> is available for <code class="code ">KSClassDeclaration</code> only. Type arguments need to be supplied.</p></td>
</tr>
<tr class="" id="472577b1">
<td id="44935128"><p><code class="code ">getAnnotation</code></p></td>
<td id="80d1e0b7"><p>To be implemented</p></td>
</tr>
<tr class="" id="b18751b7">
<td id="20561d8b"><p><code class="code ">getAnnotationMirrors</code></p></td>
<td id="6fe9c2bc"><p><code class="code ">ksDeclaration.annotations</code></p></td>
</tr>
<tr class="" id="1448fabf">
<td id="7795944e"><p><code class="code ">getEnclosedElements</code></p></td>
<td id="bcf25322"><p><code class="code ">ksDeclarationContainer.declarations</code></p></td>
</tr>
<tr class="" id="ba0c46bb">
<td id="af58bc04"><p><code class="code ">getEnclosingElements</code></p></td>
<td id="dbda2b1e"><p><code class="code ">ksDeclaration.parentDeclaration</code></p></td>
</tr>
<tr class="" id="9c9ec8e6">
<td id="7dd2e0b2"><p><code class="code ">getKind</code></p></td>
<td id="9b083947"><p>Type check and cast following <code class="code ">ClassKind</code> or <code class="code ">FunctionKind</code></p></td>
</tr>
<tr class="" id="313cd729">
<td id="1c918123"><p><code class="code ">getModifiers</code></p></td>
<td id="cd017ec8"><p><code class="code ">ksDeclaration.modifiers</code></p></td>
</tr>
<tr class="" id="fa170f50">
<td id="21948121"><p><code class="code ">getSimpleName</code></p></td>
<td id="2cca1e4"><p><code class="code ">ksDeclaration.simpleName</code></p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="executableelement" data-toc="ksp-reference#executableelement">ExecutableElement</h3>
<div class="table-wrapper"><table class=" wide" id="d434a142">
<thead><tr class="ijRowHead" id="3df6613a">
<th id="c854b660"><p><b id="f5c8594c" class="">Java</b></p></th>
<th id="38d0cf9e"><p><b id="2e136b62" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="525cfcfb">
<td id="7950a944"><p><code class="code ">getDefaultValue</code></p></td>
<td id="87c65ce"><p>To be implemented</p></td>
</tr>
<tr class="" id="1be90faa">
<td id="98b6e4c4"><p><code class="code ">getParameters</code></p></td>
<td id="fb76cc7e"><p><code class="code ">ksFunctionDeclaration.parameters</code></p></td>
</tr>
<tr class="" id="29f669eb">
<td id="395b9df4"><p><code class="code ">getReceiverType</code></p></td>
<td id="474fa0ba"><p><code class="code ">ksFunctionDeclaration.parentDeclaration</code></p></td>
</tr>
<tr class="" id="72afbfb1">
<td id="f5ef3cec"><p><code class="code ">getReturnType</code></p></td>
<td id="263847c"><p><code class="code ">ksFunctionDeclaration.returnType</code></p></td>
</tr>
<tr class="" id="f4322d47">
<td id="58c4fb05"><p><code class="code ">getSimpleName</code></p></td>
<td id="5a5c6285"><p><code class="code ">ksFunctionDeclaration.simpleName</code></p></td>
</tr>
<tr class="" id="e7c96724">
<td id="9d90d9a0"><p><code class="code ">getThrownTypes</code></p></td>
<td id="63f2c01"><p>Not needed in Kotlin</p></td>
</tr>
<tr class="" id="ea179e61">
<td id="38d00c26"><p><code class="code ">getTypeParameters</code></p></td>
<td id="681d66dd"><p><code class="code ">ksFunctionDeclaration.typeParameters</code></p></td>
</tr>
<tr class="" id="9a4c17d8">
<td id="859ed7ae"><p><code class="code ">isDefault</code></p></td>
<td id="c669e18c"><p>Check whether parent declaration is an interface or not</p></td>
</tr>
<tr class="" id="da4ef601">
<td id="c5fdbebd"><p><code class="code ">isVarArgs</code></p></td>
<td id="52ca63df"><p><code class="code ">ksFunctionDeclaration.parameters.any { it.isVarArg }</code></p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="parameterizable" data-toc="ksp-reference#parameterizable">Parameterizable</h3>
<div class="table-wrapper"><table class=" wide" id="ebc323c">
<thead><tr class="ijRowHead" id="becc32eb">
<th id="d2186aa5"><p><b id="d0c2a4b5" class="">Java</b></p></th>
<th id="ea80c8f8"><p><b id="bf5d5d77" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody><tr class="" id="40fd66ee">
<td id="f1fbc5a6"><p><code class="code ">getTypeParameters</code></p></td>
<td id="eb3a6e28"><p><code class="code ">ksFunctionDeclaration.typeParameters</code></p></td>
</tr></tbody>
</table></div></section><section class="chapter"><h3 id="qualifiednameable" data-toc="ksp-reference#qualifiednameable">QualifiedNameable</h3>
<div class="table-wrapper"><table class=" wide" id="b4c374c3">
<thead><tr class="ijRowHead" id="be0e8b06">
<th id="9f1ff81e"><p><b id="a7ca79ef" class="">Java</b></p></th>
<th id="1c74c1e0"><p><b id="26f73f64" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody><tr class="" id="84b544b5">
<td id="93d73717"><p><code class="code ">getQualifiedName</code></p></td>
<td id="ee44dede"><p><code class="code ">ksDeclaration.qualifiedName</code></p></td>
</tr></tbody>
</table></div></section><section class="chapter"><h3 id="typeelement" data-toc="ksp-reference#typeelement">TypeElement</h3>
<div class="table-wrapper"><table class=" wide" id="fddf95ac">
<thead><tr class="ijRowHead" id="44651d73">
<th id="ceb7c508"><p><b id="983d9dfb" class="">Java</b></p></th>
<th id="19c67024"><p><b id="862f2659" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="a629bbf8">
<td id="3ab0b735"><p><code class="code ">getEnclosedElements</code></p></td>
<td id="7dd8cd84"><p><code class="code ">ksClassDeclaration.declarations</code></p></td>
</tr>
<tr class="" id="d02a69d5">
<td id="c53cbb88"><p><code class="code ">getEnclosingElement</code></p></td>
<td id="2597e3d2"><p><code class="code ">ksClassDeclaration.parentDeclaration</code></p></td>
</tr>
<tr class="" id="48b1dab7">
<td id="5a21ac0b"><p><code class="code ">getInterfaces</code></p></td>
<td id="d2edbb15"><pre class="code" data-language="kotlin">// Should be able to do without resolution
ksClassDeclaration.superTypes
    .map { it.resolve() }
    .filter { (it?.declaration as? KSClassDeclaration)?.classKind == ClassKind.INTERFACE }
</pre></td>
</tr>
<tr class="" id="1a407760">
<td id="33e49e6c"><p><code class="code ">getNestingKind</code></p></td>
<td id="64d9d74d"><p>Check <code class="code ">KSClassDeclaration.parentDeclaration</code> and <code class="code ">inner</code> modifier</p></td>
</tr>
<tr class="" id="3a72b1fe">
<td id="f283460a"><p><code class="code ">getQualifiedName</code></p></td>
<td id="95d086cc"><p><code class="code ">ksClassDeclaration.qualifiedName</code></p></td>
</tr>
<tr class="" id="6637b430">
<td id="22bcb7c"><p><code class="code ">getSimpleName</code></p></td>
<td id="305e36cb"><p><code class="code ">ksClassDeclaration.simpleName</code></p></td>
</tr>
<tr class="" id="9c3e35b4">
<td id="df15677c"><p><code class="code ">getSuperclass</code></p></td>
<td id="83d4dede"><pre class="code" data-language="kotlin">// Should be able to do without resolution
ksClassDeclaration.superTypes
    .map { it.resolve() }
    .filter { (it?.declaration as? KSClassDeclaration)?.classKind == ClassKind.CLASS }
</pre></td>
</tr>
<tr class="" id="788d3599">
<td id="3abc8427"><p><code class="code ">getTypeParameters</code></p></td>
<td id="c5f9c8f8"><p><code class="code ">ksClassDeclaration.typeParameters</code></p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="typeparameterelement" data-toc="ksp-reference#typeparameterelement">TypeParameterElement</h3>
<div class="table-wrapper"><table class=" wide" id="86e815ae">
<thead><tr class="ijRowHead" id="da046a79">
<th id="6cac7313"><p><b id="f7b888e4" class="">Java</b></p></th>
<th id="ebe581b4"><p><b id="7b7d1801" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="bee26074">
<td id="30ddc47f"><p><code class="code ">getBounds</code></p></td>
<td id="9e2ca048"><p><code class="code ">ksTypeParameter.bounds</code></p></td>
</tr>
<tr class="" id="29450a1d">
<td id="f7a1ee84"><p><code class="code ">getEnclosingElement</code></p></td>
<td id="440129dc"><p><code class="code ">ksTypeParameter.parentDeclaration</code></p></td>
</tr>
<tr class="" id="2f8f0568">
<td id="5f022033"><p><code class="code ">getGenericElement</code></p></td>
<td id="39d3758d"><p><code class="code ">ksTypeParameter.parentDeclaration</code></p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="variableelement" data-toc="ksp-reference#variableelement">VariableElement</h3>
<div class="table-wrapper"><table class=" wide" id="6a946199">
<thead><tr class="ijRowHead" id="d088f7fb">
<th id="2a796b10"><p><b id="b8073bdc" class="">Java</b></p></th>
<th id="37d69149"><p><b id="5c31acbf" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="2233dd3f">
<td id="c260f68b"><p><code class="code ">getConstantValue</code></p></td>
<td id="8876512e"><p>To be implemented</p></td>
</tr>
<tr class="" id="ae4bad5f">
<td id="16c27ab"><p><code class="code ">getEnclosingElement</code></p></td>
<td id="26fd2a24"><p><code class="code ">ksValueParameter.parentDeclaration</code></p></td>
</tr>
<tr class="" id="d48b23ad">
<td id="4a64e0b5"><p><code class="code ">getSimpleName</code></p></td>
<td id="3cd0a907"><p><code class="code ">ksValueParameter.simpleName</code></p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="arraytype" data-toc="ksp-reference#arraytype">ArrayType</h3>
<div class="table-wrapper"><table class=" wide" id="788519e5">
<thead><tr class="ijRowHead" id="e53c4978">
<th id="57f66167"><p><b id="10c7e8ef" class="">Java</b></p></th>
<th id="9a00d0c5"><p><b id="fbd5c72b" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody><tr class="" id="7463d32f">
<td id="afc5bf7a"><p><code class="code ">getComponentType</code></p></td>
<td id="8f5c8a79"><p><code class="code ">ksType.arguments.first()</code></p></td>
</tr></tbody>
</table></div></section><section class="chapter"><h3 id="declaredtype" data-toc="ksp-reference#declaredtype">DeclaredType</h3>
<div class="table-wrapper"><table class=" wide" id="475a2829">
<thead><tr class="ijRowHead" id="a0cd4d85">
<th id="1bdc5515"><p><b id="89cef47e" class="">Java</b></p></th>
<th id="86c009cc"><p><b id="59c8a45c" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="a8e5893c">
<td id="574eb53f"><p><code class="code ">asElement</code></p></td>
<td id="c70ef756"><p><code class="code ">ksType.declaration</code></p></td>
</tr>
<tr class="" id="aa0795a2">
<td id="8a3cdb1d"><p><code class="code ">getEnclosingType</code></p></td>
<td id="1f78b4a8"><p><code class="code ">ksType.declaration.parentDeclaration</code></p></td>
</tr>
<tr class="" id="9421f6aa">
<td id="fefece7b"><p><code class="code ">getTypeArguments</code></p></td>
<td id="687d7bcd"><p><code class="code ">ksType.arguments</code></p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="executabletype" data-toc="ksp-reference#executabletype">ExecutableType</h3>
<aside data-type="note" class="prompt" data-title="" id="df94ad2f"><p id="bca154f9">A <code class="code ">KSType</code> for a function is just a signature represented by the <code class="code ">FunctionN&lt;R, T1, T2, ..., TN&gt;</code> family.</p></aside><div class="table-wrapper"><table class=" wide" id="42d8cb9d">
<thead><tr class="ijRowHead" id="682b3e5c">
<th id="350c3532"><p><b id="6216a416" class="">Java</b></p></th>
<th id="c268fcd0"><p><b id="762ee23d" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="ab81afb3">
<td id="40beac06"><p><code class="code ">getParameterTypes</code></p></td>
<td id="a15f48ea"><p><code class="code ">ksType.declaration.typeParameters</code>, <code class="code ">ksFunctionDeclaration.parameters.map { it.type }</code></p></td>
</tr>
<tr class="" id="bc28d31e">
<td id="e613aada"><p><code class="code ">getReceiverType</code></p></td>
<td id="6081fa24"><p><code class="code ">ksFunctionDeclaration.parentDeclaration.asType(...)</code></p></td>
</tr>
<tr class="" id="9af23e49">
<td id="b1ec0298"><p><code class="code ">getReturnType</code></p></td>
<td id="7d19edea"><p><code class="code ">ksType.declaration.typeParameters.last()</code></p></td>
</tr>
<tr class="" id="e45d40a9">
<td id="f2d14451"><p><code class="code ">getThrownTypes</code></p></td>
<td id="1cc1118b"><p>Not needed in Kotlin</p></td>
</tr>
<tr class="" id="349ff097">
<td id="69a12103"><p><code class="code ">getTypeVariables</code></p></td>
<td id="a8406e4e"><p><code class="code ">ksFunctionDeclaration.typeParameters</code></p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="intersectiontype" data-toc="ksp-reference#intersectiontype">IntersectionType</h3>
<div class="table-wrapper"><table class=" wide" id="f98c1613">
<thead><tr class="ijRowHead" id="74ae3ad2">
<th id="392b2a56"><p><b id="c42aeecd" class="">Java</b></p></th>
<th id="5e9f4c64"><p><b id="a25c157b" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody><tr class="" id="64737010">
<td id="a99e4816"><p><code class="code ">getBounds</code></p></td>
<td id="21df1069"><p><code class="code ">ksTypeParameter.bounds</code></p></td>
</tr></tbody>
</table></div></section><section class="chapter"><h3 id="typemirror" data-toc="ksp-reference#typemirror">TypeMirror</h3>
<div class="table-wrapper"><table class=" wide" id="5961e404">
<thead><tr class="ijRowHead" id="789ca7b2">
<th id="b956fc98"><p><b id="3c4f3800" class="">Java</b></p></th>
<th id="7c89d36d"><p><b id="ae40b8aa" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody><tr class="" id="8b807c22">
<td id="68db58fe"><p><code class="code ">getKind</code></p></td>
<td id="e0f8d702"><p>Compare with types in <code class="code ">KSBuiltIns</code> for primitive types, <code class="code ">Unit</code> type, otherwise declared types</p></td>
</tr></tbody>
</table></div></section><section class="chapter"><h3 id="typevariable" data-toc="ksp-reference#typevariable">TypeVariable</h3>
<div class="table-wrapper"><table class=" wide" id="36fd21c2">
<thead><tr class="ijRowHead" id="9eae4a4c">
<th id="27ef2f60"><p><b id="e11b878c" class="">Java</b></p></th>
<th id="6a013f2e"><p><b id="18972ea1" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="9c9678e4">
<td id="82e325df"><p><code class="code ">asElement</code></p></td>
<td id="dd926a1c"><p><code class="code ">ksType.declaration</code></p></td>
</tr>
<tr class="" id="ecaeba01">
<td id="453d68c7"><p><code class="code ">getLowerBound</code></p></td>
<td id="3fb2cbc4"><p>To be decided. Only needed if capture is provided and explicit bound checking is needed.</p></td>
</tr>
<tr class="" id="35de6958">
<td id="1e14adb8"><p><code class="code ">getUpperBound</code></p></td>
<td id="e3e8c871"><p><code class="code ">ksTypeParameter.bounds</code></p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="wildcardtype" data-toc="ksp-reference#wildcardtype">WildcardType</h3>
<div class="table-wrapper"><table class=" wide" id="3b7639ad">
<thead><tr class="ijRowHead" id="e83fd7f6">
<th id="237723d1"><p><b id="3b06ab17" class="">Java</b></p></th>
<th id="db96722b"><p><b id="202a29e0" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="796c3100">
<td id="bd0a659"><p><code class="code ">getExtendsBound</code></p></td>
<td id="43b139c6"><pre class="code" data-language="kotlin">if (ksTypeArgument.variance == Variance.COVARIANT) ksTypeArgument.type else null
</pre></td>
</tr>
<tr class="" id="bc1896f2">
<td id="710be040"><p><code class="code ">getSuperBound</code></p></td>
<td id="3cb0e78e"><pre class="code" data-language="kotlin">if (ksTypeArgument.variance == Variance.CONTRAVARIANT) ksTypeArgument.type else null
</pre></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="elements" data-toc="ksp-reference#elements">Elements</h3>
<div class="table-wrapper"><table class=" wide" id="628a235b">
<thead><tr class="ijRowHead" id="e9169916">
<th id="b7093760"><p><b id="bab6015" class="">Java</b></p></th>
<th id="1c6734b"><p><b id="2bf3beaa" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="8a9fc071">
<td id="6198b045"><p><code class="code ">getAllAnnotationMirrors</code></p></td>
<td id="26b2d0b5"><p><code class="code ">KSDeclarations.annotations</code></p></td>
</tr>
<tr class="" id="35b2d77f">
<td id="2ac351e3"><p><code class="code ">getAllMembers</code></p></td>
<td id="65bb76e7"><p><code class="code ">getAllFunctions</code>, <code class="code ">getAllProperties</code> is to be implemented</p></td>
</tr>
<tr class="" id="8e478aa6">
<td id="cd536fd2"><p><code class="code ">getBinaryName</code></p></td>
<td id="d453f263"><p>To be decided, see <a href="https://docs.oracle.com/javase/specs/jls/se13/html/jls-13.html#jls-13.1" id="f35e0670" data-external="true" rel="noopener noreferrer">Java Specification</a></p></td>
</tr>
<tr class="" id="bab92590">
<td id="320b7341"><p><code class="code ">getConstantExpression</code></p></td>
<td id="6624729f"><p>There is constant value, not expression</p></td>
</tr>
<tr class="" id="55318e42">
<td id="b12ae14f"><p><code class="code ">getDocComment</code></p></td>
<td id="8d2839d9"><p>To be implemented</p></td>
</tr>
<tr class="" id="d57f4eee">
<td id="4552c174"><p><code class="code ">getElementValuesWithDefaults</code></p></td>
<td id="78fa388b"><p>To be implemented</p></td>
</tr>
<tr class="" id="18f81ba8">
<td id="bccd5557"><p><code class="code ">getName</code></p></td>
<td id="554f4665"><p><code class="code ">resolver.getKSNameFromString</code></p></td>
</tr>
<tr class="" id="202f640b">
<td id="21c154f8"><p><code class="code ">getPackageElement</code></p></td>
<td id="ddb86d4e"><p>Package not supported, while package information can be retrieved. Operation on package is not possible for KSP</p></td>
</tr>
<tr class="" id="52bc97ed">
<td id="f142e9de"><p><code class="code ">getPackageOf</code></p></td>
<td id="10e4654"><p>Package not supported</p></td>
</tr>
<tr class="" id="a45365af">
<td id="83b2d5b2"><p><code class="code ">getTypeElement</code></p></td>
<td id="2c3e2ba2"><p><code class="code ">Resolver.getClassDeclarationByName</code></p></td>
</tr>
<tr class="" id="7f716a5d">
<td id="f2cd7b00"><p><code class="code ">hides</code></p></td>
<td id="6335a09f"><p>To be implemented</p></td>
</tr>
<tr class="" id="e2672910">
<td id="6c8d0b6"><p><code class="code ">isDeprecated</code></p></td>
<td id="c147dc26"><pre class="code" data-language="kotlin">KsDeclaration.annotations.any { 
    it.annotationType.resolve()!!.declaration.qualifiedName!!.asString() == Deprecated::class.qualifiedName
}
</pre></td>
</tr>
<tr class="" id="2cef62bb">
<td id="6dd1420a"><p><code class="code ">overrides</code></p></td>
<td id="a7bf2f93"><p><code class="code ">KSFunctionDeclaration.overrides</code>/<code class="code ">KSPropertyDeclaration.overrides</code> (member function of respective class)</p></td>
</tr>
<tr class="" id="8749920d">
<td id="58fa91d2"><p><code class="code ">printElements</code></p></td>
<td id="d81fdde3"><p>KSP has basic <code class="code ">toString()</code> implementation on most classes</p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="type-operations" data-toc="ksp-reference#type-operations">Types</h3>
<div class="table-wrapper"><table class=" wide" id="cab1acbf">
<thead><tr class="ijRowHead" id="8a4b25ad">
<th id="f26b209f"><p><b id="d84a5c08" class="">Java</b></p></th>
<th id="f1586ef1"><p><b id="8d7bd965" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="ea684540">
<td id="c479c9c5"><p><code class="code ">asElement</code></p></td>
<td id="369573ea"><p><code class="code ">ksType.declaration</code></p></td>
</tr>
<tr class="" id="b7011c0c">
<td id="6b8eb462"><p><code class="code ">asMemberOf</code></p></td>
<td id="459affe0"><p><code class="code ">resolver.asMemberOf</code></p></td>
</tr>
<tr class="" id="aefcc33e">
<td id="35735733"><p><code class="code ">boxedClass</code></p></td>
<td id="bed62e0"><p>Not needed</p></td>
</tr>
<tr class="" id="16c8e0e2">
<td id="b94cc291"><p><code class="code ">capture</code></p></td>
<td id="77b67e9a"><p>To be decided</p></td>
</tr>
<tr class="" id="3d7c632e">
<td id="6eb77b15"><p><code class="code ">contains</code></p></td>
<td id="f3a6f69f"><p><code class="code ">KSType.isAssignableFrom</code></p></td>
</tr>
<tr class="" id="b52bfe01">
<td id="a5d341df"><p><code class="code ">directSuperTypes</code></p></td>
<td id="88379005"><p><code class="code ">(ksType.declaration as KSClassDeclaration).superTypes</code></p></td>
</tr>
<tr class="" id="f6cd01ae">
<td id="2c27a93a"><p><code class="code ">erasure</code></p></td>
<td id="f8a95213"><p><code class="code ">ksType.starProjection()</code></p></td>
</tr>
<tr class="" id="7acd5006">
<td id="44bba7dc"><p><code class="code ">getArrayType</code></p></td>
<td id="857cd2d2"><p><code class="code ">ksBuiltIns.arrayType.replace(...)</code></p></td>
</tr>
<tr class="" id="d8ee6eb8">
<td id="ef722c3"><p><code class="code ">getDeclaredType</code></p></td>
<td id="684e845a"><p><code class="code ">ksClassDeclaration.asType</code></p></td>
</tr>
<tr class="" id="cc1bd3e">
<td id="58384c57"><p><code class="code ">getNoType</code></p></td>
<td id="5472fdc0"><p><code class="code ">ksBuiltIns.nothingType</code>/<code class="code ">null</code></p></td>
</tr>
<tr class="" id="4caa3a7">
<td id="d1a7437f"><p><code class="code ">getNullType</code></p></td>
<td id="16468194"><p>Depending on the context, <code class="code ">KSType.markNullable</code> could be useful</p></td>
</tr>
<tr class="" id="2ca91710">
<td id="8483d732"><p><code class="code ">getPrimitiveType</code></p></td>
<td id="10f70174"><p>Not needed, check for <code class="code ">KSBuiltins</code></p></td>
</tr>
<tr class="" id="ac4e648d">
<td id="be260e82"><p><code class="code ">getWildcardType</code></p></td>
<td id="11e2797f"><p>Use <code class="code ">Variance</code> in places expecting <code class="code ">KSTypeArgument</code></p></td>
</tr>
<tr class="" id="13c3805a">
<td id="f119b032"><p><code class="code ">isAssignable</code></p></td>
<td id="a6100841"><p><code class="code ">ksType.isAssignableFrom</code></p></td>
</tr>
<tr class="" id="b627fba8">
<td id="5fc4f345"><p><code class="code ">isSameType</code></p></td>
<td id="9a6de087"><p><code class="code ">ksType.equals</code></p></td>
</tr>
<tr class="" id="68846dff">
<td id="22b87d91"><p><code class="code ">isSubsignature</code></p></td>
<td id="e733406a"><p><code class="code ">functionTypeA == functionTypeB</code>/<code class="code ">functionTypeA == functionTypeB.starProjection()</code></p></td>
</tr>
<tr class="" id="51405e3c">
<td id="4ed4204d"><p><code class="code ">isSubtype</code></p></td>
<td id="a86e8759"><p><code class="code ">ksType.isAssignableFrom</code></p></td>
</tr>
<tr class="" id="953a7b69">
<td id="8173630"><p><code class="code ">unboxedType</code></p></td>
<td id="115a04f"><p>Not needed</p></td>
</tr>
</tbody>
</table></div></section></section><div class="last-modified"> Last modified: 08 August 2022</div>

<div class="navigation-links _bottom"> <a class="navigation-links__prev" href="ksp-additional-details">How KSP models Kotlin code</a> <a class="navigation-links__next" href="ksp-incremental">Incremental processing</a> </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://kotlinlang.org/docs/ksp-reference.html" class="_attribution-link" target="_blank">https://kotlinlang.org/docs/ksp-reference.html</a>
  </p>
</div>
