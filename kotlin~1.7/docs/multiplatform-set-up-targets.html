<h1 data-toc="multiplatform-set-up-targets" id="multiplatform-set-up-targets.md">Set up targets for Kotlin Multiplatform</h1>
<p id="5bacb48e">You can add targets when <a href="multiplatform-library" id="6ffcaebd">creating a project with the Project Wizard</a>. If you need to add a target later, you can do this manually using target presets for <a href="multiplatform-dsl-reference#targets" id="fd469b24">supported platforms</a>.</p>
<p id="65a27479">Learn more about <a href="multiplatform-dsl-reference#common-target-configuration" id="331162d4">additional settings for targets</a>.</p>
<pre class="code" data-language="kotlin">kotlin {
    jvm() // Create a JVM target with the default name 'jvm'
        
    linuxX64() {
        /* Specify additional settings for the 'linux' target here */
    }
}
</pre>
<p id="f3eca5c8">Each target can have one or more <a href="multiplatform-configure-compilations" id="8d87835">compilations</a>. In addition to default compilations for test and production purposes, you can <a href="multiplatform-configure-compilations#create-a-custom-compilation" id="6047ba54">create custom compilations</a>.</p>
<section class="chapter"><h2 id="distinguish-several-targets-for-one-platform" data-toc="multiplatform-set-up-targets#distinguish-several-targets-for-one-platform">Distinguish several targets for one platform</h2>
<p id="25eb8fef">You can have several targets for one platform in a multiplatform library. For example, these targets can provide the same API but use different libraries during runtime, such as testing frameworks and logging solutions. Dependencies on such a multiplatform library may fail to resolve because it isn’t clear which target to choose.</p>
<p id="5d25320d">To solve this, mark the targets on both the library author and consumer sides with a custom attribute, which Gradle uses during dependency resolution.</p>
<p id="e9b584b4">For example, consider a testing library that supports both JUnit and TestNG in the two targets. The library author needs to add an attribute to both targets as follows:</p>
<div class="tabs" id="16bd1ace" data-group="build-script">
<div class="tabs__content" data-gtm="tab" id="72465007" data-sync-tabs="kotlin" data-title="Kotlin"><pre class="code" data-language="kotlin">val testFrameworkAttribute = Attribute.of("com.example.testFramework", String::class.java)

kotlin {
    jvm("junit") {
        attributes.attribute(testFrameworkAttribute, "junit")
    }
    jvm("testng") {
        attributes.attribute(testFrameworkAttribute, "testng")
    }
}
</pre></div>
<div class="tabs__content" data-gtm="tab" id="7d991031" data-sync-tabs="groovy" data-title="Groovy"><pre class="code" data-language="groovy">def testFrameworkAttribute = Attribute.of('com.example.testFramework', String)

kotlin {
    jvm('junit') {
        attributes.attribute(testFrameworkAttribute, 'junit')
    }
    jvm('testng') {
        attributes.attribute(testFrameworkAttribute, 'testng')
    }
}
</pre></div>
</div>
<p id="ce025492">The consumer has to add the attribute to a single target where the ambiguity arises.</p></section><div class="last-modified"> Last modified: 08 August 2022</div>

<div class="navigation-links _bottom"> <a class="navigation-links__prev" href="multiplatform-discover-project">Understand Multiplatform project structure</a> <a class="navigation-links__next" href="multiplatform-library">Create and publish a multiplatform library – tutorial</a> </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://kotlinlang.org/docs/multiplatform-set-up-targets.html" class="_attribution-link" target="_blank">https://kotlinlang.org/docs/multiplatform-set-up-targets.html</a>
  </p>
</div>
