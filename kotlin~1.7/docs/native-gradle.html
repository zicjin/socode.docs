<h1 data-toc="native-gradle" id="native-gradle.md">Get started with Kotlin/Native using Gradle</h1>
<p id="3be5371"><a href="https://gradle.org" id="c1e3fcd8" data-external="true" rel="noopener noreferrer">Gradle</a> is a build system that is very commonly used in the Java, Android, and other ecosystems. It is the default choice for Kotlin/Native and Multiplatform when it comes to build systems.</p>
<p id="17aa4205">While most IDEs, including <a href="https://www.jetbrains.com/idea" id="63b04506" data-external="true" rel="noopener noreferrer">IntelliJ IDEA</a>, can generate necessary Gradle files, this tutorial covers how to create them manually to provide a better understanding of how things work under the hood.</p>
<p id="ff0dd810">To get started, install the latest version of <a href="https://gradle.org/install/" id="8e411aba" data-external="true" rel="noopener noreferrer">Gradle</a>.</p>
<aside data-type="note" class="prompt" data-title="" id="b7c378e1"><p id="50ffb1a5">If you would like to use an IDE, check out the <a href="native-get-started" id="a47f03e2">Using IntelliJ IDEA</a> tutorial.</p></aside><section class="chapter"><h2 id="create-project-files" data-toc="native-gradle#create-project-files">Create project files</h2>
<ol class="list _decimal" id="b65ce8e7">
<li class="list__item" id="571600ec">
<p id="9d5fef71">Create a project directory. Inside it, create <code class="code ">build.gradle</code> or <code class="code ">build.gradle.kts</code> Gradle build file with the following content:</p>
<div class="tabs" id="b67d791e" data-group="build-script">
<div class="tabs__content" data-gtm="tab" id="f67c1187" data-sync-tabs="kotlin" data-title="Kotlin"><pre class="code" data-language="kotlin">// build.gradle.kts
plugins {
    kotlin("multiplatform") version "1.7.10"
}

repositories {
    mavenCentral()
}

kotlin {
    macosX64("native") { // on macOS
    // linuxX64("native") // on Linux
    // mingwX64("native") // on Windows
        binaries {
            executable()
        }
    }
}

tasks.withType&lt;Wrapper&gt; {
    gradleVersion = "6.7.1"
    distributionType = Wrapper.DistributionType.BIN
}
</pre></div>
<div class="tabs__content" data-gtm="tab" id="4afed7cf" data-sync-tabs="groovy" data-title="Groovy"><pre class="code" data-language="groovy">// build.gradle
plugins {
    id 'org.jetbrains.kotlin.multiplatform' version '1.7.10'
}

repositories {
    mavenCentral()
}

kotlin {
    macosX64('native') { // on macOS
    // linuxX64('native') // on Linux
    // mingwX64('native') // on Windows
        binaries {
            executable()
        }
    }
}

wrapper {
    gradleVersion = '6.7.1'
    distributionType = 'BIN'
}
</pre></div>
</div>
<p id="e8a7a68a">You can use different <a href="multiplatform-dsl-reference#targets" id="f156c097">target presets</a>, such as <code class="code ">macosX64</code>, <code class="code ">mingwX64</code>, <code class="code ">linuxX64</code>, <code class="code ">iosX64</code>, to define the corresponding target platform. The preset name describes a platform for which you are compiling your code. These target presets optionally take the target name as a parameter, which is <code class="code ">native</code> in this case. The target name is used to generate the source paths and task names in the project.</p>
</li>
<li class="list__item" id="49b75772"><p id="4caa203d">Create an empty <code class="code ">settings.gradle</code> or <code class="code ">settings.gradle.kts</code> file in the project directory.</p></li>
<li class="list__item" id="eea31d6a">
<p id="1f8b448c">Create a directory <code class="code ">src/nativeMain/kotlin</code> and place inside the <code class="code ">hello.kt</code> file with the following content:</p>
<pre class="code" data-language="kotlin">fun main() {
    println("Hello, Kotlin/Native!")
}
</pre>
<p id="30c7f9ad">By convention, all sources are located in the <code class="code ">src/&lt;target name&gt;[Main|Test]/kotlin</code> directories, where <code class="code ">main</code> is for the source code and <code class="code ">test</code> is for tests. <code class="code ">&lt;target name&gt;</code> corresponds to the target platform (in this case <code class="code ">native</code>), as specified in the build file.</p>
</li>
</ol>
<p id="2765ee0">Now you are ready to build your project and run the application.</p></section><section class="chapter"><h2 id="build-and-run-the-application" data-toc="native-gradle#build-and-run-the-application">Build and run the application</h2>
<ol class="list _decimal" id="31f77b0c">
<li class="list__item" id="248ba70c">
<p id="a9035f5c">From the root project directory, run the build command:</p>
<pre class="code" data-language="bash">gradle nativeBinaries
</pre>
<p id="1bd9fb0c">This command creates the <code class="code ">build/bin/native</code> directory with two directories inside: <code class="code ">debugExecutable</code> and <code class="code ">releaseExecutable</code>. They contain corresponding binary files.</p>
<p id="46f0d0d6">By default, the name of the binary file is the same as the project directory.</p>
</li>
<li class="list__item" id="d525ff78">
<p id="af52ea99">To run the project, execute the following command:</p>
<pre class="code" data-language="bash">build/bin/native/debugExecutable/&lt;project_name&gt;.kexe
</pre>
<p id="42f173ac">Terminal prints "Hello, Kotlin/Native!".</p>
</li>
</ol></section><section class="chapter"><h2 id="open-the-project-in-an-ide" data-toc="native-gradle#open-the-project-in-an-ide">Open the project in an IDE</h2>
<p id="8f9fbab2">Now you can open your project in any IDE that supports Gradle. If you use IntelliJ IDEA:</p>
<ol class="list _decimal" id="f6e43f87">
<li class="list__item" id="c136cb2a"><p>Select <b id="71973130" class="">File</b> | <b id="3922d5ca" class="">Open...</b>.</p></li>
<li class="list__item" id="59e7b653"><p>Select the project directory and click <b id="d7e43b7c" class="">Open</b>.<br> IntelliJ IDEA will automatically detect it as Kotlin/Native project.</p></li>
</ol>
<aside data-type="note" class="prompt" data-title="" id="f65918d1"><p id="6ca30676">If you face any problem with the project, IntelliJ IDEA will show the error message in the <b id="3a9e4f4f" class="">Build</b> tab.</p></aside></section><section class="chapter"><h2 id="what-s-next" data-toc="native-gradle#what-s-next">What's next?</h2>
<p id="6fb38757">Learn how to <a href="multiplatform-dsl-reference" id="aa3d28a4">write Gradle build scripts for real-life Kotlin/Native projects</a>.</p></section><div class="last-modified"> Last modified: 08 August 2022</div>

<div class="navigation-links _bottom"> <a class="navigation-links__prev" href="native-get-started">Get started with Kotlin/Native in IntelliJ IDEA</a> <a class="navigation-links__next" href="native-command-line-compiler">Get started with Kotlin/Native using the command-line compiler</a> </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://kotlinlang.org/docs/native-gradle.html" class="_attribution-link" target="_blank">https://kotlinlang.org/docs/native-gradle.html</a>
  </p>
</div>
