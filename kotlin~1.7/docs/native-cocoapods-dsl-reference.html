<h1 data-toc="native-cocoapods-dsl-reference" id="native-cocoapods-dsl-reference.md">CocoaPods Gradle plugin DSL reference</h1>
<p id="29842275">Kotlin CocoaPods Gradle plugin is a tool for creating Podspec files. These files are necessary to integrate your Kotlin project with the <a href="https://cocoapods.org/" id="29768657" data-external="true" rel="noopener noreferrer">CocoaPods dependency manager</a>.</p>
<p id="3325c862">This reference contains the complete list of blocks, functions, and properties for the Kotlin CocoaPods Gradle plugin that you can use when working with the <a href="native-cocoapods" id="cb608ab1">CocoaPods integration</a>.</p>
<ul class="list _ul" id="395b9802">
<li class="list__item" id="c6edba30"><p>Learn how to <a href="native-cocoapods#set-up-the-environment-to-work-with-cocoapods" id="9fc6df17">set up the environment</a> and <a href="native-cocoapods#add-and-configure-kotlin-cocoapods-gradle-plugin" id="d9348d4f">configure the Kotlin CocoaPods Gradle plugin</a>.</p></li>
<li class="list__item" id="cd70eef7"><p>Depending on your project and purposes, you can add dependencies between <a href="native-cocoapods-libraries" id="3c6f0657">a Kotlin project and a Pod library</a> as well as <a href="native-cocoapods-xcode" id="dec3360f">a Kotlin Gradle project and an Xcode project</a>.</p></li>
</ul>
<section class="chapter"><h2 id="enable-the-plugin" data-toc="native-cocoapods-dsl-reference#enable-the-plugin">Enable the plugin</h2>
<p id="826b7830">To apply the CocoaPods plugin, add the following lines to the <code class="code ">build.gradle(.kts)</code> file:</p>
<pre class="code" data-language="kotlin">plugins {
   kotlin("multiplatform") version "1.7.10"
   kotlin("native.cocoapods") version "1.7.10"
}
</pre>
<p id="811dce8">The plugin versions match the <a href="releases" id="cab70fe1">Kotlin release versions</a>. The latest stable version is 1.7.10.</p></section><section class="chapter"><h2 id="cocoapods-block" data-toc="native-cocoapods-dsl-reference#cocoapods-block">cocoapods block</h2>
<p id="99339c40">The <code class="code ">cocoapods</code> block is the top-level block for the CocoaPods configuration. It contains general information on the Pod, including required information like the Pod version, summary, and homepage, as well as optional features.</p>
<p id="ad5518c0">You can use the following blocks, functions, and properties inside it:</p>
<div class="table-wrapper"><table class=" wide" id="4fb00726">
<thead><tr class="ijRowHead" id="eda8632d">
<th id="21b513be"><p><b id="ac350d25" class="">Name</b></p></th>
<th id="e38a41d7"><p><b id="7d2886d0" class="">Description</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="1d87111a">
<td id="2318cfb6"><p><code class="code ">version</code></p></td>
<td id="81b9cfdc"><p>The version of the Pod. If this is not specified, a Gradle project version is used. If none of these properties are configured, you'll get an error.</p></td>
</tr>
<tr class="" id="c238c4f">
<td id="c9003b7"><p><code class="code ">summary</code></p></td>
<td id="1c7cb631"><p>A required description of the Pod built from this project.</p></td>
</tr>
<tr class="" id="ae2184e5">
<td id="dcf20005"><p><code class="code ">homepage</code></p></td>
<td id="be8c08f8"><p>A required link to the homepage of the Pod built from this project.</p></td>
</tr>
<tr class="" id="74d58dc5">
<td id="aba4eeb0"><p><code class="code ">authors</code></p></td>
<td id="b90f0e3f"><p>Specifies authors of the Pod built from this project.</p></td>
</tr>
<tr class="" id="96d83744">
<td id="e74888a6"><p><code class="code ">podfile</code></p></td>
<td id="c19587c8"><p>Configures the existing <code class="code ">Podfile</code> file.</p></td>
</tr>
<tr class="" id="172458b1">
<td id="72ca4b87"><p><code class="code ">noPodspec()</code></p></td>
<td id="30066648"><p>Sets up the plugin not to produce a Podspec file for the <code class="code ">cocoapods</code> section.</p></td>
</tr>
<tr class="" id="4b361116">
<td id="f0298ae8"><p><code class="code ">useLibraries()</code></p></td>
<td id="58103ce"><p>Sets up <code class="code ">cocoapods-generate</code> to produce <code class="code ">xcodeproj</code> compatible with static libraries.</p></td>
</tr>
<tr class="" id="24555506">
<td id="51709db9"><p><code class="code ">name</code></p></td>
<td id="c2c3ecc7"><p>The name of the Pod built from this project. If not provided, the project name is used.</p></td>
</tr>
<tr class="" id="defc7051">
<td id="1e6be411"><p><code class="code ">license</code></p></td>
<td id="2b157f32"><p>The license of the Pod built from this project, its type, and the text.</p></td>
</tr>
<tr class="" id="652e6818">
<td id="d7fd1cde"><p><code class="code ">framework</code></p></td>
<td id="94894a28"><p>The framework block configures the framework produced by the plugin.</p></td>
</tr>
<tr class="" id="48030ffa">
<td id="87e4e9f6"><p><code class="code ">source</code></p></td>
<td id="33cf9990"><p>The location of the Pod built from this project.</p></td>
</tr>
<tr class="" id="2ba4521b">
<td id="c3f0eeb5"><p><code class="code ">extraSpecAttributes</code></p></td>
<td id="b3578a5"><p>Configures other Podspec attributes like <code class="code ">libraries</code> or <code class="code ">vendored_frameworks</code>.</p></td>
</tr>
<tr class="" id="5de35cc2">
<td id="32d84a0c"><p><code class="code ">xcodeConfigurationToNativeBuildType</code></p></td>
<td id="acf15d1b"><p>Maps custom Xcode configuration to NativeBuildType: "Debug" to <code class="code ">NativeBuildType.DEBUG</code> and "Release" to <code class="code ">NativeBuildType.RELEASE</code>.</p></td>
</tr>
<tr class="" id="1eb90ba">
<td id="f81285dc"><p><code class="code ">publishDir</code></p></td>
<td id="e2d9a4ab"><p>Configures the output directory for Pod publishing.</p></td>
</tr>
<tr class="" id="2788767a">
<td id="3e24d69f"><p><code class="code ">pods</code></p></td>
<td id="8ed0b26f"><p>Returns a list of Pod dependencies.</p></td>
</tr>
<tr class="" id="6e63e93a">
<td id="6694699a"><p><code class="code ">pod()</code></p></td>
<td id="595fdc87"><p>Adds a CocoaPods dependency to the Pod built from this project.</p></td>
</tr>
<tr class="" id="b2480ca5">
<td id="f6275101"><p><code class="code ">specRepos</code></p></td>
<td id="13de0f91"><p>Adds a specification repository using <code class="code ">url()</code>. This is necessary when a private Pod is used as a dependency. See the <a href="https://guides.cocoapods.org/making/private-cocoapods.html" id="71925375" data-external="true" rel="noopener noreferrer">CocoaPods documentation</a> for more information.</p></td>
</tr>
</tbody>
</table></div>
<section class="chapter"><h3 id="targets" data-toc="native-cocoapods-dsl-reference#targets">Targets</h3>
<ul class="list _ul" id="2cbded74">
<li class="list__item" id="be4e924e"><p><code class="code ">ios</code></p></li>
<li class="list__item" id="6b387bba"><p><code class="code ">osx</code></p></li>
<li class="list__item" id="1a0ffe74"><p><code class="code ">tvos</code></p></li>
<li class="list__item" id="e2276fad"><p><code class="code ">watchos</code></p></li>
</ul>
<p id="a64172c1">For each target, use the <code class="code ">deploymentTarget</code> property to specify the minimum target version for the Pod library.</p>
<p id="930dc274">When applied, CocoaPods adds both <code class="code ">debug</code> and <code class="code ">release</code> frameworks as output binaries for all of the targets.</p>
<pre class="code" data-language="kotlin">kotlin {
    ios()
   
    cocoapods {
        version = "2.0"
        name = "MyCocoaPod"
        summary = "CocoaPods test library"
        homepage = "https://github.com/JetBrains/kotlin"
        
        extraSpecAttributes["vendored_frameworks"] = 'CustomFramework.xcframework'
        license = "{ :type =&gt; 'MIT', :text =&gt; 'License text'}"
        source = "{ :git =&gt; 'git@github.com:vkormushkin/kmmpodlibrary.git', :tag =&gt; '$version' }"
        authors = "Kotlin Dev"
        
        specRepos {
            url("https://github.com/Kotlin/kotlin-cocoapods-spec.git")
        }
        pod("example")
        
        xcodeConfigurationToNativeBuildType["CUSTOM_RELEASE"] = NativeBuildType.RELEASE
   }
}
</pre></section><section class="chapter"><h3 id="framework-block" data-toc="native-cocoapods-dsl-reference#framework-block">framework() block</h3>
<p id="e07b5f7">The <code class="code ">framework</code> block is nested inside <code class="code ">cocoapods</code> and configures the framework properties of the Pod built from the project.</p>
<aside data-type="note" class="prompt" data-title="" id="4387963d"><p id="50f21f8e">Note that <code class="code ">baseName</code> is a required field.</p></aside><div class="table-wrapper"><table class=" wide" id="dfb36e3e">
<thead><tr class="ijRowHead" id="7cbd5c54">
<th id="c4ba63fa"><p><b id="66f66230" class="">Name</b></p></th>
<th id="4dfd8a17"><p><b id="40fde453" class="">Description</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="781dbe99">
<td id="a9a8fee6"><p><code class="code ">baseName</code></p></td>
<td id="2184c63a"><p>A required framework name. Use this property instead of the deprecated <code class="code ">frameworkName</code>.</p></td>
</tr>
<tr class="" id="9f162731">
<td id="87a24961"><p><code class="code ">isStatic</code></p></td>
<td id="836f6edd"><p>Enables dynamic framework support.</p></td>
</tr>
<tr class="" id="88b117ac">
<td id="1686909d"><p><code class="code ">transitiveExport</code></p></td>
<td id="2c3eda97"><p>Enables dependency export.</p></td>
</tr>
</tbody>
</table></div>
<pre class="code" data-language="kotlin">kotlin {
    cocoapods {
        framework {
            baseName = "MyFramework"
            isStatic = false
            export(project(":anotherKMMModule"))
            transitiveExport = true
        }
    }
}
</pre></section></section><section class="chapter"><h2 id="pod-function" data-toc="native-cocoapods-dsl-reference#pod-function">pod() function</h2>
<p id="ea34ce5d">The <code class="code ">pod()</code> function call adds a CocoaPods dependency to the Pod built from this project. Each dependency requires a separate function call.</p>
<p id="8d1abe20">You can specify the name of a Pod library in the function parameters and additional parameter values, like the <code class="code ">version</code> and <code class="code ">source</code> of the library, in its configuration block.</p>
<div class="table-wrapper"><table class=" wide" id="f0385ba0">
<thead><tr class="ijRowHead" id="802ac5f">
<th id="639596d3"><p><b id="74100bae" class="">Name</b></p></th>
<th id="e0cd2ac6"><p><b id="bc6dff3b" class="">Description</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="df33e40b">
<td id="1d917"><p><code class="code ">version</code></p></td>
<td id="b8fe4a98"><p>The library version. To use the latest version of the library, omit the parameter.</p></td>
</tr>
<tr class="" id="d43a419c">
<td id="55b072e6"><p><code class="code ">source</code></p></td>
<td id="99680198">
<p>Configures the Pod from: </p>
<ul class="list _ul" id="a8e457cb"><ul class="list _ul" id="dfa3e4ea">
<li class="list__item" id="aad1bbcd"><p>The Git repository using <code class="code ">git()</code>. In the block after <code class="code ">git()</code>, you can specify <code class="code ">commit</code> to use a specific commit, <code class="code ">tag</code> to use a specific tag, and <code class="code ">branch</code> to use a specific branch from the repository</p></li>
<li class="list__item" id="ff23a3b2"><p>The local repository using <code class="code ">path()</code></p></li>
<li class="list__item" id="27fcbb46"><p>An archived (tar, jar, zip) Pod folder using <code class="code ">url()</code></p></li>
</ul></ul>
</td>
</tr>
<tr class="" id="92527a88">
<td id="5f8478fa"><p><code class="code ">packageName</code></p></td>
<td id="ac136202"><p>Specifies the package name.</p></td>
</tr>
<tr class="" id="fb359f22">
<td id="edcf9b73"><p><code class="code ">extraOpts</code></p></td>
<td id="49623e8e">
<p>Specifies the list of options for a Pod library. For example, specific flags: </p>
<pre class="code" data-language="kotlin">extraOpts = listOf("-compiler-option")</pre>
<p>.</p>
</td>
</tr>
</tbody>
</table></div>
<pre class="code" data-language="kotlin">kotlin {
    ios()
   
    cocoapods {
        summary = "CocoaPods test library"
        homepage = "https://github.com/JetBrains/kotlin"
      
        ios.deploymentTarget = "13.5"
      
        pod("pod_dependency") {
            version = "1.0"
            source = path(project.file("../pod_dependency"))
        }
    }
}
</pre></section><div class="last-modified"> Last modified: 08 August 2022</div>

<div class="navigation-links _bottom"> <a class="navigation-links__prev" href="native-cocoapods-xcode">Use a Kotlin Gradle project as a CocoaPods dependency</a> <a class="navigation-links__next" href="native-libraries">Kotlin/Native libraries</a> </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://kotlinlang.org/docs/native-cocoapods-dsl-reference.html" class="_attribution-link" target="_blank">https://kotlinlang.org/docs/native-cocoapods-dsl-reference.html</a>
  </p>
</div>
