<h1 id="Pkg">Pkg</h1>
<p>Pkg is Julia's builtin package manager, and handles operations such as installing, updating and removing packages.</p>
<div class="admonition is-info">

<div class="admonition-body"><p>What follows is a very brief introduction to Pkg. For more information on <code>Project.toml</code> files, <code>Manifest.toml</code> files, package version compatibility (<code>[compat]</code>), environments, registries, etc., it is highly recommended to read the full manual, which is available here: <a href="https://julialang.github.io/Pkg.jl/v1/">https://julialang.github.io/Pkg.jl/v1/</a>.</p></div>
</div>
<p>What follows is a quick overview of Pkg, Julia's package manager. It should help new users become familiar with basic Pkg features.</p>
<p>Pkg comes with a REPL. Enter the Pkg REPL by pressing <code>]</code> from the Julia REPL. To get back to the Julia REPL, press backspace or ^C.</p>
<div class="admonition is-info">

<div class="admonition-body"><p>This guide relies on the Pkg REPL to execute Pkg commands. For non-interactive use, we recommend the Pkg API. The Pkg API is fully documented in the <a href="https://julialang.github.io/Pkg.jl/v1/api/">API Reference</a> section of the Pkg documentation.</p></div>
</div>
<p>Upon entering the Pkg REPL, you should see a similar prompt:</p>
<pre data-language="julia">(v1.1) pkg&gt;</pre>
<p>To add a package, use <code>add</code>:</p>
<pre data-language="julia">(v1.1) pkg&gt; add Example</pre>
<div class="admonition is-info">

<div class="admonition-body"><p>Some Pkg output has been omitted in order to keep this guide focused. This will help maintain a good pace and not get bogged down in details. If you require more details, refer to subsequent sections of the Pkg manual.</p></div>
</div>
<p>We can also specify multiple packages at once:</p>
<pre data-language="julia">(v1.1) pkg&gt; add JSON StaticArrays</pre>
<p>To remove packages, use <code>rm</code>:</p>
<pre data-language="julia">(v1.1) pkg&gt; rm JSON StaticArrays</pre>
<p>So far, we have referred only to registered packages. Pkg also supports working with unregistered packages. To add an unregistered package, specify a URL:</p>
<pre data-language="julia">(v1.1) pkg&gt; add https://github.com/JuliaLang/Example.jl</pre>
<p>Use <code>rm</code> to remove this package by name:</p>
<pre data-language="julia">(v1.1) pkg&gt; rm Example</pre>
<p>Use <code>update</code> to update an installed package:</p>
<pre data-language="julia">(v1.1) pkg&gt; update Example</pre>
<p>To update all installed packages, use <code>update</code> without any arguments:</p>
<pre data-language="julia">(v1.1) pkg&gt; update</pre>
<p>Up to this point, we have covered basic package management: adding, updating and removing packages. This will be familiar if you have used other package managers. Pkg offers significant advantages over traditional package managers by organizing dependencies into <strong>environments</strong>.</p>
<p>You may have noticed the <code>(v1.1)</code> in the REPL prompt. This lets us know <code>v1.1</code> is the <strong>active environment</strong>. The active environment is the environment that will be modified by Pkg commands such as <code>add</code>, <code>rm</code> and <code>update</code>.</p>
<p>Let's set up a new environment so we may experiment. To set the active environment, use <code>activate</code>:</p>
<pre data-language="julia">(v1.1) pkg&gt; activate tutorial
[ Info: activating new environment at `/tmp/tutorial/Project.toml`.</pre>
<p>Pkg lets us know we are creating a new environment and that this environment will be stored in the <code>/tmp/tutorial</code> directory.</p>
<p>Pkg has also updated the REPL prompt in order to reflect the new active environment:</p>
<pre data-language="julia">(tutorial) pkg&gt;</pre>
<p>We can ask for information about the active environment by using <code>status</code>:</p>
<pre data-language="julia">(tutorial) pkg&gt; status
    Status `/tmp/tutorial/Project.toml`
   (empty environment)</pre>
<p><code>/tmp/tutorial/Project.toml</code> is the location of the active environment's <strong>project file</strong>. A project file is where Pkg stores metadata for an environment. Notice this new environment is empty. Let us add a package and observe:</p>
<pre data-language="julia">(tutorial) pkg&gt; add Example
...

(tutorial) pkg&gt; status
    Status `/tmp/tutorial/Project.toml`
  [7876af07] Example v0.5.1</pre>
<p>We can see <code>tutorial</code> now contains <code>Example</code> as a dependency.</p>
<p>Say we are working on <code>Example</code> and feel it needs new functionality. How can we modify the source code? We can use <code>develop</code> to set up a git clone of the <code>Example</code> package.</p>
<pre data-language="julia">(tutorial) pkg&gt; develop --local Example
...

(tutorial) pkg&gt; status
    Status `/tmp/tutorial/Project.toml`
  [7876af07] Example v0.5.1+ [`dev/Example`]</pre>
<p>Notice the feedback has changed. <code>dev/Example</code> refers to the location of the newly created clone. If we look inside the <code>/tmp/tutorial</code> directory, we will notice the following files:</p>
<pre data-language="julia">tutorial
├── dev
│   └── Example
├── Manifest.toml
└── Project.toml</pre>
<p>Instead of loading a registered version of <code>Example</code>, Julia will load the source code contained in <code>tutorial/dev/Example</code>.</p>
<p>Let's try it out. First we modify the file at <code>tutorial/dev/Example/src/Example.jl</code> and add a simple function:</p>
<pre data-language="julia">plusone(x::Int) = x + 1</pre>
<p>Now we can go back to the Julia REPL and load the package:</p>
<pre data-language="julia">julia&gt; import Example</pre>
<div class="admonition is-category-warn">

<div class="admonition-body"><p>A package can only be loaded once per Julia session. If you have run <code>import Example</code> in the current Julia session, you will have to restart Julia and rerun <code>activate tutorial</code> in the Pkg REPL. <a href="https://github.com/timholy/Revise.jl/">Revise.jl</a> can make this process significantly more pleasant, but setting it up is beyond the scope of this guide.</p></div>
</div>
<p>Julia should load our new code. Let's test it:</p>
<pre data-language="julia">julia&gt; Example.plusone(1)
2</pre>
<p>Say we have a change of heart and decide the world is not ready for such elegant code. We can tell Pkg to stop using the local clone and use a registered version instead. We do this with <code>free</code>:</p>
<pre data-language="julia">(tutorial) pkg&gt; free Example</pre>
<p>When you are done experimenting with <code>tutorial</code>, you can return to the <strong>default environment</strong> by running <code>activate</code> with no arguments:</p>
<pre data-language="julia">(tutorial) pkg&gt; activate

(v1.1) pkg&gt;</pre>
<p>If you are ever stuck, you can ask <code>Pkg</code> for help:</p>
<pre data-language="julia">(v1.1) pkg&gt; ?</pre>
<p>You should see a list of available commands along with short descriptions. You can ask for more detailed help by specifying a command:</p>
<pre data-language="julia">(v1.1) pkg&gt; ?develop</pre>
<p>This guide should help you get started with <code>Pkg</code>. <code>Pkg</code> has much more to offer in terms of powerful package management, read the full manual to learn more!</p><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://docs.julialang.org/en/v1.6.0/stdlib/Pkg/" class="_attribution-link" target="_blank">https://docs.julialang.org/en/v1.6.0/stdlib/Pkg/</a>
  </p>
</div>
