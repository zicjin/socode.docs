<h1>30.2. Data Checksums</h1>    <div class="toc"> <dl class="toc"> <dt><a href="checksums#CHECKSUMS-OFFLINE-ENABLE-DISABLE">30.2.1. Off-line Enabling of Checksums</a></dt> </dl> </div> <p>By default, data pages are not protected by checksums, but this can optionally be enabled for a cluster. When enabled, each data page includes a checksum that is updated when the page is written and verified each time the page is read. Only data pages are protected by checksums; internal data structures and temporary files are not.</p> <p>Checksums are normally enabled when the cluster is initialized using <a class="link" href="app-initdb#APP-INITDB-DATA-CHECKSUMS">initdb</a>. They can also be enabled or disabled at a later time as an offline operation. Data checksums are enabled or disabled at the full cluster level, and cannot be specified individually for databases or tables.</p> <p>The current state of checksums in the cluster can be verified by viewing the value of the read-only configuration variable <a class="xref" href="runtime-config-preset#GUC-DATA-CHECKSUMS">data_checksums</a> by issuing the command <code class="command">SHOW data_checksums</code>.</p> <p>When attempting to recover from page corruptions, it may be necessary to bypass the checksum protection. To do this, temporarily set the configuration parameter <a class="xref" href="runtime-config-developer#GUC-IGNORE-CHECKSUM-FAILURE">ignore_checksum_failure</a>.</p> <div class="sect2" id="CHECKSUMS-OFFLINE-ENABLE-DISABLE">    <h2 class="title">30.2.1. Off-line Enabling of Checksums</h2>    <p>The <a class="link" href="app-pgchecksums" title="pg_checksums">pg_checksums</a> application can be used to enable or disable data checksums, as well as verify checksums, on an offline cluster.</p> </div>  <div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navfooter">  <table summary="Navigation footer"> <tr> <td width="40%" align="left">
<a accesskey="p" href="wal-reliability" title="30.1. Reliability">Prev</a> </td> <td width="20%" align="center"><a accesskey="u" href="https://www.postgresql.org/docs/14/wal.html" title="Chapter 30. Reliability and the Write-Ahead Log">Up</a></td> <td width="40%" align="right"> <a accesskey="n" href="wal-intro" title="30.3. Write-Ahead Logging (WAL)">Next</a>
</td> </tr> <tr> <td width="40%" align="left">30.1. Reliability </td> <td width="20%" align="center"><a accesskey="h" href="https://www.postgresql.org/docs/14/index.html" title="PostgreSQL 14.1 Documentation">Home</a></td> <td width="40%" align="right"> 30.3. Write-Ahead Logging (WAL)</td> </tr> </table> </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://www.postgresql.org/docs/14/checksums.html" class="_attribution-link" target="_blank">https://www.postgresql.org/docs/14/checksums.html</a>
  </p>
</div>
