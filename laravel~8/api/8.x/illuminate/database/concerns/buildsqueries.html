<h1>BuildsQueries </h1> <p> trait <strong>BuildsQueries</strong> (<a href="https://github.com/laravel/framework/blob/8.x/src/Illuminate/Database/Concerns/BuildsQueries.php">View source</a>) </p> <h2>Traits</h2> <table class="container-fluid underlined"> <tr class="row"> <td class="col-md-6"> <a href="../../support/traits/conditionable" title="Illuminate\Support\Traits\Conditionable">Conditionable</a> </td> <td class="col-md-6"></td> </tr> </table> <h2>Methods</h2> <table class="container-fluid underlined"> <tr class="row"> <td class="col-md-2 type"> $this|mixed </td> <td class="col-md-8 type"> <a href="#method_when">when</a>(mixed $value, callable $callback, callable|null $default = null) 
<p>Apply the callback if the given "value" is truthy.</p> </td> <td class="col-md-2"><small>from <a href="../../support/traits/conditionable#method_when" title="Illuminate\Support\Traits\Conditionable"> Conditionable</a></small></td> </tr> <tr class="row"> <td class="col-md-2 type"> $this|mixed </td> <td class="col-md-8 type"> <a href="#method_unless">unless</a>(mixed $value, callable $callback, callable|null $default = null) 
<p>Apply the callback if the given "value" is falsy.</p> </td> <td class="col-md-2"><small>from <a href="../../support/traits/conditionable#method_unless" title="Illuminate\Support\Traits\Conditionable"> Conditionable</a></small></td> </tr> <tr class="row"> <td class="col-md-2 type"> bool </td> <td class="col-md-8 type"> <a href="#method_chunk">chunk</a>(int $count, callable $callback) 
<p>Chunk the results of the query.</p> </td> <td class="col-md-2"></td> </tr> <tr class="row"> <td class="col-md-2 type"> <a href="../../support/collection" title="Illuminate\Support\Collection">Collection</a> </td> <td class="col-md-8 type"> <a href="#method_chunkMap">chunkMap</a>(callable $callback, int $count = 1000) 
<p>Run a map over each item while chunking.</p> </td> <td class="col-md-2"></td> </tr> <tr class="row"> <td class="col-md-2 type"> bool </td> <td class="col-md-8 type"> <a href="#method_each">each</a>(callable $callback, int $count = 1000) 
<p>Execute a callback over each item while chunking.</p> </td> <td class="col-md-2"></td> </tr> <tr class="row"> <td class="col-md-2 type"> bool </td> <td class="col-md-8 type"> <a href="#method_chunkById">chunkById</a>(int $count, callable $callback, string|null $column = null, string|null $alias = null) 
<p>Chunk the results of a query by comparing IDs.</p> </td> <td class="col-md-2"></td> </tr> <tr class="row"> <td class="col-md-2 type"> bool </td> <td class="col-md-8 type"> <a href="#method_eachById">eachById</a>(callable $callback, int $count = 1000, string|null $column = null, string|null $alias = null) 
<p>Execute a callback over each item while chunking by ID.</p> </td> <td class="col-md-2"></td> </tr> <tr class="row"> <td class="col-md-2 type"> <a href="../../support/lazycollection" title="Illuminate\Support\LazyCollection">LazyCollection</a> </td> <td class="col-md-8 type"> <a href="#method_lazy">lazy</a>(int $chunkSize = 1000) 
<p>Query lazily, by chunks of the given size.</p> </td> <td class="col-md-2"></td> </tr> <tr class="row"> <td class="col-md-2 type"> <a href="../../support/lazycollection" title="Illuminate\Support\LazyCollection">LazyCollection</a> </td> <td class="col-md-8 type"> <a href="#method_lazyById">lazyById</a>($chunkSize = 1000, string|null $column = null, string|null $alias = null) 
<p>Query lazily, by chunking the results of a query by comparing IDs.</p> </td> <td class="col-md-2"></td> </tr> <tr class="row"> <td class="col-md-2 type"> <a href="../eloquent/model" title="Illuminate\Database\Eloquent\Model">Model</a>|object|<a href="buildsqueries" title="Illuminate\Database\Concerns\BuildsQueries">BuildsQueries</a>|null </td> <td class="col-md-8 type"> <a href="#method_first">first</a>(array|string $columns = ['*']) 
<p>Execute the query and get the first result.</p> </td> <td class="col-md-2"></td> </tr> <tr class="row"> <td class="col-md-2 type"> <a href="../eloquent/model" title="Illuminate\Database\Eloquent\Model">Model</a>|object|<a href="buildsqueries" title="Illuminate\Database\Concerns\BuildsQueries">BuildsQueries</a>|null </td> <td class="col-md-8 type"> <a href="#method_sole">sole</a>(array|string $columns = ['*']) 
<p>Execute the query and get the first result if it's the sole matching record.</p> </td> <td class="col-md-2"></td> </tr> <tr class="row"> <td class="col-md-2 type"> <a href="../../contracts/pagination/cursorpaginator" title="Illuminate\Contracts\Pagination\CursorPaginator">CursorPaginator</a> </td> <td class="col-md-8 type"> <a href="#method_paginateUsingCursor">paginateUsingCursor</a>(int $perPage, array $columns = ['*'], string $cursorName = 'cursor', <a href="../../pagination/cursor" title="Illuminate\Pagination\Cursor">Cursor</a>|string|null $cursor = null) 
<p>Paginate the given query using a cursor paginator.</p> </td> <td class="col-md-2"></td> </tr> <tr class="row"> <td class="col-md-2 type"> string </td> <td class="col-md-8 type"> <a href="#method_getOriginalColumnNameForCursorPagination">getOriginalColumnNameForCursorPagination</a>(<a href="../query/builder" title="Illuminate\Database\Query\Builder">Builder</a>|<a href="../eloquent/builder" title="Illuminate\Database\Eloquent\Builder">Builder</a> $builder, string $parameter) 
<p>Get the original column name of the given column, without any aliasing.</p> </td> <td class="col-md-2"></td> </tr> <tr class="row"> <td class="col-md-2 type"> <a href="../../pagination/lengthawarepaginator" title="Illuminate\Pagination\LengthAwarePaginator">LengthAwarePaginator</a> </td> <td class="col-md-8 type"> <a href="#method_paginator">paginator</a>(<a href="../../support/collection" title="Illuminate\Support\Collection">Collection</a> $items, int $total, int $perPage, int $currentPage, array $options) 
<p>Create a new length-aware paginator instance.</p> </td> <td class="col-md-2"></td> </tr> <tr class="row"> <td class="col-md-2 type"> <a href="../../pagination/paginator" title="Illuminate\Pagination\Paginator">Paginator</a> </td> <td class="col-md-8 type"> <a href="#method_simplePaginator">simplePaginator</a>(<a href="../../support/collection" title="Illuminate\Support\Collection">Collection</a> $items, int $perPage, int $currentPage, array $options) 
<p>Create a new simple paginator instance.</p> </td> <td class="col-md-2"></td> </tr> <tr class="row"> <td class="col-md-2 type"> <a href="../../pagination/cursorpaginator" title="Illuminate\Pagination\CursorPaginator">CursorPaginator</a> </td> <td class="col-md-8 type"> <a href="#method_cursorPaginator">cursorPaginator</a>(<a href="../../support/collection" title="Illuminate\Support\Collection">Collection</a> $items, int $perPage, <a href="../../pagination/cursor" title="Illuminate\Pagination\Cursor">Cursor</a> $cursor, array $options) 
<p>Create a new cursor paginator instance.</p> </td> <td class="col-md-2"></td> </tr> <tr class="row"> <td class="col-md-2 type"> $this </td> <td class="col-md-8 type"> <a href="#method_tap">tap</a>(callable $callback) 
<p>Pass the query to a given callback.</p> </td> <td class="col-md-2"></td> </tr> </table> <h2>Details</h2>  <div class="method-item"> <h3 id="method_when">                      $this|mixed
    when(mixed $value, callable $callback, callable|null $default = null)
         </h3> <div class="details"> <div class="method-description"> 
<p>Apply the callback if the given "value" is truthy.</p> </div> <div class="tags"> <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td>mixed</td> <td>$value</td> <td></td> </tr> <tr> <td>callable</td> <td>$callback</td> <td></td> </tr> <tr> <td>callable|null</td> <td>$default</td> <td></td> </tr> </table> <h4>Return Value</h4> <table class="table table-condensed"> <tr> <td>$this|mixed</td> <td></td> </tr> </table> </div> </div> </div> <div class="method-item"> <h3 id="method_unless">                      $this|mixed
    unless(mixed $value, callable $callback, callable|null $default = null)
         </h3> <div class="details"> <div class="method-description"> 
<p>Apply the callback if the given "value" is falsy.</p> </div> <div class="tags"> <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td>mixed</td> <td>$value</td> <td></td> </tr> <tr> <td>callable</td> <td>$callback</td> <td></td> </tr> <tr> <td>callable|null</td> <td>$default</td> <td></td> </tr> </table> <h4>Return Value</h4> <table class="table table-condensed"> <tr> <td>$this|mixed</td> <td></td> </tr> </table> </div> </div> </div> <div class="method-item"> <h3 id="method_chunk">                      bool
    chunk(int $count, callable $callback)
         </h3> <div class="details"> <div class="method-description"> 
<p>Chunk the results of the query.</p> </div> <div class="tags"> <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td>int</td> <td>$count</td> <td></td> </tr> <tr> <td>callable</td> <td>$callback</td> <td></td> </tr> </table> <h4>Return Value</h4> <table class="table table-condensed"> <tr> <td>bool</td> <td></td> </tr> </table> </div> </div> </div> <div class="method-item"> <h3 id="method_chunkMap">                      <a href="../../support/collection" title="Illuminate\Support\Collection">Collection</a>
    chunkMap(callable $callback, int $count = 1000)
         </h3> <div class="details"> <div class="method-description"> 
<p>Run a map over each item while chunking.</p> </div> <div class="tags"> <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td>callable</td> <td>$callback</td> <td></td> </tr> <tr> <td>int</td> <td>$count</td> <td></td> </tr> </table> <h4>Return Value</h4> <table class="table table-condensed"> <tr> <td><a href="../../support/collection" title="Illuminate\Support\Collection">Collection</a></td> <td></td> </tr> </table> </div> </div> </div> <div class="method-item"> <h3 id="method_each">                      bool
    each(callable $callback, int $count = 1000)
         </h3> <div class="details"> <div class="method-description"> 
<p>Execute a callback over each item while chunking.</p> </div> <div class="tags"> <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td>callable</td> <td>$callback</td> <td></td> </tr> <tr> <td>int</td> <td>$count</td> <td></td> </tr> </table> <h4>Return Value</h4> <table class="table table-condensed"> <tr> <td>bool</td> <td></td> </tr> </table> <h4>Exceptions</h4> <table class="table table-condensed"> <tr> <td><a target="_blank" rel="noopener" href="https://www.php.net/RuntimeException">RuntimeException</a></td> <td></td> </tr> </table> </div> </div> </div> <div class="method-item"> <h3 id="method_chunkById">                      bool
    chunkById(int $count, callable $callback, string|null $column = null, string|null $alias = null)
         </h3> <div class="details"> <div class="method-description"> 
<p>Chunk the results of a query by comparing IDs.</p> </div> <div class="tags"> <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td>int</td> <td>$count</td> <td></td> </tr> <tr> <td>callable</td> <td>$callback</td> <td></td> </tr> <tr> <td>string|null</td> <td>$column</td> <td></td> </tr> <tr> <td>string|null</td> <td>$alias</td> <td></td> </tr> </table> <h4>Return Value</h4> <table class="table table-condensed"> <tr> <td>bool</td> <td></td> </tr> </table> </div> </div> </div> <div class="method-item"> <h3 id="method_eachById">                      bool
    eachById(callable $callback, int $count = 1000, string|null $column = null, string|null $alias = null)
         </h3> <div class="details"> <div class="method-description"> 
<p>Execute a callback over each item while chunking by ID.</p> </div> <div class="tags"> <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td>callable</td> <td>$callback</td> <td></td> </tr> <tr> <td>int</td> <td>$count</td> <td></td> </tr> <tr> <td>string|null</td> <td>$column</td> <td></td> </tr> <tr> <td>string|null</td> <td>$alias</td> <td></td> </tr> </table> <h4>Return Value</h4> <table class="table table-condensed"> <tr> <td>bool</td> <td></td> </tr> </table> </div> </div> </div> <div class="method-item"> <h3 id="method_lazy">                      <a href="../../support/lazycollection" title="Illuminate\Support\LazyCollection">LazyCollection</a>
    lazy(int $chunkSize = 1000)
         </h3> <div class="details"> <div class="method-description"> 
<p>Query lazily, by chunks of the given size.</p> </div> <div class="tags"> <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td>int</td> <td>$chunkSize</td> <td></td> </tr> </table> <h4>Return Value</h4> <table class="table table-condensed"> <tr> <td><a href="../../support/lazycollection" title="Illuminate\Support\LazyCollection">LazyCollection</a></td> <td></td> </tr> </table> <h4>Exceptions</h4> <table class="table table-condensed"> <tr> <td><a target="_blank" rel="noopener" href="https://www.php.net/InvalidArgumentException">InvalidArgumentException</a></td> <td></td> </tr> </table> </div> </div> </div> <div class="method-item"> <h3 id="method_lazyById">                      <a href="../../support/lazycollection" title="Illuminate\Support\LazyCollection">LazyCollection</a>
    lazyById($chunkSize = 1000, string|null $column = null, string|null $alias = null)
         </h3> <div class="details"> <div class="method-description"> 
<p>Query lazily, by chunking the results of a query by comparing IDs.</p> </div> <div class="tags"> <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td></td> <td>$chunkSize</td> <td></td> </tr> <tr> <td>string|null</td> <td>$column</td> <td></td> </tr> <tr> <td>string|null</td> <td>$alias</td> <td></td> </tr> </table> <h4>Return Value</h4> <table class="table table-condensed"> <tr> <td><a href="../../support/lazycollection" title="Illuminate\Support\LazyCollection">LazyCollection</a></td> <td></td> </tr> </table> <h4>Exceptions</h4> <table class="table table-condensed"> <tr> <td><a target="_blank" rel="noopener" href="https://www.php.net/InvalidArgumentException">InvalidArgumentException</a></td> <td></td> </tr> </table> </div> </div> </div> <div class="method-item"> <h3 id="method_first">                      <a href="../eloquent/model" title="Illuminate\Database\Eloquent\Model">Model</a>|object|<a href="buildsqueries" title="Illuminate\Database\Concerns\BuildsQueries">BuildsQueries</a>|null
    first(array|string $columns = ['*'])
         </h3> <div class="details"> <div class="method-description"> 
<p>Execute the query and get the first result.</p> </div> <div class="tags"> <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td>array|string</td> <td>$columns</td> <td></td> </tr> </table> <h4>Return Value</h4> <table class="table table-condensed"> <tr> <td>
<a href="../eloquent/model" title="Illuminate\Database\Eloquent\Model">Model</a>|object|<a href="buildsqueries" title="Illuminate\Database\Concerns\BuildsQueries">BuildsQueries</a>|null</td> <td></td> </tr> </table> </div> </div> </div> <div class="method-item"> <h3 id="method_sole">                      <a href="../eloquent/model" title="Illuminate\Database\Eloquent\Model">Model</a>|object|<a href="buildsqueries" title="Illuminate\Database\Concerns\BuildsQueries">BuildsQueries</a>|null
    sole(array|string $columns = ['*'])
         </h3> <div class="details"> <div class="method-description"> 
<p>Execute the query and get the first result if it's the sole matching record.</p> </div> <div class="tags"> <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td>array|string</td> <td>$columns</td> <td></td> </tr> </table> <h4>Return Value</h4> <table class="table table-condensed"> <tr> <td>
<a href="../eloquent/model" title="Illuminate\Database\Eloquent\Model">Model</a>|object|<a href="buildsqueries" title="Illuminate\Database\Concerns\BuildsQueries">BuildsQueries</a>|null</td> <td></td> </tr> </table> <h4>Exceptions</h4> <table class="table table-condensed"> <tr> <td><a href="../recordsnotfoundexception" title="Illuminate\Database\RecordsNotFoundException">RecordsNotFoundException</a></td> <td></td> </tr> <tr> <td><a href="../multiplerecordsfoundexception" title="Illuminate\Database\MultipleRecordsFoundException">MultipleRecordsFoundException</a></td> <td></td> </tr> </table> </div> </div> </div> <div class="method-item"> <h3 id="method_paginateUsingCursor">              protected        <a href="../../contracts/pagination/cursorpaginator" title="Illuminate\Contracts\Pagination\CursorPaginator">CursorPaginator</a>
    paginateUsingCursor(int $perPage, array $columns = ['*'], string $cursorName = 'cursor', <a href="../../pagination/cursor" title="Illuminate\Pagination\Cursor">Cursor</a>|string|null $cursor = null)
         </h3> <div class="details"> <div class="method-description"> 
<p>Paginate the given query using a cursor paginator.</p> </div> <div class="tags"> <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td>int</td> <td>$perPage</td> <td></td> </tr> <tr> <td>array</td> <td>$columns</td> <td></td> </tr> <tr> <td>string</td> <td>$cursorName</td> <td></td> </tr> <tr> <td>
<a href="../../pagination/cursor" title="Illuminate\Pagination\Cursor">Cursor</a>|string|null</td> <td>$cursor</td> <td></td> </tr> </table> <h4>Return Value</h4> <table class="table table-condensed"> <tr> <td><a href="../../contracts/pagination/cursorpaginator" title="Illuminate\Contracts\Pagination\CursorPaginator">CursorPaginator</a></td> <td></td> </tr> </table> </div> </div> </div> <div class="method-item"> <h3 id="method_getOriginalColumnNameForCursorPagination">              protected        string
    getOriginalColumnNameForCursorPagination(<a href="../query/builder" title="Illuminate\Database\Query\Builder">Builder</a>|<a href="../eloquent/builder" title="Illuminate\Database\Eloquent\Builder">Builder</a> $builder, string $parameter)
         </h3> <div class="details"> <div class="method-description"> 
<p>Get the original column name of the given column, without any aliasing.</p> </div> <div class="tags"> <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td>
<a href="../query/builder" title="Illuminate\Database\Query\Builder">Builder</a>|<a href="../eloquent/builder" title="Illuminate\Database\Eloquent\Builder">Builder</a>
</td> <td>$builder</td> <td></td> </tr> <tr> <td>string</td> <td>$parameter</td> <td></td> </tr> </table> <h4>Return Value</h4> <table class="table table-condensed"> <tr> <td>string</td> <td></td> </tr> </table> </div> </div> </div> <div class="method-item"> <h3 id="method_paginator">              protected        <a href="../../pagination/lengthawarepaginator" title="Illuminate\Pagination\LengthAwarePaginator">LengthAwarePaginator</a>
    paginator(<a href="../../support/collection" title="Illuminate\Support\Collection">Collection</a> $items, int $total, int $perPage, int $currentPage, array $options)
         </h3> <div class="details"> <div class="method-description"> 
<p>Create a new length-aware paginator instance.</p> </div> <div class="tags"> <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td><a href="../../support/collection" title="Illuminate\Support\Collection">Collection</a></td> <td>$items</td> <td></td> </tr> <tr> <td>int</td> <td>$total</td> <td></td> </tr> <tr> <td>int</td> <td>$perPage</td> <td></td> </tr> <tr> <td>int</td> <td>$currentPage</td> <td></td> </tr> <tr> <td>array</td> <td>$options</td> <td></td> </tr> </table> <h4>Return Value</h4> <table class="table table-condensed"> <tr> <td><a href="../../pagination/lengthawarepaginator" title="Illuminate\Pagination\LengthAwarePaginator">LengthAwarePaginator</a></td> <td></td> </tr> </table> </div> </div> </div> <div class="method-item"> <h3 id="method_simplePaginator">              protected        <a href="../../pagination/paginator" title="Illuminate\Pagination\Paginator">Paginator</a>
    simplePaginator(<a href="../../support/collection" title="Illuminate\Support\Collection">Collection</a> $items, int $perPage, int $currentPage, array $options)
         </h3> <div class="details"> <div class="method-description"> 
<p>Create a new simple paginator instance.</p> </div> <div class="tags"> <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td><a href="../../support/collection" title="Illuminate\Support\Collection">Collection</a></td> <td>$items</td> <td></td> </tr> <tr> <td>int</td> <td>$perPage</td> <td></td> </tr> <tr> <td>int</td> <td>$currentPage</td> <td></td> </tr> <tr> <td>array</td> <td>$options</td> <td></td> </tr> </table> <h4>Return Value</h4> <table class="table table-condensed"> <tr> <td><a href="../../pagination/paginator" title="Illuminate\Pagination\Paginator">Paginator</a></td> <td></td> </tr> </table> </div> </div> </div> <div class="method-item"> <h3 id="method_cursorPaginator">              protected        <a href="../../pagination/cursorpaginator" title="Illuminate\Pagination\CursorPaginator">CursorPaginator</a>
    cursorPaginator(<a href="../../support/collection" title="Illuminate\Support\Collection">Collection</a> $items, int $perPage, <a href="../../pagination/cursor" title="Illuminate\Pagination\Cursor">Cursor</a> $cursor, array $options)
         </h3> <div class="details"> <div class="method-description"> 
<p>Create a new cursor paginator instance.</p> </div> <div class="tags"> <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td><a href="../../support/collection" title="Illuminate\Support\Collection">Collection</a></td> <td>$items</td> <td></td> </tr> <tr> <td>int</td> <td>$perPage</td> <td></td> </tr> <tr> <td><a href="../../pagination/cursor" title="Illuminate\Pagination\Cursor">Cursor</a></td> <td>$cursor</td> <td></td> </tr> <tr> <td>array</td> <td>$options</td> <td></td> </tr> </table> <h4>Return Value</h4> <table class="table table-condensed"> <tr> <td><a href="../../pagination/cursorpaginator" title="Illuminate\Pagination\CursorPaginator">CursorPaginator</a></td> <td></td> </tr> </table> </div> </div> </div> <div class="method-item"> <h3 id="method_tap">                      $this
    tap(callable $callback)
         </h3> <div class="details"> <div class="method-description"> 
<p>Pass the query to a given callback.</p> </div> <div class="tags"> <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td>callable</td> <td>$callback</td> <td></td> </tr> </table> <h4>Return Value</h4> <table class="table table-condensed"> <tr> <td>$this</td> <td></td> </tr> </table> </div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://laravel.com/api/8.x///Illuminate/Database/Concerns/BuildsQueries.html" class="_attribution-link" target="_blank">https://laravel.com/api/8.x///Illuminate/Database/Concerns/BuildsQueries.html</a>
  </p>
</div>
