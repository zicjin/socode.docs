<h1 class="devsite-page-title">tf.autograph.to_graph</h1>     <div itemscope itemtype="http://developers.google.com/ReferenceObject"> <meta itemprop="name" content="tf.autograph.to_graph"> <meta itemprop="path" content="Stable"> </div>  <table class="tfo-notebook-buttons tfo-api" align="left"> <td> <a target="_blank" href="https://www.tensorflow.org/versions/r1.15/api_docs/python/tf/autograph/to_graph">  TensorFlow 1 version</a> </td> <td> <a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/r2.1/tensorflow/python/autograph/impl/api.py#L576-L646">  View source on GitHub </a> </td>
</table>  <p>Converts a Python entity into a TensorFlow graph.</p> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">tf.autograph.to_graph(
    entity,
    recursive=True,
    experimental_optional_features=None
)
</pre>  <p>Also see: <a href="to_code"><code translate="no" dir="ltr">tf.autograph.to_code</code></a>, <a href="../function"><code translate="no" dir="ltr">tf.function</code></a>.</p> <p>Unlike <a href="../function"><code translate="no" dir="ltr">tf.function</code></a>, <code translate="no" dir="ltr">to_graph</code> is a low-level transpiler that converts Python code to TensorFlow graph code. It does not implement any caching, variable management or create any actual ops, and is best used where greater control over the generated TensorFlow graph is desired. Another difference from <a href="../function"><code translate="no" dir="ltr">tf.function</code></a> is that <code translate="no" dir="ltr">to_graph</code> will not wrap the graph into a TensorFlow function or a Python callable. Internally, <a href="../function"><code translate="no" dir="ltr">tf.function</code></a> uses <code translate="no" dir="ltr">to_graph</code>.</p> <h4 id="example_usage">Example usage:</h4> <pre class="devsite-click-to-copy prettyprint lang-py" translate="no" dir="ltr" data-language="python">
def f(x): 
  if x &gt; 0: 
    y = x * x 
  else: 
    y = -x 
  return y 
 
converted_f = to_graph(f) 
x = tf.constant(2) 
converted_f(x)  # converted_foo is like a TensorFlow Op. 
&lt;tf.Tensor: shape=(), dtype=int32, numpy=4&gt; 
</pre> <p>Supported Python entities include: * functions * classes * object methods</p> <p>Functions are converted into new functions with converted code.</p> <p>Classes are converted by generating a new class whose methods use converted code.</p> <p>Methods are converted into unbound function that have an additional first argument called <code translate="no" dir="ltr">self</code>.</p> <p>For a tutorial, see the <a href="https://www.tensorflow.org/guide/function">tf.function and AutoGraph guide</a>. For more detailed information, see the <a href="https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/autograph/g3doc/reference/index.md">AutoGraph reference documentation</a>.</p> <h4 id="args">Args:</h4> <ul> <li>
<b><code translate="no" dir="ltr">entity</code></b>: Python callable or class to convert.</li> <li>
<b><code translate="no" dir="ltr">recursive</code></b>: Whether to recursively convert any functions that the converted function may call.</li> <li>
<b><code translate="no" dir="ltr">experimental_optional_features</code></b>: <code translate="no" dir="ltr">None</code>, a tuple of, or a single <a href="experimental/feature"><code translate="no" dir="ltr">tf.autograph.experimental.Feature</code></a> value.</li> </ul> <h4 id="returns">Returns:</h4> <p>Same as <code translate="no" dir="ltr">entity</code>, the converted Python function or class.</p> <h4 id="raises">Raises:</h4> <ul> <li>
<b><code translate="no" dir="ltr">ValueError</code></b>: If the entity could not be converted.</li> </ul> <h2 id="compat_aliases">Compat aliases</h2> <ul> <li><a href="to_graph"><code translate="no" dir="ltr">tf.compat.v2.autograph.to_graph</code></a></li> </ul>  <devsite-page-rating position="footer" selected-rating="0" hover-rating-star="0"> </devsite-page-rating><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2019 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 3.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/api_docs/python/tf/autograph/to_graph" class="_attribution-link">https://www.tensorflow.org/api_docs/python/tf/autograph/to_graph</a>
  </p>
</div>
