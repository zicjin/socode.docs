<h1 class="devsite-page-title">tf.keras.preprocessing.image.DirectoryIterator</h1>     <div itemscope itemtype="http://developers.google.com/ReferenceObject"> <meta itemprop="name" content="tf.keras.preprocessing.image.DirectoryIterator"> <meta itemprop="path" content="Stable"> <meta itemprop="property" content="filepaths"> <meta itemprop="property" content="labels"> <meta itemprop="property" content="sample_weight"> <meta itemprop="property" content="__getitem__"> <meta itemprop="property" content="__init__"> <meta itemprop="property" content="__iter__"> <meta itemprop="property" content="__len__"> <meta itemprop="property" content="next"> <meta itemprop="property" content="on_epoch_end"> <meta itemprop="property" content="reset"> <meta itemprop="property" content="set_processing_attrs"> <meta itemprop="property" content="allowed_class_modes"> <meta itemprop="property" content="white_list_formats"> </div>  <table class="tfo-notebook-buttons tfo-api" align="left"> <td> <a target="_blank" href="https://www.tensorflow.org/versions/r1.15/api_docs/python/tf/keras/preprocessing/image/DirectoryIterator">  TensorFlow 1 version</a> </td> <td> <a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/r2.1/tensorflow/python/keras/preprocessing/image.py#L140-L227">  View source on GitHub </a> </td>
</table>  <h2 id="class_directoryiterator">Class <code translate="no" dir="ltr">DirectoryIterator</code>
</h2> <p>Iterator capable of reading images from a directory on disk.</p> <p>Inherits From: <a href="iterator"><code translate="no" dir="ltr">Iterator</code></a></p>  <h4 id="arguments">Arguments:</h4> <ul> <li>
<b><code translate="no" dir="ltr">directory</code></b>: Path to the directory to read images from. Each subdirectory in this directory will be considered to contain images from one class, or alternatively you could specify class subdirectories via the <code translate="no" dir="ltr">classes</code> argument.</li> <li>
<b><code translate="no" dir="ltr">image_data_generator</code></b>: Instance of <code translate="no" dir="ltr">ImageDataGenerator</code> to use for random transformations and normalization.</li> <li>
<b><code translate="no" dir="ltr">target_size</code></b>: tuple of integers, dimensions to resize input images to.</li> <li>
<b><code translate="no" dir="ltr">color_mode</code></b>: One of <code translate="no" dir="ltr">"rgb"</code>, <code translate="no" dir="ltr">"rgba"</code>, <code translate="no" dir="ltr">"grayscale"</code>. Color mode to read images.</li> <li>
<b><code translate="no" dir="ltr">classes</code></b>: Optional list of strings, names of subdirectories containing images from each class (e.g. <code translate="no" dir="ltr">["dogs", "cats"]</code>). It will be computed automatically if not set.</li> <li>
<b><code translate="no" dir="ltr">class_mode</code></b>: Mode for yielding the targets: <code translate="no" dir="ltr">"binary"</code>: binary targets (if there are only two classes), <code translate="no" dir="ltr">"categorical"</code>: categorical targets, <code translate="no" dir="ltr">"sparse"</code>: integer targets, <code translate="no" dir="ltr">"input"</code>: targets are images identical to input images (mainly used to work with autoencoders), <code translate="no" dir="ltr">None</code>: no targets get yielded (only input images are yielded).</li> <li>
<b><code translate="no" dir="ltr">batch_size</code></b>: Integer, size of a batch.</li> <li>
<b><code translate="no" dir="ltr">shuffle</code></b>: Boolean, whether to shuffle the data between epochs.</li> <li>
<b><code translate="no" dir="ltr">seed</code></b>: Random seed for data shuffling.</li> <li>
<b><code translate="no" dir="ltr">data_format</code></b>: String, one of <code translate="no" dir="ltr">channels_first</code>, <code translate="no" dir="ltr">channels_last</code>.</li> <li>
<b><code translate="no" dir="ltr">save_to_dir</code></b>: Optional directory where to save the pictures being yielded, in a viewable format. This is useful for visualizing the random transformations being applied, for debugging purposes.</li> <li>
<b><code translate="no" dir="ltr">save_prefix</code></b>: String prefix to use for saving sample images (if <code translate="no" dir="ltr">save_to_dir</code> is set).</li> <li>
<b><code translate="no" dir="ltr">save_format</code></b>: Format to use for saving sample images (if <code translate="no" dir="ltr">save_to_dir</code> is set).</li> <li>
<b><code translate="no" dir="ltr">subset</code></b>: Subset of data (<code translate="no" dir="ltr">"training"</code> or <code translate="no" dir="ltr">"validation"</code>) if validation_split is set in ImageDataGenerator.</li> <li>
<b><code translate="no" dir="ltr">interpolation</code></b>: Interpolation method used to resample the image if the target size is different from that of the loaded image. Supported methods are "nearest", "bilinear", and "bicubic". If PIL version 1.1.3 or newer is installed, "lanczos" is also supported. If PIL version 3.4.0 or newer is installed, "box" and "hamming" are also supported. By default, "nearest" is used.</li> <li>
<b><code translate="no" dir="ltr">dtype</code></b>: Dtype to use for generated arrays.</li> </ul> <h2 id="__init__"><code translate="no" dir="ltr">__init__</code></h2> <p><a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/r2.1/tensorflow/python/keras/preprocessing/image.py#L187-L227">View source</a></p> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">__init__(
    directory,
    image_data_generator,
    target_size=(256, 256),
    color_mode='rgb',
    classes=None,
    class_mode='categorical',
    batch_size=32,
    shuffle=True,
    seed=None,
    data_format=None,
    save_to_dir=None,
    save_prefix='',
    save_format='png',
    follow_links=False,
    subset=None,
    interpolation='nearest',
    dtype=None
)
</pre> <p>Initialize self. See help(type(self)) for accurate signature.</p> <h2 id="properties">Properties</h2> <h3 id="filepaths"><code translate="no" dir="ltr">filepaths</code></h3> <p>List of absolute paths to image files</p> <h3 id="labels"><code translate="no" dir="ltr">labels</code></h3> <p>Class labels of every observation</p> <h3 id="sample_weight"><code translate="no" dir="ltr">sample_weight</code></h3> <h2 id="methods">Methods</h2> <h3 id="__getitem__"><code translate="no" dir="ltr">__getitem__</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">__getitem__(idx)
</pre> <p>Gets batch at position <code translate="no" dir="ltr">index</code>.</p> <h4 id="arguments_2">Arguments:</h4> <ul> <li>
<b><code translate="no" dir="ltr">index</code></b>: position of the batch in the Sequence.</li> </ul> <h4 id="returns">Returns:</h4> <p>A batch</p> <h3 id="__iter__"><code translate="no" dir="ltr">__iter__</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">__iter__()
</pre> <p>Create a generator that iterate over the Sequence.</p> <h3 id="__len__"><code translate="no" dir="ltr">__len__</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">__len__()
</pre> <p>Number of batch in the Sequence.</p> <h4 id="returns_2">Returns:</h4> <p>The number of batches in the Sequence.</p> <h3 id="next"><code translate="no" dir="ltr">next</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">next()
</pre> <p>For python 2.x.</p> <h1 id="returns" class="page-title">Returns</h1> <pre class="prettyprint" translate="no" dir="ltr" data-language="python">The next batch.
</pre> <h3 id="on_epoch_end"><code translate="no" dir="ltr">on_epoch_end</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">on_epoch_end()
</pre> <p>Method called at the end of every epoch.</p> <h3 id="reset"><code translate="no" dir="ltr">reset</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">reset()
</pre> <h3 id="set_processing_attrs"><code translate="no" dir="ltr">set_processing_attrs</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">set_processing_attrs(
    image_data_generator,
    target_size,
    color_mode,
    data_format,
    save_to_dir,
    save_prefix,
    save_format,
    subset,
    interpolation
)
</pre> <p>Sets attributes to use later for processing files into a batch.</p> <h1 id="arguments" class="page-title">Arguments</h1> <pre class="prettyprint" translate="no" dir="ltr" data-language="python">image_data_generator: Instance of `ImageDataGenerator`
    to use for random transformations and normalization.
target_size: tuple of integers, dimensions to resize input images to.
color_mode: One of `"rgb"`, `"rgba"`, `"grayscale"`.
    Color mode to read images.
data_format: String, one of `channels_first`, `channels_last`.
save_to_dir: Optional directory where to save the pictures
    being yielded, in a viewable format. This is useful
    for visualizing the random transformations being
    applied, for debugging purposes.
save_prefix: String prefix to use for saving sample
    images (if `save_to_dir` is set).
save_format: Format to use for saving sample images
    (if `save_to_dir` is set).
subset: Subset of data (`"training"` or `"validation"`) if
    validation_split is set in ImageDataGenerator.
interpolation: Interpolation method used to resample the image if the
    target size is different from that of the loaded image.
    Supported methods are "nearest", "bilinear", and "bicubic".
    If PIL version 1.1.3 or newer is installed, "lanczos" is also
    supported. If PIL version 3.4.0 or newer is installed, "box" and
    "hamming" are also supported. By default, "nearest" is used.
</pre> <h2 id="class_members">Class Members</h2> <ul> <li>
<code translate="no" dir="ltr">allowed_class_modes</code> 
</li> <li>
<code translate="no" dir="ltr">white_list_formats</code> 
</li> </ul> <h2 id="compat_aliases">Compat aliases</h2> <ul> <li><a href="directoryiterator"><code translate="no" dir="ltr">tf.compat.v1.keras.preprocessing.image.DirectoryIterator</code></a></li> <li><a href="directoryiterator"><code translate="no" dir="ltr">tf.compat.v2.keras.preprocessing.image.DirectoryIterator</code></a></li> </ul>  <devsite-page-rating position="footer" selected-rating="0" hover-rating-star="0"> </devsite-page-rating><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2019 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 3.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/api_docs/python/tf/keras/preprocessing/image/DirectoryIterator" class="_attribution-link">https://www.tensorflow.org/api_docs/python/tf/keras/preprocessing/image/DirectoryIterator</a>
  </p>
</div>
