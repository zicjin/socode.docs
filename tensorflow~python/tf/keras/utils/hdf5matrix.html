<h1 class="devsite-page-title">tf.keras.utils.HDF5Matrix</h1>     <div itemscope itemtype="http://developers.google.com/ReferenceObject"> <meta itemprop="name" content="tf.keras.utils.HDF5Matrix"> <meta itemprop="path" content="Stable"> <meta itemprop="property" content="dtype"> <meta itemprop="property" content="ndim"> <meta itemprop="property" content="shape"> <meta itemprop="property" content="size"> <meta itemprop="property" content="__getitem__"> <meta itemprop="property" content="__init__"> <meta itemprop="property" content="__len__"> <meta itemprop="property" content="refs"> </div>  <table class="tfo-notebook-buttons tfo-api" align="left"> <td> <a target="_blank" href="https://www.tensorflow.org/versions/r1.15/api_docs/python/tf/keras/utils/HDF5Matrix">  TensorFlow 1 version</a> </td> <td> <a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/r2.1/tensorflow/python/keras/utils/io_utils.py#L37-L185">  View source on GitHub </a> </td>
</table>  <h2 id="class_hdf5matrix">Class <code translate="no" dir="ltr">HDF5Matrix</code>
</h2> <p>Representation of HDF5 dataset to be used instead of a Numpy array.</p>  <p>THIS CLASS IS DEPRECATED. Training with HDF5Matrix may not be optimized for performance, and might not work with every distribution strategy.</p> <p>We recommend using https://github.com/tensorflow/io to load your HDF5 data into a tf.data Dataset and passing that dataset to Keras.</p> <h2 id="__init__"><code translate="no" dir="ltr">__init__</code></h2> <p><a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/r2.1/tensorflow/python/keras/utils/io_utils.py#L49-L99">View source</a></p> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">__init__(
    datapath,
    dataset,
    start=0,
    end=None,
    normalizer=None
)
</pre> <p>Representation of HDF5 dataset to be used instead of a Numpy array. (deprecated)</p> <aside class="warning"><strong>Warning:</strong><span> THIS FUNCTION IS DEPRECATED. It will be removed after 2020-05-30. Instructions for updating: Training with HDF5Matrix is not optimized for performance. Instead, we recommend using https://github.com/tensorflow/io to load your HDF5 data into a tf.data Dataset and passing that dataset to Keras.</span></aside> <h4 id="example">Example:</h4> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">x_data = HDF5Matrix('input/file.hdf5', 'data')
model.predict(x_data)
</pre> <p>Providing <code translate="no" dir="ltr">start</code> and <code translate="no" dir="ltr">end</code> allows use of a slice of the dataset.</p> <p>Optionally, a normalizer function (or lambda) can be given. This will be called on every slice of data retrieved.</p> <h4 id="arguments">Arguments:</h4> <ul> <li>
<b><code translate="no" dir="ltr">datapath</code></b>: string, path to a HDF5 file</li> <li>
<b><code translate="no" dir="ltr">dataset</code></b>: string, name of the HDF5 dataset in the file specified in datapath</li> <li>
<b><code translate="no" dir="ltr">start</code></b>: int, start of desired slice of the specified dataset</li> <li>
<b><code translate="no" dir="ltr">end</code></b>: int, end of desired slice of the specified dataset</li> <li>
<b><code translate="no" dir="ltr">normalizer</code></b>: function to be called on data when retrieved</li> </ul> <h4 id="returns">Returns:</h4> <p>An array-like HDF5 dataset.</p> <h4 id="raises">Raises:</h4> <p>ImportError if HDF5 &amp; h5py are not installed</p> <h2 id="properties">Properties</h2> <h3 id="dtype"><code translate="no" dir="ltr">dtype</code></h3> <p>Gets the datatype of the dataset.</p> <h4 id="returns_2">Returns:</h4> <p>A numpy dtype string.</p> <h3 id="ndim"><code translate="no" dir="ltr">ndim</code></h3> <p>Gets the number of dimensions (rank) of the dataset.</p> <h4 id="returns_3">Returns:</h4> <p>An integer denoting the number of dimensions (rank) of the dataset.</p> <h3 id="shape"><code translate="no" dir="ltr">shape</code></h3> <p>Gets a numpy-style shape tuple giving the dataset dimensions.</p> <h4 id="returns_4">Returns:</h4> <p>A numpy-style shape tuple.</p> <h3 id="size"><code translate="no" dir="ltr">size</code></h3> <p>Gets the total dataset size (number of elements).</p> <h4 id="returns_5">Returns:</h4> <p>An integer denoting the number of elements in the dataset.</p> <h2 id="methods">Methods</h2> <h3 id="__getitem__"><code translate="no" dir="ltr">__getitem__</code></h3> <p><a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/r2.1/tensorflow/python/keras/utils/io_utils.py#L104-L134">View source</a></p> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">__getitem__(key)
</pre> <h3 id="__len__"><code translate="no" dir="ltr">__len__</code></h3> <p><a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/r2.1/tensorflow/python/keras/utils/io_utils.py#L101-L102">View source</a></p> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">__len__()
</pre> <h2 id="class_members">Class Members</h2> <ul> <li>
<code translate="no" dir="ltr">refs</code> 
</li> </ul> <h2 id="compat_aliases">Compat aliases</h2> <ul> <li><a href="hdf5matrix"><code translate="no" dir="ltr">tf.compat.v1.keras.utils.HDF5Matrix</code></a></li> <li><a href="hdf5matrix"><code translate="no" dir="ltr">tf.compat.v2.keras.utils.HDF5Matrix</code></a></li> </ul>  <devsite-page-rating position="footer" selected-rating="0" hover-rating-star="0"> </devsite-page-rating><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2019 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 3.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/api_docs/python/tf/keras/utils/HDF5Matrix" class="_attribution-link">https://www.tensorflow.org/api_docs/python/tf/keras/utils/HDF5Matrix</a>
  </p>
</div>
