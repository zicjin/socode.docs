<h1 class="devsite-page-title">tf.debugging.experimental.enable_dump_debug_info</h1>    <devsite-mathjax config="TeX-AMS-MML_SVG"></devsite-mathjax>  <div itemscope itemtype="http://developers.google.com/ReferenceObject"> <meta itemprop="name" content="tf.debugging.experimental.enable_dump_debug_info"> <meta itemprop="path" content="Stable"> </div>  <table class="tfo-notebook-buttons tfo-api" align="left"> <td> <a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/r2.1/tensorflow/python/debug/lib/dumping_callback.py#L391-L544">  View source on GitHub </a> </td>
</table>  <p>Enable dumping debugging information from a TensorFlow program.</p> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">tf.debugging.experimental.enable_dump_debug_info(
    dump_root,
    tensor_debug_mode=DEFAULT_TENSOR_DEBUG_MODE,
    circular_buffer_size=1000,
    op_regex=None,
    tensor_dtypes=None
)
</pre>  <p>The debugging information is dumped to a directory on the file system specified as <code translate="no" dir="ltr">dump_root</code>.</p> <p>The dumped debugging information can be ingested by debugger UIs.</p> <p>The files in the dump directory contain the following information: - TensorFlow Function construction (e.g., compilation of Python functions decorated with @tf.function), the op types, names (if available), context, the input and output tensors, and the associated stack traces. - Execution of TensorFlow operations (ops) and Functions and their stack traces, op types, names (if available) and contexts. In addition, depending on the value of the <code translate="no" dir="ltr">tensor_debug_mode</code> argument (see Args section below), the value(s) of the output tensors or more concise summaries of the tensor values will be dumped. - A snapshot of Python source files involved in the execution of the TensorFlow program.</p> <p>Once enabled, the dumping can be disabled with the corresponding <code translate="no" dir="ltr">disable_dump_debug_info()</code> method under the same Python namespace. Calling this method more than once with the same <code translate="no" dir="ltr">dump_root</code> is idempotent. Calling this method more than once with different <code translate="no" dir="ltr">tensor_debug_mode</code>s leads to a <code translate="no" dir="ltr">ValueError</code>. Calling this method more than once with different <code translate="no" dir="ltr">circular_buffer_size</code>s leads to a <code translate="no" dir="ltr">ValueError</code>. Calling this method with a different <code translate="no" dir="ltr">dump_root</code> abolishes the previously-enabled <code translate="no" dir="ltr">dump_root</code>.</p> <h4 id="usage_example">Usage example:</h4> <pre class="prettyprint lang-py" translate="no" dir="ltr" data-language="python">tf.debugging.experimental.enable_dump_debug_info('/tmp/my-tfdbg-dumps')

# Code to build, train and run your TensorFlow model...
</pre> <h4 id="args">Args:</h4> <ul> <li>
<b><code translate="no" dir="ltr">dump_root</code></b>: The directory path where the dumping information will be written.</li> <li>
<b><code translate="no" dir="ltr">tensor_debug_mode</code></b>: Debug mode for tensor values, as a string. The currently supported options are: <ul> <li>"NO_TENSOR": (Default) Only traces the execution of ops' output tensors, while not dumping the value of the ops' output tensors or any form of concise summary of them.</li> </ul>
</li> <li>
<b><code translate="no" dir="ltr">circular_buffer_size</code></b>: Size of the circular buffers for execution events. These circular buffers are designed to reduce the overhead of debugging dumping. They hold the most recent debug events concerning eager execution of ops and <a href="../../function"><code translate="no" dir="ltr">tf.function</code></a>s and traces of tensor values computed inside <a href="../../function"><code translate="no" dir="ltr">tf.function</code></a>s. They are written to the file system only when the proper flushing method is called (see description of return values below). Expected to be an integer. If &lt;= 0, the circular-buffer behavior will be disabled, i.e., the execution debug events will be written to the file writers in the same way as non-execution events such as op creations and source-file snapshots.</li> <li>
<b><code translate="no" dir="ltr">op_regex</code></b>: Dump data from only the tensors from op types that matches to the regular expression (through Python's <code translate="no" dir="ltr">re.match()</code>). "Op type" refers to the names of the TensorFlow operations (e.g., "MatMul", "LogSoftmax"), which may repeat in a TensorFlow function. It does <em>not</em> refer to the names of nodes (e.g., "dense/MatMul", "dense_1/MatMul_1") which are unique within a function. <ul> <li>Example 1: Dump tensor data from only MatMul and Relu ops <code translate="no" dir="ltr">op_regex="^(MatMul|Relu)$"</code>.</li> <li>Example 2: Dump tensors from all ops <em>except</em> Relu: <code translate="no" dir="ltr">op_regex="(?!^Relu$)"</code>. This filter operates in a logical AND relation with <code translate="no" dir="ltr">tensor_dtypes</code>.</li> </ul>
</li> <li>
<b><code translate="no" dir="ltr">tensor_dtypes</code></b>: Dump data from only the tensors of which the specified dtypes. This optional argument can be in any of the following format: <ul> <li>a list or tuple of <code translate="no" dir="ltr">DType</code> objects or strings that can be converted to <code translate="no" dir="ltr">DType</code> objects via <a href="../../dtypes/as_dtype"><code translate="no" dir="ltr">tf.as_dtype()</code></a>. Examples:</li> <li>
<code translate="no" dir="ltr">tensor_dtype=[tf.float32, tf.float64]</code>,</li> <li>
<code translate="no" dir="ltr">tensor_dtype=["float32", "float64"]</code>,</li> <li>
<code translate="no" dir="ltr">tensor_dtypes=(tf.int32, tf.bool)</code>,</li> <li><code translate="no" dir="ltr">tensor_dtypes=("int32", "bool")</code></li> <li>a callable that takes a single <code translate="no" dir="ltr">DType</code> argument and returns a Python <code translate="no" dir="ltr">boolean</code> indicating whether the dtype is to be included in the data dumping. Examples:</li> <li>
<code translate="no" dir="ltr">tensor_dtype=lambda dtype: dtype.is_integer</code>. This filter operates in a logical AND relation with <code translate="no" dir="ltr">op_regex</code>.</li> </ul>
</li> </ul> <h4 id="returns">Returns:</h4> <p>A DebugEventsWriter instance used by the dumping callback. The caller may use its flushing methods, including <code translate="no" dir="ltr">FlushNonExecutionFiles()</code> and <code translate="no" dir="ltr">FlushExecutionFiles()</code>.</p> <h2 id="compat_aliases">Compat aliases</h2> <ul> <li><a href="enable_dump_debug_info"><code translate="no" dir="ltr">tf.compat.v1.debugging.experimental.enable_dump_debug_info</code></a></li> <li><a href="enable_dump_debug_info"><code translate="no" dir="ltr">tf.compat.v2.debugging.experimental.enable_dump_debug_info</code></a></li> </ul>  <devsite-page-rating position="footer" selected-rating="0" hover-rating-star="0"> </devsite-page-rating><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2019 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 3.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/api_docs/python/tf/debugging/experimental/enable_dump_debug_info" class="_attribution-link">https://www.tensorflow.org/api_docs/python/tf/debugging/experimental/enable_dump_debug_info</a>
  </p>
</div>
