<h1 class="devsite-page-title">tf.compat.v1.tpu.rewrite</h1>     <div itemscope itemtype="http://developers.google.com/ReferenceObject"> <meta itemprop="name" content="tf.compat.v1.tpu.rewrite"> <meta itemprop="path" content="Stable"> </div>  <table class="tfo-notebook-buttons tfo-api" align="left"> <td> <a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/r2.1/tensorflow/python/tpu/tpu.py#L1645-L1695">  View source on GitHub </a> </td>
</table>  <p>Rewrites <code translate="no" dir="ltr">computation</code> for execution on a TPU system.</p> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">tf.compat.v1.tpu.rewrite(
    computation,
    inputs=None,
    infeed_queue=None,
    device_assignment=None,
    name=None
)
</pre>  <h4 id="args">Args:</h4> <ul> <li>
<p><b><code translate="no" dir="ltr">computation</code></b>: A Python function that builds a computation to apply to the input. If the function takes n inputs, 'inputs' should be a list of n tensors.</p> <p><code translate="no" dir="ltr">computation</code> may return a list of operations and tensors. Tensors must come before operations in the returned list. The return value of <code translate="no" dir="ltr">rewrite</code> is a list of tensors corresponding to the tensors from the output of <code translate="no" dir="ltr">computation</code>.</p> <p>All <code translate="no" dir="ltr">Operation</code>s constructed during <code translate="no" dir="ltr">computation</code> will be executed when evaluating any of the returned output tensors, not just the ones returned.</p>
</li> <li><p><b><code translate="no" dir="ltr">inputs</code></b>: A list of input tensors or <code translate="no" dir="ltr">None</code> (equivalent to an empty list). Each input can be a nested structure containing values that are convertible to tensors. Note that passing an N-dimension list of compatible values will result in a N-dimention list of scalar tensors rather than a single Rank-N tensors. If you need different behavior, convert part of inputs to tensors with <a href="../../../convert_to_tensor"><code translate="no" dir="ltr">tf.convert_to_tensor</code></a>.</p></li> <li><p><b><code translate="no" dir="ltr">infeed_queue</code></b>: If not <code translate="no" dir="ltr">None</code>, the <code translate="no" dir="ltr">InfeedQueue</code> from which to append a tuple of arguments as inputs to <code translate="no" dir="ltr">computation</code>.</p></li> <li><p><b><code translate="no" dir="ltr">device_assignment</code></b>: if not <code translate="no" dir="ltr">None</code>, a <code translate="no" dir="ltr">DeviceAssignment</code> describing the mapping between logical cores in the computation with physical cores in the TPU topology. May be omitted for a single-core computation, in which case the core attached to task 0, TPU device 0 is used.</p></li> <li><p><b><code translate="no" dir="ltr">name</code></b>: (Deprecated) Does nothing.</p></li> </ul> <h4 id="returns">Returns:</h4> <p>Same data structure as if computation(*inputs) is called directly with some exceptions for correctness. Exceptions include: 1) None output: a NoOp would be returned which control-depends on computation. 2) Single value output: A tuple containing the value would be returned. 3) Operation-only outputs: a NoOp would be returned which control-depends on computation. TODO(b/121383831): Investigate into removing these special cases.</p>  <devsite-page-rating position="footer" selected-rating="0" hover-rating-star="0"> </devsite-page-rating><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2019 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 3.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/api_docs/python/tf/compat/v1/tpu/rewrite" class="_attribution-link">https://www.tensorflow.org/api_docs/python/tf/compat/v1/tpu/rewrite</a>
  </p>
</div>
