<h1 class="devsite-page-title">tf.compat.v1.flags.FlagValues</h1>     <div itemscope itemtype="http://developers.google.com/ReferenceObject"> <meta itemprop="name" content="tf.compat.v1.flags.FlagValues"> <meta itemprop="path" content="Stable"> <meta itemprop="property" content="__call__"> <meta itemprop="property" content="__contains__"> <meta itemprop="property" content="__getitem__"> <meta itemprop="property" content="__init__"> <meta itemprop="property" content="__iter__"> <meta itemprop="property" content="__len__"> <meta itemprop="property" content="append_flag_values"> <meta itemprop="property" content="append_flags_into_file"> <meta itemprop="property" content="find_module_defining_flag"> <meta itemprop="property" content="find_module_id_defining_flag"> <meta itemprop="property" content="flag_values_dict"> <meta itemprop="property" content="flags_by_module_dict"> <meta itemprop="property" content="flags_by_module_id_dict"> <meta itemprop="property" content="flags_into_string"> <meta itemprop="property" content="get_flag_value"> <meta itemprop="property" content="get_help"> <meta itemprop="property" content="get_key_flags_for_module"> <meta itemprop="property" content="is_gnu_getopt"> <meta itemprop="property" content="is_parsed"> <meta itemprop="property" content="key_flags_by_module_dict"> <meta itemprop="property" content="main_module_help"> <meta itemprop="property" content="mark_as_parsed"> <meta itemprop="property" content="module_help"> <meta itemprop="property" content="read_flags_from_files"> <meta itemprop="property" content="register_flag_by_module"> <meta itemprop="property" content="register_flag_by_module_id"> <meta itemprop="property" content="register_key_flag_for_module"> <meta itemprop="property" content="remove_flag_values"> <meta itemprop="property" content="set_default"> <meta itemprop="property" content="set_gnu_getopt"> <meta itemprop="property" content="unparse_flags"> <meta itemprop="property" content="write_help_in_xml_format"> </div>    <h2 id="class_flagvalues">Class <code translate="no" dir="ltr">FlagValues</code>
</h2> <p>Registry of 'Flag' objects.</p>  <p>A 'FlagValues' can then scan command line arguments, passing flag arguments through to the 'Flag' objects that it owns. It also provides easy access to the flag values. Typically only one 'FlagValues' object is needed by an application: flags.FLAGS</p> <p>This class is heavily overloaded:</p> <p>'Flag' objects are registered via <strong>setitem</strong>: FLAGS['longname'] = x # register a new flag</p> <p>The .value attribute of the registered 'Flag' objects can be accessed as attributes of this 'FlagValues' object, through <strong>getattr</strong>. Both the long and short name of the original 'Flag' objects can be used to access its value: FLAGS.longname # parsed flag value FLAGS.x # parsed flag value (short name)</p> <p>Command line arguments are scanned and passed to the registered 'Flag' objects through the <strong>call</strong> method. Unparsed arguments, including argv<a href="e.g.%20the%20program%20name">0</a> are returned. argv = FLAGS(sys.argv) # scan command line arguments</p> <p>The original registered Flag objects can be retrieved through the use of the dictionary-like operator, <strong>getitem</strong>: x = FLAGS['longname'] # access the registered Flag object</p> <p>The str() operator of a 'FlagValues' object provides help for all of the registered 'Flag' objects.</p> <h2 id="__init__"><code translate="no" dir="ltr">__init__</code></h2> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">__init__()
</pre> <p>Initialize self. See help(type(self)) for accurate signature.</p> <h2 id="methods">Methods</h2> <h3 id="__call__"><code translate="no" dir="ltr">__call__</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">__call__(
    argv,
    known_only=False
)
</pre> <p>Parses flags from argv; stores parsed flags into this FlagValues object.</p> <p>All unparsed arguments are returned.</p> <h4 id="args">Args:</h4> <ul> <li>
<b><code translate="no" dir="ltr">argv</code></b>: a tuple/list of strings.</li> <li>
<b><code translate="no" dir="ltr">known_only</code></b>: bool, if True, parse and remove known flags; return the rest untouched. Unknown flags specified by --undefok are not returned.</li> </ul> <h4 id="returns">Returns:</h4> <p>The list of arguments not parsed as options, including argv[0].</p> <h4 id="raises">Raises:</h4> <ul> <li>
<b><code translate="no" dir="ltr">Error</code></b>: Raised on any parsing error.</li> <li>
<b><code translate="no" dir="ltr">TypeError</code></b>: Raised on passing wrong type of arguments.</li> <li>
<b><code translate="no" dir="ltr">ValueError</code></b>: Raised on flag value parsing error.</li> </ul> <h3 id="__contains__"><code translate="no" dir="ltr">__contains__</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">__contains__(name)
</pre> <p>Returns True if name is a value (flag) in the dict.</p> <h3 id="__getitem__"><code translate="no" dir="ltr">__getitem__</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">__getitem__(name)
</pre> <p>Returns the Flag object for the flag --name.</p> <h3 id="__iter__"><code translate="no" dir="ltr">__iter__</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">__iter__()
</pre> <h3 id="__len__"><code translate="no" dir="ltr">__len__</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">__len__()
</pre> <h3 id="append_flag_values"><code translate="no" dir="ltr">append_flag_values</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">append_flag_values(flag_values)
</pre> <p>Appends flags registered in another FlagValues instance.</p> <h4 id="args_2">Args:</h4> <ul> <li>
<b><code translate="no" dir="ltr">flag_values</code></b>: FlagValues, the FlagValues instance from which to copy flags.</li> </ul> <h3 id="append_flags_into_file"><code translate="no" dir="ltr">append_flags_into_file</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">append_flags_into_file(filename)
</pre> <p>Appends all flags assignments from this FlagInfo object to a file.</p> <p>Output will be in the format of a flagfile.</p> <p>NOTE: MUST mirror the behavior of the C++ AppendFlagsIntoFile from https://github.com/gflags/gflags.</p> <h4 id="args_3">Args:</h4> <ul> <li>
<b><code translate="no" dir="ltr">filename</code></b>: str, name of the file.</li> </ul> <h3 id="find_module_defining_flag"><code translate="no" dir="ltr">find_module_defining_flag</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">find_module_defining_flag(
    flagname,
    default=None
)
</pre> <p>Return the name of the module defining this flag, or default.</p> <h4 id="args_4">Args:</h4> <ul> <li>
<b><code translate="no" dir="ltr">flagname</code></b>: str, name of the flag to lookup.</li> <li>
<b><code translate="no" dir="ltr">default</code></b>: Value to return if flagname is not defined. Defaults to None.</li> </ul> <h4 id="returns_2">Returns:</h4> <p>The name of the module which registered the flag with this name. If no such module exists (i.e. no flag with this name exists), we return default.</p> <h3 id="find_module_id_defining_flag"><code translate="no" dir="ltr">find_module_id_defining_flag</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">find_module_id_defining_flag(
    flagname,
    default=None
)
</pre> <p>Return the ID of the module defining this flag, or default.</p> <h4 id="args_5">Args:</h4> <ul> <li>
<b><code translate="no" dir="ltr">flagname</code></b>: str, name of the flag to lookup.</li> <li>
<b><code translate="no" dir="ltr">default</code></b>: Value to return if flagname is not defined. Defaults to None.</li> </ul> <h4 id="returns_3">Returns:</h4> <p>The ID of the module which registered the flag with this name. If no such module exists (i.e. no flag with this name exists), we return default.</p> <h3 id="flag_values_dict"><code translate="no" dir="ltr">flag_values_dict</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">flag_values_dict()
</pre> <p>Returns a dictionary that maps flag names to flag values.</p> <h3 id="flags_by_module_dict"><code translate="no" dir="ltr">flags_by_module_dict</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">flags_by_module_dict()
</pre> <p>Returns the dictionary of module_name -&gt; list of defined flags.</p> <h4 id="returns_4">Returns:</h4> <p>A dictionary. Its keys are module names (strings). Its values are lists of Flag objects.</p> <h3 id="flags_by_module_id_dict"><code translate="no" dir="ltr">flags_by_module_id_dict</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">flags_by_module_id_dict()
</pre> <p>Returns the dictionary of module_id -&gt; list of defined flags.</p> <h4 id="returns_5">Returns:</h4> <p>A dictionary. Its keys are module IDs (ints). Its values are lists of Flag objects.</p> <h3 id="flags_into_string"><code translate="no" dir="ltr">flags_into_string</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">flags_into_string()
</pre> <p>Returns a string with the flags assignments from this FlagValues object.</p> <p>This function ignores flags whose value is None. Each flag assignment is separated by a newline.</p> <p>NOTE: MUST mirror the behavior of the C++ CommandlineFlagsIntoString from https://github.com/gflags/gflags.</p> <h4 id="returns_6">Returns:</h4> <p>str, the string with the flags assignments from this FlagValues object. The flags are ordered by (module_name, flag_name).</p> <h3 id="get_flag_value"><code translate="no" dir="ltr">get_flag_value</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">get_flag_value(
    name,
    default
)
</pre> <p>Returns the value of a flag (if not None) or a default value.</p> <h4 id="args_6">Args:</h4> <ul> <li>
<b><code translate="no" dir="ltr">name</code></b>: str, the name of a flag.</li> <li>
<b><code translate="no" dir="ltr">default</code></b>: Default value to use if the flag value is None.</li> </ul> <h4 id="returns_7">Returns:</h4> <p>Requested flag value or default.</p> <h3 id="get_help"><code translate="no" dir="ltr">get_help</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">get_help(
    prefix='',
    include_special_flags=True
)
</pre> <p>Returns a help string for all known flags.</p> <h4 id="args_7">Args:</h4> <ul> <li>
<b><code translate="no" dir="ltr">prefix</code></b>: str, per-line output prefix.</li> <li>
<b><code translate="no" dir="ltr">include_special_flags</code></b>: bool, whether to include description of SPECIAL_FLAGS, i.e. --flagfile and --undefok.</li> </ul> <h4 id="returns_8">Returns:</h4> <p>str, formatted help message.</p> <h3 id="get_key_flags_for_module"><code translate="no" dir="ltr">get_key_flags_for_module</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">get_key_flags_for_module(module)
</pre> <p>Returns the list of key flags for a module.</p> <h4 id="args_8">Args:</h4> <ul> <li>
<b><code translate="no" dir="ltr">module</code></b>: module|str, the module to get key flags from.</li> </ul> <h4 id="returns_9">Returns:</h4> <p>[Flag], a new list of Flag instances. Caller may update this list as</p> <ul> <li>
<b><code translate="no" dir="ltr">desired</code></b>: none of those changes will affect the internals of this FlagValue instance.</li> </ul> <h3 id="is_gnu_getopt"><code translate="no" dir="ltr">is_gnu_getopt</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">is_gnu_getopt()
</pre> <h3 id="is_parsed"><code translate="no" dir="ltr">is_parsed</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">is_parsed()
</pre> <p>Returns whether flags were parsed.</p> <h3 id="key_flags_by_module_dict"><code translate="no" dir="ltr">key_flags_by_module_dict</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">key_flags_by_module_dict()
</pre> <p>Returns the dictionary of module_name -&gt; list of key flags.</p> <h4 id="returns_10">Returns:</h4> <p>A dictionary. Its keys are module names (strings). Its values are lists of Flag objects.</p> <h3 id="main_module_help"><code translate="no" dir="ltr">main_module_help</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">main_module_help()
</pre> <p>Describes the key flags of the main module.</p> <h4 id="returns_11">Returns:</h4> <p>str, describing the key flags of the main module.</p> <h3 id="mark_as_parsed"><code translate="no" dir="ltr">mark_as_parsed</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">mark_as_parsed()
</pre> <p>Explicitly marks flags as parsed.</p> <p>Use this when the caller knows that this FlagValues has been parsed as if a <strong>call</strong>() invocation has happened. This is only a public method for use by things like appcommands which do additional command like parsing.</p> <h3 id="module_help"><code translate="no" dir="ltr">module_help</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">module_help(module)
</pre> <p>Describes the key flags of a module.</p> <h4 id="args_9">Args:</h4> <ul> <li>
<b><code translate="no" dir="ltr">module</code></b>: module|str, the module to describe the key flags for.</li> </ul> <h4 id="returns_12">Returns:</h4> <p>str, describing the key flags of a module.</p> <h3 id="read_flags_from_files"><code translate="no" dir="ltr">read_flags_from_files</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">read_flags_from_files(
    argv,
    force_gnu=True
)
</pre> <p>Processes command line args, but also allow args to be read from file.</p> <h4 id="args_10">Args:</h4> <ul> <li>
<b><code translate="no" dir="ltr">argv</code></b>: [str], a list of strings, usually sys.argv[1:], which may contain one or more flagfile directives of the form --flagfile="./filename". Note that the name of the program (sys.argv[0]) should be omitted.</li> <li>
<b><code translate="no" dir="ltr">force_gnu</code></b>: bool, if False, --flagfile parsing obeys the FLAGS.is_gnu_getopt() value. If True, ignore the value and always follow gnu_getopt semantics.</li> </ul> <h4 id="returns_13">Returns:</h4> <p>A new list which has the original list combined with what we read from any flagfile(s).</p> <h4 id="raises_2">Raises:</h4> <ul> <li>
<b><code translate="no" dir="ltr">IllegalFlagValueError</code></b>: Raised when --flagfile is provided with no argument.</li> </ul> <p>This function is called by FLAGS(argv). It scans the input list for a flag that looks like: --flagfile=<somefile>. Then it opens <somefile>, reads all valid key and value pairs and inserts them into the input list in exactly the place where the --flagfile arg is found.</somefile></somefile></p> <p>Note that your application's flags are still defined the usual way using absl.flags DEFINE_flag() type functions.</p> <p>Notes (assuming we're getting a commandline of some sort as our input): --&gt; For duplicate flags, the last one we hit should "win". --&gt; Since flags that appear later win, a flagfile's settings can be "weak" if the --flagfile comes at the beginning of the argument sequence, and it can be "strong" if the --flagfile comes at the end. --&gt; A further "--flagfile=<otherfile.cfg>" CAN be nested in a flagfile. It will be expanded in exactly the spot where it is found. --&gt; In a flagfile, a line beginning with # or // is a comment. --&gt; Entirely blank lines <em>should</em> be ignored.</otherfile.cfg></p> <h3 id="register_flag_by_module"><code translate="no" dir="ltr">register_flag_by_module</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">register_flag_by_module(
    module_name,
    flag
)
</pre> <p>Records the module that defines a specific flag.</p> <p>We keep track of which flag is defined by which module so that we can later sort the flags by module.</p> <h4 id="args_11">Args:</h4> <ul> <li>
<b><code translate="no" dir="ltr">module_name</code></b>: str, the name of a Python module.</li> <li>
<b><code translate="no" dir="ltr">flag</code></b>: Flag, the Flag instance that is key to the module.</li> </ul> <h3 id="register_flag_by_module_id"><code translate="no" dir="ltr">register_flag_by_module_id</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">register_flag_by_module_id(
    module_id,
    flag
)
</pre> <p>Records the module that defines a specific flag.</p> <h4 id="args_12">Args:</h4> <ul> <li>
<b><code translate="no" dir="ltr">module_id</code></b>: int, the ID of the Python module.</li> <li>
<b><code translate="no" dir="ltr">flag</code></b>: Flag, the Flag instance that is key to the module.</li> </ul> <h3 id="register_key_flag_for_module"><code translate="no" dir="ltr">register_key_flag_for_module</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">register_key_flag_for_module(
    module_name,
    flag
)
</pre> <p>Specifies that a flag is a key flag for a module.</p> <h4 id="args_13">Args:</h4> <ul> <li>
<b><code translate="no" dir="ltr">module_name</code></b>: str, the name of a Python module.</li> <li>
<b><code translate="no" dir="ltr">flag</code></b>: Flag, the Flag instance that is key to the module.</li> </ul> <h3 id="remove_flag_values"><code translate="no" dir="ltr">remove_flag_values</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">remove_flag_values(flag_values)
</pre> <p>Remove flags that were previously appended from another FlagValues.</p> <h4 id="args_14">Args:</h4> <ul> <li>
<b><code translate="no" dir="ltr">flag_values</code></b>: FlagValues, the FlagValues instance containing flags to remove.</li> </ul> <h3 id="set_default"><code translate="no" dir="ltr">set_default</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">set_default(
    name,
    value
)
</pre> <p>Changes the default value of the named flag object.</p> <p>The flag's current value is also updated if the flag is currently using the default value, i.e. not specified in the command line, and not set by FLAGS.name = value.</p> <h4 id="args_15">Args:</h4> <ul> <li>
<b><code translate="no" dir="ltr">name</code></b>: str, the name of the flag to modify.</li> <li>
<b><code translate="no" dir="ltr">value</code></b>: The new default value.</li> </ul> <h4 id="raises_3">Raises:</h4> <ul> <li>
<b><code translate="no" dir="ltr">UnrecognizedFlagError</code></b>: Raised when there is no registered flag named name.</li> <li>
<b><code translate="no" dir="ltr">IllegalFlagValueError</code></b>: Raised when value is not valid.</li> </ul> <h3 id="set_gnu_getopt"><code translate="no" dir="ltr">set_gnu_getopt</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">set_gnu_getopt(gnu_getopt=True)
</pre> <p>Sets whether or not to use GNU style scanning.</p> <p>GNU style allows mixing of flag and non-flag arguments. See http://docs.python.org/library/getopt.html#getopt.gnu_getopt</p> <h4 id="args_16">Args:</h4> <ul> <li>
<b><code translate="no" dir="ltr">gnu_getopt</code></b>: bool, whether or not to use GNU style scanning.</li> </ul> <h3 id="unparse_flags"><code translate="no" dir="ltr">unparse_flags</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">unparse_flags()
</pre> <p>Unparses all flags to the point before any FLAGS(argv) was called.</p> <h3 id="write_help_in_xml_format"><code translate="no" dir="ltr">write_help_in_xml_format</code></h3> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">write_help_in_xml_format(outfile=None)
</pre> <p>Outputs flag documentation in XML format.</p> <p>NOTE: We use element names that are consistent with those used by the C++ command-line flag library, from https://github.com/gflags/gflags. We also use a few new elements (e.g., <key>), but we do not interfere / overlap with existing XML elements used by the C++ library. Please maintain this consistency.</key></p> <h4 id="args_17">Args:</h4> <ul> <li>
<b><code translate="no" dir="ltr">outfile</code></b>: File object we write to. Default None means sys.stdout.</li> </ul> <h2 id="compat_aliases">Compat aliases</h2> <ul> <li><a href="flagvalues"><code translate="no" dir="ltr">tf.compat.v1.app.flags.FlagValues</code></a></li> </ul>  <devsite-page-rating position="footer" selected-rating="0" hover-rating-star="0"> </devsite-page-rating><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2019 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 3.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/api_docs/python/tf/compat/v1/flags/FlagValues" class="_attribution-link">https://www.tensorflow.org/api_docs/python/tf/compat/v1/flags/FlagValues</a>
  </p>
</div>
