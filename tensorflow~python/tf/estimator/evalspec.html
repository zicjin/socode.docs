<h1 class="devsite-page-title">tf.estimator.EvalSpec</h1>     <div itemscope itemtype="http://developers.google.com/ReferenceObject"> <meta itemprop="name" content="tf.estimator.EvalSpec"> <meta itemprop="path" content="Stable"> <meta itemprop="property" content="input_fn"> <meta itemprop="property" content="steps"> <meta itemprop="property" content="name"> <meta itemprop="property" content="hooks"> <meta itemprop="property" content="exporters"> <meta itemprop="property" content="start_delay_secs"> <meta itemprop="property" content="throttle_secs"> <meta itemprop="property" content="__new__"> </div>  <table class="tfo-notebook-buttons tfo-api" align="left"> <td> <a target="_blank" href="https://www.tensorflow.org/versions/r1.15/api_docs/python/tf/estimator/EvalSpec">  TensorFlow 1 version</a> </td> <td> <a target="_blank" href="https://github.com/tensorflow/estimator/tree/master/tensorflow_estimator/python/estimator/training.py">  View source on GitHub </a> </td>
</table>  <h2 id="class_evalspec">Class <code translate="no" dir="ltr">EvalSpec</code>
</h2> <p>Configuration for the "eval" part for the <code translate="no" dir="ltr">train_and_evaluate</code> call.</p> <h3 id="used_in_the_guide">Used in the guide:</h3> <ul> <li><a href="https://www.tensorflow.org/guide/migrate">Migrate your TensorFlow 1 code to TensorFlow 2</a></li> </ul> <h3 id="used_in_the_tutorials">Used in the tutorials:</h3> <ul> <li><a href="https://www.tensorflow.org/tutorials/distribute/multi_worker_with_estimator">Multi-worker training with Estimator</a></li> </ul> <p><code translate="no" dir="ltr">EvalSpec</code> combines details of evaluation of the trained model as well as its export. Evaluation consists of computing metrics to judge the performance of the trained model. Export writes out the trained model on to external storage.</p> <h2 id="__new__"><code translate="no" dir="ltr">__new__</code></h2> <p><a target="_blank" href="https://github.com/tensorflow/estimator/tree/master/tensorflow_estimator/python/estimator/training.py">View source</a></p> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">@staticmethod
__new__(
    cls,
    input_fn,
    steps=100,
    name=None,
    hooks=None,
    exporters=None,
    start_delay_secs=120,
    throttle_secs=600
)
</pre> <p>Creates a validated <code translate="no" dir="ltr">EvalSpec</code> instance.</p> <h4 id="args">Args:</h4> <ul> <li>
<p><b><code translate="no" dir="ltr">input_fn</code></b>: A function that constructs the input data for evaluation. See <a href="https://tensorflow.org/guide/premade_estimators#create_input_functions">Premade Estimators</a> for more information. The function should construct and return one of the following:</p> <ul> <li>A 'tf.data.Dataset' object: Outputs of <code translate="no" dir="ltr">Dataset</code> object must be a tuple (features, labels) with same constraints as below.</li> <li>A tuple (features, labels): Where features is a <code translate="no" dir="ltr">Tensor</code> or a dictionary of string feature name to <code translate="no" dir="ltr">Tensor</code> and labels is a <code translate="no" dir="ltr">Tensor</code> or a dictionary of string label name to <code translate="no" dir="ltr">Tensor</code>.</li> </ul>
</li> <li><p><b><code translate="no" dir="ltr">steps</code></b>: Int. Positive number of steps for which to evaluate model. If <code translate="no" dir="ltr">None</code>, evaluates until <code translate="no" dir="ltr">input_fn</code> raises an end-of-input exception. See <a href="../compat/v1/estimator/estimator#evaluate"><code translate="no" dir="ltr">Estimator.evaluate</code></a> for details.</p></li> <li><p><b><code translate="no" dir="ltr">name</code></b>: String. Name of the evaluation if user needs to run multiple evaluations on different data sets. Metrics for different evaluations are saved in separate folders, and appear separately in tensorboard.</p></li> <li><p><b><code translate="no" dir="ltr">hooks</code></b>: Iterable of <code translate="no" dir="ltr">tf.train.SessionRunHook</code> objects to run during evaluation.</p></li> <li><p><b><code translate="no" dir="ltr">exporters</code></b>: Iterable of <code translate="no" dir="ltr">Exporter</code>s, or a single one, or <code translate="no" dir="ltr">None</code>. <code translate="no" dir="ltr">exporters</code> will be invoked after each evaluation.</p></li> <li><p><b><code translate="no" dir="ltr">start_delay_secs</code></b>: Int. Start evaluating after waiting for this many seconds.</p></li> <li><p><b><code translate="no" dir="ltr">throttle_secs</code></b>: Int. Do not re-evaluate unless the last evaluation was started at least this many seconds ago. Of course, evaluation does not occur if no new checkpoints are available, hence, this is the minimum.</p></li> </ul> <h4 id="returns">Returns:</h4> <p>A validated <code translate="no" dir="ltr">EvalSpec</code> object.</p> <h4 id="raises">Raises:</h4> <ul> <li>
<b><code translate="no" dir="ltr">ValueError</code></b>: If any of the input arguments is invalid.</li> <li>
<b><code translate="no" dir="ltr">TypeError</code></b>: If any of the arguments is not of the expected type.</li> </ul> <h2 id="properties">Properties</h2> <h3 id="input_fn"><code translate="no" dir="ltr">input_fn</code></h3> <h3 id="steps"><code translate="no" dir="ltr">steps</code></h3> <h3 id="name"><code translate="no" dir="ltr">name</code></h3> <h3 id="hooks"><code translate="no" dir="ltr">hooks</code></h3> <h3 id="exporters"><code translate="no" dir="ltr">exporters</code></h3> <h3 id="start_delay_secs"><code translate="no" dir="ltr">start_delay_secs</code></h3> <h3 id="throttle_secs"><code translate="no" dir="ltr">throttle_secs</code></h3> <h2 id="compat_aliases">Compat aliases</h2> <ul> <li><a href="evalspec"><code translate="no" dir="ltr">tf.compat.v1.estimator.EvalSpec</code></a></li> <li><a href="evalspec"><code translate="no" dir="ltr">tf.compat.v2.estimator.EvalSpec</code></a></li> </ul>  <devsite-page-rating position="footer" selected-rating="0" hover-rating-star="0"> </devsite-page-rating><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2019 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 3.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/api_docs/python/tf/estimator/EvalSpec" class="_attribution-link">https://www.tensorflow.org/api_docs/python/tf/estimator/EvalSpec</a>
  </p>
</div>
