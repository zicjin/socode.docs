<h1 class="devsite-page-title">tf.Operation</h1>     <div itemscope itemtype="http://developers.google.com/ReferenceObject"> <meta itemprop="name" content="tf.Operation"> <meta itemprop="path" content="Stable"> <meta itemprop="property" content="control_inputs"> <meta itemprop="property" content="device"> <meta itemprop="property" content="graph"> <meta itemprop="property" content="inputs"> <meta itemprop="property" content="name"> <meta itemprop="property" content="node_def"> <meta itemprop="property" content="op_def"> <meta itemprop="property" content="outputs"> <meta itemprop="property" content="traceback"> <meta itemprop="property" content="type"> <meta itemprop="property" content="__init__"> <meta itemprop="property" content="colocation_groups"> <meta itemprop="property" content="get_attr"> <meta itemprop="property" content="run"> <meta itemprop="property" content="values"> </div>  <table class="tfo-notebook-buttons tfo-api" align="left"> <td> <a target="_blank" href="https://www.tensorflow.org/versions/r1.15/api_docs/python/tf/Operation">  TensorFlow 1 version</a> </td> <td> <a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/r2.1/tensorflow/python/framework/ops.py#L1628-L2391">  View source on GitHub </a> </td>
</table>  <h2 id="class_operation">Class <code translate="no" dir="ltr">Operation</code>
</h2> <p>Represents a graph node that performs computation on tensors.</p>  <p>An <code translate="no" dir="ltr">Operation</code> is a node in a <a href="graph"><code translate="no" dir="ltr">tf.Graph</code></a> that takes zero or more <code translate="no" dir="ltr">Tensor</code> objects as input, and produces zero or more <code translate="no" dir="ltr">Tensor</code> objects as output. Objects of type <code translate="no" dir="ltr">Operation</code> are created by calling a Python op constructor (such as <a href="linalg/matmul"><code translate="no" dir="ltr">tf.matmul</code></a>) within a <a href="function"><code translate="no" dir="ltr">tf.function</code></a> or under a <a href="graph#as_default"><code translate="no" dir="ltr">tf.Graph.as_default</code></a> context manager.</p> <p>For example, within a <a href="function"><code translate="no" dir="ltr">tf.function</code></a>, <code translate="no" dir="ltr">c = tf.matmul(a, b)</code> creates an <code translate="no" dir="ltr">Operation</code> of type "MatMul" that takes tensors <code translate="no" dir="ltr">a</code> and <code translate="no" dir="ltr">b</code> as input, and produces <code translate="no" dir="ltr">c</code> as output.</p> <p>If a <a href="compat/v1/session"><code translate="no" dir="ltr">tf.compat.v1.Session</code></a> is used, an <code translate="no" dir="ltr">Operation</code> of a <a href="graph"><code translate="no" dir="ltr">tf.Graph</code></a> can be executed by passing it to <code translate="no" dir="ltr">tf.Session.run</code>. <code translate="no" dir="ltr">op.run()</code> is a shortcut for calling <code translate="no" dir="ltr">tf.compat.v1.get_default_session().run(op)</code>.</p> <h2 id="__init__"><code translate="no" dir="ltr">__init__</code></h2> <p><a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/r2.1/tensorflow/python/framework/ops.py#L1646-L1804">View source</a></p> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">__init__(
    node_def,
    g,
    inputs=None,
    output_types=None,
    control_inputs=None,
    input_types=None,
    original_op=None,
    op_def=None
)
</pre> <p>Creates an <code translate="no" dir="ltr">Operation</code>.</p> <p>NOTE: This constructor validates the name of the <code translate="no" dir="ltr">Operation</code> (passed as <code translate="no" dir="ltr">node_def.name</code>). Valid <code translate="no" dir="ltr">Operation</code> names match the following regular expression:</p> <pre class="prettyprint" translate="no" dir="ltr" data-language="python">[A-Za-z0-9.][A-Za-z0-9_.\\-/]*
</pre> <h4 id="args">Args:</h4> <ul> <li>
<b><code translate="no" dir="ltr">node_def</code></b>: <code translate="no" dir="ltr">node_def_pb2.NodeDef</code>. <code translate="no" dir="ltr">NodeDef</code> for the <code translate="no" dir="ltr">Operation</code>. Used for attributes of <code translate="no" dir="ltr">node_def_pb2.NodeDef</code>, typically <code translate="no" dir="ltr">name</code>, <code translate="no" dir="ltr">op</code>, and <code translate="no" dir="ltr">device</code>. The <code translate="no" dir="ltr">input</code> attribute is irrelevant here as it will be computed when generating the model.</li> <li>
<b><code translate="no" dir="ltr">g</code></b>: <code translate="no" dir="ltr">Graph</code>. The parent graph.</li> <li>
<b><code translate="no" dir="ltr">inputs</code></b>: list of <code translate="no" dir="ltr">Tensor</code> objects. The inputs to this <code translate="no" dir="ltr">Operation</code>.</li> <li>
<b><code translate="no" dir="ltr">output_types</code></b>: list of <code translate="no" dir="ltr">DType</code> objects. List of the types of the <code translate="no" dir="ltr">Tensors</code> computed by this operation. The length of this list indicates the number of output endpoints of the <code translate="no" dir="ltr">Operation</code>.</li> <li>
<b><code translate="no" dir="ltr">control_inputs</code></b>: list of operations or tensors from which to have a control dependency.</li> <li>
<b><code translate="no" dir="ltr">input_types</code></b>: List of <code translate="no" dir="ltr">DType</code> objects representing the types of the tensors accepted by the <code translate="no" dir="ltr">Operation</code>. By default uses <code translate="no" dir="ltr">[x.dtype.base_dtype for x in inputs]</code>. Operations that expect reference-typed inputs must specify these explicitly.</li> <li>
<b><code translate="no" dir="ltr">original_op</code></b>: Optional. Used to associate the new <code translate="no" dir="ltr">Operation</code> with an existing <code translate="no" dir="ltr">Operation</code> (for example, a replica with the op that was replicated).</li> <li>
<b><code translate="no" dir="ltr">op_def</code></b>: Optional. The <code translate="no" dir="ltr">op_def_pb2.OpDef</code> proto that describes the op type that this <code translate="no" dir="ltr">Operation</code> represents.</li> </ul> <h4 id="raises">Raises:</h4> <ul> <li>
<b><code translate="no" dir="ltr">TypeError</code></b>: if control inputs are not Operations or Tensors, or if <code translate="no" dir="ltr">node_def</code> is not a <code translate="no" dir="ltr">NodeDef</code>, or if <code translate="no" dir="ltr">g</code> is not a <code translate="no" dir="ltr">Graph</code>, or if <code translate="no" dir="ltr">inputs</code> are not tensors, or if <code translate="no" dir="ltr">inputs</code> and <code translate="no" dir="ltr">input_types</code> are incompatible.</li> <li>
<b><code translate="no" dir="ltr">ValueError</code></b>: if the <code translate="no" dir="ltr">node_def</code> name is not valid.</li> </ul> <h2 id="properties">Properties</h2> <h3 id="control_inputs"><code translate="no" dir="ltr">control_inputs</code></h3> <p>The <code translate="no" dir="ltr">Operation</code> objects on which this op has a control dependency.</p> <p>Before this op is executed, TensorFlow will ensure that the operations in <code translate="no" dir="ltr">self.control_inputs</code> have finished executing. This mechanism can be used to run ops sequentially for performance reasons, or to ensure that the side effects of an op are observed in the correct order.</p> <h4 id="returns">Returns:</h4> <p>A list of <code translate="no" dir="ltr">Operation</code> objects.</p> <h3 id="device"><code translate="no" dir="ltr">device</code></h3> <p>The name of the device to which this op has been assigned, if any.</p> <h4 id="returns_2">Returns:</h4> <p>The string name of the device to which this op has been assigned, or an empty string if it has not been assigned to a device.</p> <h3 id="graph"><code translate="no" dir="ltr">graph</code></h3> <p>The <code translate="no" dir="ltr">Graph</code> that contains this operation.</p> <h3 id="inputs"><code translate="no" dir="ltr">inputs</code></h3> <p>The sequence of <code translate="no" dir="ltr">Tensor</code> objects representing the data inputs of this op.</p> <h3 id="name"><code translate="no" dir="ltr">name</code></h3> <p>The full name of this operation.</p> <h3 id="node_def"><code translate="no" dir="ltr">node_def</code></h3> <p>Returns the <code translate="no" dir="ltr">NodeDef</code> representation of this operation.</p> <h4 id="returns_3">Returns:</h4> <p>A <a href="https://www.tensorflow.org/code/tensorflow/core/framework/node_def.proto"><code translate="no" dir="ltr">NodeDef</code></a> protocol buffer.</p> <h3 id="op_def"><code translate="no" dir="ltr">op_def</code></h3> <p>Returns the <code translate="no" dir="ltr">OpDef</code> proto that represents the type of this op.</p> <h4 id="returns_4">Returns:</h4> <p>An <a href="https://www.tensorflow.org/code/tensorflow/core/framework/op_def.proto"><code translate="no" dir="ltr">OpDef</code></a> protocol buffer.</p> <h3 id="outputs"><code translate="no" dir="ltr">outputs</code></h3> <p>The list of <code translate="no" dir="ltr">Tensor</code> objects representing the outputs of this op.</p> <h3 id="traceback"><code translate="no" dir="ltr">traceback</code></h3> <p>Returns the call stack from when this operation was constructed.</p> <h3 id="type"><code translate="no" dir="ltr">type</code></h3> <p>The type of the op (e.g. <code translate="no" dir="ltr">"MatMul"</code>).</p> <h2 id="methods">Methods</h2> <h3 id="colocation_groups"><code translate="no" dir="ltr">colocation_groups</code></h3> <p><a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/r2.1/tensorflow/python/framework/ops.py#L1859-L1876">View source</a></p> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">colocation_groups()
</pre> <p>Returns the list of colocation groups of the op.</p> <h3 id="get_attr"><code translate="no" dir="ltr">get_attr</code></h3> <p><a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/r2.1/tensorflow/python/framework/ops.py#L2311-L2348">View source</a></p> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">get_attr(name)
</pre> <p>Returns the value of the attr of this op with the given <code translate="no" dir="ltr">name</code>.</p> <h4 id="args_2">Args:</h4> <ul> <li>
<b><code translate="no" dir="ltr">name</code></b>: The name of the attr to fetch.</li> </ul> <h4 id="returns_5">Returns:</h4> <p>The value of the attr, as a Python object.</p> <h4 id="raises_2">Raises:</h4> <ul> <li>
<b><code translate="no" dir="ltr">ValueError</code></b>: If this op does not have an attr with the given <code translate="no" dir="ltr">name</code>.</li> </ul> <h3 id="run"><code translate="no" dir="ltr">run</code></h3> <p><a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/r2.1/tensorflow/python/framework/ops.py#L2375-L2391">View source</a></p> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">run(
    feed_dict=None,
    session=None
)
</pre> <p>Runs this operation in a <code translate="no" dir="ltr">Session</code>.</p> <p>Calling this method will execute all preceding operations that produce the inputs needed for this operation.</p> <p><em>N.B.</em> Before invoking <a href="operation#run"><code translate="no" dir="ltr">Operation.run()</code></a>, its graph must have been launched in a session, and either a default session must be available, or <code translate="no" dir="ltr">session</code> must be specified explicitly.</p> <h4 id="args_3">Args:</h4> <ul> <li>
<b><code translate="no" dir="ltr">feed_dict</code></b>: A dictionary that maps <code translate="no" dir="ltr">Tensor</code> objects to feed values. See <code translate="no" dir="ltr">tf.Session.run</code> for a description of the valid feed values.</li> <li>
<b><code translate="no" dir="ltr">session</code></b>: (Optional.) The <code translate="no" dir="ltr">Session</code> to be used to run to this operation. If none, the default session will be used.</li> </ul> <h3 id="values"><code translate="no" dir="ltr">values</code></h3> <p><a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/r2.1/tensorflow/python/framework/ops.py#L1878-L1880">View source</a></p> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">values()
</pre> <p>DEPRECATED: Use outputs.</p> <h2 id="compat_aliases">Compat aliases</h2> <ul> <li><a href="operation"><code translate="no" dir="ltr">tf.compat.v1.Operation</code></a></li> <li><a href="operation"><code translate="no" dir="ltr">tf.compat.v2.Operation</code></a></li> </ul>  <devsite-page-rating position="footer" selected-rating="0" hover-rating-star="0"> </devsite-page-rating><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2019 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 3.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/api_docs/python/tf/Operation" class="_attribution-link">https://www.tensorflow.org/api_docs/python/tf/Operation</a>
  </p>
</div>
