<h1>Web Workers</h1>
<p>As of webpack 5, you can use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers">Web Workers</a> without <a href="https://github.com/webpack-contrib/worker-loader"><code>worker-loader</code></a>.</p>
<h2 id="syntax">Syntax
</h2>
<pre class="hljs language-js" data-language="js">new Worker(new URL('./worker.js', import.meta.url));</pre>
<p>The syntax was chosen to allow running code without bundler, it is also available in native ECMAScript modules in the browser.</p>
<h2 id="example">Example
</h2>
<p><strong>src/index.js</strong></p>
<pre class="hljs language-js" data-language="js">const worker = new Worker(new URL('./deep-thought.js', import.meta.url));
worker.postMessage({
  question:
    'The Answer to the Ultimate Question of Life, The Universe, and Everything.',
});
worker.onmessage = ({ data: { answer } }) =&gt; {
  console.log(answer);
};</pre>
<p><strong>src/deep-thought.js</strong></p>
<pre class="hljs language-js" data-language="js">self.onmessage = ({ data: { question } }) =&gt; {
  self.postMessage({
    answer: 42,
  });
};</pre>
<h2 id="nodejs">Node.js
</h2>
<p>Similar syntax is supported in Node.js (&gt;= 12.17.0):</p>
<pre class="hljs language-js" data-language="js">import { Worker } from 'worker_threads';

new Worker(new URL('./worker.js', import.meta.url));</pre>
<p>Note that this is only available in ESM. <code>Worker</code> in CommonJS syntax is not supported by either webpack or Node.js.</p><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://webpack.js.org/guides/web-workers" class="_attribution-link" target="_blank">https://webpack.js.org/guides/web-workers</a>
  </p>
</div>
