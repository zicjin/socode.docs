<h1>Content Security Policies</h1>
<div>
<p>webpack is capable of adding <code>nonce</code> to all scripts that it loads. To activate the feature set a <code>__webpack_nonce__</code> variable needs to be included in your entry script. A unique hash based nonce should be generated and provided for each unique page view this is why <code>__webpack_nonce__</code> is specified in the entry file and not in the configuration. Please note that <code>nonce</code> should always be a base64-encoded string.</p> <h2 id="examples">Examples
</h2> <p>In the entry file:</p> <pre data-language="js">// ...
__webpack_nonce__ = 'c29tZSBjb29sIHN0cmluZyB3aWxsIHBvcCB1cCAxMjM=';
// ...</pre> <h2 id="enabling-csp">Enabling CSP
</h2> <p>Please note that CSPs are not enabled by default. A corresponding header <code>Content-Security-Policy</code> or meta tag <code>&lt;meta http-equiv="Content-Security-Policy" ...&gt;</code> needs to be sent with the document to instruct the browser to enable the CSP. Here's an example of what a CSP header including a CDN white-listed URL might look like:</p> <pre data-language="html">Content-Security-Policy: default-src 'self'; script-src 'self'
https://trusted.cdn.com;</pre> <p>For more information on CSP and <code>nonce</code> attribute, please refer to <strong>Further Reading</strong> section at the bottom of this page.</p> <h2 id="trusted-types">Trusted Types
</h2> <p>Webpack is also capable of using Trusted Types to load dynamically constructed scripts, to adhere to CSP <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/require-trusted-types-for"><code>require-trusted-types-for</code></a> directive restrictions. See <a href="../configuration/output#outputtrustedtypes"><code>output.trustedTypes</code></a> configuration option.</p> </div>
<div class="print:hidden">
<h2>Further Reading</h2>
<ul>
<li><a href="https://stackoverflow.com/questions/42922784/what-s-the-purpose-of-the-html-nonce-attribute-for-script-and-style-elements">Nonce purpose explained</a></li>
<li><a href="https://ai.google/research/pubs/pub45542">On the Insecurity of Whitelists and the Future of Content Security Policy</a></li>
<li><a href="https://www.troyhunt.com/locking-down-your-website-scripts-with-csp-hashes-nonces-and-report-uri/">Locking Down Your Website Scripts with CSP, Hashes, Nonces and Report URI</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP">CSP on MDN</a></li>
<li><a href="https://web.dev/trusted-types">Trusted Types</a></li>
</ul>
</div>
<div class="print:hidden mt-20">
<a class="text-gray-500 dark:text-gray-500 text-sm cursor-pointer font-sans hover:underline" href="https://github.com/webpack/webpack.js.org/edit/master/src/content/guides/csp.md">Edit this page</a><span class="mx-5 text-black font-bold dark:text-white">Â·</span><a class="text-gray-500 dark:text-gray-500 text-sm cursor-pointer font-sans hover:underline">Print this page</a>
</div>
<div class="contributors__section"><h3>Contributors</h3></div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://webpack.js.org/guides/csp" class="_attribution-link" target="_blank">https://webpack.js.org/guides/csp</a>
  </p>
</div>
