<h1>node-loader</h1>
<div> <p>A <a href="https://nodejs.org/dist/latest/docs/api/addons.html">Node.js add-ons</a> loader.</p> <p>Allows to connect native node modules with <code>.node</code> extension.</p> <blockquote> <p>⚠ <code>node-loader</code> only works on the <code>node</code>/<code>async-node</code>/<code>electron-main</code>/<code>electron-renderer</code>/<code>electron-preload</code> targets.</p> </blockquote> <h2 id="getting-started">Getting Started
</h2> <p>To begin, you'll need to install <code>node-loader</code>:</p> <pre data-language="console">$ npm install node-loader --save-dev
</pre> <p>Setup the <code>target</code> option to <code>node</code>/<code>async-node</code>/<code>electron-main</code>/<code>electron-renderer</code>/<code>electron-preload</code> value and do not mock the <code>__dirname</code> global variable.</p> <p><strong>webpack.config.js</strong></p> <pre data-language="js">module.exports = {
  target: "node",
  node: {
    __dirname: false,
  },
  module: {
    rules: [
      {
        test: /\.node$/,
        loader: "node-loader",
      },
    ],
  },
};</pre> <h3 id="inline">Inline
</h3> <p><strong>index.js</strong></p> <pre data-language="js">import node from "node-loader!./file.node";</pre> <p>And run <code>webpack</code> via your preferred method.</p> <h3 id="configuration">Configuration
</h3> <p><strong>index.js</strong></p> <pre data-language="js">import node from "file.node";</pre> <p>Then add the loader to your <code>webpack</code> config. For example:</p> <p><strong>webpack.config.js</strong></p> <pre data-language="js">module.exports = {
  target: "node",
  node: {
    __dirname: false,
  },
  module: {
    rules: [
      {
        test: /\.node$/,
        loader: "node-loader",
      },
    ],
  },
};</pre> <p>And run <code>webpack</code> via your preferred method.</p> <h2 id="options">Options
</h2> <table> <thead> <tr> <th align="center">Name</th> <th align="center">Type</th> <th align="center">Default</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="center" data-th="Name"><span><strong><a href="#flags"><code>flags</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{Number}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>Enables/Disables <code>url</code>/<code>image-set</code> functions handling</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><a href="#name"><code>name</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{String|Function}</code></span></td> <td align="center" data-th="Default"><span><code>'[contenthash].[ext]'</code></span></td> <td align="left" data-th="Description"><span>Specifies a custom filename template for the target file(s).</span></td> </tr> </tbody> </table> <h3 id="flags">
<code>flags</code>
</h3> <p>Type: <code>Number</code> Default: <code>undefined</code></p> <p>The <code>flags</code> argument is an integer that allows to specify dlopen behavior. See the <a href="https://nodejs.org/api/process.html#process_process_dlopen_module_filename_flags"><code>process.dlopen</code></a> documentation for details.</p> <p><strong>index.js</strong></p> <pre data-language="js">import node from "file.node";</pre> <p><strong>webpack.config.js</strong></p> <pre data-language="js">const os = require("os");

module.exports = {
  target: "node",
  node: {
    __dirname: false,
  },
  module: {
    rules: [
      {
        test: /\.node$/,
        loader: "node-loader",
        options: {
          flags: os.constants.dlopen.RTLD_NOW,
        },
      },
    ],
  },
};</pre> <h3 id="name">
<code>name</code>
</h3> <p>Type: <code>String|Function</code> Default: <code>'[contenthash].[ext]'</code></p> <p>Specifies a custom filename template for the target file(s).</p> <h4 id="string">
<code>String</code>
</h4> <p><strong>webpack.config.js</strong></p> <pre data-language="js">module.exports = {
  target: "node",
  node: {
    __dirname: false,
  },
  module: {
    rules: [
      {
        test: /\.node$/,
        loader: "node-loader",
        options: {
          name: "[path][name].[ext]",
        },
      },
    ],
  },
};</pre> <h4 id="function">
<code>Function</code>
</h4> <p><strong>webpack.config.js</strong></p> <pre data-language="js">module.exports = {
  target: "node",
  node: {
    __dirname: false,
  },
  module: {
    rules: [
      {
        test: /\.node$/,
        loader: "node-loader",
        options: {
          name(resourcePath, resourceQuery) {
            // `resourcePath` - `/absolute/path/to/file.js`
            // `resourceQuery` - `?foo=bar`

            if (process.env.NODE_ENV === "development") {
              return "[path][name].[ext]";
            }

            return "[contenthash].[ext]";
          },
        },
      },
    ],
  },
};</pre> <h2 id="contributing">Contributing
</h2> <p>Please take a moment to read our contributing guidelines if you haven't yet done so.</p> <p><a href="https://github.com/webpack-contrib/node-loader/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p> <h2 id="license">License
</h2> <p><a href="https://github.com/webpack-contrib/node-loader/blob/master/LICENSE">MIT</a></p> </div>
<div class="print:hidden mt-20">
<a class="text-gray-500 dark:text-gray-500 text-sm cursor-pointer font-sans hover:underline" href="https://github.com/webpack-contrib/node-loader/edit/master/README.md">Edit this page</a><span class="mx-5 text-black font-bold dark:text-white">·</span><a class="text-gray-500 dark:text-gray-500 text-sm cursor-pointer font-sans hover:underline">Print this page</a><span class="mx-5 text-black font-bold dark:text-white">·</span><a class="text-gray-500 dark:text-gray-500 text-sm cursor-pointer font-sans hover:underline" href="https://github.com/webpack-contrib/node-loader">Jump to repository</a>
</div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://webpack.js.org/loaders/node-loader" class="_attribution-link" target="_blank">https://webpack.js.org/loaders/node-loader</a>
  </p>
</div>
