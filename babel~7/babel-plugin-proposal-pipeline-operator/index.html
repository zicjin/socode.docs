<div class="navPusher"><div class="docMainWrapper wrapper">

<div class="container mainContainer docsContainer"><div class="wrapper"><div class="post">
<header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">@babel/plugin-proposal-pipeline-operator</h1></header><article><div><span><h2>
Installation</h2> <pre><code class="hljs css language-sh">$ npm install --save-dev @babel/plugin-proposal-pipeline-operator
</code></pre> <h2>
Usage</h2> <p>The pipeline operator has several competing proposals. Configure which proposal to use with the required <code>"proposal"</code> option.</p> <table> <thead> <tr>
<th>Value</th>
<th>Proposal</th>
<th>Version added</th>
</tr> </thead> <tbody> <tr>
<td><code>"minimal"</code></td>
<td><a href="https://github.com/tc39/proposal-pipeline-operator/">Minimal F#-style pipes</a></td>
<td><code>v7.0.0</code></td>
</tr> <tr>
<td><code>"fsharp"</code></td>
<td><a href="https://github.com/valtech-nyc/proposal-fsharp-pipelines">F#-style pipes with <code>await</code></a></td>
<td><code>v7.5.0</code></td>
</tr> <tr>
<td><code>"hack"</code></td>
<td><a href="https://github.com/js-choi/proposal-hack-pipes">Hack-style pipes</a></td>
<td><code>v7.15.0</code></td>
</tr> <tr>
<td><del><code>"smart"</code></del></td>
<td>
<a href="https://github.com/js-choi/proposal-smart-pipelines">Smart-mix pipes</a> (deprecated)</td>
<td><code>v7.3.0</code></td>
</tr> </tbody> </table> <p>If <code>"proposal": "hack"</code> is used, then a <code>"topicToken": "%"</code> or <code>"topicToken": "#"</code> option must also be included.</p> <p>The <code>"proposal": "smart"</code> option is deprecated and subject to removal in a future major version.</p> <p>When TC39 accepts one of the proposals, that proposal will become the default and the <code>"proposal"</code> option will no longer be required.</p> <h3>
Summary of proposalsâ€™ behavior</h3> <table> <thead> <tr> <th>Original expression</th> <th> <p><a href="https://github.com/tc39/proposal-pipeline-operator/">Minimal F# pipes</a><br><code>{proposal: "minimal"}</code></p> </th> <th> <p><a href="https://github.com/valtech-nyc/proposal-fsharp-pipelines/">F# pipes with <code>await</code></a><br><code>{proposal: "fsharp"}</code></p> </th> <th> <p><a href="https://github.com/js-choi/proposal-hack-pipes/">Hack pipes</a><br><code>{proposal: "hack",</code><br><code>topicToken: "%"}</code></p> </th> </tr> </thead> <tbody> <tr> <td> <p><code>o.m(x)</code></p> </td> <td> <p><code>x |&gt; o.m</code></p> </td> <td> <p><code>x |&gt; o.m</code></p> </td> <td> <p><code>x |&gt; o.m(%)</code></p> </td> </tr> <tr> <td> <p><code>o.m(0, x)</code></p> </td> <td> <p><code>x |&gt; y=&gt;o.m(0, y)</code></p> </td> <td> <p><code>x |&gt; y=&gt;o.m(0, y)</code></p> </td> <td> <p><code>x |&gt; o.m(0, %)</code></p> </td> </tr> <tr> <td> <p><code>new o.m(x)</code></p> </td> <td> <p><code>x |&gt; y=&gt;new o.m(y)</code></p> </td> <td> <p><code>x |&gt; y=&gt;new o.m(y)</code></p> </td> <td> <p><code>x |&gt; new o.m(%)</code></p> </td> </tr> <tr> <td> <p><code>o[x]</code></p> </td> <td> <p><code>x |&gt; y=&gt;o[x]</code></p> </td> <td> <p><code>x |&gt; y=&gt;o[y]</code></p> </td> <td> <p><code>x |&gt; o[%]</code></p> </td> </tr> <tr> <td> <p><code>x[i]</code></p> </td> <td> <p><code>x |&gt; y=&gt;x[i]</code></p> </td> <td> <p><code>x |&gt; y=&gt;y[i]</code></p> </td> <td> <p><code>x |&gt; %[i]</code></p> </td> </tr> <tr> <td> <p><code>x + 1</code></p> </td> <td> <p><code>x |&gt; y=&gt;y + 1</code></p> </td> <td> <p><code>x |&gt; y=&gt;y + 1</code></p> </td> <td> <p><code>x |&gt; % + 1</code></p> </td> </tr> <tr> <td> <p><code>[0, x]</code></p> </td> <td> <p><code>x |&gt; y=&gt;[0, y]</code></p> </td> <td> <p><code>x |&gt; y=&gt;[0, y]</code></p> </td> <td> <p><code>x |&gt; [0, %]</code></p> </td> </tr> <tr> <td> <p><code>{ key: x }</code></p> </td> <td> <p><code>x |&gt; y=&gt;({ key: y })</code></p> </td> <td> <p><code>x |&gt; y=&gt;({ key: y })</code></p> </td> <td> <p><code>x |&gt; { key: % }</code></p> </td> </tr> <tr> <td> <p><code>await o.m(x)</code></p> </td> <td>Not supported</td> <td> <p><code>x |&gt; o.m |&gt; await</code></p> </td> <td> <p><code>x |&gt; await o.m(%)</code></p> </td> </tr> <tr> <td> <p><code>yield o.m(x)</code></p> </td> <td>Not supported</td> <td>Not supported</td> <td> <p><code>x |&gt; (yield o.m(%))</code></p> </td> </tr> </tbody> </table> <h3>
With a configuration file (Recommended)</h3> <p>For <a href="https://github.com/tc39/proposal-pipeline-operator/">minimal F# pipes</a>:</p> <pre><code class="hljs css language-json">{
  <span class="hljs-attr">"plugins"</span>: [
    [<span class="hljs-string">"@babel/plugin-proposal-pipeline-operator"</span>, { <span class="hljs-attr">"proposal"</span>: <span class="hljs-string">"minimal"</span> }]
  ]
}
</code></pre> <p>For <a href="https://github.com/valtech-nyc/proposal-fsharp-pipelines/">F# pipes with <code>await</code></a>:</p> <pre><code class="hljs css language-json">{
  <span class="hljs-attr">"plugins"</span>: [
    [<span class="hljs-string">"@babel/plugin-proposal-pipeline-operator"</span>, { <span class="hljs-attr">"proposal"</span>: <span class="hljs-string">"fsharp"</span> }]
  ]
}
</code></pre> <p>For <a href="https://github.com/js-choi/proposal-hack-pipes/">Hack pipes</a> with <code>%</code> topic token:</p> <pre><code class="hljs css language-json">{
  <span class="hljs-attr">"plugins"</span>: [
    [<span class="hljs-string">"@babel/plugin-proposal-pipeline-operator"</span>, { <span class="hljs-attr">"proposal"</span>: <span class="hljs-string">"hack"</span>, <span class="hljs-attr">"topicToken"</span>: <span class="hljs-string">"%"</span> }]
  ]
}
</code></pre> <p>For <a href="https://github.com/js-choi/proposal-hack-pipes/">Hack pipes</a> with <code>#</code> topic token:</p> <pre><code class="hljs css language-json">{
  <span class="hljs-attr">"plugins"</span>: [
    [<span class="hljs-string">"@babel/plugin-proposal-pipeline-operator"</span>, { <span class="hljs-attr">"proposal"</span>: <span class="hljs-string">"hack"</span>, <span class="hljs-attr">"topicToken"</span>: <span class="hljs-string">"#"</span> }]
  ]
}
</code></pre> <h3>
Via CLI</h3> <p>Because this plugin requires a configuration option, it <a href="https://github.com/babel/babel/issues/4161">cannot be directly configured from the CLI</a>. Use a <a href="../config-files/index">config file</a> instead with the CLI, to add and configure this plugin.</p> <h3>
Via Node API</h3> <p>For <a href="https://github.com/tc39/proposal-pipeline-operator/">minimal F# pipes</a><br><code>{proposal: "minimal"}</code>:</p> <pre><code class="hljs css language-javascript"><span class="hljs-built_in">require</span>(<span class="hljs-string">"@babel/core"</span>).transformSync(<span class="hljs-string">"code"</span>, {
  <span class="hljs-attr">plugins</span>: [
    [ <span class="hljs-string">"@babel/plugin-proposal-pipeline-operator"</span>, { <span class="hljs-attr">proposal</span>: <span class="hljs-string">"minimal"</span> } ],
  ],
});
</code></pre> <p>For <a href="https://github.com/valtech-nyc/proposal-fsharp-pipelines/">F# pipes with <code>await</code></a>:</p> <pre><code class="hljs css language-javascript"><span class="hljs-built_in">require</span>(<span class="hljs-string">"@babel/core"</span>).transformSync(<span class="hljs-string">"code"</span>, {
  <span class="hljs-attr">plugins</span>: [
    [ <span class="hljs-string">"@babel/plugin-proposal-pipeline-operator"</span>, { <span class="hljs-attr">proposal</span>: <span class="hljs-string">"fsharp"</span> } ],
  ],
});
</code></pre> <p>For <a href="https://github.com/js-choi/proposal-hack-pipes/">Hack pipes</a> with <code>%</code> topic token:</p> <pre><code class="hljs css language-javascript"><span class="hljs-built_in">require</span>(<span class="hljs-string">"@babel/core"</span>).transformSync(<span class="hljs-string">"code"</span>, {
  <span class="hljs-attr">plugins</span>: [
    [ <span class="hljs-string">"@babel/plugin-proposal-pipeline-operator"</span>, { <span class="hljs-attr">proposal</span>: <span class="hljs-string">"hack"</span>, <span class="hljs-attr">topicToken</span>: <span class="hljs-string">"%"</span> } ],
  ],
});
</code></pre> <p>For <a href="https://github.com/js-choi/proposal-hack-pipes/">Hack pipes</a> with <code>#</code> topic token:</p> <pre><code class="hljs css language-javascript"><span class="hljs-built_in">require</span>(<span class="hljs-string">"@babel/core"</span>).transformSync(<span class="hljs-string">"code"</span>, {
  <span class="hljs-attr">plugins</span>: [
    [ <span class="hljs-string">"@babel/plugin-proposal-pipeline-operator"</span>, { <span class="hljs-attr">proposal</span>: <span class="hljs-string">"hack"</span>, <span class="hljs-attr">topicToken</span>: <span class="hljs-string">"#"</span> } ],
  ],
});
</code></pre> </span></div></article>
</div></div></div>

</div></div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://babeljs.io/docs/en/babel-plugin-proposal-pipeline-operator/" class="_attribution-link" target="_blank">https://babeljs.io/docs/en/babel-plugin-proposal-pipeline-operator/</a>
  </p>
</div>
