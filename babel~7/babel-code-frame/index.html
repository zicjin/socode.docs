<div class="navPusher"><div class="docMainWrapper wrapper">

<div class="container mainContainer docsContainer"><div class="wrapper"><div class="post">
<header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">@babel/code-frame</h1></header><article><div><span><h2>
Install</h2> <pre><code class="hljs css language-sh">npm install --save-dev @babel/code-frame
</code></pre> <h2>
Usage</h2> <pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> { codeFrameColumns } <span class="hljs-keyword">from</span> <span class="hljs-string">"@babel/code-frame"</span>;

<span class="hljs-keyword">const</span> rawLines = <span class="hljs-string">`class Foo {
  constructor()
}`</span>;
<span class="hljs-keyword">const</span> location = { <span class="hljs-attr">start</span>: { <span class="hljs-attr">line</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">column</span>: <span class="hljs-number">16</span> } };

<span class="hljs-keyword">const</span> result = codeFrameColumns(rawLines, location, {
  <span class="hljs-comment">/* options */</span>
});

<span class="hljs-built_in">console</span>.log(result);
</code></pre> <pre><code class="hljs">  <span class="hljs-number">1</span> | <span class="hljs-keyword">class</span> <span class="hljs-symbol">Foo</span> {
&gt; <span class="hljs-number">2</span> |   constructor()
    |                ^
  <span class="hljs-number">3</span> | }
</code></pre> <p>If the column number is not known, you may omit it.</p> <p>You can also pass an <code>end</code> hash in <code>location</code>.</p> <pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> { codeFrameColumns } <span class="hljs-keyword">from</span> <span class="hljs-string">"@babel/code-frame"</span>;

<span class="hljs-keyword">const</span> rawLines = <span class="hljs-string">`class Foo {
  constructor() {
    console.log("hello");
  }
}`</span>;
<span class="hljs-keyword">const</span> location = {
  <span class="hljs-attr">start</span>: { <span class="hljs-attr">line</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">column</span>: <span class="hljs-number">17</span> },
  <span class="hljs-attr">end</span>: { <span class="hljs-attr">line</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">column</span>: <span class="hljs-number">3</span> },
};

<span class="hljs-keyword">const</span> result = codeFrameColumns(rawLines, location, {
  <span class="hljs-comment">/* options */</span>
});

<span class="hljs-built_in">console</span>.log(result);
</code></pre> <pre><code class="hljs">  <span class="hljs-number">1</span> <span class="hljs-string">| class Foo {</span>
&gt; <span class="hljs-number">2</span> <span class="hljs-string">|   constructor() {</span>
    <span class="hljs-string">|                 ^</span>
&gt; <span class="hljs-number">3</span> <span class="hljs-string">|     console.log("</span>hello<span class="hljs-string">");</span>
    <span class="hljs-string">| ^^^^^^^^^^^^^^^^^^^^^^^^^</span>
&gt; <span class="hljs-number">4</span> <span class="hljs-string">|   }</span>
    <span class="hljs-string">| ^^^</span>
  <span class="hljs-number">5</span> <span class="hljs-string">| };</span>
</code></pre> <h2>
Options</h2> <h3>
<code>highlightCode</code>
</h3> <p><code>boolean</code>, defaults to <code>false</code>.</p> <p>Toggles syntax highlighting the code as JavaScript for terminals.</p> <h3>
<code>linesAbove</code>
</h3> <p><code>number</code>, defaults to <code>2</code>.</p> <p>Adjust the number of lines to show above the error.</p> <h3>
<code>linesBelow</code>
</h3> <p><code>number</code>, defaults to <code>3</code>.</p> <p>Adjust the number of lines to show below the error.</p> <h3>
<code>forceColor</code>
</h3> <p><code>boolean</code>, defaults to <code>false</code>.</p> <p>Enable this to forcibly syntax highlight the code as JavaScript (for non-terminals); overrides <code>highlightCode</code>.</p> <h3>
<code>message</code>
</h3> <p><code>string</code>, otherwise nothing</p> <p>Pass in a string to be displayed inline (if possible) next to the highlighted location in the code. If it can't be positioned inline, it will be placed above the code frame.</p> <pre><code class="hljs"><span class="hljs-number">1</span> | <span class="hljs-keyword">class</span> <span class="hljs-symbol">Foo</span> {
&gt; <span class="hljs-number">2</span> |   constructor()
  |                ^ Missing {
<span class="hljs-number">3</span> | };
</code></pre> <h2>
Upgrading from prior versions</h2> <p>Prior to version 7, the only API exposed by this module was for a single line and optional column pointer. The old API will now log a deprecation warning.</p> <p>The new API takes a <code>location</code> object, similar to what is available in an AST.</p> <p>This is an example of the deprecated (but still available) API:</p> <pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> codeFrame <span class="hljs-keyword">from</span> <span class="hljs-string">"@babel/code-frame"</span>;

<span class="hljs-keyword">const</span> rawLines = <span class="hljs-string">`class Foo {
  constructor()
}`</span>;
<span class="hljs-keyword">const</span> lineNumber = <span class="hljs-number">2</span>;
<span class="hljs-keyword">const</span> colNumber = <span class="hljs-number">16</span>;

<span class="hljs-keyword">const</span> result = codeFrame(rawLines, lineNumber, colNumber, {
  <span class="hljs-comment">/* options */</span>
});

<span class="hljs-built_in">console</span>.log(result);
</code></pre> <p>To get the same highlighting using the new API:</p> <pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> { codeFrameColumns } <span class="hljs-keyword">from</span> <span class="hljs-string">"@babel/code-frame"</span>;

<span class="hljs-keyword">const</span> rawLines = <span class="hljs-string">`class Foo {
  constructor() {
    console.log("hello");
  }
}`</span>;
<span class="hljs-keyword">const</span> location = { <span class="hljs-attr">start</span>: { <span class="hljs-attr">line</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">column</span>: <span class="hljs-number">16</span> } };

<span class="hljs-keyword">const</span> result = codeFrameColumns(rawLines, location, {
  <span class="hljs-comment">/* options */</span>
});

<span class="hljs-built_in">console</span>.log(result);
</code></pre> </span></div></article>
</div></div></div>

</div></div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://babeljs.io/docs/en/babel-code-frame/" class="_attribution-link" target="_blank">https://babeljs.io/docs/en/babel-code-frame/</a>
  </p>
</div>
