<div class="navPusher"><div class="docMainWrapper wrapper">

<div class="container mainContainer docsContainer"><div class="wrapper"><div class="post">
<header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">@babel/plugin-proposal-function-bind</h1></header><article><div><span><h2>
Detail</h2> <pre data-language="js">obj::func;
// is equivalent to:
func.bind(obj)

::obj.func;
// is equivalent to:
obj.func.bind(obj);

obj::func(val);
// is equivalent to:
func
  .call(obj, val)

::obj.func(val);
// is equivalent to:
obj.func.call(obj, val);
</pre> <h2>
Example</h2> <h3>
Basic</h3> <pre data-language="js">const box = {
  weight: 2,
  getWeight() {
    return this.weight;
  },
};

const { getWeight } = box;

console.log(box.getWeight()); // prints '2'

const bigBox = { weight: 10 };
console.log(bigBox::getWeight()); // prints '10'

// Can be chained:
function add(val) {
  return this + val;
}

console.log(bigBox::getWeight()::add(5)); // prints '15'
</pre> <h3>
Using with <code>document.querySelectorAll</code>
</h3> <p>It can be very handy when used with <code>document.querySelectorAll</code>:</p> <pre data-language="js">const { map, filter } = Array.prototype;

let sslUrls = document
  .querySelectorAll("a")
  ::map(node =&gt; node.href)
  ::filter(href =&gt; href.substring(0, 5) === "https");

console.log(sslUrls);
</pre> <p><code>document.querySelectorAll</code> returns a <code>NodeList</code> element which is not a plain array, so you normally can't use the <code>map</code> function on it, and have to use it this way: <code>Array.prototype.map.call(document.querySelectorAll(...), node =&gt; { ... })</code>. The above code using the <code>::</code> will work because it is equivalent to:</p> <pre data-language="js">const { map, filter } = Array.prototype;

let sslUrls = document.querySelectorAll("a");
sslUrls = map.call(sslUrls, node =&gt; node.href);
sslUrls = filter.call(sslUrls, href =&gt; href.substring(0, 5) === "https");

console.log(sslUrls);
</pre> <h3>
Auto self binding</h3> <p>When nothing is specified before the <code>::</code> operator, the function is bound to its object:</p> <pre data-language="js">$(".some-link").on("click", ::view.reset);
// is equivalent to:
$(".some-link").on("click", view.reset.bind(view));
</pre> <h2>
Installation</h2> <pre data-language="sh">npm install --save-dev @babel/plugin-proposal-function-bind
</pre> <h2>
Usage</h2> <h3>
With a configuration file (Recommended)</h3> <pre data-language="json">{
  "plugins": ["@babel/plugin-proposal-function-bind"]
}
</pre> <h3>
Via CLI</h3> <pre data-language="sh">babel --plugins @babel/plugin-proposal-function-bind script.js
</pre> <h3>
Via Node API</h3> <pre data-language="javascript">require("@babel/core").transformSync("code", {
  plugins: ["@babel/plugin-proposal-function-bind"],
});
</pre> <h2>
References</h2> <ul> <li><a href="https://github.com/zenparsing/es-function-bind">Proposal</a></li> <li><a href="https://babeljs.io/blog/2015/05/14/function-bind">Babel Blog: Function Bind Syntax</a></li> </ul> </span></div></article>
</div></div></div>

</div></div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://babeljs.io/docs/en/babel-plugin-proposal-function-bind/" class="_attribution-link" target="_blank">https://babeljs.io/docs/en/babel-plugin-proposal-function-bind/</a>
  </p>
</div>
