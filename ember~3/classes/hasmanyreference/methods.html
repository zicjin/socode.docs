<article class="chapter">  <h1 class="module-name">Class HasManyReference</h1>  <table> <tr> <th>Extends:</th> <td><a href="../reference">Reference</a></td> </tr>  <tr> <th>Defined in:</th> <td> <a href="https://github.com/emberjs/data/tree/v3.25.0/packages/-ember-data/../store/addon/-private/system/references/has-many.js#L15" target="_blank" rel="noopener noreferrer">../store/addon/-private/system/references/has-many.js:15</a> </td> </tr> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store">@ember-data/store</a></td> </tr>  </table>     <h3 role="link" id="ids">  <span class="method-name">ids</span>  <span class="return-type">Array</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v3.25.0/packages/-ember-data/../store/addon/-private/system/references/has-many.js#L88" target="_blank" rel="noopener noreferrer"> ../store/addon/-private/system/references/has-many.js:88 </a> </p>  <dl class="parameters">   <dt>returns</dt> <dd class="return-type">Array</dd> <dd>The ids in this has-many relationship</dd>  </dl> <p><code>ids()</code> returns an array of the record IDs in this relationship.</p> <p>Example</p> <div class="pre-title"><code>app/models/post.js</code></div>
<pre class="highlight javascript" data-language="javascript">import Model, { hasMany } from '@ember-data/model';

export default class PostModel extends Model {
  @hasMany({ async: true }) comments;
}</pre> <pre class="highlight javascript" data-language="javascript">let post = store.push({
  data: {
    type: 'post',
    id: 1,
    relationships: {
      comments: {
        data: [{ type: 'comment', id: 1 }]
      }
    }
  }
});

let commentsRef = post.hasMany('comments');

commentsRef.ids(); // ['1']</pre>    <h3 role="link" id="link">  <span class="method-name">link</span>  <span class="return-type">String</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Inherited from <a href="https://github.com/emberjs/data/tree/v3.25.0/packages/-ember-data/../store/addon/-private/system/references/reference.ts#L109" target="_blank" rel="noopener noreferrer"> Reference ../store/addon/-private/system/references/reference.ts:109 </a> </p>  <dl class="parameters">   <dt>returns</dt> <dd class="return-type">String</dd> <dd>The link Ember Data will use to fetch or reload this belongs-to relationship.</dd>  </dl> <p>The link Ember Data will use to fetch or reload this belongs-to relationship.</p> <p>Example</p> <pre class="highlight javascript" data-language="javascript">// models/blog.js
import Model, { belongsTo } from '@ember-data/model';
export default Model.extend({
   user: belongsTo({ async: true })
 });

let blog = store.push({
   data: {
     type: 'blog',
     id: 1,
     relationships: {
       user: {
         links: {
           related: '/articles/1/author'
         }
       }
     }
   }
 });
let userRef = blog.belongsTo('user');

// get the identifier of the reference
if (userRef.remoteType() === "link") {
   let link = userRef.link();
 }</pre>    <h3 role="link" id="load">  <span class="method-name">load</span> <span class="args"> (options) </span> <span class="return-type">Promise</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v3.25.0/packages/-ember-data/../store/addon/-private/system/references/has-many.js#L269" target="_blank" rel="noopener noreferrer"> ../store/addon/-private/system/references/has-many.js:269 </a> </p>  <dl class="parameters">  <dt>options</dt> <dd class="parameter-type">Object</dd> <dd>the options to pass in.</dd>   <dt>returns</dt> <dd class="return-type">Promise</dd> <dd>a promise that resolves with the ManyArray in this has-many relationship.</dd>  </dl> <p>Loads the relationship if it is not already loaded. If the relationship is already loaded this method does not trigger a new load. This causes a request to the specified relationship link or reloads all items currently in the relationship.</p> <p>Example</p> <div class="pre-title"><code>app/models/post.js</code></div>
<pre class="highlight javascript" data-language="javascript">import Model, { hasMany } from '@ember-data/model';

export default class PostModel extends Model {
  @hasMany({ async: true }) comments;
}</pre> <pre class="highlight javascript" data-language="javascript">let post = store.push({
  data: {
    type: 'post',
    id: 1,
    relationships: {
      comments: {
        data: [{ type: 'comment', id: 1 }]
      }
    }
  }
});

let commentsRef = post.hasMany('comments');

commentsRef.load().then(function(comments) {
  //...
});</pre> <p>You may also pass in an options object whose properties will be fed forward. This enables you to pass <code>adapterOptions</code> into the request given to the adapter via the reference.</p> <p>Example</p> <pre class="highlight javascript" data-language="javascript">commentsRef.load({ adapterOptions: { isPrivate: true } })
  .then(function(comments) {
    //...
  });</pre> <div class="pre-title"><code>app/adapters/comment.js</code></div>
<pre class="highlight javascript" data-language="javascript">export default ApplicationAdapter.extend({
  findMany(store, type, id, snapshots) {
    // In the adapter you will have access to adapterOptions.
    let adapterOptions = snapshots[0].adapterOptions;
  }
});</pre>    <h3 role="link" id="meta">  <span class="method-name">meta</span>  <span class="return-type">Object</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Inherited from <a href="https://github.com/emberjs/data/tree/v3.25.0/packages/-ember-data/../store/addon/-private/system/references/reference.ts#L165" target="_blank" rel="noopener noreferrer"> Reference ../store/addon/-private/system/references/reference.ts:165 </a> </p>  <dl class="parameters">   <dt>returns</dt> <dd class="return-type">Object</dd> <dd>The meta information for the belongs-to relationship.</dd>  </dl> <p>The meta data for the belongs-to relationship.</p> <p>Example</p> <pre class="highlight javascript" data-language="javascript">// models/blog.js
import Model, { belongsTo } from '@ember-data/model';
export default Model.extend({
   user: belongsTo({ async: true })
 });

let blog = store.push({
   data: {
     type: 'blog',
     id: 1,
     relationships: {
       user: {
         links: {
           related: {
             href: '/articles/1/author'
           },
           meta: {
             lastUpdated: 1458014400000
           }
         }
       }
     }
   }
 });

let userRef = blog.belongsTo('user');

userRef.meta() // { lastUpdated: 1458014400000 }</pre>    <h3 role="link" id="push">  <span class="method-name">push</span> <span class="args"> (objectOrPromise) </span> <span class="return-type">ManyArray</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v3.25.0/packages/-ember-data/../store/addon/-private/system/references/has-many.js#L133" target="_blank" rel="noopener noreferrer"> ../store/addon/-private/system/references/has-many.js:133 </a> </p>  <dl class="parameters">  <dt>objectOrPromise</dt> <dd class="parameter-type">Array|Promise</dd> <dd>a promise that resolves to a JSONAPI document object describing the new value of this relationship.</dd>   <dt>returns</dt> <dd class="return-type">ManyArray</dd>   </dl> <p><code>push</code> can be used to update the data in the relationship and Ember Data will treat the new data as the canonical value of this relationship on the backend.</p> <p>Example</p> <div class="pre-title"><code>app/models/post.js</code></div>
<pre class="highlight javascript" data-language="javascript">import Model, { hasMany } from '@ember-data/model';

export default class PostModel extends Model {
  @hasMany({ async: true }) comments;
}</pre> <pre class="highlight " data-language="">let post = store.push({
  data: {
    type: 'post',
    id: 1,
    relationships: {
      comments: {
        data: [{ type: 'comment', id: 1 }]
      }
    }
  }
});

let commentsRef = post.hasMany('comments');

commentsRef.ids(); // ['1']

commentsRef.push([
[{ type: 'comment', id: 2 }],
[{ type: 'comment', id: 3 }],
])

commentsRef.ids(); // ['2', '3']</pre>    <h3 role="link" id="reload">  <span class="method-name">reload</span> <span class="args"> (options) </span> <span class="return-type">Promise</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v3.25.0/packages/-ember-data/../store/addon/-private/system/references/has-many.js#L337" target="_blank" rel="noopener noreferrer"> ../store/addon/-private/system/references/has-many.js:337 </a> </p>  <dl class="parameters">  <dt>options</dt> <dd class="parameter-type">Object</dd> <dd>the options to pass in.</dd>   <dt>returns</dt> <dd class="return-type">Promise</dd> <dd>a promise that resolves with the ManyArray in this has-many relationship.</dd>  </dl> <p>Reloads this has-many relationship. This causes a request to the specified relationship link or reloads all items currently in the relationship.</p> <p>Example</p> <div class="pre-title"><code>app/models/post.js</code></div>
<pre class="highlight javascript" data-language="javascript">import Model, { hasMany } from '@ember-data/model';

export default class PostModel extends Model {
  @hasMany({ async: true }) comments;
}</pre> <pre class="highlight javascript" data-language="javascript">let post = store.push({
  data: {
    type: 'post',
    id: 1,
    relationships: {
      comments: {
        data: [{ type: 'comment', id: 1 }]
      }
    }
  }
});

let commentsRef = post.hasMany('comments');

commentsRef.reload().then(function(comments) {
  //...
});</pre> <p>You may also pass in an options object whose properties will be fed forward. This enables you to pass <code>adapterOptions</code> into the request given to the adapter via the reference. A full example can be found in the <code>load</code> method.</p> <p>Example</p> <pre class="highlight javascript" data-language="javascript">commentsRef.reload({ adapterOptions: { isPrivate: true } })</pre>    <h3 role="link" id="remoteType">  <span class="method-name">remoteType</span>  <span class="return-type">String</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v3.25.0/packages/-ember-data/../store/addon/-private/system/references/has-many.js#L38" target="_blank" rel="noopener noreferrer"> ../store/addon/-private/system/references/has-many.js:38 </a> </p>  <dl class="parameters">   <dt>returns</dt> <dd class="return-type">String</dd> <dd>The name of the remote type. This should either be `link` or `ids`</dd>  </dl> <p>This returns a string that represents how the reference will be looked up when it is loaded. If the relationship has a link it will use the "link" otherwise it defaults to "id".</p> <p>Example</p> <div class="pre-title"><code>app/models/post.js</code></div>
<pre class="highlight javascript" data-language="javascript">import Model, { hasMany } from '@ember-data/model';

export default class PostModel extends Model {
  @hasMany({ async: true }) comments;
}</pre> <pre class="highlight javascript" data-language="javascript">let post = store.push({
  data: {
    type: 'post',
    id: 1,
    relationships: {
      comments: {
        data: [{ type: 'comment', id: 1 }]
      }
    }
  }
});

let commentsRef = post.hasMany('comments');

// get the identifier of the reference
if (commentsRef.remoteType() === "ids") {
  let ids = commentsRef.ids();
} else if (commentsRef.remoteType() === "link") {
  let link = commentsRef.link();
}</pre>    <h3 role="link" id="value">  <span class="method-name">value</span>  <span class="return-type">ManyArray</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v3.25.0/packages/-ember-data/../store/addon/-private/system/references/has-many.js#L220" target="_blank" rel="noopener noreferrer"> ../store/addon/-private/system/references/has-many.js:220 </a> </p>  <dl class="parameters">   <dt>returns</dt> <dd class="return-type">ManyArray</dd>   </dl> <p><code>value()</code> synchronously returns the current value of the has-many relationship. Unlike <code>record.get('relationshipName')</code>, calling <code>value()</code> on a reference does not trigger a fetch if the async relationship is not yet loaded. If the relationship is not loaded it will always return <code>null</code>.</p> <p>Example</p> <div class="pre-title"><code>app/models/post.js</code></div>
<pre class="highlight javascript" data-language="javascript">import Model, { hasMany } from '@ember-data/model';

export default class PostModel extends Model {
  @hasMany({ async: true }) comments;
}</pre> <pre class="highlight javascript" data-language="javascript">let post = store.push({
  data: {
    type: 'post',
    id: 1,
    relationships: {
      comments: {
        data: [{ type: 'comment', id: 1 }]
      }
    }
  }
});

let commentsRef = post.hasMany('comments');

post.get('comments').then(function(comments) {
  commentsRef.value() === comments
})</pre>    </article><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://api.emberjs.com/ember-data/3.25/classes/HasManyReference/methods" class="_attribution-link" target="_blank">https://api.emberjs.com/ember-data/3.25/classes/HasManyReference/methods</a>
  </p>
</div>
