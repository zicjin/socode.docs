<h1>Content-DPR</h1>
<h1>Content-DPR</h1>
<div class="notecard deprecated"><p><strong>Deprecated:</strong> This feature is no longer recommended. Though some browsers might still support it, it may have already been removed from the relevant web standards, may be in the process of being dropped, or may only be kept for compatibility purposes. Avoid using it, and update existing code if possible; see the <a href="#browser_compatibility">compatibility table</a> at the bottom of this page to guide your decision. Be aware that this feature may cease to work at any time.</p></div>
<div class="notecard secure"><p><strong>Secure context:</strong> This feature is available only in <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts">secure contexts</a> (HTTPS), in some or all <a href="#browser_compatibility">supporting browsers</a>.</p></div> <p>The <code>Content-DPR</code> response header is used to confirm the <em>image</em> device to pixel ratio in requests where the screen <a href="dpr"><code>DPR</code></a> <a href="../client_hints">client hint</a> was used to select an image resource.</p> <div class="_table"><table class="properties"> <tbody> <tr> <th scope="row">Header type</th> <td> <a href="https://developer.mozilla.org/en-US/docs/Glossary/Response_header">Response header</a>, <a href="../client_hints">Client hint</a> </td> </tr> <tr> <th scope="row"><a href="https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name">Forbidden header name</a></th> <td>no</td> </tr> <tr> <th scope="row"><a href="https://developer.mozilla.org/en-US/docs/Glossary/CORS-safelisted_response_header">CORS-safelisted response header</a></th> <td>no</td> </tr> </tbody> </table></div> <p>If the <a href="dpr"><code>DPR</code></a> client hint is used to select an image the server must specify <code>Content-DPR</code> in the response. If the value in <code>Content-DPR</code> is different from the <a href="dpr"><code>DPR</code></a> value in the request (i.e. image DPR is not the same as screen DPR) then the client must use the <code>Content-DPR</code> for determining intrinsic image size and scaling the image.</p> <p>If the <code>Content-DPR</code> header appears more than once in a message the last occurrence is used.</p> <div class="notecard note"> <p><strong>Note:</strong></p> <ul> <li>
<code>Content-DPR</code> was removed from the client hints specification in <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-client-hints-07" rel=" noopener">draft-ietf-httpbis-client-hints-07</a>. The <a href="https://wicg.github.io/responsive-image-client-hints" rel=" noopener">Responsive Image Client Hints</a> spec proposes to replace this header by specifying intrinsic resolution/dimensions in EXIF metadata.</li> </ul> </div>
<h2 id="syntax">Syntax</h2>
<pre class="notranslate">Content-DPR: &lt;number&gt;
</pre>
<h2 id="directives">Directives</h2>
<dl> <dt><code>&lt;number&gt;</code></dt> <dd> <p> The image device pixel ratio, calculated according to the following formula: Content-DPR = <em>Selected image resource size</em> / (<em>Width</em> / <em>DPR</em>) </p> </dd> </dl>
<h2 id="examples">Examples</h2>
<p>See the <a href="dpr#examples"><code>DPR</code></a> header example.</p>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>Content-DPR</code></th>
<td class="bc-supports-yes"><div>46</div></td>
<td class="bc-supports-yes"><div>â‰¤79</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>33</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>46</div></td>
<td class="bc-supports-yes"><div>46</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>33</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>5.0</div></td>
</tr></tbody>
</table>
<h2 id="see_also">See also</h2>
<ul> <li>
<a href="https://web.dev/user-agent-client-hints/" rel=" noopener">Improving user privacy and developer experience with User-Agent Client Hints</a> (web.dev)</li> <li>Device client hints <ul> <li><a href="device-memory"><code>Device-Memory</code></a></li> <li><a href="dpr"><code>DPR</code></a></li> <li><a href="viewport-width"><code>Viewport-Width</code></a></li> <li><a href="width"><code>Width</code></a></li> </ul> </li> <li><a href="accept-ch"><code>Accept-CH</code></a></li> <li>
<a href="../caching#varying_responses">HTTP Caching &gt; Varying responses</a> and <a href="vary"><code>Vary</code></a>
</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-DPR" class="_attribution-link" target="_blank">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-DPR</a>
  </p>
</div>
