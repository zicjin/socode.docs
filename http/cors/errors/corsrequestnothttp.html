<h1>Errors: CORSRequestNotHttp</h1>
<h1>Reason: CORS request not HTTP</h1>
<section aria-labelledby="reason"><h2 id="reason">Reason</h2>
<div class="section-content"><pre class="notranslate">Reason: CORS request not HTTP
</pre></div></section><section aria-labelledby="what_went_wrong"><h2 id="what_went_wrong">What went wrong?</h2>
<div class="section-content">
<p> <a href="https://developer.mozilla.org/en-US/docs/Glossary/CORS">CORS</a> requests may only use the HTTP or HTTPS URL scheme, but the URL specified by the request is of a different type. This often occurs if the URL specifies a local file, using the <code>file:///</code> scheme. </p> <p>To fix this problem, make sure you use HTTPS URLs when issuing requests involving CORS, such as <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest"><code>XMLHttpRequest</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">Fetch</a> APIs, Web Fonts (<code>@font-face</code>), and <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/Tutorial/Using_textures_in_WebGL">WebGL textures</a>, and XSL stylesheets.</p>
</div></section><section aria-labelledby="loading_a_local_file"><h3 id="loading_a_local_file">Loading a local file</h3>
<div class="section-content">
<p> Local files from the same directory and subdirectories were historically treated as being from the <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy">same origin</a>. This meant that a file and all its resources could be loaded from a local directory or subdirectory during testing, without triggering a CORS error. </p> <p> Unfortunately this had security implications, as noted in this advisory: <a href="https://www.mozilla.org/en-US/security/advisories/mfsa2019-21/#CVE-2019-11730" rel=" noopener">CVE-2019-11730</a>. Many browsers, including Firefox and Chrome, now treat all local files as having <em>opaque origins</em> (by default). As a result, loading a local file with included local resources will now result in CORS errors. </p> <p> Developers who need to perform local testing should now <a href="https://developer.mozilla.org/en-US/docs/Learn/Common_questions/set_up_a_local_testing_server">set up a local server</a>. As all files are served from the same scheme and domain (<code>localhost</code>) they all have the same origin, and do not trigger cross-origin errors. </p> <div class="notecard note" id="sect1"> <p><strong>Note:</strong> This change is in line with the <a href="https://url.spec.whatwg.org/#origin" rel=" noopener">URL specification</a>, which leaves the origin behavior for files to the implementation, but recommends that file origins are treated as opaque if in doubt.</p> </div>
</div></section><section aria-labelledby="see_also"><h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="../errors">CORS errors</a></li> <li><a href="../../cors">CORS introduction</a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Learn/Common_questions/What_is_a_URL">What is a URL?</a></li> </ul></div></section><aside class="metadata"><div class="metadata-content-container">
<div id="on-github" class="on-github">
<h3>Found a problem with this page?</h3>
<ul>
<li><a href="https://github.com/mdn/content/edit/main/files/en-us/web/http/cors/errors/corsrequestnothttp/index.md" target="_blank" rel="noopener noreferrer">Edit on <b>GitHub</b></a></li>
<li><a href="https://github.com/mdn/content/blob/main/files/en-us/web/http/cors/errors/corsrequestnothttp/index.md?plain=1" target="_blank" rel="noopener noreferrer">Source on <b>GitHub</b></a></li>
<li><a href="https://github.com/mdn/content/issues/new?template=page-report.yml&amp;mdn-url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FHTTP%2FCORS%2FErrors%2FCORSRequestNotHttp&amp;metadata=%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EPage+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Fweb%2Fhttp%2Fcors%2Ferrors%2Fcorsrequestnothttp%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FHTTP%2FCORS%2FErrors%2FCORSRequestNotHttp%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fmain%2Ffiles%2Fen-us%2Fweb%2Fhttp%2Fcors%2Ferrors%2Fcorsrequestnothttp%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2F7fb4cf57a870e5a2473383b4c72cee85777bc72e%0A*+Document+last+modified%3A+2021-12-28T17%3A25%3A20.000Z%0A%0A%3C%2Fdetails%3E" target="_blank" rel="noopener noreferrer">Report a problem with this content on <b>GitHub</b></a></li>
<li>Want to fix the problem yourself? See <a href="https://github.com/mdn/content/blob/main/README.md" target="_blank" rel="noopener noreferrer">our Contribution guide</a>.</li>
</ul>
</div>
<p class="last-modified-date"><b>Last modified:</b> <time datetime="2021-12-28T17:25:20.000Z">Dec 28, 2021</time>, <a href="corsrequestnothttp/contributors.txt">by MDN contributors</a></p>
</div></aside><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS/Errors/CORSRequestNotHttp" class="_attribution-link" target="_blank">https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS/Errors/CORSRequestNotHttp</a>
  </p>
</div>
