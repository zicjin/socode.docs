  <div id="layout"> <div id="layout-content"><div id="pdostatement.rowcount" class="refentry"> <div class="refnamediv"> <h1 class="refname">PDOStatement::rowCount</h1> <p class="verinfo">(PHP 5 &gt;= 5.1.0, PHP 7, PHP 8, PECL pdo &gt;= 0.1.0)</p>
<p class="refpurpose"><span class="refname">PDOStatement::rowCount</span> — <span class="dc-title"> Returns the number of rows affected by the last SQL statement </span></p> </div> <div class="refsect1 description" id="refsect1-pdostatement.rowcount-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">public PDOStatement::rowCount(): int</pre> <p class="para rdfs-comment"> <span class="function"><strong>PDOStatement::rowCount()</strong></span> returns the number of rows affected by the last DELETE, INSERT, or UPDATE statement executed by the corresponding <code class="literal">PDOStatement</code> object. </p> <p class="para"> If the last SQL statement executed by the associated <code class="literal">PDOStatement</code> was a SELECT statement, some databases may return the number of rows returned by that statement. However, this behaviour is not guaranteed for all databases and should not be relied on for portable applications. </p> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> This method returns "0" (zero) with the SQLite driver at all times, and with the PostgreSQL driver only when setting the <strong><code>PDO::ATTR_CURSOR</code></strong> statement attribute to <strong><code>PDO::CURSOR_SCROLL</code></strong>. </p> </blockquote> </div> <div class="refsect1 parameters" id="refsect1-pdostatement.rowcount-parameters"> <h3 class="title">Parameters</h3> <p class="para">This function has no parameters.</p> </div> <div class="refsect1 returnvalues" id="refsect1-pdostatement.rowcount-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> Returns the number of rows. </p> </div> <div class="refsect1 examples" id="refsect1-pdostatement.rowcount-examples"> <h3 class="title">Examples</h3> 
<div class="example" id="example-1070"> <p><strong>Example #1 Return the number of deleted rows</strong></p> <div class="example-contents"><p> <span class="function"><strong>PDOStatement::rowCount()</strong></span> returns the number of rows affected by a DELETE, INSERT, or UPDATE statement. </p></div> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
/* Delete all rows from the FRUIT table */
$del = $dbh-&gt;prepare('DELETE FROM fruit');
$del-&gt;execute();

/* Return number of rows that were deleted */
print("Return number of rows that were deleted:\n");
$count = $del-&gt;rowCount();
print("Deleted $count rows.\n");
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output something similar to:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
Return number of rows that were deleted:
Deleted 9 rows.
</pre></div> </div> </div> <div class="example" id="example-1071"> <p><strong>Example #2 Counting rows returned by a SELECT statement</strong></p> <div class="example-contents"><p> For most databases, <span class="function"><strong>PDOStatement::rowCount()</strong></span> does not return the number of rows affected by a SELECT statement. Instead, use <span class="function"><a href="pdo.query" class="function">PDO::query()</a></span> to issue a SELECT COUNT(*) statement with the same predicates as your intended SELECT statement, then use <span class="function"><a href="pdostatement.fetchcolumn" class="function">PDOStatement::fetchColumn()</a></span> to retrieve the number of matching rows. </p></div> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$sql = "SELECT COUNT(*) FROM fruit WHERE calories &gt; 100";
$res = $conn-&gt;query($sql);
$count = $res-&gt;fetchColumn();

print "There are " .  $count . " matching records.";</pre> </div> <div class="example-contents"><p>The above example will output something similar to:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
There are 2 matching records.
</pre></div> </div> </div> </div> <div class="refsect1 seealso" id="refsect1-pdostatement.rowcount-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li class="member"><span class="function"><a href="pdostatement.columncount" class="function" rel="rdfs-seeAlso">PDOStatement::columnCount()</a> - Returns the number of columns in the result set</span></li> <li class="member"><span class="function"><a href="pdostatement.fetchcolumn" class="function" rel="rdfs-seeAlso">PDOStatement::fetchColumn()</a> - Returns a single column from the next row of a result set</span></li> <li class="member"><span class="function"><a href="pdo.query" class="function" rel="rdfs-seeAlso">PDO::query()</a> - Prepares and executes an SQL statement without placeholders</span></li> </ul> </div> </div></div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2021 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/pdostatement.rowcount.php" class="_attribution-link">https://www.php.net/manual/en/pdostatement.rowcount.php</a>
  </p>
</div>
