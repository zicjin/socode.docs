  <div id="layout"> <div id="layout-content"><div id="function.finfo-open" class="refentry"> <div class="refnamediv"> <h1 class="refname">finfo_open</h1> <h1 class="refname">finfo::__construct</h1> <p class="verinfo">(PHP &gt;= 5.3.0, PECL fileinfo &gt;= 0.1.0)</p>
<p class="refpurpose"><span class="refname">finfo_open</span> -- <span class="refname">finfo::__construct</span> — <span class="dc-title">Create a new fileinfo resource</span></p> </div> <div class="refsect1 description" id="refsect1-function.finfo-open-description"> <h3 class="title">Description</h3> <p class="para">Procedural style</p> <pre class="methodsynopsis dc-description" data-language="php">finfo_open ([ int $flags = FILEINFO_NONE [, string $magic_database = "" ]] ) : resource|false</pre> <p class="para rdfs-comment">Object oriented style (constructor):</p> <div class="constructorsynopsis dc-description"> <span class="modifier">public</span> <span class="methodname"><a href="finfo.construct" class="methodname">finfo::__construct</a></span> ([ <span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = <strong><code>FILEINFO_NONE</code></strong></span></span> [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$magic_database</code><span class="initializer"> = ""</span></span> ]] )</div> <p class="para rdfs-comment"> This function opens a magic database and returns its resource. </p> </div> <div class="refsect1 parameters" id="refsect1-function.finfo-open-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt> <code class="parameter">flags</code>
</dt> <dd> <p class="para"> One or disjunction of more <a href="https://www.php.net/manual/en/fileinfo.constants.php" class="link">Fileinfo constants</a>. </p> </dd> <dt> <code class="parameter">magic_database</code>
</dt> <dd> <p class="para"> Name of a magic database file, usually something like <var class="filename">/path/to/magic.mime</var>. If not specified, the <code class="literal">MAGIC</code> environment variable is used. If the environment variable isn't set, then PHP's bundled magic database will be used. </p> <p class="para"> Passing <strong><code>null</code></strong> or an empty string will be equivalent to the default value. </p> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-function.finfo-open-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> (Procedural style only) Returns a magic database resource on success or <strong><code>false</code></strong> on failure. </p> </div> <div class="refsect1 notes" id="refsect1-function.finfo-open-notes"> <h3 class="title">Notes</h3> <div class="warning">
<strong class="warning">Warning</strong> <p class="para"> The expected magic database format changed in PHP 5.3.11 and 5.4.1. Due to this, the internal magic database was upgraded. This mostly effects code where an external magic database is used: reading an older magic file will now fail. Also, some textual representations of the mime types has changed, for instance for PHP would be "PHP script, ASCII text" instead of "PHP script text" returned. </p> </div> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> Generally, using the bundled magic database (by leaving <code class="parameter">magic_database</code> and the <code class="literal">MAGIC</code> environment variables unset) is the best course of action unless you specifically need a custom magic database. </p> </blockquote> </div> <div class="refsect1 examples" id="refsect1-function.finfo-open-examples"> <h3 class="title">Examples</h3> <div class="example" id="example-2616"> <p><strong>Example #1 Object oriented style</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$finfo = new finfo(FILEINFO_MIME, "/usr/share/misc/magic"); // return mime type ala mimetype extension

/* get mime-type for a specific file */
$filename = "/usr/local/something.txt";
echo $finfo-&gt;file($filename);

?&gt;</pre> </div> </div> <div class="example" id="example-2617"> <p><strong>Example #2 Procedural style</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$finfo = finfo_open(FILEINFO_MIME, "/usr/share/misc/magic"); // return mime type ala mimetype extension

if (!$finfo) {
    echo "Opening fileinfo database failed";
    exit();
}

/* get mime-type for a specific file */
$filename = "/usr/local/something.txt";
echo finfo_file($finfo, $filename);

/* close connection */
finfo_close($finfo);
?&gt;</pre> </div> </div> <p class="para">The above example will output:</p> <div class="example-contents screen"> <div class="cdata"><pre>
text/plain; charset=us-ascii
</pre></div> </div> </div> <div class="refsect1 seealso" id="refsect1-function.finfo-open-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li class="member"><span class="function"><a href="function.finfo-close" class="function" rel="rdfs-seeAlso">finfo_close()</a> - Close fileinfo resource</span></li> </ul> </div> </div></div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2020 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/function.finfo-open.php" class="_attribution-link">https://www.php.net/manual/en/function.finfo-open.php</a>
  </p>
</div>
