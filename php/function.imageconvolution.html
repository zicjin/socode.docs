  <div id="layout"> <div id="layout-content"><div id="function.imageconvolution" class="refentry"> <div class="refnamediv"> <h1 class="refname">imageconvolution</h1> <p class="verinfo">(PHP 5 &gt;= 5.1.0, PHP 7, PHP 8)</p>
<p class="refpurpose"><span class="refname">imageconvolution</span> — <span class="dc-title">Apply a 3x3 convolution matrix, using coefficient and offset</span></p> </div> <div class="refsect1 description" id="refsect1-function.imageconvolution-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">imageconvolution(
 GdImage $image,
 array $matrix,
 float $divisor,
 float $offset
): bool</pre> <p class="para rdfs-comment"> Applies a convolution matrix on the image, using the given coefficient and offset. </p> </div> <div class="refsect1 parameters" id="refsect1-function.imageconvolution-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt> <code class="parameter">image</code>
</dt> <dd> <p class="para">A <span class="classname"><a href="class.gdimage" class="classname">GdImage</a></span> object, returned by one of the image creation functions, such as <span class="function"><a href="function.imagecreatetruecolor" class="function">imagecreatetruecolor()</a></span>.</p>
</dd> <dt> <code class="parameter">matrix</code>
</dt> <dd> <p class="para"> A 3x3 matrix: an array of three arrays of three floats. </p> </dd> <dt> <code class="parameter">divisor</code>
</dt> <dd> <p class="para"> The divisor of the result of the convolution, used for normalization. </p> </dd> <dt> <code class="parameter">offset</code>
</dt> <dd> <p class="para"> Color offset. </p> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-function.imageconvolution-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> Returns <strong><code>true</code></strong> on success or <strong><code>false</code></strong> on failure. </p> </div> <div class="refsect1 changelog" id="refsect1-function.imageconvolution-changelog"> <h3 class="title">Changelog</h3> <table class="doctable informaltable"> <thead> <tr> <th>Version</th> <th>Description</th> </tr> </thead> <tbody class="tbody"> <tr> <td>8.0.0</td> <td> <code class="parameter">image</code> expects a <span class="classname"><a href="class.gdimage" class="classname">GdImage</a></span> instance now; previously, a <span class="type">resource</span> was expected. </td> </tr> </tbody> </table> </div> <div class="refsect1 examples" id="refsect1-function.imageconvolution-examples"> <h3 class="title">Examples</h3> 
<div class="example" id="example-2652"> <p><strong>Example #1 Embossing the PHP.net logo</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$image = imagecreatefromgif('http://www.php.net/images/php.gif');

$emboss = array(array(2, 0, 0), array(0, -1, 0), array(0, 0, -1));
imageconvolution($image, $emboss, 1, 127);

header('Content-Type: image/png');
imagepng($image, null, 9);
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="mediaobject"> <div class="imageobject"> <img src="data:image/png;base64,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" alt="Output of example : Embossing the PHP.net logo" width="120" height="67"> </div> </div> </div> <div class="example" id="example-2653"> <p><strong>Example #2 Gaussian blur</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$image = imagecreatetruecolor(180,40);

// Writes the text and apply a gaussian blur on the image
imagestring($image, 5, 10, 8, 'Gaussian Blur Text', 0x00ff00);
$gaussian = array(array(1.0, 2.0, 1.0), array(2.0, 4.0, 2.0), array(1.0, 2.0, 1.0));
imageconvolution($image, $gaussian, 16, 0);

// Rewrites the text for comparison
imagestring($image, 5, 10, 18, 'Gaussian Blur Text', 0x00ff00);

header('Content-Type: image/png');
imagepng($image, null, 9);
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="mediaobject"> <div class="imageobject"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAAoCAMAAABgtyA4AAAAMFBMVEUAAAAADwAAHwAALwAAPwAATwAAXwAAbwAAfwAAjwAAnwAArwAAvwAAzwAA3wAA/wAr3VnvAAACjUlEQVR42u1V2ZasIBAbtkJw+/+/vUY70C0o7d2eyAMnB2JNCDXVPx0dHR0dHR0nKGOtNeprtVGtcqy30S/ElD+BciEMIbgvPzMhmIZgZD3tx4ZYyxDGTS/6UT7KxShWgtd/ybSdZm8lxs21knmyraT9vOmNevSnTJxE7Zdin+x830kvnciPsv5IJYs1m4CmN6N6mAZ9cCa2KyHO6qRnQaPexbhO1ta+yX1icUFc02IDO5pEpRfP4ug9TipJs7hhQefxDdSlAeWOE+23RbmAGssSRV+aVsYayMX6KXrsYN/HyVt0jiPR6cWzeAnuZZEFlzhEBE1DaXUyzVFQpzC9dynqaJJW0kd+Wryzfp6GT9NOrCVRKZgsnkUpmaK5TjqvdlcbUyZt4hycC3M0ysVpevv60jTyc3sPxCWbdpX2YDCF2J4K4hqlabCageN9hoDe08OypHe6+0dkri4sIKL2a1hxFj1gSZIPQ/E3pg0LXplm0tZ50Z9J81kqIw+GhD4cdkAEfYsjR2LUq9GuTBcjb8ZoYsEb02nyGva02pOpzWLOAfaA9zEY7IBUpocW/BaIVhQLJ4Op/7iM+JssaKirTGPaMJweOg2U6oBfgWMYY5SCgZzmNMm6glCs01D/LLeqFzUgLFg+9vrCT/krkUZ3DevKpY22MtXLvK3/eyfPwYJc/4vpFXj/e3y6TMBOYrD7pLm+xCcr7wU/xUDDNBhLXxGuWUzn5zatpl6qecrjRNpJM6yqV2rqnOJ20hW/NQ0jb5tmDMBte1BfiMuCT00DSfmt6ZJQcOnmb5rmSTvpopVT0633PU1xuz3u2vmkobB1Td4s9RJZ2R4luUoaIE2kkXQ5u/h9R0dHR0fHv8MvEVc5Q1FMP7kAAAAASUVORK5CYII=" alt="Output of example : Gaussian blur" width="180" height="40"> </div> </div> </div> </div> <div class="refsect1 seealso" id="refsect1-function.imageconvolution-seealso"> <h3 class="title">See Also</h3> <ul class="simplelist"> <li class="member"><span class="function"><a href="function.imagefilter" class="function" rel="rdfs-seeAlso">imagefilter()</a> - Applies a filter to an image</span></li> </ul> </div> </div></div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2021 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/function.imageconvolution.php" class="_attribution-link">https://www.php.net/manual/en/function.imageconvolution.php</a>
  </p>
</div>
