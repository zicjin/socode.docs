<h1 id="pandas-api-extensions-extensionarray-take">pandas.api.extensions.ExtensionArray.take</h1> <dl class="method"> <dt id="pandas.api.extensions.ExtensionArray.take">
<code>ExtensionArray.take(self, indices: Sequence[int], allow_fill: bool = False, fill_value: Any = None) → pandas.core.dtypes.generic.ABCExtensionArray</code> <a class="reference external" href="http://github.com/pandas-dev/pandas/blob/v0.25.0/pandas/core/arrays/base.py#L769-L858"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Take elements from an array.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<dl class="first docutils"> <dt>
<code>indices : sequence of integers</code> </dt> <dd>
<p class="first last">Indices to be taken.</p> </dd> <dt>
<code>allow_fill : bool, default False</code> </dt> <dd>
<p class="first">How to handle negative values in <code>indices</code>.</p> <ul class="last simple"> <li>False: negative values in <code>indices</code> indicate positional indices from the right (the default). This is similar to <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.take.html#numpy.take" title="(in NumPy v1.16)"><code>numpy.take()</code></a>.</li> <li>True: negative values in <code>indices</code> indicate missing values. These values are set to <code>fill_value</code>. Any other other negative values raise a <code>ValueError</code>.</li> </ul> </dd> <dt>
<code>fill_value : any, optional</code> </dt> <dd>
<p class="first">Fill value to use for NA-indices when <code>allow_fill</code> is True. This may be <code>None</code>, in which case the default NA value for the type, <code>self.dtype.na_value</code>, is used.</p> <p class="last">For many ExtensionArrays, there will be two representations of <code>fill_value</code>: a user-facing “boxed” scalar, and a low-level physical NA value. <code>fill_value</code> should be the user-facing version, and the implementation should handle translating that to the physical version for processing the take if necessary.</p> </dd> </dl> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<dl class="first docutils"> <dt>ExtensionArray</dt>  </dl> </td> </tr> <tr>
<th class="field-name">Raises:</th>
<td class="field-body">
<dl class="first last docutils"> <dt>IndexError</dt> <dd>
<p class="first last">When the indices are out of bounds for the array.</p> </dd> <dt>ValueError</dt> <dd>
<p class="first last">When <code>indices</code> contains negative values other than <code>-1</code> and <code>allow_fill</code> is True.</p> </dd> </dl> </td> </tr>  </table> <div class="admonition seealso"> <p class="first admonition-title">See also</p> <dl class="last docutils"> <dt>
 <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.take.html#numpy.take" title="(in NumPy v1.16)"><code>numpy.take</code></a>
</dt>  <dt>
<code>api.extensions.take</code> </dt>  </dl> </div> <h4 class="rubric">Notes</h4> <p>ExtensionArray.take is called by <code>Series.__getitem__</code>, <code>.loc</code>, <code>iloc</code>, when <code>indices</code> is a sequence of values. Additionally, it’s called by <code>Series.reindex()</code>, or any other method that causes realignment, with a <code>fill_value</code>.</p> <h4 class="rubric">Examples</h4> <p>Here’s an example implementation, which relies on casting the extension array to object dtype. This uses the helper method <code>pandas.api.extensions.take()</code>.</p> <pre data-language="python">def take(self, indices, allow_fill=False, fill_value=None):
    from pandas.core.algorithms import take

    # If the ExtensionArray is backed by an ndarray, then
    # just pass that here instead of coercing to object.
    data = self.astype(object)

    if allow_fill and fill_value is None:
        fill_value = self.dtype.na_value

    # fill value should always be translated from the scalar
    # type for the array, to the physical storage type for
    # the data, before passing to take.

    result = take(data, indices, fill_value=fill_value,
                  allow_fill=allow_fill)
    return self._from_sequence(result, dtype=self.dtype)
</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2008&ndash;2012, AQR Capital Management, LLC, Lambda Foundry, Inc. and PyData Development Team<br>Licensed under the 3-clause BSD License.<br>
    <a href="https://pandas.pydata.org/pandas-docs/version/0.25.0/reference/api/pandas.api.extensions.ExtensionArray.take.html" class="_attribution-link">https://pandas.pydata.org/pandas-docs/version/0.25.0/reference/api/pandas.api.extensions.ExtensionArray.take.html</a>
  </p>
</div>
