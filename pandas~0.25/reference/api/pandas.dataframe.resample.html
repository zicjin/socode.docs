<h1 id="pandas-dataframe-resample">pandas.DataFrame.resample</h1> <dl class="method"> <dt id="pandas.DataFrame.resample">
<code>DataFrame.resample(self, rule, how=None, axis=0, fill_method=None, closed=None, label=None, convention='start', kind=None, loffset=None, limit=None, base=0, on=None, level=None)</code> <a class="reference external" href="http://github.com/pandas-dev/pandas/blob/v0.25.0/pandas/core/generic.py#L8137-L8455"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Resample time-series data.</p> <p>Convenience method for frequency conversion and resampling of time series. Object must have a datetime-like index (<code>DatetimeIndex</code>, <code>PeriodIndex</code>, or <code>TimedeltaIndex</code>), or pass datetime-like values to the <code>on</code> or <code>level</code> keyword.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<dl class="first docutils"> <dt>
<code>rule : DateOffset, Timedelta or str</code> </dt> <dd>
<p class="first last">The offset string or object representing target conversion.</p> </dd> <dt>
<code>how : str</code> </dt> <dd>
<p class="first">Method for down/re-sampling, default to ‘mean’ for downsampling.</p> <div class="last deprecated"> <p><span class="versionmodified">Deprecated since version 0.18.0: </span>The new syntax is <code>.resample(...).mean()</code>, or <code>.resample(...).apply(&lt;func&gt;)</code></p> </div> </dd> <dt>
<code>axis : {0 or ‘index’, 1 or ‘columns’}, default 0</code> </dt> <dd>
<p class="first last">Which axis to use for up- or down-sampling. For <code>Series</code> this will default to 0, i.e. along the rows. Must be <code>DatetimeIndex</code>, <code>TimedeltaIndex</code> or <code>PeriodIndex</code>.</p> </dd> <dt>
<code>fill_method : str, default None</code> </dt> <dd>
<p class="first">Filling method for upsampling.</p> <div class="last deprecated"> <p><span class="versionmodified">Deprecated since version 0.18.0: </span>The new syntax is <code>.resample(...).&lt;func&gt;()</code>, e.g. <code>.resample(...).pad()</code></p> </div> </dd> <dt>
<code>closed : {‘right’, ‘left’}, default None</code> </dt> <dd>
<p class="first last">Which side of bin interval is closed. The default is ‘left’ for all frequency offsets except for ‘M’, ‘A’, ‘Q’, ‘BM’, ‘BA’, ‘BQ’, and ‘W’ which all have a default of ‘right’.</p> </dd> <dt>
<code>label : {‘right’, ‘left’}, default None</code> </dt> <dd>
<p class="first last">Which bin edge label to label bucket with. The default is ‘left’ for all frequency offsets except for ‘M’, ‘A’, ‘Q’, ‘BM’, ‘BA’, ‘BQ’, and ‘W’ which all have a default of ‘right’.</p> </dd> <dt>
<code>convention : {‘start’, ‘end’, ‘s’, ‘e’}, default ‘start’</code> </dt> <dd>
<p class="first last">For <code>PeriodIndex</code> only, controls whether to use the start or end of <code>rule</code>.</p> </dd> <dt>
<code>kind : {‘timestamp’, ‘period’}, optional, default None</code> </dt> <dd>
<p class="first last">Pass ‘timestamp’ to convert the resulting index to a <code>DateTimeIndex</code> or ‘period’ to convert it to a <code>PeriodIndex</code>. By default the input representation is retained.</p> </dd> <dt>
<code>loffset : timedelta, default None</code> </dt> <dd>
<p class="first last">Adjust the resampled time labels.</p> </dd> <dt>
<code>limit : int, default None</code> </dt> <dd>
<p class="first">Maximum size gap when reindexing with <code>fill_method</code>.</p> <div class="last deprecated"> <p><span class="versionmodified">Deprecated since version 0.18.0.</span></p> </div> </dd> <dt>
<code>base : int, default 0</code> </dt> <dd>
<p class="first last">For frequencies that evenly subdivide 1 day, the “origin” of the aggregated intervals. For example, for ‘5min’ frequency, base could range from 0 through 4. Defaults to 0.</p> </dd> <dt>
<code>on : str, optional</code> </dt> <dd>
<p class="first">For a DataFrame, column to use instead of index for resampling. Column must be datetime-like.</p> <div class="last versionadded"> <p><span class="versionmodified">New in version 0.19.0.</span></p> </div> </dd> <dt>
<code>level : str or int, optional</code> </dt> <dd>
<p class="first">For a MultiIndex, level (name or number) to use for resampling. <code>level</code> must be datetime-like.</p> <div class="last versionadded"> <p><span class="versionmodified">New in version 0.19.0.</span></p> </div> </dd> </dl> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<dl class="first last docutils"> <dt>Resampler object</dt>  </dl> </td> </tr>  </table> <div class="admonition seealso"> <p class="first admonition-title">See also</p> <dl class="last docutils"> <dt>
 <a class="reference internal" href="pandas.dataframe.groupby#pandas.DataFrame.groupby" title="pandas.DataFrame.groupby"><code>groupby</code></a>
</dt> <dd>Group by mapping, function, label, or list of labels.</dd> <dt>
 <a class="reference internal" href="pandas.series.resample#pandas.Series.resample" title="pandas.Series.resample"><code>Series.resample</code></a>
</dt> <dd>Resample a Series.</dd> <dt>
 <a class="reference internal" href="#pandas.DataFrame.resample" title="pandas.DataFrame.resample"><code>DataFrame.resample</code></a>
</dt> <dd>Resample a DataFrame.</dd> </dl> </div> <h4 class="rubric">Notes</h4> <p>See the <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#resampling">user guide</a> for more.</p> <p>To learn more about the offset strings, please see <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#dateoffset-objects">this link</a>.</p> <h4 class="rubric">Examples</h4> <p>Start by creating a series with 9 one minute timestamps.</p> <pre data-language="python">&gt;&gt;&gt; index = pd.date_range('1/1/2000', periods=9, freq='T')
&gt;&gt;&gt; series = pd.Series(range(9), index=index)
&gt;&gt;&gt; series
2000-01-01 00:00:00    0
2000-01-01 00:01:00    1
2000-01-01 00:02:00    2
2000-01-01 00:03:00    3
2000-01-01 00:04:00    4
2000-01-01 00:05:00    5
2000-01-01 00:06:00    6
2000-01-01 00:07:00    7
2000-01-01 00:08:00    8
Freq: T, dtype: int64
</pre> <p>Downsample the series into 3 minute bins and sum the values of the timestamps falling into a bin.</p> <pre data-language="python">&gt;&gt;&gt; series.resample('3T').sum()
2000-01-01 00:00:00     3
2000-01-01 00:03:00    12
2000-01-01 00:06:00    21
Freq: 3T, dtype: int64
</pre> <p>Downsample the series into 3 minute bins as above, but label each bin using the right edge instead of the left. Please note that the value in the bucket used as the label is not included in the bucket, which it labels. For example, in the original series the bucket <code>2000-01-01 00:03:00</code> contains the value 3, but the summed value in the resampled bucket with the label <code>2000-01-01 00:03:00</code> does not include 3 (if it did, the summed value would be 6, not 3). To include this value close the right side of the bin interval as illustrated in the example below this one.</p> <pre data-language="python">&gt;&gt;&gt; series.resample('3T', label='right').sum()
2000-01-01 00:03:00     3
2000-01-01 00:06:00    12
2000-01-01 00:09:00    21
Freq: 3T, dtype: int64
</pre> <p>Downsample the series into 3 minute bins as above, but close the right side of the bin interval.</p> <pre data-language="python">&gt;&gt;&gt; series.resample('3T', label='right', closed='right').sum()
2000-01-01 00:00:00     0
2000-01-01 00:03:00     6
2000-01-01 00:06:00    15
2000-01-01 00:09:00    15
Freq: 3T, dtype: int64
</pre> <p>Upsample the series into 30 second bins.</p> <pre data-language="python">&gt;&gt;&gt; series.resample('30S').asfreq()[0:5]   # Select first 5 rows
2000-01-01 00:00:00   0.0
2000-01-01 00:00:30   NaN
2000-01-01 00:01:00   1.0
2000-01-01 00:01:30   NaN
2000-01-01 00:02:00   2.0
Freq: 30S, dtype: float64
</pre> <p>Upsample the series into 30 second bins and fill the <code>NaN</code> values using the <code>pad</code> method.</p> <pre data-language="python">&gt;&gt;&gt; series.resample('30S').pad()[0:5]
2000-01-01 00:00:00    0
2000-01-01 00:00:30    0
2000-01-01 00:01:00    1
2000-01-01 00:01:30    1
2000-01-01 00:02:00    2
Freq: 30S, dtype: int64
</pre> <p>Upsample the series into 30 second bins and fill the <code>NaN</code> values using the <code>bfill</code> method.</p> <pre data-language="python">&gt;&gt;&gt; series.resample('30S').bfill()[0:5]
2000-01-01 00:00:00    0
2000-01-01 00:00:30    1
2000-01-01 00:01:00    1
2000-01-01 00:01:30    2
2000-01-01 00:02:00    2
Freq: 30S, dtype: int64
</pre> <p>Pass a custom function via <code>apply</code></p> <pre data-language="python">&gt;&gt;&gt; def custom_resampler(array_like):
...     return np.sum(array_like) + 5
...
&gt;&gt;&gt; series.resample('3T').apply(custom_resampler)
2000-01-01 00:00:00     8
2000-01-01 00:03:00    17
2000-01-01 00:06:00    26
Freq: 3T, dtype: int64
</pre> <p>For a Series with a PeriodIndex, the keyword <code>convention</code> can be used to control whether to use the start or end of <code>rule</code>.</p> <p>Resample a year by quarter using ‘start’ <code>convention</code>. Values are assigned to the first quarter of the period.</p> <pre data-language="python">&gt;&gt;&gt; s = pd.Series([1, 2], index=pd.period_range('2012-01-01',
...                                             freq='A',
...                                             periods=2))
&gt;&gt;&gt; s
2012    1
2013    2
Freq: A-DEC, dtype: int64
&gt;&gt;&gt; s.resample('Q', convention='start').asfreq()
2012Q1    1.0
2012Q2    NaN
2012Q3    NaN
2012Q4    NaN
2013Q1    2.0
2013Q2    NaN
2013Q3    NaN
2013Q4    NaN
Freq: Q-DEC, dtype: float64
</pre> <p>Resample quarters by month using ‘end’ <code>convention</code>. Values are assigned to the last month of the period.</p> <pre data-language="python">&gt;&gt;&gt; q = pd.Series([1, 2, 3, 4], index=pd.period_range('2018-01-01',
...                                                   freq='Q',
...                                                   periods=4))
&gt;&gt;&gt; q
2018Q1    1
2018Q2    2
2018Q3    3
2018Q4    4
Freq: Q-DEC, dtype: int64
&gt;&gt;&gt; q.resample('M', convention='end').asfreq()
2018-03    1.0
2018-04    NaN
2018-05    NaN
2018-06    2.0
2018-07    NaN
2018-08    NaN
2018-09    3.0
2018-10    NaN
2018-11    NaN
2018-12    4.0
Freq: M, dtype: float64
</pre> <p>For DataFrame objects, the keyword <code>on</code> can be used to specify the column instead of the index for resampling.</p> <pre data-language="python">&gt;&gt;&gt; d = dict({'price': [10, 11, 9, 13, 14, 18, 17, 19],
...           'volume': [50, 60, 40, 100, 50, 100, 40, 50]})
&gt;&gt;&gt; df = pd.DataFrame(d)
&gt;&gt;&gt; df['week_starting'] = pd.date_range('01/01/2018',
...                                     periods=8,
...                                     freq='W')
&gt;&gt;&gt; df
   price  volume week_starting
0     10      50    2018-01-07
1     11      60    2018-01-14
2      9      40    2018-01-21
3     13     100    2018-01-28
4     14      50    2018-02-04
5     18     100    2018-02-11
6     17      40    2018-02-18
7     19      50    2018-02-25
&gt;&gt;&gt; df.resample('M', on='week_starting').mean()
               price  volume
week_starting
2018-01-31     10.75    62.5
2018-02-28     17.00    60.0
</pre> <p>For a DataFrame with MultiIndex, the keyword <code>level</code> can be used to specify on which level the resampling needs to take place.</p> <pre data-language="python">&gt;&gt;&gt; days = pd.date_range('1/1/2000', periods=4, freq='D')
&gt;&gt;&gt; d2 = dict({'price': [10, 11, 9, 13, 14, 18, 17, 19],
...            'volume': [50, 60, 40, 100, 50, 100, 40, 50]})
&gt;&gt;&gt; df2 = pd.DataFrame(d2,
...                    index=pd.MultiIndex.from_product([days,
...                                                     ['morning',
...                                                      'afternoon']]
...                                                     ))
&gt;&gt;&gt; df2
                      price  volume
2000-01-01 morning       10      50
           afternoon     11      60
2000-01-02 morning        9      40
           afternoon     13     100
2000-01-03 morning       14      50
           afternoon     18     100
2000-01-04 morning       17      40
           afternoon     19      50
&gt;&gt;&gt; df2.resample('D', level=0).sum()
            price  volume
2000-01-01     21     110
2000-01-02     22     140
2000-01-03     32     150
2000-01-04     36      90
</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2008&ndash;2012, AQR Capital Management, LLC, Lambda Foundry, Inc. and PyData Development Team<br>Licensed under the 3-clause BSD License.<br>
    <a href="https://pandas.pydata.org/pandas-docs/version/0.25.0/reference/api/pandas.DataFrame.resample.html" class="_attribution-link">https://pandas.pydata.org/pandas-docs/version/0.25.0/reference/api/pandas.DataFrame.resample.html</a>
  </p>
</div>
