<h1 data-toc="returns" id="returns.md">Returns and jumps</h1>
<p id="7898d4c2">Kotlin has three structural jump expressions:</p>
<ul class="list _ul" id="bb67b493">
<li class="list__item" id="ec23097d"><p><code class="code ">return</code> by default returns from the nearest enclosing function or <a href="lambdas#anonymous-functions" id="e5d745e8">anonymous function</a>.</p></li>
<li class="list__item" id="7046c310"><p><code class="code ">break</code> terminates the nearest enclosing loop.</p></li>
<li class="list__item" id="becb78da"><p><code class="code ">continue</code> proceeds to the next step of the nearest enclosing loop.</p></li>
</ul>
<p id="a9d37578">All of these expressions can be used as part of larger expressions:</p>
<pre class="code-block" data-lang="kotlin" data-language="kotlin">val s = person.name ?: return </pre>
<p id="df47f763">The type of these expressions is the <a href="exceptions#the-nothing-type" id="df75ed6">Nothing type</a>.</p>
<section class="chapter"><h2 id="break-and-continue-labels" data-toc="returns#break-and-continue-labels">Break and continue labels</h2>
<p id="ae9988cc">Any expression in Kotlin may be marked with a <em id="fdfc43dc" class="">label</em>. Labels have the form of an identifier followed by the <code class="code ">@</code> sign, such as <code class="code ">abc@</code> or <code class="code ">fooBar@</code>. To label an expression, just add a label in front of it.</p>
<pre class="code-block" data-lang="kotlin" data-language="kotlin">loop@ for (i in 1..100) { // ... } </pre>
<p id="eeda285a">Now, we can qualify a <code class="code ">break</code> or a <code class="code ">continue</code> with a label:</p>
<pre class="code-block" data-lang="kotlin" data-language="kotlin">loop@ for (i in 1..100) { for (j in 1..100) { if (...) break@loop } } </pre>
<p id="f6aa416b">A <code class="code ">break</code> qualified with a label jumps to the execution point right after the loop marked with that label. A <code class="code ">continue</code> proceeds to the next iteration of that loop.</p></section><section class="chapter"><h2 id="return-to-labels" data-toc="returns#return-to-labels">Return to labels</h2>
<p id="7af9f18">In Kotlin, functions can be nested using function literals, local functions, and object expressions. Qualified <code class="code ">return</code>s allow us to return from an outer function. The most important use case is returning from a lambda expression. Recall that when we write the following, the <code class="code ">return</code>-expression returns from the nearest enclosing function - <code class="code ">foo</code>:</p>
<pre class="code-block" data-lang="kotlin" data-runnable="true" data-min-compiler-version="1.3" data-language="kotlin">//sampleStart fun foo() { listOf(1, 2, 3, 4, 5).forEach { if (it == 3) return // non-local return directly to the caller of foo() print(it) } println("this point is unreachable") } //sampleEnd fun main() { foo() } </pre>
<p id="36d933ff">Note that such non-local returns are supported only for lambda expressions passed to <a href="inline-functions" id="3c2ed041">inline functions</a>. To return from a lambda expression, label it and qualify the <code class="code ">return</code>:</p>
<pre class="code-block" data-lang="kotlin" data-runnable="true" data-min-compiler-version="1.3" data-language="kotlin">//sampleStart fun foo() { listOf(1, 2, 3, 4, 5).forEach lit@{ if (it == 3) return@lit // local return to the caller of the lambda - the forEach loop print(it) } print(" done with explicit label") } //sampleEnd fun main() { foo() } </pre>
<p id="e9d4f951">Now, it returns only from the lambda expression. Often it is more convenient to use <em id="80bb092" class="">implicit labels</em>, because such a label has the same name as the function to which the lambda is passed.</p>
<pre class="code-block" data-lang="kotlin" data-runnable="true" data-min-compiler-version="1.3" data-language="kotlin">//sampleStart fun foo() { listOf(1, 2, 3, 4, 5).forEach { if (it == 3) return@forEach // local return to the caller of the lambda - the forEach loop print(it) } print(" done with implicit label") } //sampleEnd fun main() { foo() } </pre>
<p id="4e26cee9">Alternatively, you can replace the lambda expression with an <a href="lambdas#anonymous-functions" id="c5c84110">anonymous function</a>. A <code class="code ">return</code> statement in an anonymous function will return from the anonymous function itself.</p>
<pre class="code-block" data-lang="kotlin" data-runnable="true" data-min-compiler-version="1.3" data-language="kotlin">//sampleStart fun foo() { listOf(1, 2, 3, 4, 5).forEach(fun(value: Int) { if (value == 3) return // local return to the caller of the anonymous function - the forEach loop print(value) }) print(" done with anonymous function") } //sampleEnd fun main() { foo() } </pre>
<p id="f695ced9">Note that the use of local returns in the previous three examples is similar to the use of <code class="code ">continue</code> in regular loops.</p>
<p id="4ef4691f">There is no direct equivalent for <code class="code ">break</code>, but it can be simulated by adding another nesting lambda and non-locally returning from it:</p>
<pre class="code-block" data-lang="kotlin" data-runnable="true" data-min-compiler-version="1.3" data-language="kotlin">//sampleStart fun foo() { run loop@{ listOf(1, 2, 3, 4, 5).forEach { if (it == 3) return@loop // non-local return from the lambda passed to run print(it) } } print(" done with nested loop") } //sampleEnd fun main() { foo() } </pre>
<p id="8fac0082">When returning a value, the parser gives preference to the qualified return:</p>
<pre class="code-block" data-lang="kotlin" data-language="kotlin">return@a 1 </pre>
<p id="dd3cc379">This means "return <code class="code ">1</code> at label <code class="code ">@a</code>" rather than "return a labeled expression <code class="code ">(@a 1)</code>".</p></section><div class="last-modified"> Last modified: 06 October 2021</div>

<div class="navigation-links _bottom"> <a class="navigation-links__prev" href="control-flow">Conditions and loops</a> <a class="navigation-links__next" href="exceptions">Exceptions</a> </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://kotlinlang.org/docs/returns.html" class="_attribution-link" target="_blank">https://kotlinlang.org/docs/returns.html</a>
  </p>
</div>
