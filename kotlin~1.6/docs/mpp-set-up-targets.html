<h1 data-toc="mpp-set-up-targets" id="mpp-set-up-targets.md">Set up targets manually</h1>
<p id="47965209">You can add targets when <a href="mpp-create-lib" id="1437f30f">creating a project with the Project Wizard</a>. If you need to add a target later, you can do this manually using target presets for <a href="mpp-supported-platforms" id="2a70e99e">supported platforms</a>.</p>
<p id="58ac8961">Learn more about <a href="mpp-dsl-reference#common-target-configuration" id="2a2b87d9">additional settings for targets</a>.</p>
<pre class="code-block" data-lang="kotlin" data-language="kotlin">kotlin { jvm() // Create a JVM target with the default name 'jvm' linuxX64() { /* Specify additional settings for the 'linux' target here */ } } </pre>
<p id="8be4f156">Each target can have one or more <a href="mpp-configure-compilations" id="cc5d360">compilations</a>. In addition to default compilations for test and production purposes, you can <a href="mpp-configure-compilations#create-a-custom-compilation" id="9d2acb01">create custom compilations</a>.</p>
<section class="chapter"><h2 id="distinguish-several-targets-for-one-platform" data-toc="mpp-set-up-targets#distinguish-several-targets-for-one-platform">Distinguish several targets for one platform</h2>
<p id="dfa47d49">You can have several targets for one platform in a multiplatform library. For example, these targets can provide the same API but use different libraries during runtime, such as testing frameworks and logging solutions. Dependencies on such a multiplatform library may fail to resolve because it isnâ€™t clear which target to choose.</p>
<p id="198974ca">To solve this, mark the targets on both the library author and consumer sides with a custom attribute, which Gradle uses during dependency resolution.</p>
<p id="f037a1db">For example, consider a testing library that supports both JUnit and TestNG in the two targets. The library author needs to add an attribute to both targets as follows:</p>
<div class="tabs" id="86b38314" data-group="build-script">
<div class="tabs__content" data-gtm="tab" id="aee6af8" data-sync-tabs="kotlin" data-title="Kotlin"><pre class="code-block" data-lang="kotlin" data-title="Kotlin" data-language="kotlin">val testFrameworkAttribute = Attribute.of("com.example.testFramework", String::class.java) kotlin { jvm("junit") { attributes.attribute(testFrameworkAttribute, "junit") } jvm("testng") { attributes.attribute(testFrameworkAttribute, "testng") } } </pre></div>
<div class="tabs__content" data-gtm="tab" id="1fb1d45e" data-sync-tabs="groovy" data-title="Groovy"><pre class="code-block" data-lang="groovy" data-title="Groovy" data-language="groovy">def testFrameworkAttribute = Attribute.of('com.example.testFramework', String) kotlin { jvm('junit') { attributes.attribute(testFrameworkAttribute, 'junit') } jvm('testng') { attributes.attribute(testFrameworkAttribute, 'testng') } } </pre></div>
</div>
<p id="7f6d9120">The consumer has to add the attribute to a single target where the ambiguity arises.</p></section><div class="last-modified"> Last modified: 08 September 2021</div>

<div class="navigation-links _bottom"> <a class="navigation-links__prev" href="mpp-connect-to-apis">Connect to platform-specific APIs</a> <a class="navigation-links__next" href="mpp-add-dependencies">Add dependencies</a> </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://kotlinlang.org/docs/mpp-set-up-targets.html" class="_attribution-link" target="_blank">https://kotlinlang.org/docs/mpp-set-up-targets.html</a>
  </p>
</div>
