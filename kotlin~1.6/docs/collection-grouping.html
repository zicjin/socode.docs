<h1 data-toc="collection-grouping" id="collection-grouping.md">Grouping</h1>
<p id="c816400d">The Kotlin standard library provides extension functions for grouping collection elements. The basic function <a href="../api/latest/jvm/stdlib/kotlin.collections/group-by" id="8a621c05" data-external="true" rel="noopener noreferrer"><code class="code ">groupBy()</code></a> takes a lambda function and returns a <code class="code ">Map</code>. In this map, each key is the lambda result and the corresponding value is the <code class="code ">List</code> of elements on which this result is returned. This function can be used, for example, to group a list of <code class="code ">String</code>s by their first letter.</p>
<p id="92e6c0ca">You can also call <code class="code ">groupBy()</code> with a second lambda argument â€“ a value transformation function. In the result map of <code class="code ">groupBy()</code> with two lambdas, the keys produced by <code class="code ">keySelector</code> function are mapped to the results of the value transformation function instead of the original elements.</p>
<pre class="code-block" data-lang="kotlin" data-runnable="true" data-min-compiler-version="1.3" data-language="kotlin"> fun main() { //sampleStart val numbers = listOf("one", "two", "three", "four", "five") println(numbers.groupBy { it.first().uppercase() }) println(numbers.groupBy(keySelector = { it.first() }, valueTransform = { it.uppercase() })) //sampleEnd } </pre>
<p id="278b4c8a">If you want to group elements and then apply an operation to all groups at one time, use the function <a href="../api/latest/jvm/stdlib/kotlin.collections/grouping-by" id="6dc51d78" data-external="true" rel="noopener noreferrer"><code class="code ">groupingBy()</code></a>. It returns an instance of the <a href="../api/latest/jvm/stdlib/kotlin.collections/-grouping/index" id="fa8a2f24" data-external="true" rel="noopener noreferrer"><code class="code ">Grouping</code></a> type. The <code class="code ">Grouping</code> instance lets you apply operations to all groups in a lazy manner: the groups are actually built right before the operation execution.</p>
<p id="8d75624b">Namely, <code class="code ">Grouping</code> supports the following operations:</p>
<ul class="list _ul" id="4899c8a5">
<li class="list__item" id="706adf57"><p><a href="../api/latest/jvm/stdlib/kotlin.collections/each-count" id="35d53bc7" data-external="true" rel="noopener noreferrer"><code class="code ">eachCount()</code></a> counts the elements in each group.</p></li>
<li class="list__item" id="4e36f6a3"><p><a href="../api/latest/jvm/stdlib/kotlin.collections/fold" id="22d483e7" data-external="true" rel="noopener noreferrer"><code class="code ">fold()</code></a> and <a href="../api/latest/jvm/stdlib/kotlin.collections/reduce" id="48dd9255" data-external="true" rel="noopener noreferrer"><code class="code ">reduce()</code></a> perform <a href="collection-aggregate#fold-and-reduce" id="d319bde1">fold and reduce</a> operations on each group as a separate collection and return the results.</p></li>
<li class="list__item" id="c9adc5e1"><p><a href="../api/latest/jvm/stdlib/kotlin.collections/aggregate" id="fd367e7c" data-external="true" rel="noopener noreferrer"><code class="code ">aggregate()</code></a> applies a given operation subsequently to all the elements in each group and returns the result. This is the generic way to perform any operations on a <code class="code ">Grouping</code>. Use it to implement custom operations when fold or reduce are not enough.</p></li>
</ul>
<pre class="code-block" data-lang="kotlin" data-runnable="true" data-min-compiler-version="1.3" data-language="kotlin"> fun main() { //sampleStart val numbers = listOf("one", "two", "three", "four", "five", "six") println(numbers.groupingBy { it.first() }.eachCount()) //sampleEnd } </pre>
<div class="last-modified"> Last modified: 05 May 2021</div>

<div class="navigation-links _bottom"> <a class="navigation-links__prev" href="collection-plus-minus">Plus and minus operators</a> <a class="navigation-links__next" href="collection-parts">Retrieve collection parts</a> </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://kotlinlang.org/docs/collection-grouping.html" class="_attribution-link" target="_blank">https://kotlinlang.org/docs/collection-grouping.html</a>
  </p>
</div>
