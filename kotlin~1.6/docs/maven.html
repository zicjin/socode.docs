<h1 data-toc="maven" id="maven.md">Maven</h1>
<section class="chapter"><h2 id="plugin-and-versions" data-toc="maven#plugin-and-versions">Plugin and versions</h2>
<p id="61072386">The <em id="4cbf7d32" class="">kotlin-maven-plugin</em> compiles Kotlin sources and modules. Currently, only Maven v3 is supported.</p>
<p id="6f78b27f">Define the version of Kotlin you want to use via a <em id="7a7a78c6" class="">kotlin.version</em> property:</p>
<pre class="code-block" data-lang="markup" data-language="markup">&lt;properties&gt; &lt;kotlin.version&gt;1.6.10&lt;/kotlin.version&gt; &lt;/properties&gt; </pre></section><section class="chapter"><h2 id="dependencies" data-toc="maven#dependencies">Dependencies</h2>
<p id="c0fe9f1c">Kotlin has an extensive standard library that can be used in your applications. To use the standard library in your project, add the following dependency in the pom file:</p>
<pre class="code-block" data-lang="markup" data-language="markup">&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt; &lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt; &lt;version&gt;${kotlin.version}&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; </pre>
<p id="3b081424">If you're targeting JDK 7 or JDK 8, you can use extended versions of the Kotlin standard library. They contain additional extension functions for APIs added in new JDK versions. Instead of <code class="code ">kotlin-stdlib</code>, use <code class="code ">kotlin-stdlib-jdk7</code> or <code class="code ">kotlin-stdlib-jdk8</code>, depending on your JDK version.</p>
<aside data-type="note" class="prompt" data-title="" id="8774aacd"><p id="37565dfa">For Kotlin versions older that 1.2, use <code class="code ">kotlin-stdlib-jre7</code> and <code class="code ">kotlin-stdlib-jre8</code>.</p></aside><p id="d0b56a2">If your project uses <a href="../api/latest/jvm/stdlib/kotlin.reflect.full/index" id="2015a05e" data-external="true" rel="noopener noreferrer">Kotlin reflection</a> or testing facilities, you need to add the corresponding dependencies as well. The artifact IDs are <code class="code ">kotlin-reflect</code> for the reflection library, and <code class="code ">kotlin-test</code> and <code class="code ">kotlin-test-junit</code> for the testing libraries.</p></section><section class="chapter"><h2 id="compile-kotlin-only-source-code" data-toc="maven#compile-kotlin-only-source-code">Compile Kotlin-only source code</h2>
<p id="7857909">To compile source code, specify the source directories in the <code class="code ">&lt;build&gt;</code> tag:</p>
<pre class="code-block" data-lang="markup" data-language="markup">&lt;build&gt; &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt; &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt; &lt;/build&gt; </pre>
<p id="40c28041">The Kotlin Maven Plugin needs to be referenced to compile the sources:</p>
<pre class="code-block" data-lang="markup" data-language="markup">&lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt; &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt; &lt;version&gt;${kotlin.version}&lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;compile&lt;/id&gt; &lt;goals&gt; &lt;goal&gt;compile&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;execution&gt; &lt;id&gt;test-compile&lt;/id&gt; &lt;goals&gt; &lt;goal&gt;test-compile&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; </pre></section><section class="chapter"><h2 id="compile-kotlin-and-java-sources" data-toc="maven#compile-kotlin-and-java-sources">Compile Kotlin and Java sources</h2>
<p id="826e4949">To compile projects that include Kotlin and Java source code, invoke the Kotlin compiler before the Java compiler. In maven terms that means that <code class="code ">kotlin-maven-plugin</code> should be run before <code class="code ">maven-compiler-plugin</code> using the following method, making sure that the <code class="code ">kotlin</code> plugin comes before the <code class="code ">maven-compiler-plugin</code> in your <code class="code ">pom.xml</code> file:</p>
<pre class="code-block" data-lang="markup" data-language="markup">&lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt; &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt; &lt;version&gt;${kotlin.version}&lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;compile&lt;/id&gt; &lt;goals&gt; &lt;goal&gt;compile&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;sourceDirs&gt; &lt;sourceDir&gt;${project.basedir}/src/main/kotlin&lt;/sourceDir&gt; &lt;sourceDir&gt;${project.basedir}/src/main/java&lt;/sourceDir&gt; &lt;/sourceDirs&gt; &lt;/configuration&gt; &lt;/execution&gt; &lt;execution&gt; &lt;id&gt;test-compile&lt;/id&gt; &lt;goals&gt; &lt;goal&gt;test-compile&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;sourceDirs&gt; &lt;sourceDir&gt;${project.basedir}/src/test/kotlin&lt;/sourceDir&gt; &lt;sourceDir&gt;${project.basedir}/src/test/java&lt;/sourceDir&gt; &lt;/sourceDirs&gt; &lt;/configuration&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;version&gt;3.5.1&lt;/version&gt; &lt;executions&gt; &lt;!-- Replacing default-compile as it is treated specially by maven --&gt; &lt;execution&gt; &lt;id&gt;default-compile&lt;/id&gt; &lt;phase&gt;none&lt;/phase&gt; &lt;/execution&gt; &lt;!-- Replacing default-testCompile as it is treated specially by maven --&gt; &lt;execution&gt; &lt;id&gt;default-testCompile&lt;/id&gt; &lt;phase&gt;none&lt;/phase&gt; &lt;/execution&gt; &lt;execution&gt; &lt;id&gt;java-compile&lt;/id&gt; &lt;phase&gt;compile&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;compile&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;execution&gt; &lt;id&gt;java-test-compile&lt;/id&gt; &lt;phase&gt;test-compile&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;testCompile&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; </pre></section><section class="chapter"><h2 id="incremental-compilation" data-toc="maven#incremental-compilation">Incremental compilation</h2>
<p id="d6d8f26c">To make your builds faster, you can enable incremental compilation for Maven by defining the <code class="code ">kotlin.compiler.incremental</code> property:</p>
<pre class="code-block" data-lang="markup" data-language="markup">&lt;properties&gt; &lt;kotlin.compiler.incremental&gt;true&lt;/kotlin.compiler.incremental&gt; &lt;/properties&gt; </pre>
<p id="482b06c6">Alternatively, run your build with the <code class="code ">-Dkotlin.compiler.incremental=true</code> option.</p></section><section class="chapter"><h2 id="annotation-processing" data-toc="maven#annotation-processing">Annotation processing</h2>
<p id="ab86c147">See the description of <a href="kapt" id="740946b9">Kotlin annotation processing tool</a> (<code class="code ">kapt</code>).</p></section><section class="chapter"><h2 id="jar-file" data-toc="maven#jar-file">Jar file</h2>
<p id="244d577b">To create a small Jar file containing just the code from your module, include the following under <code class="code ">build-&gt;plugins</code> in your Maven pom.xml file, where <code class="code ">main.class</code> is defined as a property and points to the main Kotlin or Java class:</p>
<pre class="code-block" data-lang="markup" data-language="markup">&lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt; &lt;version&gt;2.6&lt;/version&gt; &lt;configuration&gt; &lt;archive&gt; &lt;manifest&gt; &lt;addClasspath&gt;true&lt;/addClasspath&gt; &lt;mainClass&gt;${main.class}&lt;/mainClass&gt; &lt;/manifest&gt; &lt;/archive&gt; &lt;/configuration&gt; &lt;/plugin&gt; </pre></section><section class="chapter"><h2 id="self-contained-jar-file" data-toc="maven#self-contained-jar-file">Self-contained Jar file</h2>
<p id="1ca93a90">To create a self-contained Jar file containing the code from your module along with dependencies, include the following under <code class="code ">build-&gt;plugins</code> in your Maven pom.xml file, where <code class="code ">main.class</code> is defined as a property and points to the main Kotlin or Java class:</p>
<pre class="code-block" data-lang="markup" data-language="markup">&lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt; &lt;version&gt;2.6&lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;make-assembly&lt;/id&gt; &lt;phase&gt;package&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;single&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;archive&gt; &lt;manifest&gt; &lt;mainClass&gt;${main.class}&lt;/mainClass&gt; &lt;/manifest&gt; &lt;/archive&gt; &lt;descriptorRefs&gt; &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt; &lt;/descriptorRefs&gt; &lt;/configuration&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt; </pre>
<p id="2782ec79">This self-contained jar file can be passed directly to a JRE to run your application:</p>
<pre class="code-block" data-lang="bash" data-language="bash">java -jar target/mymodule-0.0.1-SNAPSHOT-jar-with-dependencies.jar </pre></section><section class="chapter"><h2 id="specifying-compiler-options" data-toc="maven#specifying-compiler-options">Specifying compiler options</h2>
<p id="73c6ec95">Additional options and arguments for the compiler can be specified as tags under the <code class="code ">&lt;configuration&gt;</code> element of the Maven plugin node:</p>
<pre class="code-block" data-lang="markup" data-language="markup">&lt;plugin&gt; &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt; &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt; &lt;version&gt;${kotlin.version}&lt;/version&gt; &lt;executions&gt;...&lt;/executions&gt; &lt;configuration&gt; &lt;nowarn&gt;true&lt;/nowarn&gt; &lt;!-- Disable warnings --&gt; &lt;args&gt; &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt; &lt;!-- Enable strict mode for JSR-305 annotations --&gt; ... &lt;/args&gt; &lt;/configuration&gt; &lt;/plugin&gt; </pre>
<p id="cbadda29">Many of the options can also be configured through properties:</p>
<pre class="code-block" data-lang="markup" data-language="markup">&lt;project ...&gt; &lt;properties&gt; &lt;kotlin.compiler.languageVersion&gt;1.0&lt;/kotlin.compiler.languageVersion&gt; &lt;/properties&gt; &lt;/project&gt; </pre>
<p id="e13fe69f">The following attributes are supported:</p>
<section class="chapter"><h3 id="attributes-common-to-jvm-and-js" data-toc="maven#attributes-common-to-jvm-and-js">Attributes common to JVM and JS</h3>
<div class="table-wrapper"><table class=" wide" id="73f94a9">
<thead><tr class="ijRowHead" id="db95a86a">
<th id="72389654"><p>Name</p></th>
<th id="903f3416"><p>Property name</p></th>
<th id="c824c3da"><p>Description</p></th>
<th id="79687c01"><p>Possible values</p></th>
<th id="e8f4bf46"><p>Default value</p></th>
</tr></thead>
<tbody>
<tr class="" id="68023b1d">
<td id="2d07e147"><p><code class="code ">nowarn</code></p></td>
<td id="fd9645a7"></td>
<td id="86586399"><p>Generate no warnings</p></td>
<td id="6328b3da"><p>true, false</p></td>
<td id="86c988ea"><p>false</p></td>
</tr>
<tr class="" id="84b87483">
<td id="daee23b6"><p><code class="code ">languageVersion</code></p></td>
<td id="82afff0e"><p>kotlin.compiler.languageVersion</p></td>
<td id="3195430b"><p>Provide source compatibility with the specified version of Kotlin</p></td>
<td id="92df34d9"><p>"1.4" (DEPRECATED), "1.5", "1.6", "1.7" (EXPERIMENTAL)</p></td>
</tr>
<tr class="" id="c530b237">
<td id="f4922a51"><p><code class="code ">apiVersion</code></p></td>
<td id="128cc419"><p>kotlin.compiler.apiVersion</p></td>
<td id="1807f998"><p>Allow using declarations only from the specified version of bundled libraries</p></td>
<td id="51a9df09"><p>"1.3" (DEPRECATED), "1.4" (DEPRECATED), "1.5", "1.6", "1.7" (EXPERIMENTAL)</p></td>
</tr>
<tr class="" id="e7fdab4c">
<td id="48c1b5ec"><p><code class="code ">sourceDirs</code></p></td>
<td id="83ef09be"></td>
<td id="e0381529"><p>The directories containing the source files to compile</p></td>
<td id="f82af125"></td>
<td id="e6f8882e"><p>The project source roots</p></td>
</tr>
<tr class="" id="6adbf545">
<td id="e043bbd"><p><code class="code ">compilerPlugins</code></p></td>
<td id="c41f25b5"></td>
<td id="95e75e0d"><p>Enabled compiler plugins</p></td>
<td id="f8a2b654"></td>
<td id="9ebebf30"><p>[]</p></td>
</tr>
<tr class="" id="32f0eea2">
<td id="523be6b8"><p><code class="code ">pluginOptions</code></p></td>
<td id="9fa7036b"></td>
<td id="ebaa5c85"><p>Options for compiler plugins</p></td>
<td id="7d99c1ed"></td>
<td id="e8041858"><p>[]</p></td>
</tr>
<tr class="" id="ce3c7c83">
<td id="e2ff41a0"><p><code class="code ">args</code></p></td>
<td id="7f4805"></td>
<td id="9099b708"><p>Additional compiler arguments</p></td>
<td id="128ef613"></td>
<td id="63cd5a62"><p>[]</p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="attributes-specific-to-jvm" data-toc="maven#attributes-specific-to-jvm">Attributes specific to JVM</h3>
<div class="table-wrapper"><table class=" wide" id="5a7fbf7f">
<thead><tr class="ijRowHead" id="75a07bd9">
<th id="638bb338"><p>Name</p></th>
<th id="1777efd"><p>Property name</p></th>
<th id="8ad22193"><p>Description</p></th>
<th id="a52dfdda"><p>Possible values</p></th>
<th id="8ff1c150"><p>Default value</p></th>
</tr></thead>
<tbody>
<tr class="" id="d4114d43">
<td id="57900259"><p><code class="code ">jvmTarget</code></p></td>
<td id="a5515b5e"><p><code class="code ">kotlin.compiler.jvmTarget</code></p></td>
<td id="55547bc"><p>Target version of the generated JVM bytecode</p></td>
<td id="7b2beffd"><p>"1.6" (DEPRECATED), "1.8", "9", "10", "11", "12", "13", "14", "15", "16", "17"</p></td>
<td id="c6f86d53"><p>"1.8"</p></td>
</tr>
<tr class="" id="18e487bc">
<td id="394c8e39"><p><code class="code ">jdkHome</code></p></td>
<td id="fa77906a"><p><code class="code ">kotlin.compiler.jdkHome</code></p></td>
<td id="31695e6"><p>Include a custom JDK from the specified location into the classpath instead of the default JAVA_HOME</p></td>
<td id="b590523e"></td>
<td id="f34fe9d5"></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="attributes-specific-to-js" data-toc="maven#attributes-specific-to-js">Attributes specific to JS</h3>
<div class="table-wrapper"><table class=" wide" id="19fd4ce">
<thead><tr class="ijRowHead" id="ff4cfbb5">
<th id="cac1e09e"><p>Name</p></th>
<th id="9f4dcf99"><p>Property name</p></th>
<th id="16b4033d"><p>Description</p></th>
<th id="98a0c2f9"><p>Possible values</p></th>
<th id="1c69f8a2"><p>Default value</p></th>
</tr></thead>
<tbody>
<tr class="" id="6eee57b5">
<td id="8a1c43ca"><p><code class="code ">outputFile</code></p></td>
<td id="4e66abf3"></td>
<td id="2a6c358a"><p>Destination *.js file for the compilation result</p></td>
<td id="83b9f380"></td>
<td id="ce01cde4"></td>
</tr>
<tr class="" id="f510f8dd">
<td id="66f28976"><p><code class="code ">metaInfo</code></p></td>
<td id="6c5b6135"></td>
<td id="898b2946"><p>Generate .meta.js and .kjsm files with metadata. Use to create a library</p></td>
<td id="163a86c1"><p>true, false</p></td>
<td id="e5dcbbe1"><p>true</p></td>
</tr>
<tr class="" id="7d827a17">
<td id="7621acdc"><p><code class="code ">sourceMap</code></p></td>
<td id="f95ab178"></td>
<td id="45403b3b"><p>Generate source map</p></td>
<td id="86a2e28d"><p>true, false</p></td>
<td id="141fc827"><p>false</p></td>
</tr>
<tr class="" id="c61f7ff6">
<td id="7e20dc08"><p><code class="code ">sourceMapEmbedSources</code></p></td>
<td id="8aceedd3"></td>
<td id="e0be1ef5"><p>Embed source files into source map</p></td>
<td id="1fc053e2"><p>"never", "always", "inlining"</p></td>
<td id="40fcafb0"><p>"inlining"</p></td>
</tr>
<tr class="" id="dfdc6788">
<td id="d403e469"><p><code class="code ">sourceMapPrefix</code></p></td>
<td id="1d13abd0"></td>
<td id="da91a228"><p>Add the specified prefix to paths in the source map</p></td>
<td id="a1b888f3"></td>
<td id="2bbbbf96"></td>
</tr>
<tr class="" id="c5db010d">
<td id="d7d0f413"><p><code class="code ">moduleKind</code></p></td>
<td id="223e6309"></td>
<td id="1b13761e"><p>The kind of JS module generated by the compiler</p></td>
<td id="73bd0ecd"><p>"umd", "commonjs", "amd", "plain"</p></td>
<td id="c9ff45eb"><p>"umd"</p></td>
</tr>
</tbody>
</table></div></section></section><section class="chapter"><h2 id="generating-documentation" data-toc="maven#generating-documentation">Generating documentation</h2>
<p id="1f82bf76">The standard JavaDoc generation plugin (<code class="code ">maven-javadoc-plugin</code>) does not support Kotlin code. To generate documentation for Kotlin projects, use <a href="https://github.com/Kotlin/dokka" id="d35af9f3" data-external="true" rel="noopener noreferrer">Dokka</a>; please refer to the <a href="https://github.com/Kotlin/dokka/blob/master/README.md#using-the-maven-plugin" id="b53366de" data-external="true" rel="noopener noreferrer">Dokka README</a> for configuration instructions. Dokka supports mixed-language projects and can generate output in multiple formats, including standard JavaDoc.</p></section><section class="chapter"><h2 id="osgi" data-toc="maven#osgi">OSGi</h2>
<p id="c1413315">For OSGi support see the <a href="kotlin-osgi" id="68614d72">Kotlin OSGi page</a>.</p></section><div class="last-modified"> Last modified: 16 November 2021</div>

<div class="navigation-links _bottom"> <a class="navigation-links__prev" href="gradle">Gradle</a> <a class="navigation-links__next" href="ant">Ant</a> </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://kotlinlang.org/docs/maven.html" class="_attribution-link" target="_blank">https://kotlinlang.org/docs/maven.html</a>
  </p>
</div>
