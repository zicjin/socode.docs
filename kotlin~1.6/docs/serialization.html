<h1 data-toc="serialization" id="serialization.md">Serialization</h1>
<p id="65f8ef24"><em id="2906c7a0" class="">Serialization</em> is the process of converting data used by an application to a format that can be transferred over a network or stored in a database or a file. In turn, <em id="ddc407d3" class="">deserialization</em> is the opposite process of reading data from an external source and converting it into a runtime object. Together they are an essential part of most applications that exchange data with third parties.</p>
<p id="640955bd">Some data serialization formats, such as <a href="https://www.json.org/json-en.html" id="e285f01a" data-external="true" rel="noopener noreferrer">JSON</a> and <a href="https://developers.google.com/protocol-buffers" id="41f511ef" data-external="true" rel="noopener noreferrer">protocol buffers</a> are particularly common. Being language-neutral and platform-neutral, they enable data exchange between systems written in any modern language.</p>
<p id="fb069412">In Kotlin, data serialization tools are available in a separate component, <a href="https://github.com/Kotlin/kotlinx.serialization" id="dca9a1f" data-external="true" rel="noopener noreferrer">kotlinx.serialization</a>. It consists of two main parts: the Gradle plugin – <code class="code ">org.jetbrains.kotlin.plugin.serialization</code> and the runtime libraries.</p>
<section class="chapter"><h2 id="libraries" data-toc="serialization#libraries">Libraries</h2>
<p id="bd02c186"><code class="code ">kotlinx.serialization</code> provides sets of libraries for all supported platforms – JVM, JavaScript, Native – and for various serialization formats – JSON, CBOR, protocol buffers, and others. You can find the complete list of supported serialization formats <a href="#formats" id="cd4f6381">below</a>.</p>
<p id="a2abff9a">All Kotlin serialization libraries belong to the <code class="code ">org.jetbrains.kotlinx:</code> group. Their names start with <code class="code ">kotlinx-serialization-</code> and have suffixes that reflect the serialization format. Examples:</p>
<ul class="list _ul" id="491ad423">
<li class="list__item" id="bbd4d901"><p><code class="code ">org.jetbrains.kotlinx:kotlinx-serialization-json</code> provides JSON serialization for Kotlin projects.</p></li>
<li class="list__item" id="ed4daf8a"><p><code class="code ">org.jetbrains.kotlinx:kotlinx-serialization-cbor</code> provides CBOR serialization.</p></li>
</ul>
<p id="ed2936e3">Platform-specific artifacts are handled automatically; you don't need to add them manually. Use the same dependencies in JVM, JS, Native, and multiplatform projects.</p>
<p id="e55ada37">Note that the <code class="code ">kotlinx.serialization</code> libraries use their own versioning structure, which doesn't match Kotlin's versioning. Check out the releases on <a href="https://github.com/Kotlin/kotlinx.serialization/releases" id="84d1e22a" data-external="true" rel="noopener noreferrer">GitHub</a> to find the latest versions.</p></section><section class="chapter"><h2 id="formats" data-toc="serialization#formats">Formats</h2>
<p id="6623f0cd"><code class="code ">kotlinx.serialization</code> includes libraries for various serialization formats:</p>
<ul class="list _ul" id="23c63977">
<li class="list__item" id="55b0f66c"><p><a href="https://www.json.org/" id="1c3ee769" data-external="true" rel="noopener noreferrer">JSON</a>: <a href="https://github.com/Kotlin/kotlinx.serialization/blob/master/formats/README.md#json" id="a04acf66" data-external="true" rel="noopener noreferrer"><code class="code ">kotlinx-serialization-json</code></a></p></li>
<li class="list__item" id="ec0fcc32"><p><a href="https://developers.google.com/protocol-buffers" id="fca746a9" data-external="true" rel="noopener noreferrer">Protocol buffers</a>: <a href="https://github.com/Kotlin/kotlinx.serialization/blob/master/formats/README.md#protobuf" id="6a61b4e2" data-external="true" rel="noopener noreferrer"><code class="code ">kotlinx-serialization-protobuf</code></a></p></li>
<li class="list__item" id="6f9f6e39"><p><a href="https://cbor.io/" id="99af7d81" data-external="true" rel="noopener noreferrer">CBOR</a>: <a href="https://github.com/Kotlin/kotlinx.serialization/blob/master/formats/README.md#cbor" id="a3c31fe9" data-external="true" rel="noopener noreferrer"><code class="code ">kotlinx-serialization-cbor</code></a></p></li>
<li class="list__item" id="96a3210"><p><a href="https://en.wikipedia.org/wiki/.properties" id="2fea3f73" data-external="true" rel="noopener noreferrer">Properties</a>: <a href="https://github.com/Kotlin/kotlinx.serialization/blob/master/formats/README.md#properties" id="568f480c" data-external="true" rel="noopener noreferrer"><code class="code ">kotlinx-serialization-properties</code></a></p></li>
<li class="list__item" id="e40a21d4"><p><a href="https://github.com/lightbend/config/blob/master/HOCON.md" id="342e3acd" data-external="true" rel="noopener noreferrer">HOCON</a>: <a href="https://github.com/Kotlin/kotlinx.serialization/blob/master/formats/README.md#hocon" id="6b1ce27d" data-external="true" rel="noopener noreferrer"><code class="code ">kotlinx-serialization-hocon</code></a> (only on JVM)</p></li>
</ul>
<p id="85b3a344">Note that all libraries except JSON serialization (<code class="code ">kotlinx-serialization-core</code>) are <a href="components-stability" id="f069d30b">Experimental</a>, which means their API can be changed without notice.</p>
<p id="7075add5">There are also community-maintained libraries that support more serialization formats, such as <a href="https://yaml.org/" id="33c5569d" data-external="true" rel="noopener noreferrer">YAML</a> or <a href="https://avro.apache.org/" id="c684a265" data-external="true" rel="noopener noreferrer">Apache Avro</a>. For detailed information about available serialization formats, see the <a href="https://github.com/Kotlin/kotlinx.serialization/blob/master/formats/README.md" id="d4a1583b" data-external="true" rel="noopener noreferrer"><code class="code ">kotlinx.serialization</code> documentation</a>.</p></section><section class="chapter"><h2 id="example-json-serialization" data-toc="serialization#example-json-serialization">Example: JSON serialization</h2>
<p id="694b1759">Let’s take a look at how to serialize Kotlin objects into JSON.</p>
<p id="88f22a07">Before starting, you’ll need to configure your build script so that you can use Kotlin serialization tools in your project:</p>
<ol class="list _decimal" id="c2c5299f">
<li class="list__item" id="526727d2">
<p id="c809c6dd">Apply the Kotlin serialization Gradle plugin <code class="code ">org.jetbrains.kotlin.plugin.serialization</code> (or <code class="code ">kotlin(“plugin.serialization”)</code> in the Kotlin Gradle DSL).</p>
<div class="tabs" id="17c4a89e" data-group="build-script">
<div class="tabs__content" data-gtm="tab" id="d3f1e4b8" data-sync-tabs="kotlin" data-title="Kotlin"><pre class="code-block" data-lang="kotlin" data-title="Kotlin" data-language="kotlin">plugins { kotlin("jvm") version "1.6.10" kotlin("plugin.serialization") version "1.6.10" } </pre></div>
<div class="tabs__content" data-gtm="tab" id="f242b2d2" data-sync-tabs="groovy" data-title="Groovy"><pre class="code-block" data-lang="groovy" data-title="Groovy" data-language="groovy">plugins { id 'org.jetbrains.kotlin.jvm' version '1.6.10' id 'org.jetbrains.kotlin.plugin.serialization' version '1.6.10' } </pre></div>
</div>
</li>
<li class="list__item" id="38ae277b">
<p id="c9811359">Add the JSON serialization library dependency: <code class="code ">org.jetbrains.kotlinx:kotlinx-serialization-json:1.3.2</code></p>
<div class="tabs" id="706921ad" data-group="build-script">
<div class="tabs__content" data-gtm="tab" id="48d667b5" data-sync-tabs="kotlin" data-title="Kotlin"><pre class="code-block" data-lang="kotlin" data-title="Kotlin" data-language="kotlin">dependencies { implementation("org.jetbrains.kotlinx:kotlinx-serialization-json:1.3.2") } </pre></div>
<div class="tabs__content" data-gtm="tab" id="45d257cb" data-sync-tabs="groovy" data-title="Groovy"><pre class="code-block" data-lang="groovy" data-title="Groovy" data-language="groovy">dependencies { implementation 'org.jetbrains.kotlinx:kotlinx-serialization-json:1.3.2' } </pre></div>
</div>
</li>
</ol>
<p id="f55c503d">Now you're ready to use the serialization API in your code. The API is located in the the <code class="code ">kotlinx.serialization</code> package and its format-specific subpackages such as <code class="code ">kotlinx.serialization.json</code>.</p>
<p id="300f29f2">First, make a class serializable by annotating it with <code class="code ">@Serializable</code>.</p>
<pre class="code-block" data-lang="kotlin" data-language="kotlin">import kotlinx.serialization.Serializable @Serializable data class Data(val a: Int, val b: String) </pre>
<p id="b3943449">You can now serialize an instance of this class by calling <code class="code ">Json.encodeToString()</code>.</p>
<pre class="code-block" data-lang="kotlin" data-language="kotlin">import kotlinx.serialization.Serializable import kotlinx.serialization.json.Json import kotlinx.serialization.encodeToString @Serializable data class Data(val a: Int, val b: String) fun main() { val json = Json.encodeToString(Data(42, "str")) } </pre>
<p id="68688b41">As a result, you get a string containing the state of this object in the JSON format: <code class="code ">{"a": 42, "b": "str"}</code></p>
<p id="3e0b27dd">You can also serialize object collections, such as lists, in a single call.</p>
<pre class="code-block" data-lang="kotlin" data-language="kotlin">val dataList = listOf(Data(42, "str"), Data(12, "test")) val jsonList = Json.encodeToString(dataList) </pre>
<p id="f6f27ce3">To deserialize an object from JSON, use the <code class="code ">decodeFromString()</code> function:</p>
<pre class="code-block" data-lang="kotlin" data-language="kotlin">import kotlinx.serialization.Serializable import kotlinx.serialization.json.Json import kotlinx.serialization.decodeFromString @Serializable data class Data(val a: Int, val b: String) fun main() { val obj = Json.decodeFromString&lt;Data&gt;("""{"a":42, "b": "str"}""") } </pre>
<p id="e5512637">For more information about serialization in Kotlin, see the <a href="https://github.com/Kotlin/kotlinx.serialization/blob/master/docs/serialization-guide.md" id="e0760979" data-external="true" rel="noopener noreferrer">Kotlin Serialization Guide</a>.</p></section><div class="last-modified"> Last modified: 17 September 2021</div>

<div class="navigation-links _bottom"> <a class="navigation-links__prev" href="debug-flow-with-idea">Debug Kotlin Flow using IntelliJ IDEA – tutorial</a> <a class="navigation-links__next" href="keyword-reference">Keywords and operators</a> </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://kotlinlang.org/docs/serialization.html" class="_attribution-link" target="_blank">https://kotlinlang.org/docs/serialization.html</a>
  </p>
</div>
