<h1 data-toc="jvm-records" id="jvm-records.md">Using Java records in Kotlin</h1>
<p id="7b8272c1"><em id="5ec41572" class="">Records</em> are <a href="https://openjdk.java.net/jeps/395" id="885dd170" data-external="true" rel="noopener noreferrer">classes</a> in Java for storing immutable data. Records carry a fixed set of values – the <em id="5862c750" class="">records components</em>. They have a concise syntax in Java and save you from having to write boilerplate code:</p>
<pre class="code-block" data-lang="java" data-language="java">// Java public record Person (String name, int age) {} </pre>
<p id="8df3e272">The compiler automatically generates a final class inherited from <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Record.html" id="65e1c97d" data-external="true" rel="noopener noreferrer"><code class="code ">java.lang.Record</code></a> with the following members:</p>
<ul class="list _ul" id="1bf901c3">
<li class="list__item" id="62650655"><p>a private final field for each record component</p></li>
<li class="list__item" id="30968e28"><p>a public constructor with parameters for all fields</p></li>
<li class="list__item" id="49322194"><p>a set of methods to implement structural equality: <code class="code ">equals()</code>, <code class="code ">hashCode()</code>, <code class="code ">toString()</code></p></li>
<li class="list__item" id="259ab0e2"><p>a public method for reading each record component</p></li>
</ul>
<p id="2848771d">Records are very similar to Kotlin <a href="data-classes" id="ed5a7e35">data classes</a>.</p>
<section class="chapter"><h2 id="using-java-records-from-kotlin-code" data-toc="jvm-records#using-java-records-from-kotlin-code">Using Java records from Kotlin code</h2>
<p id="dfdb7a68">You can use record classes with components that are declared in Java the same way you would use classes with properties in Kotlin. To access the record component, just use its name like you do for <a href="properties" id="d3664460">Kotlin properties</a>:</p>
<pre class="code-block" data-lang="kotlin" data-language="kotlin">val newPerson = Person("Kotlin", 10) val firstName = newPerson.name </pre></section><section class="chapter"><h2 id="declare-records-in-kotlin" data-toc="jvm-records#declare-records-in-kotlin">Declare records in Kotlin</h2>
<p id="eac1af6d">Kotlin supports record declaration only for data classes, and the data class must meet the <a href="#requirements" id="70368b2e">requirements</a>.</p>
<p id="532dea93">To declare a record class in Kotlin, use the <code class="code ">@JvmRecord</code> annotation:</p>
<aside data-type="note" class="prompt" data-title="" id="1d0dcde1"><p id="65ade13d">Applying <code class="code ">@JvmRecord</code> to an existing class is not a binary compatible change. It alters the naming convention of the class property accessors.</p></aside><pre class="code-block" data-lang="kotlin" data-language="kotlin">@JvmRecord data class Person(val name: String, val age: Int) </pre>
<p id="74fabcfc">This JVM-specific annotation enables generating:</p>
<ul class="list _ul" id="4d139e32">
<li class="list__item" id="a2378ff9"><p>the record components corresponding to the class properties in the class file</p></li>
<li class="list__item" id="9f2fc6c2"><p>the property accessor methods named according to the Java record naming convention</p></li>
</ul>
<p id="90a7661f">The data class provides <code class="code ">equals()</code>, <code class="code ">hashCode()</code>, and <code class="code ">toString()</code> method implementations.</p>
<section class="chapter"><h3 id="requirements" data-toc="jvm-records#requirements">Requirements</h3>
<p id="d306a1bb">To declare a data class with the <code class="code ">@JvmRecord</code> annotation, it must meet the following requirements:</p>
<ul class="list _ul" id="97b74aac">
<li class="list__item" id="95525d54"><p>The class must be in a module that targets JVM 16 bytecode (or 15 if the <code class="code ">-Xjvm-enable-preview</code> compiler option is enabled).</p></li>
<li class="list__item" id="8d99fd7e"><p>The class cannot explicitly inherit any other class (including <code class="code ">Any</code>) because all JVM records implicitly inherit <code class="code ">java.lang.Record</code>. However, the class can implement interfaces.</p></li>
<li class="list__item" id="e28c1"><p>The class cannot declare any properties with backing fields – except those initialized from the corresponding primary constructor parameters.</p></li>
<li class="list__item" id="efab05eb"><p>The class cannot declare any mutable properties with backing fields.</p></li>
<li class="list__item" id="f41c8a02"><p>The class cannot be local.</p></li>
<li class="list__item" id="2b2e6d6c"><p>The primary constructor of the class must be as visible as the class itself.</p></li>
</ul></section><section class="chapter"><h3 id="enabling-jvm-records" data-toc="jvm-records#enabling-jvm-records">Enabling JVM records</h3>
<p id="5f11d3fd">JVM records require the <code class="code ">16</code> target version or higher of the generated JVM bytecode.</p>
<p id="bbdb8135">To specify it explicitly, use the <code class="code ">jvmTarget</code> compiler option in <a href="gradle#attributes-specific-to-jvm" id="8bee04bb">Gradle</a> or <a href="maven#attributes-specific-to-jvm" id="fc281bea">Maven</a>.</p></section></section><section class="chapter"><h2 id="further-discussion" data-toc="jvm-records#further-discussion">Further discussion</h2>
<p id="6607d0fa">See this <a href="https://github.com/Kotlin/KEEP/blob/master/proposals/jvm-records.md" id="216300d7" data-external="true" rel="noopener noreferrer">language proposal for JVM records</a> for further technical details and discussion.</p></section><div class="last-modified"> Last modified: 15 December 2021</div>

<div class="navigation-links _bottom"> <a class="navigation-links__prev" href="mixing-java-kotlin-intellij">Mixing Java and Kotlin in one project – tutorial</a> <a class="navigation-links__next" href="java-to-kotlin-idioms-strings">Strings in Java and Kotlin</a> </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://kotlinlang.org/docs/jvm-records.html" class="_attribution-link" target="_blank">https://kotlinlang.org/docs/jvm-records.html</a>
  </p>
</div>
