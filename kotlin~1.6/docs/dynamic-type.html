<h1 data-toc="dynamic-type" id="dynamic-type.md">Dynamic type</h1>
<aside data-type="note" class="prompt" data-title="" id="a14266ec"><p id="1f5d39be">The dynamic type is not supported in code targeting the JVM.</p></aside><p id="bfabf3f0">Being a statically typed language, Kotlin still has to interoperate with untyped or loosely typed environments, such as the JavaScript ecosystem. To facilitate these use cases, the <code class="code ">dynamic</code> type is available in the language:</p>
<pre class="code-block" data-lang="kotlin" data-language="kotlin">val dyn: dynamic = ... </pre>
<p id="37cea0fd">The <code class="code ">dynamic</code> type basically turns off Kotlin's type checker:</p>
<ul class="list _ul" id="5cc20b8c">
<li class="list__item" id="c6c99cbd"><p>A value of the <code class="code ">dynamic</code> type can be assigned to any variable or passed anywhere as a parameter.</p></li>
<li class="list__item" id="a7310e3b"><p>Any value can be assigned to a variable of the <code class="code ">dynamic</code> type or passed to a function that takes <code class="code ">dynamic</code> as a parameter.</p></li>
<li class="list__item" id="b77578f5"><p><code class="code ">null</code>-checks are disabled for the <code class="code ">dynamic</code> type values.</p></li>
</ul>
<p id="d947e7b">The most peculiar feature of <code class="code ">dynamic</code> is that we are allowed to call <b id="32c6c1e9" class="">any</b> property or function with any parameters on a <code class="code ">dynamic</code> variable:</p>
<pre class="code-block" data-lang="kotlin" data-language="kotlin">dyn.whatever(1, "foo", dyn) // 'whatever' is not defined anywhere dyn.whatever(*arrayOf(1, 2, 3)) </pre>
<p id="b29ef9fe">On the JavaScript platform this code will be compiled "as is": <code class="code ">dyn.whatever(1)</code> in Kotlin becomes <code class="code ">dyn.whatever(1)</code> in the generated JavaScript code.</p>
<p id="b07b1fea">When calling functions written in Kotlin on values of <code class="code ">dynamic</code> type, keep in mind the name mangling performed by the Kotlin to JavaScript compiler. You may need to use the <a href="js-to-kotlin-interop#jsname-annotation" id="e1238b90">@JsName annotation</a> to assign well-defined names to the functions that you need to call.</p>
<p id="2f180ef4">A dynamic call always returns <code class="code ">dynamic</code> as a result, so you can chain such calls freely:</p>
<pre class="code-block" data-lang="kotlin" data-language="kotlin">dyn.foo().bar.baz() </pre>
<p id="b9119789">When you pass a lambda to a dynamic call, all of its parameters by default have the type <code class="code ">dynamic</code>:</p>
<pre class="code-block" data-lang="kotlin" data-language="kotlin">dyn.foo { x -&gt; x.bar() // x is dynamic } </pre>
<p id="28343034">Expressions using values of <code class="code ">dynamic</code> type are translated to JavaScript "as is", and do not use the Kotlin operator conventions. The following operators are supported:</p>
<ul class="list _ul" id="c3823710">
<li class="list__item" id="7ba3761d"><p>binary: <code class="code ">+</code>, <code class="code ">-</code>, <code class="code ">*</code>, <code class="code ">/</code>, <code class="code ">%</code>, <code class="code ">&gt;</code>, <code class="code ">&lt;</code><code class="code ">&gt;=</code>, <code class="code ">&lt;=</code>, <code class="code ">==</code>, <code class="code ">!=</code>, <code class="code ">===</code>, <code class="code ">!==</code>, <code class="code ">&amp;&amp;</code>, <code class="code ">||</code></p></li>
<li class="list__item" id="a646b5b4">
<p>unary </p>
<ul class="list _ul" id="2b2b1613">
<li class="list__item" id="254e4df2"><p>prefix: <code class="code ">-</code>, <code class="code ">+</code>, <code class="code ">!</code></p></li>
<li class="list__item" id="89de5cd5"><p>prefix and postfix: <code class="code ">++</code>, <code class="code ">--</code></p></li>
</ul>
</li>
<li class="list__item" id="66782b8b"><p>assignments: <code class="code ">+=</code>, <code class="code ">-=</code>, <code class="code ">*=</code>, <code class="code ">/=</code>, <code class="code ">%=</code></p></li>
<li class="list__item" id="e3fe893e">
<p>indexed access: </p>
<ul class="list _ul" id="c84d760f">
<li class="list__item" id="ce80e907"><p>read: <code class="code ">d[a]</code>, more than one argument is an error</p></li>
<li class="list__item" id="c606a393"><p>write: <code class="code ">d[a1] = a2</code>, more than one argument in <code class="code ">[]</code> is an error</p></li>
</ul>
</li>
</ul>
<p id="3ba5d366"><code class="code ">in</code>, <code class="code ">!in</code> and <code class="code ">..</code> operations with values of type <code class="code ">dynamic</code> are forbidden.</p>
<p id="ea5f0ed9">For a more technical description, see the <a href="https://github.com/JetBrains/kotlin/blob/master/spec-docs/dynamic-types.md" id="e20414d1" data-external="true" rel="noopener noreferrer">spec document</a>.</p>
<div class="last-modified"> Last modified: 23 June 2021</div>

<div class="navigation-links _bottom"> <a class="navigation-links__prev" href="js-interop">Use JavaScript code from Kotlin</a> <a class="navigation-links__next" href="using-packages-from-npm">Use dependencies from npm</a> </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://kotlinlang.org/docs/dynamic-type.html" class="_attribution-link" target="_blank">https://kotlinlang.org/docs/dynamic-type.html</a>
  </p>
</div>
