<h1 data-toc="ksp-reference" id="ksp-reference.md">Java annotation processing to KSP reference</h1>
<section class="chapter"><h2 id="program-elements" data-toc="ksp-reference#program-elements">Program elements</h2>
<div class="table-wrapper"><table class=" wide" id="7a33c935">
<thead><tr class="ijRowHead" id="5405db93">
<th id="1012df75"><p><b id="d970518a" class="">Java</b></p></th>
<th id="17c42ba2"><p><b id="f5fdb6b8" class="">Closest facility in KSP</b></p></th>
<th id="9b46b9d2"><p><b id="b3ca2111" class="">Notes</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="8693cb95">
<td id="f89291bc"><p><code class="code ">AnnotationMirror</code></p></td>
<td id="a231f1a3"><p><code class="code ">KSAnnotation</code></p></td>
<td id="e73e63d9"></td>
</tr>
<tr class="" id="f8ea852f">
<td id="ea3f4b6"><p><code class="code ">AnnotationValue</code></p></td>
<td id="94298ad2"><p><code class="code ">KSValueArguments</code></p></td>
<td id="7fda74f"></td>
</tr>
<tr class="" id="97afce26">
<td id="1f0050f"><p><code class="code ">Element</code></p></td>
<td id="f5a812c7"><p><code class="code ">KSDeclaration</code>/<code class="code ">KSDeclarationContainer</code></p></td>
<td id="9a73dfa4"></td>
</tr>
<tr class="" id="f19ed5d2">
<td id="2481b850"><p><code class="code ">ExecutableElement</code></p></td>
<td id="7a7be6fa"><p><code class="code ">KSFunctionDeclaration</code></p></td>
<td id="1e7edcfe"></td>
</tr>
<tr class="" id="ebbab588">
<td id="2f304931"><p><code class="code ">PackageElement</code></p></td>
<td id="be568286"><p><code class="code ">KSFile</code></p></td>
<td id="9769467c"><p>KSP doesn't model packages as program elements</p></td>
</tr>
<tr class="" id="493193d1">
<td id="878c7f3f"><p><code class="code ">Parameterizable</code></p></td>
<td id="c0349e6f"><p><code class="code ">KSDeclaration</code></p></td>
<td id="2e07b4e0"></td>
</tr>
<tr class="" id="4ae22d66">
<td id="7be99cd3"><p><code class="code ">QualifiedNameable</code></p></td>
<td id="354b9b7a"><p><code class="code ">KSDeclaration</code></p></td>
<td id="9bb09fbd"></td>
</tr>
<tr class="" id="411732da">
<td id="2bcb07a7"><p><code class="code ">TypeElement</code></p></td>
<td id="63b46add"><p><code class="code ">KSClassDeclaration</code></p></td>
<td id="8fe4a003"></td>
</tr>
<tr class="" id="99fdbc7a">
<td id="eec4dc13"><p><code class="code ">TypeParameterElement</code></p></td>
<td id="d02cb5db"><p><code class="code ">KSTypeParameter</code></p></td>
<td id="297d547"></td>
</tr>
<tr class="" id="59908a14">
<td id="a2af7524"><p><code class="code ">VariableElement</code></p></td>
<td id="fb4e6f79"><p><code class="code ">KSValueParameter</code>/<code class="code ">KSPropertyDeclaration</code></p></td>
<td id="cf465793"></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h2 id="types" data-toc="ksp-reference#types">Types</h2>
<p id="c290e773">KSP requires explicit type resolution, so some functionalities in Java can only be carried out by <code class="code ">KSType</code> and the corresponding elements before resolution.</p>
<div class="table-wrapper"><table class=" wide" id="6a0c8412">
<thead><tr class="ijRowHead" id="2b6f3fc3">
<th id="2b254799"><p><b id="c68f75f9" class="">Java</b></p></th>
<th id="9afc118e"><p><b id="31fa07b1" class="">Closest facility in KSP</b></p></th>
<th id="a4eb3d07"><p><b id="aae9d115" class="">Notes</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="2d377c22">
<td id="db85a9b5"><p><code class="code ">ArrayType</code></p></td>
<td id="96921c2b"><p><code class="code ">KSBuiltIns.arrayType</code></p></td>
<td id="741dddfa"></td>
</tr>
<tr class="" id="e5876001">
<td id="efe9ff6c"><p><code class="code ">DeclaredType</code></p></td>
<td id="815ff73d"><p><code class="code ">KSType</code>/<code class="code ">KSClassifierReference</code></p></td>
<td id="d125f11b"></td>
</tr>
<tr class="" id="9f2c8fd5">
<td id="6725c769"><p><code class="code ">ErrorType</code></p></td>
<td id="e1700a72"><p><code class="code ">KSType.isError</code></p></td>
<td id="f87bcd9a"></td>
</tr>
<tr class="" id="a8a62daf">
<td id="5d9f8a34"><p><code class="code ">ExecutableType</code></p></td>
<td id="adbd8143"><p><code class="code ">KSType</code>/<code class="code ">KSCallableReference</code></p></td>
<td id="5610772f"></td>
</tr>
<tr class="" id="ced6dd4d">
<td id="a6ea96dc"><p><code class="code ">IntersectionType</code></p></td>
<td id="d16671e4"><p><code class="code ">KSType</code>/<code class="code ">KSTypeParameter</code></p></td>
<td id="779d5683"></td>
</tr>
<tr class="" id="4ba88293">
<td id="7b195c4f"><p><code class="code ">NoType</code></p></td>
<td id="3275802e"><p><code class="code ">KSType.isError</code></p></td>
<td id="e3c8af5a"><p>N/A in KSP</p></td>
</tr>
<tr class="" id="59f39fc7">
<td id="6133215c"><p><code class="code ">NullType</code></p></td>
<td id="4fd32e94"></td>
<td id="bfdcf322"><p>N/A in KSP</p></td>
</tr>
<tr class="" id="2a9e75a5">
<td id="c986d059"><p><code class="code ">PrimitiveType</code></p></td>
<td id="9ee8ce83"><p><code class="code ">KSBuiltIns</code></p></td>
<td id="b8ddd9a1"><p>Not exactly same as primitive type in Java</p></td>
</tr>
<tr class="" id="31e0c606">
<td id="e473cf0"><p><code class="code ">ReferenceType</code></p></td>
<td id="e9190d80"><p><code class="code ">KSTypeReference</code></p></td>
<td id="4898178c"></td>
</tr>
<tr class="" id="c75749bc">
<td id="9261505e"><p><code class="code ">TypeMirror</code></p></td>
<td id="c0a6a4f8"><p><code class="code ">KSType</code></p></td>
<td id="7d4e5deb"></td>
</tr>
<tr class="" id="53f9a4c0">
<td id="3354af6"><p><code class="code ">TypeVariable</code></p></td>
<td id="81e30d65"><p><code class="code ">KSTypeParameter</code></p></td>
<td id="10a0364f"></td>
</tr>
<tr class="" id="69bcda29">
<td id="eb53161a"><p><code class="code ">UnionType</code></p></td>
<td id="84281cf7"><p>N/A</p></td>
<td id="73affc97"><p>Kotlin has only one type per catch block. <code class="code ">UnionType</code> is also not observable by even Java annotation processors</p></td>
</tr>
<tr class="" id="c9d0bc48">
<td id="8247e6e"><p><code class="code ">WildcardType</code></p></td>
<td id="2fe3ed94"><p><code class="code ">KSType</code>/<code class="code ">KSTypeArgument</code></p></td>
<td id="26cb9303"></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h2 id="misc" data-toc="ksp-reference#misc">Misc</h2>
<div class="table-wrapper"><table class=" wide" id="2b610942">
<thead><tr class="ijRowHead" id="86628768">
<th id="bf4c3211"><p><b id="654ff5af" class="">Java</b></p></th>
<th id="8c87e0a4"><p><b id="4a6ddb60" class="">Closest facility in KSP</b></p></th>
<th id="639c8e4e"><p><b id="4b4db548" class="">Notes</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="b45dc98">
<td id="b21ea596"><p><code class="code ">Name</code></p></td>
<td id="f5bff7d4"><p><code class="code ">KSName</code></p></td>
<td id="349d028c"></td>
</tr>
<tr class="" id="edc1d6a1">
<td id="25290d39"><p><code class="code ">ElementKind</code></p></td>
<td id="17882573"><p><code class="code ">ClassKind</code>/<code class="code ">FunctionKind</code></p></td>
<td id="7a4abdb"></td>
</tr>
<tr class="" id="3f2caeaa">
<td id="a44797ab"><p><code class="code ">Modifier</code></p></td>
<td id="1cf391ad"><p><code class="code ">Modifier</code></p></td>
<td id="79712078"></td>
</tr>
<tr class="" id="7ae53fbd">
<td id="61810cdd"><p><code class="code ">NestingKind</code></p></td>
<td id="cb0d0bac"><p><code class="code ">ClassKind</code>/<code class="code ">FunctionKind</code></p></td>
<td id="846c98f"></td>
</tr>
<tr class="" id="5f26d963">
<td id="a29e4a75"><p><code class="code ">AnnotationValueVisitor</code></p></td>
<td id="f61de991"></td>
<td id="1772ba16"></td>
</tr>
<tr class="" id="7b99dee3">
<td id="9af19904"><p><code class="code ">ElementVisitor</code></p></td>
<td id="bfb9710c"><p><code class="code ">KSVisitor</code></p></td>
<td id="34127a9e"></td>
</tr>
<tr class="" id="53489a91">
<td id="a3fb6a0f"><p><code class="code ">AnnotatedConstruct</code></p></td>
<td id="dd8e3625"><p><code class="code ">KSAnnotated</code></p></td>
<td id="f4c2f663"></td>
</tr>
<tr class="" id="55fa4d7d">
<td id="3f98332d"><p><code class="code ">TypeVisitor</code></p></td>
<td id="db28e4f4"></td>
<td id="ccdbd5ef"></td>
</tr>
<tr class="" id="ef61508">
<td id="26cb47d3"><p><code class="code ">TypeKind</code></p></td>
<td id="c8cbe49a"><p><code class="code ">KSBuiltIns</code></p></td>
<td id="c194a54f"><p>Some can be found in builtins, otherwise check <code class="code ">KSClassDeclaration</code> for <code class="code ">DeclaredType</code></p></td>
</tr>
<tr class="" id="c4735bed">
<td id="6f7b215f"><p><code class="code ">ElementFilter</code></p></td>
<td id="58e411ca"><p><code class="code ">Collection.filterIsInstance</code></p></td>
<td id="1c7b85db"></td>
</tr>
<tr class="" id="ffd3aae9">
<td id="ad484b66"><p><code class="code ">ElementKindVisitor</code></p></td>
<td id="b4320145"><p><code class="code ">KSVisitor</code></p></td>
<td id="5891bdef"></td>
</tr>
<tr class="" id="2570f690">
<td id="a82464c1"><p><code class="code ">ElementScanner</code></p></td>
<td id="8240388c"><p><code class="code ">KSTopDownVisitor</code></p></td>
<td id="ec63be64"></td>
</tr>
<tr class="" id="676c7eba">
<td id="42e8c1cc"><p><code class="code ">SimpleAnnotationValueVisitor</code></p></td>
<td id="d636d3b0"></td>
<td id="d62a91dc"><p>Not needed in KSP</p></td>
</tr>
<tr class="" id="626affc9">
<td id="f02a0f0f"><p><code class="code ">SimpleElementVisitor</code></p></td>
<td id="e6751af0"><p><code class="code ">KSVisitor</code></p></td>
<td id="f9cae8fa"></td>
</tr>
<tr class="" id="72433d5f">
<td id="1b49abbf"><p><code class="code ">SimpleTypeVisitor</code></p></td>
<td id="78087c88"></td>
<td id="aef2541e"></td>
</tr>
<tr class="" id="4defbc7b">
<td id="44690635"><p><code class="code ">TypeKindVisitor</code></p></td>
<td id="573b8207"></td>
<td id="d79662f0"></td>
</tr>
<tr class="" id="46b4d5d9">
<td id="33705c2c"><p><code class="code ">Types</code></p></td>
<td id="84b9c8fa"><p><code class="code ">Resolver</code>/<code class="code ">utils</code></p></td>
<td id="dbb2a3e4"><p>Some of the <code class="code ">utils</code> are also integrated into symbol interfaces</p></td>
</tr>
<tr class="" id="dc8565ac">
<td id="1d0c4fb4"><p><code class="code ">Elements</code></p></td>
<td id="c67cc0fc"><p><code class="code ">Resolver</code>/<code class="code ">utils</code></p></td>
<td id="c0b583b7"></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h2 id="details" data-toc="ksp-reference#details">Details</h2>
<p id="dd84cda1">See how functionalities of Java annotation processing API can be carried out by KSP.</p>
<section class="chapter"><h3 id="annotationmirror" data-toc="ksp-reference#annotationmirror">AnnotationMirror</h3>
<div class="table-wrapper"><table class=" wide" id="ae087a8c">
<thead><tr class="ijRowHead" id="5208e297">
<th id="eb365c2b"><p><b id="20349872" class="">Java</b></p></th>
<th id="73332a86"><p><b id="b5428318" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="2dfeea2">
<td id="574ead47"><p><code class="code ">getAnnotationType</code></p></td>
<td id="527453b5"><p><code class="code ">ksAnnotation.annotationType</code></p></td>
</tr>
<tr class="" id="9e136b15">
<td id="c1704b92"><p><code class="code ">getElementValues</code></p></td>
<td id="87024acc"><p><code class="code ">ksAnnotation.arguments</code></p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="annotationvalue" data-toc="ksp-reference#annotationvalue">AnnotationValue</h3>
<div class="table-wrapper"><table class=" wide" id="20461853">
<thead><tr class="ijRowHead" id="1fad7d43">
<th id="34bf9bb9"><p><b id="c86cac7c" class="">Java</b></p></th>
<th id="baf4b48a"><p><b id="56b6756c" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody><tr class="" id="9ddd4d9a">
<td id="a7f69ec1"><p><code class="code ">getValue</code></p></td>
<td id="e00fe125"><p><code class="code ">ksValueArgument.value</code></p></td>
</tr></tbody>
</table></div></section><section class="chapter"><h3 id="element" data-toc="ksp-reference#element">Element</h3>
<div class="table-wrapper"><table class=" wide" id="a12777a4">
<thead><tr class="ijRowHead" id="92599ad1">
<th id="6b039a82"><p><b id="f919a1ee" class="">Java</b></p></th>
<th id="b33e5cb"><p><b id="e7a7af2c" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="92a14f60">
<td id="a3b02cc3"><p><code class="code ">asType</code></p></td>
<td id="afdd033a"><p><code class="code ">ksClassDeclaration.asType(...)</code> is available for <code class="code ">KSClassDeclaration</code> only. Type arguments need to be supplied.</p></td>
</tr>
<tr class="" id="c4b97dcd">
<td id="76797b99"><p><code class="code ">getAnnotation</code></p></td>
<td id="a5da3d10"><p>To be implemented</p></td>
</tr>
<tr class="" id="3c2bb38c">
<td id="ca98bc8f"><p><code class="code ">getAnnotationMirrors</code></p></td>
<td id="adb0c20f"><p><code class="code ">ksDeclaration.annotations</code></p></td>
</tr>
<tr class="" id="b44c353a">
<td id="795464ad"><p><code class="code ">getEnclosedElements</code></p></td>
<td id="d570041e"><p><code class="code ">ksDeclarationContainer.declarations</code></p></td>
</tr>
<tr class="" id="41bced03">
<td id="113f4684"><p><code class="code ">getEnclosingElements</code></p></td>
<td id="43f67275"><p><code class="code ">ksDeclaration.parentDeclaration</code></p></td>
</tr>
<tr class="" id="61aa8b4c">
<td id="29607717"><p><code class="code ">getKind</code></p></td>
<td id="7b5383f8"><p>Type check and cast following <code class="code ">ClassKind</code> or <code class="code ">FunctionKind</code></p></td>
</tr>
<tr class="" id="e4c073e3">
<td id="d1c53b2c"><p><code class="code ">getModifiers</code></p></td>
<td id="75b35c49"><p><code class="code ">ksDeclaration.modifiers</code></p></td>
</tr>
<tr class="" id="ff1d9628">
<td id="7cfe33af"><p><code class="code ">getSimpleName</code></p></td>
<td id="7ed3b6d5"><p><code class="code ">ksDeclaration.simpleName</code></p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="executableelement" data-toc="ksp-reference#executableelement">ExecutableElement</h3>
<div class="table-wrapper"><table class=" wide" id="249d5bcd">
<thead><tr class="ijRowHead" id="94e0becc">
<th id="7dce9b1b"><p><b id="83f2974e" class="">Java</b></p></th>
<th id="99f6bd04"><p><b id="f599a39f" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="b61a57cd">
<td id="8f01d31e"><p><code class="code ">getDefaultValue</code></p></td>
<td id="367d097b"><p>To be implemented</p></td>
</tr>
<tr class="" id="96028225">
<td id="fe8aea8b"><p><code class="code ">getParameters</code></p></td>
<td id="501df6ce"><p><code class="code ">ksFunctionDeclaration.parameters</code></p></td>
</tr>
<tr class="" id="7d8d5744">
<td id="e2ead8e0"><p><code class="code ">getReceiverType</code></p></td>
<td id="f9024fd3"><p><code class="code ">ksFunctionDeclaration.parentDeclaration</code></p></td>
</tr>
<tr class="" id="cc166ad3">
<td id="c458b33a"><p><code class="code ">getReturnType</code></p></td>
<td id="10cbf04"><p><code class="code ">ksFunctionDeclaration.returnType</code></p></td>
</tr>
<tr class="" id="a6f42c9d">
<td id="e72dfe98"><p><code class="code ">getSimpleName</code></p></td>
<td id="12ebcce3"><p><code class="code ">ksFunctionDeclaration.simpleName</code></p></td>
</tr>
<tr class="" id="9646b47b">
<td id="d525d028"><p><code class="code ">getThrownTypes</code></p></td>
<td id="c5a2621b"><p>Not needed in Kotlin</p></td>
</tr>
<tr class="" id="ebae66dd">
<td id="f27d5964"><p><code class="code ">getTypeParameters</code></p></td>
<td id="fc9ba11e"><p><code class="code ">ksFunctionDeclaration.typeParameters</code></p></td>
</tr>
<tr class="" id="4026339f">
<td id="9b640b21"><p><code class="code ">isDefault</code></p></td>
<td id="97af8980"><p>Check whether parent declaration is an interface or not</p></td>
</tr>
<tr class="" id="38af818b">
<td id="f1a773a6"><p><code class="code ">isVarArgs</code></p></td>
<td id="d03a880a"><p><code class="code ">ksFunctionDeclaration.parameters.any { it.isVarArg }</code></p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="parameterizable" data-toc="ksp-reference#parameterizable">Parameterizable</h3>
<div class="table-wrapper"><table class=" wide" id="28ec342e">
<thead><tr class="ijRowHead" id="4370fc07">
<th id="1da9aa50"><p><b id="9586cbc5" class="">Java</b></p></th>
<th id="c494a7e8"><p><b id="c1c96225" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody><tr class="" id="6f5bc23a">
<td id="3c7917f0"><p><code class="code ">getTypeParameters</code></p></td>
<td id="ec392598"><p><code class="code ">ksFunctionDeclaration.typeParameters</code></p></td>
</tr></tbody>
</table></div></section><section class="chapter"><h3 id="qualifiednameable" data-toc="ksp-reference#qualifiednameable">QualifiedNameable</h3>
<div class="table-wrapper"><table class=" wide" id="b5289a0b">
<thead><tr class="ijRowHead" id="af35e7c1">
<th id="72dfc6eb"><p><b id="92797db3" class="">Java</b></p></th>
<th id="3617eeda"><p><b id="3d0b8943" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody><tr class="" id="a41cb6c3">
<td id="6b95937f"><p><code class="code ">getQualifiedName</code></p></td>
<td id="82a901a9"><p><code class="code ">ksDeclaration.qualifiedName</code></p></td>
</tr></tbody>
</table></div></section><section class="chapter"><h3 id="typeelement" data-toc="ksp-reference#typeelement">TypeElement</h3>
<div class="table-wrapper"><table class=" wide" id="1afa2a95">
<thead><tr class="ijRowHead" id="532c1538">
<th id="34bd9ddf"><p><b id="27ddba82" class="">Java</b></p></th>
<th id="64de80c3"><p><b id="f5b2298c" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="18f73db0">
<td id="86f4f328"><p><code class="code ">getEnclosedElements</code></p></td>
<td id="b7182b2a"><p><code class="code ">ksClassDeclaration.declarations</code></p></td>
</tr>
<tr class="" id="e07d3416">
<td id="f7e89b00"><p><code class="code ">getEnclosingElement</code></p></td>
<td id="316b7bf5"><p><code class="code ">ksClassDeclaration.parentDeclaration</code></p></td>
</tr>
<tr class="" id="9c68d82a">
<td id="89d6a6f7"><p><code class="code ">getInterfaces</code></p></td>
<td id="a5206381"><pre class="code-block" data-lang="kotlin" data-language="kotlin">// Should be able to do without resolution ksClassDeclaration.superTypes .map { it.resolve() } .filter { (it?.declaration as? KSClassDeclaration)?.classKind == ClassKind.INTERFACE } </pre></td>
</tr>
<tr class="" id="c15c429f">
<td id="3d1da330"><p><code class="code ">getNestingKind</code></p></td>
<td id="3356cfa4"><p>Check <code class="code ">KSClassDeclaration.parentDeclaration</code> and <code class="code ">inner</code> modifier</p></td>
</tr>
<tr class="" id="85aa1a0a">
<td id="f32c88a7"><p><code class="code ">getQualifiedName</code></p></td>
<td id="cf0d5f29"><p><code class="code ">ksClassDeclaration.qualifiedName</code></p></td>
</tr>
<tr class="" id="a9921b1c">
<td id="d15a2aef"><p><code class="code ">getSimpleName</code></p></td>
<td id="da7a1ebd"><p><code class="code ">ksClassDeclaration.simpleName</code></p></td>
</tr>
<tr class="" id="8d14be15">
<td id="b4662f3e"><p><code class="code ">getSuperclass</code></p></td>
<td id="7087a037"><pre class="code-block" data-lang="kotlin" data-language="kotlin">// Should be able to do without resolution ksClassDeclaration.superTypes .map { it.resolve() } .filter { (it?.declaration as? KSClassDeclaration)?.classKind == ClassKind.CLASS } </pre></td>
</tr>
<tr class="" id="d3b1d599">
<td id="3204a2e9"><p><code class="code ">getTypeParameters</code></p></td>
<td id="9fee619d"><p><code class="code ">ksClassDeclaration.typeParameters</code></p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="typeparameterelement" data-toc="ksp-reference#typeparameterelement">TypeParameterElement</h3>
<div class="table-wrapper"><table class=" wide" id="58bf574a">
<thead><tr class="ijRowHead" id="785896d0">
<th id="f11ef122"><p><b id="13988a3b" class="">Java</b></p></th>
<th id="5933c6a0"><p><b id="2896d465" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="83a54b00">
<td id="ba5b218"><p><code class="code ">getBounds</code></p></td>
<td id="32f71b77"><p><code class="code ">ksTypeParameter.bounds</code></p></td>
</tr>
<tr class="" id="b81de412">
<td id="a7c52d3a"><p><code class="code ">getEnclosingElement</code></p></td>
<td id="208ee03b"><p><code class="code ">ksTypeParameter.parentDeclaration</code></p></td>
</tr>
<tr class="" id="6df0173">
<td id="665291ed"><p><code class="code ">getGenericElement</code></p></td>
<td id="8bd36833"><p><code class="code ">ksTypeParameter.parentDeclaration</code></p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="variableelement" data-toc="ksp-reference#variableelement">VariableElement</h3>
<div class="table-wrapper"><table class=" wide" id="203c85a5">
<thead><tr class="ijRowHead" id="c9557eaf">
<th id="ea29853a"><p><b id="67665a0d" class="">Java</b></p></th>
<th id="91bdd7aa"><p><b id="1aba2d16" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="79588e86">
<td id="de0ccbc7"><p><code class="code ">getConstantValue</code></p></td>
<td id="28b283a0"><p>To be implemented</p></td>
</tr>
<tr class="" id="ebdf7495">
<td id="aaa5f915"><p><code class="code ">getEnclosingElement</code></p></td>
<td id="6dda9f78"><p><code class="code ">ksValueParameter.parentDeclaration</code></p></td>
</tr>
<tr class="" id="8d1af33d">
<td id="d7c4038d"><p><code class="code ">getSimpleName</code></p></td>
<td id="d1ec5b62"><p><code class="code ">ksValueParameter.simpleName</code></p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="arraytype" data-toc="ksp-reference#arraytype">ArrayType</h3>
<div class="table-wrapper"><table class=" wide" id="928a8654">
<thead><tr class="ijRowHead" id="c3fd701">
<th id="54d7d67f"><p><b id="b97ad59a" class="">Java</b></p></th>
<th id="6fbe2f2d"><p><b id="ae7a587b" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody><tr class="" id="9d82580a">
<td id="b8815cc7"><p><code class="code ">getComponentType</code></p></td>
<td id="58e272de"><p><code class="code ">ksType.arguments.first()</code></p></td>
</tr></tbody>
</table></div></section><section class="chapter"><h3 id="declaredtype" data-toc="ksp-reference#declaredtype">DeclaredType</h3>
<div class="table-wrapper"><table class=" wide" id="d1298a09">
<thead><tr class="ijRowHead" id="42f15893">
<th id="b1f10ee2"><p><b id="969f108b" class="">Java</b></p></th>
<th id="6f9784e8"><p><b id="545f443b" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="28373de2">
<td id="65793acd"><p><code class="code ">asElement</code></p></td>
<td id="10f06d1"><p><code class="code ">ksType.declaration</code></p></td>
</tr>
<tr class="" id="131590f8">
<td id="d7b72364"><p><code class="code ">getEnclosingType</code></p></td>
<td id="39837f02"><p><code class="code ">ksType.declaration.parentDeclaration</code></p></td>
</tr>
<tr class="" id="18cd51a0">
<td id="6ba4166b"><p><code class="code ">getTypeArguments</code></p></td>
<td id="e88579f4"><p><code class="code ">ksType.arguments</code></p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="executabletype" data-toc="ksp-reference#executabletype">ExecutableType</h3>
<aside data-type="note" class="prompt" data-title="" id="a442e963"><p id="5b3ad9d9">A <code class="code ">KSType</code> for a function is just a signature represented by the <code class="code ">FunctionN&lt;R, T1, T2, ..., TN&gt;</code> family.</p></aside><div class="table-wrapper"><table class=" wide" id="315a73d9">
<thead><tr class="ijRowHead" id="da8da099">
<th id="db997f3b"><p><b id="474cac04" class="">Java</b></p></th>
<th id="293cf15"><p><b id="5c08bf25" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="117afd09">
<td id="88f7e1aa"><p><code class="code ">getParameterTypes</code></p></td>
<td id="7e647635"><p><code class="code ">ksType.declaration.typeParameters</code>, <code class="code ">ksFunctionDeclaration.parameters.map { it.type }</code></p></td>
</tr>
<tr class="" id="60e65911">
<td id="bc676d48"><p><code class="code ">getReceiverType</code></p></td>
<td id="7dffacc9"><p><code class="code ">ksFunctionDeclaration.parentDeclaration.asType(...)</code></p></td>
</tr>
<tr class="" id="3b12347f">
<td id="970a33f2"><p><code class="code ">getReturnType</code></p></td>
<td id="663c9ca4"><p><code class="code ">ksType.declaration.typeParameters.last()</code></p></td>
</tr>
<tr class="" id="bf7c27bd">
<td id="7ec40e11"><p><code class="code ">getThrownTypes</code></p></td>
<td id="9723863e"><p>Not needed in Kotlin</p></td>
</tr>
<tr class="" id="37d47cb9">
<td id="92c2de1e"><p><code class="code ">getTypeVariables</code></p></td>
<td id="d78314cf"><p><code class="code ">ksFunctionDeclaration.typeParameters</code></p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="intersectiontype" data-toc="ksp-reference#intersectiontype">IntersectionType</h3>
<div class="table-wrapper"><table class=" wide" id="bf70cf09">
<thead><tr class="ijRowHead" id="9dfda7ad">
<th id="43995b1e"><p><b id="7dae4178" class="">Java</b></p></th>
<th id="902ce8f2"><p><b id="726c75ba" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody><tr class="" id="24b373ab">
<td id="d51fc7e9"><p><code class="code ">getBounds</code></p></td>
<td id="34d7f2b1"><p><code class="code ">ksTypeParameter.bounds</code></p></td>
</tr></tbody>
</table></div></section><section class="chapter"><h3 id="typemirror" data-toc="ksp-reference#typemirror">TypeMirror</h3>
<div class="table-wrapper"><table class=" wide" id="dffeeece">
<thead><tr class="ijRowHead" id="369dcb58">
<th id="5a0e3d56"><p><b id="f08574f" class="">Java</b></p></th>
<th id="839d6f0a"><p><b id="c015bf7c" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody><tr class="" id="284c9162">
<td id="bbff886a"><p><code class="code ">getKind</code></p></td>
<td id="df1274b2"><p>Compare with types in <code class="code ">KSBuiltIns</code> for primitive types, <code class="code ">Unit</code> type, otherwise declared types</p></td>
</tr></tbody>
</table></div></section><section class="chapter"><h3 id="typevariable" data-toc="ksp-reference#typevariable">TypeVariable</h3>
<div class="table-wrapper"><table class=" wide" id="4a4b3dfb">
<thead><tr class="ijRowHead" id="c42c18d8">
<th id="d12185e4"><p><b id="6fc9e521" class="">Java</b></p></th>
<th id="5b666696"><p><b id="6bcb364" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="226e80b6">
<td id="d71535ea"><p><code class="code ">asElement</code></p></td>
<td id="eca83ea9"><p><code class="code ">ksType.declaration</code></p></td>
</tr>
<tr class="" id="55a0e92">
<td id="a94416a8"><p><code class="code ">getLowerBound</code></p></td>
<td id="8271634b"><p>To be decided. Only needed if capture is provided and explicit bound checking is needed.</p></td>
</tr>
<tr class="" id="d7b3f779">
<td id="6c60dfa1"><p><code class="code ">getUpperBound</code></p></td>
<td id="c0623732"><p><code class="code ">ksTypeParameter.bounds</code></p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="wildcardtype" data-toc="ksp-reference#wildcardtype">WildcardType</h3>
<div class="table-wrapper"><table class=" wide" id="7019c78f">
<thead><tr class="ijRowHead" id="d514c07c">
<th id="af3ccc30"><p><b id="ca3e3c00" class="">Java</b></p></th>
<th id="8d4209d0"><p><b id="f1e7415b" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="3a35a60b">
<td id="8eeb2e07"><p><code class="code ">getExtendsBound</code></p></td>
<td id="f52a1740"><pre class="code-block" data-lang="kotlin" data-language="kotlin">if (ksTypeArgument.variance == Variance.COVARIANT) ksTypeArgument.type else null </pre></td>
</tr>
<tr class="" id="2bfa6325">
<td id="5867c7c6"><p><code class="code ">getSuperBound</code></p></td>
<td id="ee7153d0"><pre class="code-block" data-lang="kotlin" data-language="kotlin">if (ksTypeArgument.variance == Variance.CONTRAVARIANT) ksTypeArgument.type else null </pre></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="elements" data-toc="ksp-reference#elements">Elements</h3>
<div class="table-wrapper"><table class=" wide" id="7a4bce75">
<thead><tr class="ijRowHead" id="5d0e1d19">
<th id="7787eb4a"><p><b id="d9458f32" class="">Java</b></p></th>
<th id="d25dcbd3"><p><b id="754c8099" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="9b47f69">
<td id="b03a257c"><p><code class="code ">getAllAnnotationMirrors</code></p></td>
<td id="b8b8a701"><p><code class="code ">KSDeclarations.annotations</code></p></td>
</tr>
<tr class="" id="1103d596">
<td id="8ec7a699"><p><code class="code ">getAllMembers</code></p></td>
<td id="c797e033"><p><code class="code ">getAllFunctions</code>, <code class="code ">getAllProperties</code> is to be implemented</p></td>
</tr>
<tr class="" id="a34483f4">
<td id="ebec94c8"><p><code class="code ">getBinaryName</code></p></td>
<td id="b496bd91"><p>To be decided, see <a href="https://docs.oracle.com/javase/specs/jls/se13/html/jls-13.html#jls-13.1" id="a64609ae" data-external="true" rel="noopener noreferrer">Java Specification</a></p></td>
</tr>
<tr class="" id="b870c07f">
<td id="794f41e0"><p><code class="code ">getConstantExpression</code></p></td>
<td id="e32b3974"><p>There is constant value, not expression</p></td>
</tr>
<tr class="" id="8d86e68e">
<td id="ec56d9cd"><p><code class="code ">getDocComment</code></p></td>
<td id="27b2ae88"><p>To be implemented</p></td>
</tr>
<tr class="" id="416ce810">
<td id="3b8486cc"><p><code class="code ">getElementValuesWithDefaults</code></p></td>
<td id="68bd005"><p>To be implemented</p></td>
</tr>
<tr class="" id="8ee6bab0">
<td id="df6216b1"><p><code class="code ">getName</code></p></td>
<td id="d0f3ce21"><p><code class="code ">resolver.getKSNameFromString</code></p></td>
</tr>
<tr class="" id="4a13ee64">
<td id="4e053d82"><p><code class="code ">getPackageElement</code></p></td>
<td id="b6220fd1"><p>Package not supported, while package information can be retrieved. Operation on package is not possible for KSP</p></td>
</tr>
<tr class="" id="eea6bd0b">
<td id="9e86d339"><p><code class="code ">getPackageOf</code></p></td>
<td id="1365ce5d"><p>Package not supported</p></td>
</tr>
<tr class="" id="18e2bd68">
<td id="a293f0d9"><p><code class="code ">getTypeElement</code></p></td>
<td id="416da46"><p><code class="code ">Resolver.getClassDeclarationByName</code></p></td>
</tr>
<tr class="" id="1677a5b3">
<td id="5b6933bd"><p><code class="code ">hides</code></p></td>
<td id="41d6c47a"><p>To be implemented</p></td>
</tr>
<tr class="" id="9d79c3e3">
<td id="a63e6314"><p><code class="code ">isDeprecated</code></p></td>
<td id="3d889ed1"><pre class="code-block" data-lang="kotlin" data-language="kotlin">KsDeclaration.annotations.any { it.annotationType.resolve()!!.declaration.quailifiedName!!.asString() == Deprecated::class.quailifiedName } </pre></td>
</tr>
<tr class="" id="856fee02">
<td id="741a9d4e"><p><code class="code ">overrides</code></p></td>
<td id="50157d6"><p><code class="code ">KSFunctionDeclaration.overrides</code>/<code class="code ">KSPropertyDeclaration.overrides</code> (member function of respective class)</p></td>
</tr>
<tr class="" id="be54666d">
<td id="a5f2ff2"><p><code class="code ">printElements</code></p></td>
<td id="6f1b83a0"><p>KSP has basic <code class="code ">toString()</code> implementation on most classes</p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="type-operations" data-toc="ksp-reference#type-operations">Types</h3>
<div class="table-wrapper"><table class=" wide" id="5e09e2fc">
<thead><tr class="ijRowHead" id="7f2b534">
<th id="e4374f15"><p><b id="348c80e0" class="">Java</b></p></th>
<th id="fbb46fea"><p><b id="a7751ede" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="f03e5658">
<td id="c97a7556"><p><code class="code ">asElement</code></p></td>
<td id="692754fc"><p><code class="code ">ksType.declaration</code></p></td>
</tr>
<tr class="" id="5695e65c">
<td id="df3ab1a0"><p><code class="code ">asMemberOf</code></p></td>
<td id="ee823166"><p><code class="code ">resolver.asMemberOf</code></p></td>
</tr>
<tr class="" id="d899486a">
<td id="7e939fea"><p><code class="code ">boxedClass</code></p></td>
<td id="5eba5738"><p>Not needed</p></td>
</tr>
<tr class="" id="684bba81">
<td id="793fe4f1"><p><code class="code ">capture</code></p></td>
<td id="bc56468a"><p>To be decided</p></td>
</tr>
<tr class="" id="f9ae8b29">
<td id="4fdaf8a3"><p><code class="code ">contains</code></p></td>
<td id="e943bc6e"><p><code class="code ">KSType.isAssignableFrom</code></p></td>
</tr>
<tr class="" id="2c4dc519">
<td id="8fa0020d"><p><code class="code ">directSuperTypes</code></p></td>
<td id="e176430a"><p><code class="code ">(ksType.declaration as KSClassDeclaration).superTypes</code></p></td>
</tr>
<tr class="" id="9fd5e6">
<td id="973181c"><p><code class="code ">erasure</code></p></td>
<td id="8d93cae3"><p><code class="code ">ksType.starProjection()</code></p></td>
</tr>
<tr class="" id="f1506594">
<td id="9ed1a939"><p><code class="code ">getArrayType</code></p></td>
<td id="56b56c94"><p><code class="code ">ksBuiltIns.arrayType.replace(...)</code></p></td>
</tr>
<tr class="" id="d029a4c0">
<td id="9a7f6e2f"><p><code class="code ">getDeclaredType</code></p></td>
<td id="cc7c8c18"><p><code class="code ">ksClassDeclaration.asType</code></p></td>
</tr>
<tr class="" id="3d747fbd">
<td id="18777cc7"><p><code class="code ">getNoType</code></p></td>
<td id="a783568d"><p><code class="code ">ksBuiltIns.nothingType</code>/<code class="code ">null</code></p></td>
</tr>
<tr class="" id="a6ac4204">
<td id="9f1d601d"><p><code class="code ">getNullType</code></p></td>
<td id="1865ad5d"><p>Depending on the context, <code class="code ">KSType.markNullable</code> could be useful</p></td>
</tr>
<tr class="" id="716d140b">
<td id="da2c3519"><p><code class="code ">getPrimitiveType</code></p></td>
<td id="d97ae265"><p>Not needed, check for <code class="code ">KSBuiltins</code></p></td>
</tr>
<tr class="" id="c19171cc">
<td id="2525e66a"><p><code class="code ">getWildcardType</code></p></td>
<td id="8a7fc71c"><p>Use <code class="code ">Variance</code> in places expecting <code class="code ">KSTypeArgument</code></p></td>
</tr>
<tr class="" id="201c51ab">
<td id="fe139fd4"><p><code class="code ">isAssignable</code></p></td>
<td id="94fc3b3"><p><code class="code ">ksType.isAssignableFrom</code></p></td>
</tr>
<tr class="" id="9fc167a">
<td id="ae5d0922"><p><code class="code ">isSameType</code></p></td>
<td id="7f37462a"><p><code class="code ">ksType.equals</code></p></td>
</tr>
<tr class="" id="4561655">
<td id="ed43d734"><p><code class="code ">isSubsignature</code></p></td>
<td id="3badac2e"><p><code class="code ">functionTypeA == functionTypeB</code>/<code class="code ">functionTypeA == functionTypeB.starProjection()</code></p></td>
</tr>
<tr class="" id="b590209a">
<td id="4236519b"><p><code class="code ">isSubtype</code></p></td>
<td id="c2b8bb9a"><p><code class="code ">ksType.isAssignableFrom</code></p></td>
</tr>
<tr class="" id="2f80cc19">
<td id="7b493dd2"><p><code class="code ">unboxedType</code></p></td>
<td id="a9065498"><p>Not needed</p></td>
</tr>
</tbody>
</table></div></section></section><div class="last-modified"> Last modified: 07 December 2021</div>

<div class="navigation-links _bottom"> <a class="navigation-links__prev" href="ksp-additional-details">How KSP models Kotlin code</a> <a class="navigation-links__next" href="ksp-incremental">Incremental processing</a> </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://kotlinlang.org/docs/ksp-reference.html" class="_attribution-link" target="_blank">https://kotlinlang.org/docs/ksp-reference.html</a>
  </p>
</div>
