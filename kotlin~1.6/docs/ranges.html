<h1 data-toc="ranges" id="ranges.md">Ranges and progressions</h1>
<p id="2d1f7f03">Kotlin lets you easily create ranges of values using the <a href="../api/latest/jvm/stdlib/kotlin.ranges/range-to" id="9ca34e15" data-external="true" rel="noopener noreferrer"><code class="code ">rangeTo()</code></a> function from the <code class="code ">kotlin.ranges</code> package and its operator form <code class="code ">..</code>. Usually, <code class="code ">rangeTo()</code> is complemented by <code class="code ">in</code> or <code class="code ">!in</code> functions.</p>
<pre class="code-block" data-lang="kotlin" data-runnable="true" data-language="kotlin">fun main() { val i = 1 //sampleStart if (i in 1..4) { // equivalent of 1 &lt;= i &amp;&amp; i &lt;= 4 print(i) } //sampleEnd } </pre>
<p id="9e222827">Integral type ranges (<a href="../api/latest/jvm/stdlib/kotlin.ranges/-int-range/index" id="525376ff" data-external="true" rel="noopener noreferrer"><code class="code ">IntRange</code></a>, <a href="../api/latest/jvm/stdlib/kotlin.ranges/-long-range/index" id="c993f141" data-external="true" rel="noopener noreferrer"><code class="code ">LongRange</code></a>, <a href="../api/latest/jvm/stdlib/kotlin.ranges/-char-range/index" id="ffb2bd89" data-external="true" rel="noopener noreferrer"><code class="code ">CharRange</code></a>) have an extra feature: they can be iterated over. These ranges are also <a href="https://en.wikipedia.org/wiki/Arithmetic_progression" id="11388a77" data-external="true" rel="noopener noreferrer">progressions</a> of the corresponding integral types.</p>
<p id="3aeb27f">Such ranges are generally used for iteration in <code class="code ">for</code> loops.</p>
<pre class="code-block" data-lang="kotlin" data-runnable="true" data-min-compiler-version="1.3" data-language="kotlin"> fun main() { //sampleStart for (i in 1..4) print(i) //sampleEnd } </pre>
<p id="8413040d">To iterate numbers in reverse order, use the <a href="../api/latest/jvm/stdlib/kotlin.ranges/down-to" id="7f2c67d9" data-external="true" rel="noopener noreferrer"><code class="code ">downTo</code></a> function instead of <code class="code ">..</code>.</p>
<pre class="code-block" data-lang="kotlin" data-runnable="true" data-min-compiler-version="1.3" data-language="kotlin"> fun main() { //sampleStart for (i in 4 downTo 1) print(i) //sampleEnd } </pre>
<p id="9323c040">It is also possible to iterate over numbers with an arbitrary step (not necessarily 1). This is done via the <a href="../api/latest/jvm/stdlib/kotlin.ranges/step" id="f8517f0c" data-external="true" rel="noopener noreferrer"><code class="code ">step</code></a> function.</p>
<pre class="code-block" data-lang="kotlin" data-runnable="true" data-min-compiler-version="1.3" data-language="kotlin"> fun main() { //sampleStart for (i in 1..8 step 2) print(i) println() for (i in 8 downTo 1 step 2) print(i) //sampleEnd } </pre>
<p id="650e2908">To iterate a number range which does not include its end element, use the <a href="../api/latest/jvm/stdlib/kotlin.ranges/until" id="34a7504e" data-external="true" rel="noopener noreferrer"><code class="code ">until</code></a> function:</p>
<pre class="code-block" data-lang="kotlin" data-runnable="true" data-min-compiler-version="1.3" data-language="kotlin"> fun main() { //sampleStart for (i in 1 until 10) { // i in 1 until 10, excluding 10 print(i) } //sampleEnd } </pre>
<section class="chapter"><h2 id="range" data-toc="ranges#range">Range</h2>
<p id="6a5d5753">A range defines a closed interval in the mathematical sense: it is defined by its two endpoint values which are both included in the range. Ranges are defined for comparable types: having an order, you can define whether an arbitrary instance is in the range between two given instances.</p>
<p id="7250f2f9">The main operation on ranges is <code class="code ">contains</code>, which is usually used in the form of <code class="code ">in</code> and <code class="code ">!in</code> operators.</p>
<p id="991ff7c4">To create a range for your class, call the <code class="code ">rangeTo()</code> function on the range start value and provide the end value as an argument. <code class="code ">rangeTo()</code> is often called in its operator form <code class="code ">..</code>.</p>
<pre class="code-block" data-lang="kotlin" data-runnable="true" data-min-compiler-version="1.3" data-language="kotlin"> class Version(val major: Int, val minor: Int): Comparable&lt;Version&gt; { override fun compareTo(other: Version): Int { if (this.major != other.major) { return this.major - other.major } return this.minor - other.minor } } fun main() { //sampleStart val versionRange = Version(1, 11)..Version(1, 30) println(Version(0, 9) in versionRange) println(Version(1, 20) in versionRange) //sampleEnd } </pre></section><section class="chapter"><h2 id="progression" data-toc="ranges#progression">Progression</h2>
<p id="fd4858cf">As shown in the examples above, the ranges of integral types, such as <code class="code ">Int</code>, <code class="code ">Long</code>, and <code class="code ">Char</code>, can be treated as <a href="https://en.wikipedia.org/wiki/Arithmetic_progression" id="83e41177" data-external="true" rel="noopener noreferrer">arithmetic progressions</a> of them. In Kotlin, these progressions are defined by special types: <a href="../api/latest/jvm/stdlib/kotlin.ranges/-int-progression/index" id="9a331faf" data-external="true" rel="noopener noreferrer"><code class="code ">IntProgression</code></a>, <a href="../api/latest/jvm/stdlib/kotlin.ranges/-long-progression/index" id="e920b272" data-external="true" rel="noopener noreferrer"><code class="code ">LongProgression</code></a>, and <a href="../api/latest/jvm/stdlib/kotlin.ranges/-char-progression/index" id="c714af4a" data-external="true" rel="noopener noreferrer"><code class="code ">CharProgression</code></a>.</p>
<p id="ea72205d">Progressions have three essential properties: the <code class="code ">first</code> element, the <code class="code ">last</code> element, and a non-zero <code class="code ">step</code>. The first element is <code class="code ">first</code>, subsequent elements are the previous element plus a <code class="code ">step</code>. Iteration over a progression with a positive step is equivalent to an indexed <code class="code ">for</code> loop in Java/JavaScript.</p>
<pre class="code-block" data-lang="java" data-language="java">for (int i = first; i &lt;= last; i += step) { // ... } </pre>
<p id="c241f5e2">When you create a progression implicitly by iterating a range, this progression's <code class="code ">first</code> and <code class="code ">last</code> elements are the range's endpoints, and the <code class="code ">step</code> is 1.</p>
<pre class="code-block" data-lang="kotlin" data-runnable="true" data-min-compiler-version="1.3" data-language="kotlin"> fun main() { //sampleStart for (i in 1..10) print(i) //sampleEnd } </pre>
<p id="36c2a105">To define a custom progression step, use the <code class="code ">step</code> function on a range.</p>
<pre class="code-block" data-lang="kotlin" data-runnable="true" data-min-compiler-version="1.3" data-language="kotlin"> fun main() { //sampleStart for (i in 1..8 step 2) print(i) //sampleEnd } </pre>
<p id="d4944f4b">The <code class="code ">last</code> element of the progression is calculated this way:</p>
<ul class="list _ul" id="a36e52a8">
<li class="list__item" id="c3c0edba"><p>For a positive step: the maximum value not greater than the end value such that <code class="code ">(last - first) % step == 0</code>.</p></li>
<li class="list__item" id="d9465ea2"><p>For a negative step: the minimum value not less than the end value such that <code class="code ">(last - first) % step == 0</code>.</p></li>
</ul>
<p id="c59e1e39">Thus, the <code class="code ">last</code> element is not always the same as the specified end value.</p>
<pre class="code-block" data-lang="kotlin" data-runnable="true" data-min-compiler-version="1.3" data-language="kotlin"> fun main() { //sampleStart for (i in 1..9 step 3) print(i) // the last element is 7 //sampleEnd } </pre>
<p id="7b7af664">To create a progression for iterating in reverse order, use <code class="code ">downTo</code> instead of <code class="code ">..</code> when defining the range for it.</p>
<pre class="code-block" data-lang="kotlin" data-runnable="true" data-min-compiler-version="1.3" data-language="kotlin"> fun main() { //sampleStart for (i in 4 downTo 1) print(i) //sampleEnd } </pre>
<p id="41da4f33">If you already have a progression, you can iterate it in reverse order with the <code class="code ">reversed</code> function:</p>
<pre class="code-block" data-lang="kotlin" data-runnable="true" data-language="kotlin">fun main() { //sampleStart for (i in (1..4).reversed()) print(i) //sampleEnd } </pre>
<p id="bce1d045">Progressions implement <code class="code ">Iterable&lt;N&gt;</code>, where <code class="code ">N</code> is <code class="code ">Int</code>, <code class="code ">Long</code>, or <code class="code ">Char</code> respectively, so you can use them in various <a href="collection-operations" id="6f1ba35e">collection functions</a> like <code class="code ">map</code>, <code class="code ">filter</code>, and other.</p>
<pre class="code-block" data-lang="kotlin" data-runnable="true" data-min-compiler-version="1.3" data-language="kotlin"> fun main() { //sampleStart println((1..10).filter { it % 2 == 0 }) //sampleEnd } </pre></section><div class="last-modified"> Last modified: 11 January 2022</div>

<div class="navigation-links _bottom"> <a class="navigation-links__prev" href="iterators">Iterators</a> <a class="navigation-links__next" href="sequences">Sequences</a> </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://kotlinlang.org/docs/ranges.html" class="_attribution-link" target="_blank">https://kotlinlang.org/docs/ranges.html</a>
  </p>
</div>
