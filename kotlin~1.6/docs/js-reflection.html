<h1 data-toc="js-reflection" id="js-reflection.md">Kotlin/JS reflection</h1>
<p id="a2264459">Kotlin/JS provides a limited support for the Kotlin <a href="reflection" id="8a4a723b">reflection API</a>. The only supported parts of the API are:</p>
<ul class="list _ul" id="1e2b44c7">
<li class="list__item" id="e367e876"><p><a href="reflection#class-references" id="195de37b">class references</a> (<code class="code ">::class</code>).</p></li>
<li class="list__item" id="6bcd311c"><p><a href="../api/latest/jvm/stdlib/kotlin.reflect/-k-type/index" id="24f81c8b" data-external="true" rel="noopener noreferrer"><code class="code ">KType</code></a> and <a href="../api/latest/jvm/stdlib/kotlin.reflect/type-of" id="3907bdf" data-external="true" rel="noopener noreferrer"><code class="code ">typeof()</code></a> function.</p></li>
</ul>
<section class="chapter"><h2 id="class-references" data-toc="js-reflection#class-references">Class references</h2>
<p id="ddb5137b">The <code class="code ">::class</code> syntax returns a reference to the class of an instance, or the class corresponding to the given type. In Kotlin/JS, the value of a <code class="code ">::class</code> expression is a stripped-down <a href="../api/latest/jvm/stdlib/kotlin.reflect/-k-class/index" id="acb1e217" data-external="true" rel="noopener noreferrer">KClass</a> implementation that supports only:</p>
<ul class="list _ul" id="832d0442">
<li class="list__item" id="5ec48e99"><p><a href="../api/latest/jvm/stdlib/kotlin.reflect/-k-class/simple-name" id="ef66388a" data-external="true" rel="noopener noreferrer">simpleName</a> and <a href="../api/latest/jvm/stdlib/kotlin.reflect/-k-class/is-instance" id="1a97d1e4" data-external="true" rel="noopener noreferrer">isInstance()</a> members.</p></li>
<li class="list__item" id="6e677b08"><p><a href="../api/latest/jvm/stdlib/kotlin.reflect/cast" id="c0cff039" data-external="true" rel="noopener noreferrer">cast()</a> and <a href="../api/latest/jvm/stdlib/kotlin.reflect/safe-cast" id="bff1205" data-external="true" rel="noopener noreferrer">safeCast()</a> extension functions.</p></li>
</ul>
<p id="e586102c">In addition to that, you can use <a href="../api/latest/jvm/stdlib/kotlin.js/js" id="42bea99e" data-external="true" rel="noopener noreferrer">KClass.js</a> to access the <a href="../api/latest/jvm/stdlib/kotlin.js/-js-class/index" id="9e2a4753" data-external="true" rel="noopener noreferrer">JsClass</a> instance corresponding to the class. The <code class="code ">JsClass</code> instance itself is a reference to the constructor function. This can be used to interoperate with JS functions that expect a reference to a constructor.</p></section><section class="chapter"><h2 id="ktype-and-typeof" data-toc="js-reflection#ktype-and-typeof">KType and typeOf()</h2>
<p id="81e6fa45">The <a href="../api/latest/jvm/stdlib/kotlin.reflect/type-of" id="231d101a" data-external="true" rel="noopener noreferrer"><code class="code ">typeof()</code></a> function constructs an instance of <a href="../api/latest/jvm/stdlib/kotlin.reflect/-k-type/index" id="d7667ad7" data-external="true" rel="noopener noreferrer"><code class="code ">KType</code></a> for a given type. The <code class="code ">KType</code> API is fully supported in Kotlin/JS except for Java-specific parts.</p></section><section class="chapter"><h2 id="example" data-toc="js-reflection#example">Example</h2>
<p id="e257ee79">Here is an example of the reflection usage in Kotlin/JS.</p>
<pre class="code-block" data-lang="kotlin" data-language="kotlin">open class Shape class Rectangle : Shape() inline fun &lt;reified T&gt; accessReifiedTypeArg() = println(typeOf&lt;T&gt;().toString()) fun main() { val s = Shape() val r = Rectangle() println(r::class.simpleName) // Prints "Rectangle" println(Shape::class.simpleName) // Prints "Shape" println(Shape::class.js.name) // Prints "Shape" println(Shape::class.isInstance(r)) // Prints "true" println(Rectangle::class.isInstance(s)) // Prints "false" val rShape = Shape::class.cast(r) // Casts a Rectangle "r" to Shape accessReifiedTypeArg&lt;Rectangle&gt;() // Accesses the type via typeOf(). Prints "Rectangle" } </pre></section><div class="last-modified"> Last modified: 16 November 2021</div>

<div class="navigation-links _bottom"> <a class="navigation-links__prev" href="js-modules">JavaScript modules</a> <a class="navigation-links__next" href="typesafe-html-dsl">Typesafe HTML DSL</a> </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://kotlinlang.org/docs/js-reflection.html" class="_attribution-link" target="_blank">https://kotlinlang.org/docs/js-reflection.html</a>
  </p>
</div>
