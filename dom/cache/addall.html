<h1>Cache.addAll()</h1>
<div class="section-content">
<p>The <code>addAll()</code> method of the <a href="../cache"><code>Cache</code></a> interface takes an array of URLs, retrieves them, and adds the resulting response objects to the given cache. The request objects created during retrieval become keys to the stored response operations.</p> <div class="notecard note" id="sect1"> <p> <strong>Note:</strong> <code>addAll()</code> will overwrite any key/value pairs previously stored in the cache that match the request, but will fail if a resulting <code>put()</code> operation would overwrite a previous cache entry stored by the same <code>addAll()</code> method. </p> </div>
</div>
<h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example"><pre data-language="js"><span class="token function">addAll</span><span class="token punctuation">(</span>requests<span class="token punctuation">)</span>
</pre></div></div>
<h3 id="parameters">Parameters</h3>
<div class="section-content"><dl> <dt id="requests"><code>requests</code></dt> <dd> <p> An array of string URLs that you want to be fetched and added to the cache. You can specify the <a href="../request"><code>Request</code></a> object instead of the URL. </p> </dd> </dl></div>
<h3 id="return_value">Return value</h3>
<div class="section-content"><p>A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that resolves with <code>undefined</code>.</p></div>
<h3 id="exceptions">Exceptions</h3>
<div class="section-content"><dl> <dt id="typeerror"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError"><code>TypeError</code></a></dt> <dd> <p>The URL scheme is not <code>http</code> or <code>https</code>.</p> <p>The Response status is not in the 200 range (i.e., not a successful response.) This occurs if the request does not return successfully, but also if the request is a <em>cross-origin no-cors</em> request (in which case the reported status is always 0.)</p> </dd> </dl></div>
<h2 id="examples">Examples</h2>
<div class="section-content">
<p> This code block waits for an <a href="../installevent"><code>InstallEvent</code></a> to fire, then runs <a href="../extendableevent/waituntil"><code>waitUntil()</code></a> to handle the install process for the app. This consists of calling <a href="../cachestorage/open"><code>CacheStorage.open</code></a> to create a new cache, then using <code>addAll()</code> to add a series of assets to it. </p> <div class="code-example"><pre data-language="js"><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'install'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  event<span class="token punctuation">.</span><span class="token function">waitUntil</span><span class="token punctuation">(</span>
    caches<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'v1'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">cache</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> cache<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token string">'/sw-test/'</span><span class="token punctuation">,</span>
        <span class="token string">'/sw-test/index.html'</span><span class="token punctuation">,</span>
        <span class="token string">'/sw-test/style.css'</span><span class="token punctuation">,</span>
        <span class="token string">'/sw-test/app.js'</span><span class="token punctuation">,</span>
        <span class="token string">'/sw-test/image-list.js'</span><span class="token punctuation">,</span>
        <span class="token string">'/sw-test/star-wars-logo.jpg'</span><span class="token punctuation">,</span>
        <span class="token string">'/sw-test/gallery/'</span><span class="token punctuation">,</span>
        <span class="token string">'/sw-test/gallery/bountyHunters.jpg'</span><span class="token punctuation">,</span>
        <span class="token string">'/sw-test/gallery/myLittleVader.jpg'</span><span class="token punctuation">,</span>
        <span class="token string">'/sw-test/gallery/snowTroopers.jpg'</span>
      <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></div>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://w3c.github.io/ServiceWorker/#cache-addAll">Service Workers <br><small># cache-addAll</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>addAll</code></th>
<td class="bc-supports-yes">
<div>46</div>
<div>Requires HTTPS.</div>
</td>
<td class="bc-supports-yes"><div>16</div></td>
<td class="bc-supports-yes"><div>41</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes">
<div>33</div>
<div>Requires HTTPS.</div>
</td>
<td class="bc-supports-yes"><div>11.1</div></td>
<td class="bc-supports-yes">
<div>46</div>
<div>Requires HTTPS.</div>
</td>
<td class="bc-supports-yes">
<div>46</div>
<div>Requires HTTPS.</div>
</td>
<td class="bc-supports-yes"><div>41</div></td>
<td class="bc-supports-yes">
<div>33</div>
<div>Requires HTTPS.</div>
</td>
<td class="bc-supports-yes"><div>11.3</div></td>
<td class="bc-supports-yes">
<div>5.0</div>
<div>Requires HTTPS.</div>
</td>
</tr></tbody>
</table>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="../service_worker_api/using_service_workers">Using Service Workers</a></li> <li><a href="../cache"><code>Cache</code></a></li> <li><a href="../caches"><code>caches</code></a></li> </ul></div>
<aside class="metadata"><div class="metadata-content-container">
<div id="on-github" class="on-github">
<h3>Found a problem with this page?</h3>
<ul>
<li><a href="https://github.com/mdn/content/edit/main/files/en-us/web/api/cache/addall/index.md" target="_blank" rel="noopener noreferrer">Edit on <b>GitHub</b></a></li>
<li><a href="https://github.com/mdn/content/blob/main/files/en-us/web/api/cache/addall/index.md?plain=1" target="_blank" rel="noopener noreferrer">Source on <b>GitHub</b></a></li>
<li><a href="https://github.com/mdn/content/issues/new?template=page-report.yml&amp;mdn-url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FCache%2FaddAll&amp;metadata=%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EPage+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Fweb%2Fapi%2Fcache%2Faddall%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FCache%2FaddAll%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fmain%2Ffiles%2Fen-us%2Fweb%2Fapi%2Fcache%2Faddall%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2F9554d92fd756084b11dec0c59fde308048b388b8%0A*+Document+last+modified%3A+2022-08-05T09%3A05%3A51.000Z%0A%0A%3C%2Fdetails%3E" target="_blank" rel="noopener noreferrer">Report a problem with this content on <b>GitHub</b></a></li>
<li>Want to fix the problem yourself? See <a href="https://github.com/mdn/content/blob/main/README.md" target="_blank" rel="noopener noreferrer">our Contribution guide</a>.</li>
</ul>
</div>
<p class="last-modified-date"><b>Last modified:</b> <time datetime="2022-08-05T09:05:51.000Z">Aug 5, 2022</time>, <a href="addall/contributors.txt">by MDN contributors</a></p>
</div></aside><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Cache/addAll" class="_attribution-link" target="_blank">https://developer.mozilla.org/en-US/docs/Web/API/Cache/addAll</a>
  </p>
</div>
