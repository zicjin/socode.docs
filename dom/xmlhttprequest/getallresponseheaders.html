<h1>XMLHttpRequest.getAllResponseHeaders()</h1>
<div class="section-content">
<p> The <a href="../xmlhttprequest"><code>XMLHttpRequest</code></a> method <code>getAllResponseHeaders()</code> returns all the response headers, separated by <a href="https://developer.mozilla.org/en-US/docs/Glossary/CRLF">CRLF</a>, as a string, or returns <code>null</code> if no response has been received. </p> <p> If a network error happened, an empty string is returned. </p> <div class="notecard note" id="sect1"> <p> <strong>Note:</strong> For multipart requests, this returns the headers from the <em>current</em> part of the request, not from the original channel. </p> </div>
</div>
<h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example"><pre data-language="js"><span class="token function">getAllResponseHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</pre></div></div>
<h3 id="parameters">Parameters</h3>
<div class="section-content"><p>None.</p></div>
<h3 id="return_value">Return value</h3>
<div class="section-content">
<p> A string representing all of the response's headers (except those whose field name is <code>Set-Cookie</code>) separated by <a href="https://developer.mozilla.org/en-US/docs/Glossary/CRLF">CRLF</a>, or <code>null</code> if no response has been received. If a network error happened, an empty string is returned. </p> <p>An example of what a raw header string looks like:</p> <pre class="notranslate">date: Fri, 08 Dec 2017 21:04:30 GMT\r\n
content-encoding: gzip\r\n
x-content-type-options: nosniff\r\n
server: meinheld/0.6.1\r\n
x-frame-options: DENY\r\n
content-type: text/html; charset=utf-8\r\n
connection: keep-alive\r\n
strict-transport-security: max-age=63072000\r\n
vary: Cookie, Accept-Encoding\r\n
content-length: 6502\r\n
x-xss-protection: 1; mode=block\r\n
</pre> <p> Each line is terminated by both carriage return and line feed characters (<code>\r\n</code>). These are essentially delimiters separating each of the headers. </p> <div class="notecard note" id="sect2"> <p> <strong>Note:</strong> In modern browsers, the header names are returned in all lower case, as per the latest spec. </p> </div>
</div>
<h2 id="examples">Examples</h2>
<div class="section-content">
<p> This example examines the headers in the request's <a href="readystatechange_event"><code>readystatechange</code></a> event. The code shows how to obtain the raw header string, as well as how to convert it into an array of individual headers and then how to take that array and create a mapping of header names to their values. </p> <div class="code-example"><pre data-language="js"><span class="token keyword">const</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
request<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"GET"</span><span class="token punctuation">,</span> <span class="token string">"foo.txt"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
request<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

request<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">HEADERS_RECEIVED</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// Get the raw header string</span>
    <span class="token keyword">const</span> headers <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getAllResponseHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Convert the header string into an array</span>
    <span class="token comment">// of individual headers</span>
    <span class="token keyword">const</span> arr <span class="token operator">=</span> headers<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\r\n]+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Create a map of header names to values</span>
    <span class="token keyword">const</span> headerMap <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">line</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> parts <span class="token operator">=</span> line<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">': '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> header <span class="token operator">=</span> parts<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> value <span class="token operator">=</span> parts<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">': '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      headerMap<span class="token punctuation">[</span>header<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></div> <p>Once this is done, you can, for example:</p> <div class="code-example"><pre data-language="js"><span class="token keyword">const</span> contentType <span class="token operator">=</span> headerMap<span class="token punctuation">[</span><span class="token string">"content-type"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</pre></div> <p> This obtains the value of the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type"><code>Content-Type</code></a> header into the variable <code>contentType</code>. </p>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://xhr.spec.whatwg.org/#the-getallresponseheaders()-method">XMLHttpRequest Standard <br><small># the-getallresponseheaders()-method</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>getAllResponseHeaders</code></th>
<td class="bc-supports-yes"><div>1</div></td>
<td class="bc-supports-yes"><div>12</div></td>
<td class="bc-supports-yes">
<div>1</div>
<div>Starting from Firefox 49, empty headers are returned as empty strings in case the preference <code>network.http.keep_empty_response_headers_as_empty_string</code> is set to <code>true</code>, defaulting to <code>false</code>. Before Firefox 49 empty headers had been ignored. Since Firefox 50 the preference defaults to <code>true</code>.</div>
</td>
<td class="bc-supports-yes"><div>5</div></td>
<td class="bc-supports-yes"><div>≤12.1</div></td>
<td class="bc-supports-yes"><div>1.2</div></td>
<td class="bc-supports-yes"><div>4.4</div></td>
<td class="bc-supports-yes"><div>18</div></td>
<td class="bc-supports-yes">
<div>4</div>
<div>Starting from Firefox 49, empty headers are returned as empty strings in case the preference <code>network.http.keep_empty_response_headers_as_empty_string</code> is set to <code>true</code>, defaulting to <code>false</code>. Before Firefox 49 empty headers had been ignored. Since Firefox 50 the preference defaults to <code>true</code>.</div>
</td>
<td class="bc-supports-yes"><div>≤12.1</div></td>
<td class="bc-supports-yes"><div>1</div></td>
<td class="bc-supports-yes"><div>1.0</div></td>
</tr>
<tr>
<th><code>lowercase</code></th>
<td class="bc-supports-yes"><div>60</div></td>
<td class="bc-supports-yes"><div>79</div></td>
<td class="bc-supports-yes"><div>64</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>47</div></td>
<td class="bc-supports-yes"><div>11</div></td>
<td class="bc-supports-yes"><div>60</div></td>
<td class="bc-supports-yes"><div>60</div></td>
<td class="bc-supports-yes"><div>64</div></td>
<td class="bc-supports-yes"><div>44</div></td>
<td class="bc-supports-yes"><div>11</div></td>
<td class="bc-supports-yes"><div>8.0</div></td>
</tr>
</tbody>
</table>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="using_xmlhttprequest">Using XMLHttpRequest</a></li> <li>Setting request headers: <a href="setrequestheader"><code>setRequestHeader()</code></a>
</li> </ul></div>
<aside class="metadata"><div class="metadata-content-container">
<div id="on-github" class="on-github">
<h3>Found a problem with this page?</h3>
<ul>
<li><a href="https://github.com/mdn/content/edit/main/files/en-us/web/api/xmlhttprequest/getallresponseheaders/index.md" target="_blank" rel="noopener noreferrer">Edit on <b>GitHub</b></a></li>
<li><a href="https://github.com/mdn/content/blob/main/files/en-us/web/api/xmlhttprequest/getallresponseheaders/index.md?plain=1" target="_blank" rel="noopener noreferrer">Source on <b>GitHub</b></a></li>
<li><a href="https://github.com/mdn/content/issues/new?template=page-report.yml&amp;mdn-url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FXMLHttpRequest%2FgetAllResponseHeaders&amp;metadata=%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EPage+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Fweb%2Fapi%2Fxmlhttprequest%2Fgetallresponseheaders%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FXMLHttpRequest%2FgetAllResponseHeaders%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fmain%2Ffiles%2Fen-us%2Fweb%2Fapi%2Fxmlhttprequest%2Fgetallresponseheaders%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2Fd603b7c325204400c31652200e22563f5abd6546%0A*+Document+last+modified%3A+2022-08-03T09%3A19%3A59.000Z%0A%0A%3C%2Fdetails%3E" target="_blank" rel="noopener noreferrer">Report a problem with this content on <b>GitHub</b></a></li>
<li>Want to fix the problem yourself? See <a href="https://github.com/mdn/content/blob/main/README.md" target="_blank" rel="noopener noreferrer">our Contribution guide</a>.</li>
</ul>
</div>
<p class="last-modified-date"><b>Last modified:</b> <time datetime="2022-08-03T09:19:59.000Z">Aug 3, 2022</time>, <a href="getallresponseheaders/contributors.txt">by MDN contributors</a></p>
</div></aside><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/getAllResponseHeaders" class="_attribution-link" target="_blank">https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/getAllResponseHeaders</a>
  </p>
</div>
