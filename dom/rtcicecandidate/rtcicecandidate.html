<h1>RTCIceCandidate()</h1> <p>The <code><strong>RTCIceCandidate</strong></code><code>()</code> constructor creates and returns a new <a href="../rtcicecandidate"><code>RTCIceCandidate</code></a> object, which can be configured to represent a single <a href="https://developer.mozilla.org/en-US/docs/Glossary/ICE">ICE</a> candidate.</p>
<h2 id="syntax">Syntax</h2>
<div class="code-example"><pre data-language="js"><span class="token keyword">new</span> <span class="token class-name">RTCIceCandidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">new</span> <span class="token class-name">RTCIceCandidate</span><span class="token punctuation">(</span>candidateInfo<span class="token punctuation">)</span></pre></div>
<h3 id="parameters">Parameters</h3>
<dl> <dt>
<code>candidateInfo</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>An optional object that can be provided to configure the candidate. The object has the following properties:</p>  <dl> <dt>
<code>candidate</code> <span class="badge inline optional">Optional</span>
</dt> <dd>
<p>A <a href="../domstring"><code>DOMString</code></a> describing the properties of the candidate, taken directly from the <a href="../webrtc_api/protocols#sdp">SDP</a> attribute <code>"candidate"</code>. The candidate string specifies the network connectivity information for the candidate. If the <code>candidate</code> is an empty string (<code>""</code>), the end of the candidate list has been reached; this candidate is known as the "end-of-candidates" marker.</p> <p>The syntax of the candidate string is described in <a href="https://tools.ietf.org/html/rfc5245#section-15.1" rel=" noopener">RFC 5245, section 15.1</a>. For an a-line (attribute line) that looks like this:</p> <pre class="notranslate">a=candidate:4234997325 1 udp 2043278322 192.168.0.56 44323 typ host</pre> <p>the corresponding <code>candidate</code> string's value will be <code>"candidate:4234997325 1 udp 2043278322 192.168.0.56 44323 typ host"</code>.</p> <p>The <a href="https://developer.mozilla.org/en-US/docs/Glossary/User_agent">user agent</a> always prefers candidates with the highest <a href="priority"><code>priority</code></a>, all else being equal. In the example above, the priority is <code>2043278322</code>. The attributes are all separated by a single space character, and are in a specific order. The complete list of attributes for this example candidate is:</p> <ul> <li>
<a href="foundation"><code>foundation</code></a> = 4234997325</li> <li>
<a href="component"><code>component</code></a> = <code>"rtp"</code> (the number 1 is encoded to this string; 2 becomes <code>"rtcp"</code>)</li> <li>
<a href="protocol"><code>protocol</code></a> = <code>"udp"</code>
</li> <li>
<a href="priority"><code>priority</code></a> = 2043278322</li> <li>
<a href="address"><code>ip</code></a> = <code>"192.168.0.56"</code>
</li> <li>
<a href="port"><code>port</code></a> = 44323</li> <li>
<a href="type"><code>type</code></a> = <code>"host"</code>
</li> </ul> <p>Additional information can be found in <a href="candidate"><code>RTCIceCandidate.candidate</code></a>.</p> <div class="notecard note"> <p>For backward compatibility with older versions of the WebRTC specification, the constructor also accepts this string directly as an argument.</p> </div> </dd> <dt>
<code>sdpMid</code> <span class="badge inline optional">Optional</span> </dt> <dd>A <a href="../domstring"><code>DOMString</code></a> containing the identification tag of the media stream with which the candidate is associated, or <code>null</code> if there is no associated media stream. The default is <code>null</code>. <p>Additional information can be found in <a href="sdpmid"><code>RTCIceCandidate.sdpMid</code></a>.</p>
</dd> <dt>
<code>sdpMLineIndex</code> <span class="badge inline optional">Optional</span>
</dt> <dd>A number property containing the zero-based index of the m-line with which the candidate is associated, within the <a href="../webrtc_api/protocols#sdp">SDP</a> of the media description, or <code>null</code> if no such associated exists. The default is <code>null</code>. <p>Additional information can be found in <a href="sdpmlineindex"><code>RTCIceCandidate.sdpMLineIndex</code></a>.</p> </dd> <dt>
<code>usernameFragment</code> <span class="badge inline optional">Optional</span>
</dt> <dd>A <a href="../domstring"><code>DOMString</code></a> containing the username fragment (usually referred to in shorthand as "ufrag" or "ice-ufrag"). This fragment, along with the ICE password ("ice-pwd"), uniquely identifies a single ongoing ICE interaction (including for any communication with the <a href="https://developer.mozilla.org/en-US/docs/Glossary/STUN">STUN</a> server). <p>The string is generated by WebRTC at the beginning of the session. It may be up to 256 characters long, and at least 24 bits must contain random data. It has no default value and is not present unless set explicitly.</p> <p>Additional information can be found in <a href="usernamefragment"><code>RTCIceCandidate.usernameFragment</code></a>.</p> </dd> </dl> <p>The method will throw a <code>TypeError</code> exception if both <code>sdpMid</code> and <code>sdpMLineIndex</code> are <code>null</code>.</p> </dd> </dl>
<h3 id="return_value">Return value</h3>
<p>A newly-created <a href="../rtcicecandidate"><code>RTCIceCandidate</code></a> object.</p> <p>If <code>candidateInfo</code> is provided, the new <code>RTCIceCandidate</code> is initialized as follows:</p> <ul> <li>Each member of the <code>RTCIceCandidate</code> object is initialized to the value of the property by the same name from <code>candidateInfo</code>. This includes the <a href="candidate"><code>candidate</code></a>, <a href="sdpmid"><code>sdpMid</code></a>, <a href="sdpmlineindex"><code>sdpMLineIndex</code></a>, and <a href="usernamefragment"><code>usernameFragment</code></a> properties.</li> <li>The <code>candidate</code> string (which is SDP text) is parsed; each property found is stored in the corresponding field in the <code>RTCIceCandidate</code>. If any of the fields is invalid, parsing of the string silently aborts without throwing an exception. The default value of <code>candidate</code> is the empty string, which indicates that the candidate is an "end-of-candidates" message.</li> <li>The following fields are initialized to <code>null</code> if they are not included in the <a href="candidate"><code>RTCIceCandidate.candidate</code></a> property: <a href="foundation"><code>foundation</code></a>, <a href="component"><code>component</code></a>, <a href="priority"><code>priority</code></a> , <a href="address"><code>addresss</code></a>, <a href="protocol"><code>protocol</code></a>, <a href="port"><code>port</code></a>, <a href="type"><code>type</code></a>, <a href="tcptype"><code>tcpType</code></a>, <a href="relatedaddress"><code>relatedAddress</code></a>, and <a href="relatedport"><code>relatedPort</code></a>.</li> </ul> <div class="notecard note"> <p><strong>Note:</strong> Parsing of the <code>candidate</code> string is performed using the <a href="https://w3c.github.io/webrtc-pc/#candidate-attribute-grammar" rel=" noopener">candidate-attribute grammar</a> from the WebRTC Specification.</p> </div>
<h3 id="exceptions">Exceptions</h3>
<dl> <dt><code>TypeError</code></dt> <dd>The specified <code>candidateInfo</code> has values of <code>null</code> in both the <a href="../rtcicecandidateinit/sdpmid"><code>sdpMid</code></a> and <a href="../rtcicecandidateinit/sdpmlineindex"><code>sdpMLineIndex</code></a> properties.</dd> </dl>
<h2 id="usage_notes">Usage notes</h2>
<p>This constructor does not do complete validation of the specified <code>candidateInfo</code> object or string.</p>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-constructor">WebRTC 1.0: Real-Time Communication Between Browsers (WebRTC 1.0)<br><small># dom-rtcicecandidate-constructor</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>RTCIceCandidate</code></th>
<td class="bc-supports-yes"><div>23</div></td>
<td class="bc-supports-yes"><div>15</div></td>
<td class="bc-supports-yes">
<div>44</div>
<div>Before Firefox 68, the constructor's <code>options</code> parameter was required.</div>
<div>22</div>
<div>Before Firefox 68, the constructor's <code>options</code> parameter was required.</div>
</td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>15</div></td>
<td class="bc-supports-yes"><div>11</div></td>
<td class="bc-supports-yes"><div>â‰¤37</div></td>
<td class="bc-supports-yes"><div>25</div></td>
<td class="bc-supports-yes">
<div>44</div>
<div>Before Firefox 68, the constructor's <code>options</code> parameter was required.</div>
<div>22</div>
<div>Before Firefox 68, the constructor's <code>options</code> parameter was required.</div>
</td>
<td class="bc-supports-yes"><div>14</div></td>
<td class="bc-supports-yes"><div>11</div></td>
<td class="bc-supports-yes"><div>1.5</div></td>
</tr></tbody>
</table>


<h2 id="see_also">See also</h2>
<ul> <li>
<a href="../webrtc_api/protocols#ice">ICE</a> in <a href="../webrtc_api/protocols">Introduction to WebRTC protocols</a>
</li> <li><a href="../webrtc_api/connectivity">WebRTC connectivity</a></li> <li><a href="../webrtc_api/session_lifetime">Lifetime of a WebRTC session</a></li> <li><a href="../webrtc_api/signaling_and_video_calling">Signaling and video calling</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/RTCIceCandidate/RTCIceCandidate" class="_attribution-link" target="_blank">https://developer.mozilla.org/en-US/docs/Web/API/RTCIceCandidate/RTCIceCandidate</a>
  </p>
</div>
