<h1>RTCConfiguration.iceServers</h1>
 <p>The <a href="../rtcconfiguration"><code>RTCConfiguration</code></a> dictionary's <code><strong>iceServers</strong></code> property is an array of <a href="../rtciceserver"><code>RTCIceServer</code></a> objects, each of which describes a single <a href="https://developer.mozilla.org/en-US/docs/Glossary/STUN">STUN</a> or <a href="https://developer.mozilla.org/en-US/docs/Glossary/TURN">TURN</a> server to use for negotiation purposes. </p>
<h2 id="syntax">Syntax</h2>
<div class="code-example"><pre data-language="js"><span class="token keyword">let</span> rtcConfiguration <span class="token operator">=</span> <span class="token punctuation">{</span>
  iceServers<span class="token operator">:</span> <span class="token punctuation">[</span> iceServer1<span class="token operator">...</span> <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> rtcConfiguration<span class="token punctuation">.</span>iceServers <span class="token operator">=</span> <span class="token punctuation">[</span> iceServer1<span class="token operator">...</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
</pre></div>
<h3 id="value">Value</h3>
<p>An array of zero or more <a href="../rtciceserver"><code>RTCIceServer</code></a> objects, each of which describes one <a href="../webrtc_api/protocols">STUN or TURN server</a> for the ICE agent to use <a href="../webrtc_api/session_lifetime#establishing_the_connection">during the connection's negotiation</a>. Each object must at least have an <a href="../rtciceserver/urls"><code>urls</code></a> property, which is an array of one or more strings, each providing one server's URL.</p> <p>If the array is empty, or if the <code>iceServers</code> option isn't specified, the ICE agent will negotiate without the use of any servers, which will limit the connection to local peers.</p>
<h2 id="description">Description</h2>
<p>How the list of servers you provide is used is up to the implementation of the <a href="https://developer.mozilla.org/en-US/docs/Glossary/User_agent">user agent</a>. While it can be useful to provide a second server as a fallback in case the first is offline, listing too many servers can delay the user's connection being established, depending on the network's performance and how many servers get used for negotiation before a connection is established.</p> <p>If the list of servers is changed while a connection is already active by calling the <a href="../rtcpeerconnection"><code>RTCPeerConnection</code></a> method <a href="../rtcpeerconnection/setconfiguration"><code>setConfiguration()</code></a>, no immediate effect occurs. However, the new list of servers is used for any future renegotiation, such as while handling an <a href="../webrtc_api/session_lifetime#ice_restart">ICE restart</a>. </p>
<h2 id="examples">Examples</h2>
<p>The configuration below opens a new peer connection, specifying two servers for the ICE agent to use for negotiation. The first one, <code>stun:stun.services.mozilla.com</code>, requires authentication, so the username and password are provided. The second server has two URLs: <code>stun:stun.example.com</code> and <code>stun:stun-1.example.com</code>.</p> <div class="code-example"><pre data-language="js"><span class="token keyword">var</span> configuration <span class="token operator">=</span> <span class="token punctuation">{</span> iceServers<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
                          urls<span class="token operator">:</span> <span class="token string">"stun:stun.services.mozilla.com"</span><span class="token punctuation">,</span>
                          username<span class="token operator">:</span> <span class="token string">"louis@mozilla.com"</span><span class="token punctuation">,</span>
                          credential<span class="token operator">:</span> <span class="token string">"webrtcdemo"</span>
                      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                          urls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"stun:stun.example.com"</span><span class="token punctuation">,</span> <span class="token string">"stun:stun-1.example.com"</span><span class="token punctuation">]</span>
                      <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> pc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RTCPeerConnection</span><span class="token punctuation">(</span>configuration<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://w3c.github.io/webrtc-pc/#dom-rtcconfiguration-iceservers">WebRTC 1.0: Real-Time Communication Between Browsers (WebRTC 1.0)<br><small># dom-rtcconfiguration-iceservers</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>iceServers</code></th>
<td class="bc-supports-yes"><div>23</div></td>
<td class="bc-supports-yes"><div>≤79</div></td>
<td class="bc-supports-yes"><div>21</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>11</div></td>
<td class="bc-supports-yes"><div>≤37</div></td>
<td class="bc-supports-yes"><div>57</div></td>
<td class="bc-supports-yes"><div>21</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>11</div></td>
<td class="bc-supports-yes"><div>7.0</div></td>
</tr></tbody>
</table>


<h2 id="see_also">See also</h2>
<ul> <li><a href="../webrtc_api/protocols">Introduction to WebRTC protocols</a></li> <li><a href="../webrtc_api/session_lifetime#establishing_the_connection">Lifetime of a WebRTC connection</a></li> <li><a href="../webrtc_api/perfect_negotiation">Establishing a connection: The WebRTC perfect negotiation pattern</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/RTCConfiguration/iceServers" class="_attribution-link" target="_blank">https://developer.mozilla.org/en-US/docs/Web/API/RTCConfiguration/iceServers</a>
  </p>
</div>
