<h1>Web Storage API</h1>
<div class="section-content"><p>The <strong>Web Storage API</strong> provides mechanisms by which browsers can store key/value pairs, in a much more intuitive fashion than using <a href="https://developer.mozilla.org/en-US/docs/Glossary/Cookie">cookies</a>.</p></div>
<h2 id="web_storage_concepts_and_usage">Web Storage concepts and usage</h2>
<div class="section-content">
<p>The two mechanisms within Web Storage are as follows:</p> <ul> <li>
<code>sessionStorage</code> maintains a separate storage area for each given origin that's available for the duration of the page session (as long as the browser is open, including page reloads and restores) <ul> <li>Stores data only for a session, meaning that the data is stored until the browser (or tab) is closed.</li> <li>Data is never transferred to the server.</li> <li>Storage limit is larger than a cookie (at most 5MB).</li> </ul> </li> <li>
<code>localStorage</code> does the same thing, but persists even when the browser is closed and reopened. <ul> <li>Stores data with no expiration date, and gets cleared only through JavaScript, or clearing the Browser cache / Locally Stored Data.</li> <li>Storage limit is the maximum amongst the two.</li> </ul> </li> </ul> <p>These mechanisms are available via the <a href="window/sessionstorage"><code>Window.sessionStorage</code></a> and <a href="window/localstorage"><code>Window.localStorage</code></a> properties (to be more precise, in supporting browsers the <code>Window</code> object implements the <code>WindowLocalStorage</code> and <code>WindowSessionStorage</code> objects, which the <code>localStorage</code> and <code>sessionStorage</code> properties hang off) — invoking one of these will create an instance of the <a href="storage"><code>Storage</code></a> object, through which data items can be set, retrieved and removed. A different Storage object is used for the <code>sessionStorage</code> and <code>localStorage</code> for each origin — they function and are controlled separately.</p> <div class="notecard note" id="sect1"> <p><strong>Note:</strong> From Firefox 45 onwards, when the browser crashes/restarts, the amount of data saved per origin is limited to 10MB. This has been done to avoid memory issues caused by excessive usage of web storage.</p> </div> <div class="notecard note" id="sect2"> <p><strong>Note:</strong> Access to Web Storage from third-party IFrames is denied if the user has <a href="https://support.mozilla.org/en-US/kb/third-party-cookies-firefox-tracking-protection" rel=" noopener">disabled third-party cookies</a> (Firefox implements this behavior from <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Firefox/Releases/43">version 43</a> onwards.)</p> </div> <div class="notecard note" id="sect3"> <p><strong>Note:</strong> Web Storage is not the same as <code>mozStorage</code> (Mozilla's XPCOM interfaces to SQLite) or the <code>Session store API</code> (an XPCOM storage utility for use by extensions).</p> </div>
</div>
<h2 id="web_storage_interfaces">Web Storage interfaces</h2>
<div class="section-content"><dl> <dt id="storage"><a href="storage"><code>Storage</code></a></dt> <dd> <p>Allows you to set, retrieve and remove data for a specific domain and storage type (session or local).</p> </dd> <dt id="window"><a href="window"><code>Window</code></a></dt> <dd> <p>The Web Storage API extends the <a href="window"><code>Window</code></a> object with two new properties — <a href="window/sessionstorage"><code>Window.sessionStorage</code></a> and <a href="window/localstorage"><code>Window.localStorage</code></a> — which provide access to the current domain's session and local <a href="storage"><code>Storage</code></a> objects respectively, and a <a href="window/storage_event"><code>storage</code></a> event handler that fires when a storage area changes (e.g. a new item is stored.)</p> </dd> <dt id="storageevent"><a href="storageevent"><code>StorageEvent</code></a></dt> <dd> <p>The <code>storage</code> event is fired on a document's <code>Window</code> object when a storage area changes.</p> </dd> </dl></div>
<h2 id="examples">Examples</h2>
<div class="section-content">
<p>To illustrate some typical web storage usage, we have created a simple example, imaginatively called <a href="https://github.com/mdn/dom-examples/tree/master/web-storage" rel=" noopener">Web Storage Demo</a>. The <a href="https://mdn.github.io/dom-examples/web-storage/" rel=" noopener">landing page</a> provides controls that can be used to customize the color, font and decorative image. When you choose different options, the page is instantly updated; in addition your choices are stored in <code>localStorage</code>, so that when you leave the page then load it again later on your choices are remembered.</p> <p>In addition, we have provided an <a href="https://mdn.github.io/dom-examples/web-storage/event.html" rel=" noopener">event output page</a> — if you load this page in another tab, then make changes to your choices in the landing page, you'll see the updated storage information outputted as the <a href="storageevent"><code>StorageEvent</code></a> is fired.</p>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody>
<tr><td><a href="https://html.spec.whatwg.org/multipage/webstorage.html#dom-localstorage-dev">HTML Standard <br><small># dom-localstorage-dev</small></a></td></tr>
<tr><td><a href="https://html.spec.whatwg.org/multipage/webstorage.html#dom-sessionstorage-dev">HTML Standard <br><small># dom-sessionstorage-dev</small></a></td></tr>
</tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>Web_Storage_API</code></th>
<td class="bc-supports-yes"><div>5</div></td>
<td class="bc-supports-yes"><div>12</div></td>
<td class="bc-supports-yes"><div>2</div></td>
<td class="bc-supports-yes"><div>8</div></td>
<td class="bc-supports-yes"><div>10.5</div></td>
<td class="bc-supports-yes"><div>4</div></td>
<td class="bc-supports-yes"><div>≤37</div></td>
<td class="bc-supports-yes"><div>18</div></td>
<td class="bc-supports-yes"><div>4</div></td>
<td class="bc-supports-yes"><div>11</div></td>
<td class="bc-supports-yes"><div>3.2</div></td>
<td class="bc-supports-yes"><div>1.0</div></td>
</tr></tbody>
</table>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>Web_Storage_API</code></th>
<td class="bc-supports-yes"><div>4</div></td>
<td class="bc-supports-yes"><div>12</div></td>
<td class="bc-supports-yes"><div>3.5</div></td>
<td class="bc-supports-yes"><div>8</div></td>
<td class="bc-supports-yes"><div>10.5</div></td>
<td class="bc-supports-yes"><div>4</div></td>
<td class="bc-supports-yes"><div>≤37</div></td>
<td class="bc-supports-yes"><div>18</div></td>
<td class="bc-supports-yes"><div>4</div></td>
<td class="bc-supports-yes"><div>11</div></td>
<td class="bc-supports-yes"><div>3.2</div></td>
<td class="bc-supports-yes"><div>1.0</div></td>
</tr></tbody>
</table>
<h3 id="api.window.localstorage">api.Window.localStorage</h3>
<p>BCD tables only load in the browser<noscript> with JavaScript enabled. Enable JavaScript to view data.</noscript></p>
<h3 id="api.window.sessionstorage">api.Window.sessionStorage</h3>
<p>BCD tables only load in the browser<noscript> with JavaScript enabled. Enable JavaScript to view data.</noscript></p>
<h2 id="private_browsing_incognito_modes">Private Browsing / Incognito modes</h2>
<div class="section-content">
<p>Most modern browsers support a privacy option called 'Incognito', 'Private Browsing' or something similar that doesn't store data like history and cookies. This is fundamentally incompatible with Web Storage for obvious reasons. As such, browser vendors are experimenting with different scenarios for how to deal with this incompatibility.</p> <p>Most browsers have opted for a strategy where storage APIs are still available and seemingly fully functional, with the one big difference that all stored data is wiped after the browser is closed. For these browsers there are still different interpretations of what should be done with existing stored data (from a regular browsing session). Should it be available to read when in Private mode? Then there are some browsers, most notably old versions of Safari, that have opted for a solution where storage is available, but is empty and has a quota of 0 bytes assigned, effectively making it impossible to write data to it.</p> <p>Developers should be aware of these different implementations and take them into account when developing websites depending on Web Storage APIs. For more information please have a look at <a href="https://blog.whatwg.org/this-week-in-html-5-episode-30" rel=" noopener">this WHATWG blog post</a> that specifically deals with this topic.</p>
</div>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="web_storage_api/using_the_web_storage_api">Using the Web Storage API</a></li> <li><a href="indexeddb_api/browser_storage_limits_and_eviction_criteria">Browser storage limits and eviction criteria</a></li> </ul></div>
<aside class="metadata"><div class="metadata-content-container">
<div id="on-github" class="on-github">
<h3>Found a problem with this page?</h3>
<ul>
<li><a href="https://github.com/mdn/content/edit/main/files/en-us/web/api/web_storage_api/index.md" target="_blank" rel="noopener noreferrer">Edit on <b>GitHub</b></a></li>
<li><a href="https://github.com/mdn/content/blob/main/files/en-us/web/api/web_storage_api/index.md?plain=1" target="_blank" rel="noopener noreferrer">Source on <b>GitHub</b></a></li>
<li><a href="https://github.com/mdn/content/issues/new?template=page-report.yml&amp;mdn-url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FWeb_Storage_API&amp;metadata=%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EPage+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Fweb%2Fapi%2Fweb_storage_api%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FWeb_Storage_API%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fmain%2Ffiles%2Fen-us%2Fweb%2Fapi%2Fweb_storage_api%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2Fc20472c75b68a2fff9e3c50d2473280082d10a0c%0A*+Document+last+modified%3A+2022-07-16T12%3A02%3A08.000Z%0A%0A%3C%2Fdetails%3E" target="_blank" rel="noopener noreferrer">Report a problem with this content on <b>GitHub</b></a></li>
<li>Want to fix the problem yourself? See <a href="https://github.com/mdn/content/blob/main/README.md" target="_blank" rel="noopener noreferrer">our Contribution guide</a>.</li>
</ul>
</div>
<p class="last-modified-date"><b>Last modified:</b> <time datetime="2022-07-16T12:02:08.000Z">Jul 16, 2022</time>, <a href="web_storage_api/contributors.txt">by MDN contributors</a></p>
</div></aside><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API" class="_attribution-link" target="_blank">https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API</a>
  </p>
</div>
