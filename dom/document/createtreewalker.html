<h1>Document.createTreeWalker()</h1>
<div class="section-content"><p> The <code>Document.createTreeWalker()</code> creator method returns a newly created <a href="../treewalker"><code>TreeWalker</code></a> object. </p></div>
<h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example"><pre data-language="js"><span class="token function">createTreeWalker</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span>
<span class="token function">createTreeWalker</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> whatToShow<span class="token punctuation">)</span>
<span class="token function">createTreeWalker</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> whatToShow<span class="token punctuation">,</span> filter<span class="token punctuation">)</span>
</pre></div></div>
<h3 id="parameters">Parameters</h3>
<div class="section-content"><dl> <dt id="root"><code>root</code></dt> <dd> <p> A root <a href="../node"><code>Node</code></a> of this <a href="../treewalker"><code>TreeWalker</code></a> traversal. Typically this will be an element owned by the document. </p> </dd> <dt id="whattoshow">
<code>whatToShow</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p> A <code>unsigned long</code> representing a bitmask created by combining the constant properties of <a href="https://www.w3.org/TR/DOM-Level-2-Traversal-Range/traversal.html#Traversal-NodeFilter" rel=" noopener"><code>NodeFilter</code></a>. It is a convenient way of filtering for certain types of node. It defaults to <code>0xFFFFFFFF</code> representing the <code>SHOW_ALL</code> constant. </p> <div class="table-scroll"><div class="_table"><table> <thead> <tr> <th>Constant</th> <th>Numerical value</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>NodeFilter.SHOW_ALL</code></td> <td>
<code>4294967295</code> (that is the max value of <code>unsigned long</code>)</td> <td>Shows all nodes.</td> </tr> <tr> <td>
<code>NodeFilter.SHOW_ATTRIBUTE</code> <abbr class="icon icon-deprecated" title="Deprecated. Not for use in new websites."> <span class="visually-hidden">Deprecated</span> </abbr>
</td> <td><code>2</code></td> <td>Shows attribute <a href="../attr"><code>Attr</code></a> nodes. This is meaningful only when creating a <a href="../treewalker"><code>TreeWalker</code></a> with an <a href="../attr"><code>Attr</code></a> node as its root; in this case, it means that the attribute node will appear in the first position of the iteration or traversal. Since attributes are never children of other nodes, they do not appear when traversing over the document tree.</td> </tr> <tr> <td>
<code>NodeFilter.SHOW_CDATA_SECTION</code> <abbr class="icon icon-deprecated" title="Deprecated. Not for use in new websites."> <span class="visually-hidden">Deprecated</span> </abbr>
</td> <td><code>8</code></td> <td>Shows <a href="../cdatasection"><code>CDATASection</code></a> nodes.</td> </tr> <tr> <td><code>NodeFilter.SHOW_COMMENT</code></td> <td><code>128</code></td> <td>Shows <a href="../comment"><code>Comment</code></a> nodes.</td> </tr> <tr> <td><code>NodeFilter.SHOW_DOCUMENT</code></td> <td><code>256</code></td> <td>Shows <a href="../document"><code>Document</code></a> nodes.</td> </tr> <tr> <td><code>NodeFilter.SHOW_DOCUMENT_FRAGMENT</code></td> <td><code>1024</code></td> <td>Shows <a href="../documentfragment"><code>DocumentFragment</code></a> nodes.</td> </tr> <tr> <td><code>NodeFilter.SHOW_DOCUMENT_TYPE</code></td> <td><code>512</code></td> <td>Shows <a href="../documenttype"><code>DocumentType</code></a> nodes.</td> </tr> <tr> <td><code>NodeFilter.SHOW_ELEMENT</code></td> <td><code>1</code></td> <td>Shows <a href="../element"><code>Element</code></a> nodes.</td> </tr> <tr> <td>
<code>NodeFilter.SHOW_ENTITY</code> <abbr class="icon icon-deprecated" title="Deprecated. Not for use in new websites."> <span class="visually-hidden">Deprecated</span> </abbr>
</td> <td><code>32</code></td> <td>Legacy, no longer usable.</td> </tr> <tr> <td>
<code>NodeFilter.SHOW_ENTITY_REFERENCE</code> <abbr class="icon icon-deprecated" title="Deprecated. Not for use in new websites."> <span class="visually-hidden">Deprecated</span> </abbr>
</td> <td><code>16</code></td> <td>Legacy, no longer usable.</td> </tr> <tr> <td>
<code>NodeFilter.SHOW_NOTATION</code> <abbr class="icon icon-deprecated" title="Deprecated. Not for use in new websites."> <span class="visually-hidden">Deprecated</span> </abbr>
</td> <td><code>2048</code></td> <td>Legacy, no longer usable.</td> </tr> <tr> <td><code>NodeFilter.SHOW_PROCESSING_INSTRUCTION</code></td> <td><code>64</code></td> <td>Shows <a href="../processinginstruction"><code>ProcessingInstruction</code></a> nodes.</td> </tr> <tr> <td><code>NodeFilter.SHOW_TEXT</code></td> <td><code>4</code></td> <td>Shows <a href="../text"><code>Text</code></a> nodes.</td> </tr> </tbody> </table></div></div> </dd> <dt id="filter">
<code>filter</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p> A <a href="createnodeiterator"><code>NodeFilter</code></a>, that is an object with a method <code>acceptNode</code>, which is called by the <a href="../treewalker"><code>TreeWalker</code></a> to determine whether or not to accept a node that has passed the <code>whatToShow</code> check. </p> </dd> </dl></div>
<h3 id="return_value">Return value</h3>
<div class="section-content"><p>A new <a href="../treewalker"><code>TreeWalker</code></a> object.</p></div>
<h2 id="examples">Examples</h2>
<div class="section-content">
<p> The following example goes through all nodes in the body, filters out any non nodes that aren't elements (with the `NodeFilter.SHOW_ELEMENT` value), marks each remaining node as acceptable (The <code>acceptNode()</code> method could make a different decision.), and then makes use of tree walker iterator that is created to advance through the nodes (now all elements) and push them into an array. </p> <div class="code-example"><pre data-language="js"><span class="token keyword">const</span> treeWalker <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createTreeWalker</span><span class="token punctuation">(</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">,</span>
  NodeFilter<span class="token punctuation">.</span><span class="token constant">SHOW_ELEMENT</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token function">acceptNode</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> NodeFilter<span class="token punctuation">.</span><span class="token constant">FILTER_ACCEPT</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> nodeList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> currentNode <span class="token operator">=</span> treeWalker<span class="token punctuation">.</span>currentNode<span class="token punctuation">;</span>

<span class="token keyword">while</span><span class="token punctuation">(</span>currentNode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  nodeList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>currentNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
  currentNode <span class="token operator">=</span> treeWalker<span class="token punctuation">.</span><span class="token function">nextNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre></div>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://dom.spec.whatwg.org/#dom-document-createtreewalker">DOM Standard <br><small># dom-document-createtreewalker</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>createTreeWalker</code></th>
<td class="bc-supports-yes"><div>1</div></td>
<td class="bc-supports-yes"><div>12</div></td>
<td class="bc-supports-yes"><div>1</div></td>
<td class="bc-supports-yes"><div>9</div></td>
<td class="bc-supports-yes"><div>9</div></td>
<td class="bc-supports-yes"><div>3</div></td>
<td class="bc-supports-yes"><div>4.4</div></td>
<td class="bc-supports-yes"><div>18</div></td>
<td class="bc-supports-yes"><div>4</div></td>
<td class="bc-supports-yes"><div>10.1</div></td>
<td class="bc-supports-yes"><div>3</div></td>
<td class="bc-supports-yes"><div>1.0</div></td>
</tr>
<tr>
<th><code>whatToShow_filter_parameters_optional</code></th>
<td class="bc-supports-yes"><div>4</div></td>
<td class="bc-supports-yes"><div>13</div></td>
<td class="bc-supports-yes"><div>12</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>â‰¤15</div></td>
<td class="bc-supports-yes"><div>3</div></td>
<td class="bc-supports-yes"><div>â‰¤37</div></td>
<td class="bc-supports-yes"><div>18</div></td>
<td class="bc-supports-yes"><div>14</div></td>
<td class="bc-supports-yes"><div>â‰¤14</div></td>
<td class="bc-supports-yes"><div>3</div></td>
<td class="bc-supports-yes"><div>1.0</div></td>
</tr>
</tbody>
</table>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li>The interface of the object it creates: <a href="../treewalker"><code>TreeWalker</code></a>.</li> </ul></div>
<aside class="metadata"><div class="metadata-content-container">
<div id="on-github" class="on-github">
<h3>Found a problem with this page?</h3>
<ul>
<li><a href="https://github.com/mdn/content/edit/main/files/en-us/web/api/document/createtreewalker/index.md" target="_blank" rel="noopener noreferrer">Edit on <b>GitHub</b></a></li>
<li><a href="https://github.com/mdn/content/blob/main/files/en-us/web/api/document/createtreewalker/index.md?plain=1" target="_blank" rel="noopener noreferrer">Source on <b>GitHub</b></a></li>
<li><a href="https://github.com/mdn/content/issues/new?template=page-report.yml&amp;mdn-url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FDocument%2FcreateTreeWalker&amp;metadata=%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EPage+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Fweb%2Fapi%2Fdocument%2Fcreatetreewalker%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FDocument%2FcreateTreeWalker%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fmain%2Ffiles%2Fen-us%2Fweb%2Fapi%2Fdocument%2Fcreatetreewalker%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2F49b07e57dba92be3982e3c0035bc48e7a5036f97%0A*+Document+last+modified%3A+2022-07-28T11%3A35%3A38.000Z%0A%0A%3C%2Fdetails%3E" target="_blank" rel="noopener noreferrer">Report a problem with this content on <b>GitHub</b></a></li>
<li>Want to fix the problem yourself? See <a href="https://github.com/mdn/content/blob/main/README.md" target="_blank" rel="noopener noreferrer">our Contribution guide</a>.</li>
</ul>
</div>
<p class="last-modified-date"><b>Last modified:</b> <time datetime="2022-07-28T11:35:38.000Z">Jul 28, 2022</time>, <a href="createtreewalker/contributors.txt">by MDN contributors</a></p>
</div></aside><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/createTreeWalker" class="_attribution-link" target="_blank">https://developer.mozilla.org/en-US/docs/Web/API/Document/createTreeWalker</a>
  </p>
</div>
