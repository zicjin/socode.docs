<h1>Document.createExpression()</h1>
<div class="section-content"><p> This method compiles an <a href="../xpathexpression"><code>XPathExpression</code></a> which can then be used for (repeated) evaluations. </p></div>
<h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example"><pre data-language="js"><span class="token function">createExpression</span><span class="token punctuation">(</span>xpathText<span class="token punctuation">,</span> namespaceURLMapper<span class="token punctuation">)</span>
</pre></div></div>
<h3 id="parameters">Parameters</h3>
<div class="section-content">
<dl> <dt id="xpathtext"><code>xpathText</code></dt> <dd> <p>A string which is the XPath expression to be compiled.</p> </dd> <dt id="namespaceurlmapper"><code>namespaceURLMapper</code></dt> <dd> <p> A function which maps a namespace prefix to a namespace URL (or null if none needed). </p> </dd> </dl>
<div class="notecard note" id="sect1"><p><strong>Firefox 3 note:</strong> Prior to Firefox 3, you could call this method on documents other than the one you planned to run the XPath against. Under Firefox 3, you must call it on the same document.</p></div>
</div>
<h3 id="return_value">Return value</h3>
<div class="section-content"><a href="../xpathexpression"><code>XPathExpression</code></a></div>
<h2 id="examples">Examples</h2>
<div class="section-content"><div class="code-example"><pre data-language="js"><span class="token keyword">let</span> xpathExpr <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createExpression</span><span class="token punctuation">(</span><span class="token string">'//div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> xpathResult <span class="token operator">=</span> xpathExpr<span class="token punctuation">.</span><span class="token function">evaluate</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// returns an XPathResult object</span>
<span class="token keyword">let</span> nodeContext <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'nav'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// Re-using the XPathExpression "xpathExpr"</span>
<span class="token keyword">let</span> otherResult <span class="token operator">=</span> xpathExpr<span class="token punctuation">.</span><span class="token function">evaluate</span><span class="token punctuation">(</span>nodeContext<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// returns an XPathResult object</span>
</pre></div></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>createExpression</code></th>
<td class="bc-supports-yes"><div>1</div></td>
<td class="bc-supports-yes"><div>12</div></td>
<td class="bc-supports-yes"><div>1</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>≤12.1</div></td>
<td class="bc-supports-yes"><div>3</div></td>
<td class="bc-supports-yes"><div>3</div></td>
<td class="bc-supports-yes"><div>18</div></td>
<td class="bc-supports-yes"><div>4</div></td>
<td class="bc-supports-yes"><div>≤12.1</div></td>
<td class="bc-supports-yes"><div>1</div></td>
<td class="bc-supports-yes"><div>1.0</div></td>
</tr></tbody>
</table>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="evaluate"><code>Document.evaluate()</code></a></li> <li><a href="../xpathexpression"><code>XPathExpression</code></a></li> </ul></div>
<aside class="metadata"><div class="metadata-content-container">
<div id="on-github" class="on-github">
<h3>Found a problem with this page?</h3>
<ul>
<li><a href="https://github.com/mdn/content/edit/main/files/en-us/web/api/document/createexpression/index.md" target="_blank" rel="noopener noreferrer">Edit on <b>GitHub</b></a></li>
<li><a href="https://github.com/mdn/content/blob/main/files/en-us/web/api/document/createexpression/index.md?plain=1" target="_blank" rel="noopener noreferrer">Source on <b>GitHub</b></a></li>
<li><a href="https://github.com/mdn/content/issues/new?template=page-report.yml&amp;mdn-url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FDocument%2FcreateExpression&amp;metadata=%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EPage+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Fweb%2Fapi%2Fdocument%2Fcreateexpression%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FDocument%2FcreateExpression%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fmain%2Ffiles%2Fen-us%2Fweb%2Fapi%2Fdocument%2Fcreateexpression%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2F37f38ac4b337174d6b7ccf3fc08b1ac66c5a9fcd%0A*+Document+last+modified%3A+2022-05-31T04%3A29%3A22.000Z%0A%0A%3C%2Fdetails%3E" target="_blank" rel="noopener noreferrer">Report a problem with this content on <b>GitHub</b></a></li>
<li>Want to fix the problem yourself? See <a href="https://github.com/mdn/content/blob/main/README.md" target="_blank" rel="noopener noreferrer">our Contribution guide</a>.</li>
</ul>
</div>
<p class="last-modified-date"><b>Last modified:</b> <time datetime="2022-05-31T04:29:22.000Z">May 31, 2022</time>, <a href="createexpression/contributors.txt">by MDN contributors</a></p>
</div></aside><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/createExpression" class="_attribution-link" target="_blank">https://developer.mozilla.org/en-US/docs/Web/API/Document/createExpression</a>
  </p>
</div>
