<h1>RTCDataChannel.readyState</h1>
<div class="section-content"><p>The read-only <code>RTCDataChannel</code> property <code>readyState</code> returns a string which indicates the state of the data channel's underlying data connection.</p></div>
<h2 id="values">Values</h2>
<div class="section-content">
<p>A string indicating the current state of the underlying data transport, which is one of the following values:</p> <dl> <dt id="connecting"><code>connecting</code></dt> <dd> <p> The user agent (browser) is in the process of creating the underlying data transport; this is the state of a new <a href="../rtcdatachannel"><code>RTCDataChannel</code></a> after being created by <a href="../rtcpeerconnection/createdatachannel"><code>RTCPeerConnection.createDataChannel()</code></a>, on the peer which started the connection process. </p> </dd> <dt id="open"><code>open</code></dt> <dd> <p> The underlying data transport has been established and data can be transferred bidirectionally across it. This is the default state of a new <a href="../rtcdatachannel"><code>RTCDataChannel</code></a> created by the WebRTC layer when the remote peer created the channel and delivered it to the site or app in a <a href="../rtcpeerconnection/datachannel_event"><code>datachannel</code></a> event. </p> </dd> <dt id="closing"><code>closing</code></dt> <dd> <p> The process of closing the underlying data transport has begun. It is no longer possible to queue new messages to be sent, but previously queued messages may still be send or received before entering the <code>closed</code> state. </p> </dd> <dt id="closed"><code>closed</code></dt> <dd> <p> The underlying data transport has closed, or the attempt to make the connection failed. </p> </dd> </dl>
</div>
<h2 id="example">Example</h2>
<div class="section-content"><div class="code-example"><pre data-language="js"><span class="token keyword">const</span> dataChannel <span class="token operator">=</span> peerConnection<span class="token punctuation">.</span><span class="token function">createDataChannel</span><span class="token punctuation">(</span><span class="token string">"File Transfer"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> sendQueue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span><span class="token punctuation">(</span>dataChannel<span class="token punctuation">.</span>readyState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">"connecting"</span><span class="token operator">:</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Connection not open; queueing: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>msg<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      sendQueue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">"open"</span><span class="token operator">:</span>
      sendQueue<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> dataChannel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">"closing"</span><span class="token operator">:</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Attempted to send message while closing: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>msg<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">"closed"</span><span class="token operator">:</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Error! Attempt to send while connection closed."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></div></div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://w3c.github.io/webrtc-pc/#dom-datachannel-readystate">WebRTC 1.0: Real-Time Communication Between Browsers <br><small># dom-datachannel-readystate</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>readyState</code></th>
<td class="bc-supports-yes"><div>24</div></td>
<td class="bc-supports-yes"><div>79</div></td>
<td class="bc-supports-yes"><div>22</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>15</div></td>
<td class="bc-supports-yes"><div>11</div></td>
<td class="bc-supports-yes"><div>4.4</div></td>
<td class="bc-supports-yes"><div>25</div></td>
<td class="bc-supports-yes"><div>22</div></td>
<td class="bc-supports-yes"><div>14</div></td>
<td class="bc-supports-yes"><div>11</div></td>
<td class="bc-supports-yes"><div>1.5</div></td>
</tr></tbody>
</table>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="../webrtc_api">WebRTC</a></li> <li><a href="../webrtc_api/using_data_channels">Using WebRTC data channels</a></li> <li><a href="../rtcdatachannel"><code>RTCDataChannel</code></a></li> <li><a href="../rtcpeerconnection/createdatachannel"><code>RTCPeerConnection.createDataChannel()</code></a></li> </ul></div>
<aside class="metadata"><div class="metadata-content-container">
<div id="on-github" class="on-github">
<h3>Found a problem with this page?</h3>
<ul>
<li><a href="https://github.com/mdn/content/edit/main/files/en-us/web/api/rtcdatachannel/readystate/index.md" target="_blank" rel="noopener noreferrer">Edit on <b>GitHub</b></a></li>
<li><a href="https://github.com/mdn/content/blob/main/files/en-us/web/api/rtcdatachannel/readystate/index.md?plain=1" target="_blank" rel="noopener noreferrer">Source on <b>GitHub</b></a></li>
<li><a href="https://github.com/mdn/content/issues/new?template=page-report.yml&amp;mdn-url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FRTCDataChannel%2FreadyState&amp;metadata=%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EPage+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Fweb%2Fapi%2Frtcdatachannel%2Freadystate%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FRTCDataChannel%2FreadyState%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fmain%2Ffiles%2Fen-us%2Fweb%2Fapi%2Frtcdatachannel%2Freadystate%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2F510836b0fff9fd7fef01eba7a74962eb06106cf7%0A*+Document+last+modified%3A+2022-07-22T01%3A09%3A28.000Z%0A%0A%3C%2Fdetails%3E" target="_blank" rel="noopener noreferrer">Report a problem with this content on <b>GitHub</b></a></li>
<li>Want to fix the problem yourself? See <a href="https://github.com/mdn/content/blob/main/README.md" target="_blank" rel="noopener noreferrer">our Contribution guide</a>.</li>
</ul>
</div>
<p class="last-modified-date"><b>Last modified:</b> <time datetime="2022-07-22T01:09:28.000Z">Jul 22, 2022</time>, <a href="readystate/contributors.txt">by MDN contributors</a></p>
</div></aside><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/RTCDataChannel/readyState" class="_attribution-link" target="_blank">https://developer.mozilla.org/en-US/docs/Web/API/RTCDataChannel/readyState</a>
  </p>
</div>
