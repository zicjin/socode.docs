<h1>HTMLObjectElement.setCustomValidity()</h1>
<div class="section-content"><p> The <code>setCustomValidity()</code> method of the <a href="../htmlobjectelement"><code>HTMLObjectElement</code></a> interface sets a custom validity message for the element. </p></div>
<h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example"><pre data-language="js"><span class="token function">setCustomValidity</span><span class="token punctuation">(</span>errorMessage<span class="token punctuation">)</span>
</pre></div></div>
<h3 id="parameters">Parameters</h3>
<div class="section-content"><dl> <dt id="errormessage"><code>errorMessage</code></dt> <dd> <p>The message to use for validity errors.</p> </dd> </dl></div>
<h3 id="return_value">Return value</h3>
<div class="section-content"><p>None (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><code>undefined</code></a>).</p></div>
<h3 id="exceptions">Exceptions</h3>
<div class="section-content"><p>None.</p></div>
<h2 id="examples">Examples</h2>
<div class="section-content">
<p> In this example, we pass the ID of an input element, and set different error messages depending on whether the value is missing, too low or too high. Additionally you <em>must</em> call the <a href="../htmlformelement/reportvalidity">reportValidity</a> method on the same element or nothing will happen. </p> <div class="code-example"><pre data-language="js"><span class="token keyword">function</span> <span class="token function">validate</span><span class="token punctuation">(</span><span class="token parameter">inputID</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>inputID<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> validityState <span class="token operator">=</span> input<span class="token punctuation">.</span>validity<span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>validityState<span class="token punctuation">.</span>valueMissing<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    input<span class="token punctuation">.</span><span class="token function">setCustomValidity</span><span class="token punctuation">(</span><span class="token string">'You gotta fill this out, yo!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>validityState<span class="token punctuation">.</span>rangeUnderflow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    input<span class="token punctuation">.</span><span class="token function">setCustomValidity</span><span class="token punctuation">(</span><span class="token string">'We need a higher number!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>validityState<span class="token punctuation">.</span>rangeOverflow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    input<span class="token punctuation">.</span><span class="token function">setCustomValidity</span><span class="token punctuation">(</span><span class="token string">'Thats too high!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    input<span class="token punctuation">.</span><span class="token function">setCustomValidity</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  input<span class="token punctuation">.</span><span class="token function">reportValidity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre></div> <p> It's vital to set the message to an empty string if there are no errors. As long as the error message is not empty, the form will not pass validation and will not be submitted. </p>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#dom-cva-setcustomvalidity-dev">HTML Standard <br><small># dom-cva-setcustomvalidity-dev</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>setCustomValidity</code></th>
<td class="bc-supports-yes"><div>10</div></td>
<td class="bc-supports-yes"><div>12</div></td>
<td class="bc-supports-yes"><div>4</div></td>
<td class="bc-supports-yes"><div>10</div></td>
<td class="bc-supports-yes"><div>≤12.1</div></td>
<td class="bc-supports-yes"><div>5.1</div></td>
<td class="bc-supports-yes"><div>≤37</div></td>
<td class="bc-supports-yes"><div>18</div></td>
<td class="bc-supports-yes"><div>4</div></td>
<td class="bc-supports-yes"><div>≤12.1</div></td>
<td class="bc-supports-yes"><div>5</div></td>
<td class="bc-supports-yes"><div>1.0</div></td>
</tr></tbody>
</table>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="../validitystate"><code>validityState</code></a></li> <li><a class="page-not-created"><code>validityState.valueMissing</code></a></li> <li><a href="../validitystate/typemismatch"><code>validityState.typeMismatch</code></a></li> <li><a href="../validitystate/patternmismatch"><code>validityState.patternMismatch</code></a></li> <li><a href="../validitystate/toolong"><code>validityState.tooLong</code></a></li> <li><a href="../validitystate/tooshort"><code>validityState.tooShort</code></a></li> <li><a href="../validitystate/rangeunderflow"><code>validityState.rangeUnderflow</code></a></li> <li><a href="../validitystate/rangeoverflow"><code>validityState.rangeOverflow</code></a></li> <li><a href="../validitystate/stepmismatch"><code>validityState.stepMismatch</code></a></li> <li><a class="page-not-created"><code>validityState.valid</code></a></li> <li><a class="page-not-created"><code>validityState.customError</code></a></li> </ul></div>
<aside class="metadata"><div class="metadata-content-container">
<div id="on-github" class="on-github">
<h3>Found a problem with this page?</h3>
<ul>
<li><a href="https://github.com/mdn/content/edit/main/files/en-us/web/api/htmlobjectelement/setcustomvalidity/index.md" target="_blank" rel="noopener noreferrer">Edit on <b>GitHub</b></a></li>
<li><a href="https://github.com/mdn/content/blob/main/files/en-us/web/api/htmlobjectelement/setcustomvalidity/index.md?plain=1" target="_blank" rel="noopener noreferrer">Source on <b>GitHub</b></a></li>
<li><a href="https://github.com/mdn/content/issues/new?template=page-report.yml&amp;mdn-url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FHTMLObjectElement%2FsetCustomValidity&amp;metadata=%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EPage+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Fweb%2Fapi%2Fhtmlobjectelement%2Fsetcustomvalidity%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FHTMLObjectElement%2FsetCustomValidity%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fmain%2Ffiles%2Fen-us%2Fweb%2Fapi%2Fhtmlobjectelement%2Fsetcustomvalidity%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2F4578142fe33d01a3132d77a23fd2a7356fae2995%0A*+Document+last+modified%3A+2022-06-01T04%3A19%3A41.000Z%0A%0A%3C%2Fdetails%3E" target="_blank" rel="noopener noreferrer">Report a problem with this content on <b>GitHub</b></a></li>
<li>Want to fix the problem yourself? See <a href="https://github.com/mdn/content/blob/main/README.md" target="_blank" rel="noopener noreferrer">our Contribution guide</a>.</li>
</ul>
</div>
<p class="last-modified-date"><b>Last modified:</b> <time datetime="2022-06-01T04:19:41.000Z">Jun 1, 2022</time>, <a href="setcustomvalidity/contributors.txt">by MDN contributors</a></p>
</div></aside><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLObjectElement/setCustomValidity" class="_attribution-link" target="_blank">https://developer.mozilla.org/en-US/docs/Web/API/HTMLObjectElement/setCustomValidity</a>
  </p>
</div>
