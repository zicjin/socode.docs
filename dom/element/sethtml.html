<h1>Element.setHTML()</h1>
<div class="notecard experimental"><p><strong>Experimental:</strong> <strong>This is an <a href="https://developer.mozilla.org/en-US/docs/MDN/Guidelines/Conventions_definitions#experimental">experimental technology</a></strong><br>Check the <a href="#browser_compatibility">Browser compatibility table</a> carefully before using this in production.</p></div> <p> The <code>setHTML()</code> method of the <a href="../element"><code>Element</code></a> interface is used to parse and sanitize a string of HTML and then insert it into the DOM as a subtree of the element. It should be used instead of <a href="innerhtml"><code>Element.innerHTML</code></a> for inserting untrusted strings of HTML into an element. </p> <p> The parsing process drops any elements in the HTML string that are invalid in the context of the current element, while sanitizing removes any unsafe or otherwise unwanted elements, attributes or comments. The default <code>Sanitizer()</code> configuration strips out XSS-relevant input by default, including <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script"><code>&lt;script&gt;</code></a> tags, custom elements, and comments. The sanitizer configuration may be customized using <a href="../sanitizer/sanitizer"><code>Sanitizer()</code></a> constructor options. </p> <div class="notecard note"> <p><strong>Note:</strong> Use <a href="../sanitizer/sanitizefor"><code>Sanitizer.sanitizeFor()</code></a> instead of this method if the string must be inserted into the DOM at a later point, for example if the target element is not yet available.</p> </div>
<h2 id="syntax">Syntax</h2>
<div class="code-example"><pre data-language="js"><span class="token function">setHTML</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> sanitizer<span class="token punctuation">)</span>
</pre></div>
<h3 id="parameters">Parameters</h3>
<dl> <dt><code>input</code></dt> <dd> <p>A string defining HTML to be sanitized.</p> </dd> <dt><code>sanitizer</code></dt> <dd> <p>A <a href="../sanitizer"><code>Sanitizer</code></a> object, which defines what elements of the input will be sanitized.</p> </dd> </dl>
<h3 id="return_value">Return value</h3>
<p><code>undefined</code></p>
<h3 id="exceptions">Exceptions</h3>
<p>None.</p>
<h2 id="examples">Examples</h2>
<p>The code below demonstrates how to sanitize a string of HTML and insert it into the <code>Element</code> with an id of <code>target</code>.</p> <div class="code-example"><pre data-language="js"><span class="token keyword">const</span> unsanitized_string <span class="token operator">=</span> <span class="token string">"abc &lt;script&gt;alert(1)&lt;/script&gt; def"</span><span class="token punctuation">;</span>  <span class="token comment">// Unsanitized string of HTML</span>
<span class="token keyword">const</span> sanitizer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sanitizer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Default sanitizer;</span>

<span class="token comment">// Get the Element with id "target" and set it with the sanitized string.</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"target"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setHTML</span><span class="token punctuation">(</span>unsanitized_string<span class="token punctuation">,</span> sanitizer<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Result (as a string): "abc  def"</span>
</pre></div> <div class="notecard note"> <p> <strong>Note:</strong> This example uses the default sanitizer. The <a href="../sanitizer/sanitizer"><code>Sanitizer</code></a> constructor is used to configure sanitizer options. </p> </div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://wicg.github.io/sanitizer-api/#dom-element-sethtml">HTML Sanitizer API <br><small># dom-element-sethtml</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>setHTML</code></th>
<td class="bc-supports-yes"><div>93</div></td>
<td class="bc-supports-yes"><div>93</div></td>
<td class="bc-supports-yes"><div>94</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>79</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
</tr></tbody>
</table>
<h2 id="see_also">See also</h2>
<ul> <li><a href="../sanitizer/sanitizefor"><code>Sanitizer.sanitizeFor()</code></a></li> <li><a href="../html_sanitizer_api"><code>HTML Sanitizer API</code></a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/setHTML" class="_attribution-link" target="_blank">https://developer.mozilla.org/en-US/docs/Web/API/Element/setHTML</a>
  </p>
</div>
