<h1>Permissions</h1>
<div class="notecard experimental"><p><strong>Experimental:</strong> <strong>This is an <a href="https://developer.mozilla.org/en-US/docs/MDN/Guidelines/Conventions_definitions#experimental">experimental technology</a></strong><br>Check the <a href="#browser_compatibility">Browser compatibility table</a> carefully before using this in production.</p></div> <p>The Permissions interface of the <a href="permissions_api">Permissions API</a> provides the core Permission API functionality, such as methods for querying and revoking permissions</p>
<h2 id="methods">Methods</h2>
<dl> <dt><a href="permissions/query"><code>Permissions.query()</code></a></dt> <dd> <p>Returns the user permission status for a given API.</p> </dd> <dt><a class="page-not-created"><code>Permissions.request()</code></a></dt> <dd> <p>Requests permission to use a given API. This is not currently supported in any browser.</p> </dd> <dt><a class="page-not-created"><code>Permissions.requestAll()</code></a></dt> <dd> <p>Requests permission to use a given set of APIs. This is not currently supported in any browser.</p> </dd> <dt><a href="permissions/revoke"><code>Permissions.revoke()</code></a></dt> <dd> <p>Revokes the permission currently set on a given API.</p> </dd> </dl>
<h2 id="example">Example</h2>
<div class="code-example"><pre data-language="js">navigator<span class="token punctuation">.</span>permissions<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'geolocation'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>state <span class="token operator">===</span> <span class="token string">'granted'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">showLocalNewsWithGeolocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>state <span class="token operator">===</span> <span class="token string">'prompt'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">showButtonToEnableLocalNews</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// Don't do anything if the permission was denied.</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://w3c.github.io/permissions/#permissions-interface">Permissions <br><small># permissions-interface</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_support">Browser Support</h2>
<p>BCD tables only load in the browser</p><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Permissions" class="_attribution-link" target="_blank">https://developer.mozilla.org/en-US/docs/Web/API/Permissions</a>
  </p>
</div>
