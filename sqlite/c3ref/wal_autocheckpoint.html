      <h1>Configure an auto-checkpoint</h1>  <pre data-language="sql">
int sqlite3_wal_autocheckpoint(sqlite3 *db, int N);
</pre> <p> The <a href="wal_autocheckpoint">sqlite3_wal_autocheckpoint(D,N)</a> is a wrapper around <a href="wal_hook">sqlite3_wal_hook()</a> that causes any database on <a href="sqlite3">database connection</a> D to automatically <a href="../wal#ckpt">checkpoint</a> after committing a transaction if there are N or more frames in the <a href="../wal">write-ahead log</a> file. Passing zero or a negative value as the nFrame parameter disables automatic checkpoints entirely.</p> <p>The callback registered by this function replaces any existing callback registered using <a href="wal_hook">sqlite3_wal_hook()</a>. Likewise, registering a callback using <a href="wal_hook">sqlite3_wal_hook()</a> disables the automatic checkpoint mechanism configured by this function.</p> <p>The <a href="../pragma#pragma_wal_autocheckpoint">wal_autocheckpoint pragma</a> can be used to invoke this interface from SQL.</p> <p>Checkpoints initiated by this mechanism are <a href="wal_checkpoint_v2">PASSIVE</a>.</p> <p>Every new <a href="sqlite3">database connection</a> defaults to having the auto-checkpoint enabled with a threshold of 1000 or <a href="../compile#default_wal_autocheckpoint">SQLITE_DEFAULT_WAL_AUTOCHECKPOINT</a> pages. The use of this interface is only necessary if the default setting is found to be suboptimal for a particular application. </p>
<p>See also lists of <a href="objlist">Objects</a>, <a href="constlist">Constants</a>, and <a href="funclist">Functions</a>.</p> <div class="_attribution">
  <p class="_attribution-p">
    SQLite is in the Public Domain.<br>
    <a href="https://sqlite.org/c3ref/wal_autocheckpoint.html" class="_attribution-link">https://sqlite.org/c3ref/wal_autocheckpoint.html</a>
  </p>
</div>
