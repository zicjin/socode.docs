 <h1 id="splats-and-tuples">Splats and tuples</h1> <p>A method can receive a variable number of arguments by using a <em>splat parameter</em> (<code>*</code>), which can appear only once and in any position:</p> <div class="crystal highlight"><pre data-language="crystal">def sum(*elements)
  total = 0
  elements.each do |value|
    total += value
  end
  total
end

sum 1, 2, 3      # =&gt; 6
sum 1, 2, 3, 4.5 # =&gt; 10.5
</pre></div> <p>The passed arguments become a <a href="https://crystal-lang.org/api/1.5.0/Tuple.html">Tuple</a> in the method's body:</p> <div class="crystal highlight"><pre data-language="crystal"># elements is Tuple(Int32, Int32, Int32)
sum 1, 2, 3

# elements is Tuple(Int32, Int32, Int32, Float64)
sum 1, 2, 3, 4.5
</pre></div> <p>Arguments past the splat parameter can only be passed as named arguments:</p> <div class="crystal highlight"><pre data-language="crystal">def sum(*elements, initial = 0)
  total = initial
  elements.each do |value|
    total += value
  end
  total
end

sum 1, 2, 3              # =&gt; 6
sum 1, 2, 3, initial: 10 # =&gt; 16
</pre></div> <p>Parameters past the splat parameter without a default value are required named parameters:</p> <div class="crystal highlight"><pre data-language="crystal">def sum(*elements, initial)
  total = initial
  elements.each do |value|
    total += value
  end
  total
end

sum 1, 2, 3              # Error, missing argument: initial
sum 1, 2, 3, initial: 10 # =&gt; 16
</pre></div> <p>Two methods with different required named parameters overload between each other:</p> <div class="crystal highlight"><pre data-language="crystal">def foo(*elements, x)
  1
end

def foo(*elements, y)
  2
end

foo x: "something" # =&gt; 1
foo y: "something" # =&gt; 2
</pre></div> <p>The splat parameter can also be left unnamed, with the meaning "after this, named parameters follow":</p> <div class="crystal highlight"><pre data-language="crystal">def foo(x, y, *, z)
end

foo 1, 2, 3    # Error, wrong number of arguments (given 3, expected 2)
foo 1, 2       # Error, missing argument: z
foo 1, 2, z: 3 # OK
</pre></div> <h2 id="splatting-a-tuple">Splatting a tuple</h2> <p>A <code>Tuple</code> can be splat into a method call by using <code>*</code>:</p> <div class="crystal highlight"><pre data-language="crystal">def foo(x, y)
  x + y
end

tuple = {1, 2}
foo *tuple # =&gt; 3
</pre></div> <h2 id="double-splats-and-named-tuples">Double splats and named tuples</h2> <p>A double splat (<code>**</code>) captures named arguments that were not matched by other parameters. The type of the parameter is a <code>NamedTuple</code>:</p> <div class="crystal highlight"><pre data-language="crystal">def foo(x, **other)
  # Return the captured named arguments as a NamedTuple
  other
end

foo 1, y: 2, z: 3    # =&gt; {y: 2, z: 3}
foo y: 2, x: 1, z: 3 # =&gt; {y: 2, z: 3}
</pre></div> <h2 id="double-splatting-a-named-tuple">Double splatting a named tuple</h2> <p>A <code>NamedTuple</code> can be splat into a method call by using <code>**</code>:</p> <div class="crystal highlight"><pre data-language="crystal">def foo(x, y)
  x - y
end

tuple = {y: 3, x: 10}
foo **tuple # =&gt; 7
</pre></div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://crystal-lang.org/reference/1.5/syntax_and_semantics/splats_and_tuples.html" class="_attribution-link" target="_blank">https://crystal-lang.org/reference/1.5/syntax_and_semantics/splats_and_tuples.html</a>
  </p>
</div>
