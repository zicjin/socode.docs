 <h1 id="unsafe-code">Unsafe code</h1> <p>These parts of the language are considered unsafe:</p> <ul> <li>Code involving raw pointers: the <a href="https://crystal-lang.org/api/1.3.2/Pointer.html">Pointer</a> type and <a href="pointerof">pointerof</a>.</li> <li>The <a href="new%2c_initialize_and_allocate">allocate</a> class method.</li> <li>Code involving C bindings</li> <li><a href="declare_var">Uninitialized variable declaration</a></li> </ul> <p>"Unsafe" means that memory corruption, segmentation faults and crashes are possible to achieve. For example:</p> <div class="crystal highlight"><pre data-language="crystal">a = 1
ptr = pointerof(a)
ptr[100_000] = 2 # undefined behaviour, probably a segmentation fault
</pre></div> <p>However, regular code usually never involves pointer manipulation or uninitialized variables. And C bindings are usually wrapped in safe wrappers that include null pointers and bounds checks.</p> <p>No language is 100% safe: some parts will inevitably be low-level, interface with the operating system and involve pointer manipulation. But once you abstract that and operate on a higher level, and assume (after mathematical proof or thorough testing) that the lower grounds are safe, you can be confident that your entire codebase is safe.</p><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://crystal-lang.org/reference/1.3/syntax_and_semantics/unsafe.html" class="_attribution-link" target="_blank">https://crystal-lang.org/reference/1.3/syntax_and_semantics/unsafe.html</a>
  </p>
</div>
