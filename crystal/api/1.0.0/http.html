<h1 class="type-name"> module HTTP </h1> <h2>  Overview </h2> <p>The HTTP module contains <code><a href="http/client">HTTP::Client</a></code>, <code><a href="http/server">HTTP::Server</a></code> and <code><a href="http/websocket">HTTP::WebSocket</a></code> implementations.</p> <h2>  Defined in: </h2> <a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/http.cr#L10" target="_blank"> http.cr </a> <br> <a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/http/client.cr#L72" target="_blank"> http/client.cr </a> <br> <a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/http/common.cr#L7" target="_blank"> http/common.cr </a> <br> <a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/http/content.cr#L3" target="_blank"> http/content.cr </a> <br> <a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/http/cookie.cr#L3" target="_blank"> http/cookie.cr </a> <br> <a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/http/params.cr#L1" target="_blank"> http/params.cr </a> <br> <h2>  Constant Summary </h2> <dl> <dt class="entry-const" id="MAX_HEADERS_SIZE"> <strong>MAX_HEADERS_SIZE</strong> = <code>16384</code> </dt> <dd class="entry-const-doc"> <p>Default maximum permitted combined size (in bytes) of the headers in an HTTP request.</p> </dd> <dt class="entry-const" id="MAX_REQUEST_LINE_SIZE"> <strong>MAX_REQUEST_LINE_SIZE</strong> = <code>8192</code> </dt> <dd class="entry-const-doc"> <p>Default maximum permitted size (in bytes) of the request line in an HTTP request.</p> </dd> <dt class="entry-const" id="SUPPORTED_VERSIONS"> <strong>SUPPORTED_VERSIONS</strong> = <code>{"HTTP/1.0", "HTTP/1.1"}</code> </dt> </dl> <h2>  Class Method Summary </h2> <ul class="list-summary"> <li class="entry-summary"> <a href="#dequote_string(str)-class-method" class="signature"><strong>.dequote_string</strong>(str)</a> <div class="summary"><p>Dequotes an <a href="https://tools.ietf.org/html/rfc2616#page-17">RFC 2616</a> quoted-string.</p></div> </li> <li class="entry-summary"> <a href="#expect_continue?(headers)-class-method" class="signature"><strong>.expect_continue?</strong>(headers)</a> </li> <li class="entry-summary"> <a href="#format_time(time:Time):String-class-method" class="signature"><strong>.format_time</strong>(time : Time) : String</a> <div class="summary"><p>Format a <code><a href="time">Time</a></code> object as a <code><a href="string">String</a></code> using the format specified as <code>sane-cookie-date</code> by <a href="https://tools.ietf.org/html/rfc6265#section-4.1.1">RFC 6265</a> which is according to <a href="https://tools.ietf.org/html/rfc2616#section-3.3.1">RFC 2616</a> a <a href="https://tools.ietf.org/html/rfc1123#page-55">RFC 1123</a> format with explicit timezone <code>GMT</code> (interpreted as <code>UTC</code>).</p></div> </li> <li class="entry-summary"> <a href="#parse_time(time_str:String):Time?-class-method" class="signature"><strong>.parse_time</strong>(time_str : String) : Time?</a> <div class="summary"><p>Parse a time string using the formats specified by <a href="https://tools.ietf.org/html/rfc2616#section-3.3.1">RFC 2616</a></p></div> </li> <li class="entry-summary"> <a href="#quote_string(string,io)-class-method" class="signature"><strong>.quote_string</strong>(string, io)</a> <div class="summary"><p>Encodes a string to an <a href="https://tools.ietf.org/html/rfc2616#page-17">RFC 2616</a> quoted-string.</p></div> </li> <li class="entry-summary"> <a href="#quote_string(string)-class-method" class="signature"><strong>.quote_string</strong>(string)</a> <div class="summary"><p>Encodes a string to an <a href="https://tools.ietf.org/html/rfc2616#page-17">RFC 2616</a> quoted-string.</p></div> </li> <li class="entry-summary"> <a href="#serialize_chunked_body(io,body)-class-method" class="signature"><strong>.serialize_chunked_body</strong>(io, body)</a> </li> <li class="entry-summary"> <a href="#serialize_headers(io,headers)-class-method" class="signature"><strong>.serialize_headers</strong>(io, headers)</a> </li> <li class="entry-summary"> <a href="#serialize_headers_and_string_body(io,headers,body)-class-method" class="signature"><strong>.serialize_headers_and_string_body</strong>(io, headers, body)</a> </li> </ul>  <h2>  Class Method Detail </h2> <div class="entry-detail" id="dequote_string(str)-class-method"> <h3 class="signature">def self.<strong>dequote_string</strong>(str)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/http/common.cr#L382" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Dequotes an <a href="https://tools.ietf.org/html/rfc2616#page-17">RFC 2616</a> quoted-string.</p> <pre data-language="crystal">require "http"

quoted = %q(\"foo\\bar\")
HTTP.dequote_string(quoted) # =&gt; %q("foo\bar")</pre> </div>   </div> <div class="entry-detail" id="expect_continue?(headers)-class-method"> <h3 class="signature">def self.<strong>expect_continue?</strong>(headers)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/http/common.cr#L336" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="format_time(time:Time):String-class-method"> <h3 class="signature">def self.<strong>format_time</strong>(time : <a href="time">Time</a>) : <a href="string">String</a><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/http/common.cr#L369" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Format a <code><a href="time">Time</a></code> object as a <code><a href="string">String</a></code> using the format specified as <code>sane-cookie-date</code> by <a href="https://tools.ietf.org/html/rfc6265#section-4.1.1">RFC 6265</a> which is according to <a href="https://tools.ietf.org/html/rfc2616#section-3.3.1">RFC 2616</a> a <a href="https://tools.ietf.org/html/rfc1123#page-55">RFC 1123</a> format with explicit timezone <code>GMT</code> (interpreted as <code>UTC</code>).</p> <pre data-language="crystal">require "http"

HTTP.format_time(Time.utc(2016, 2, 15)) # =&gt; "Mon, 15 Feb 2016 00:00:00 GMT"</pre> <p>Uses <code><a href="time/format/http_date">Time::Format::HTTP_DATE</a></code> as formatter.</p> </div>   </div> <div class="entry-detail" id="parse_time(time_str:String):Time?-class-method"> <h3 class="signature">def self.<strong>parse_time</strong>(time_str : <a href="string">String</a>) : <a href="time">Time</a>?<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/http/common.cr#L351" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Parse a time string using the formats specified by <a href="https://tools.ietf.org/html/rfc2616#section-3.3.1">RFC 2616</a></p> <pre data-language="crystal">require "http"

HTTP.parse_time("Sun, 14 Feb 2016 21:00:00 GMT")  # =&gt; "2016-02-14 21:00:00 UTC"
HTTP.parse_time("Sunday, 14-Feb-16 21:00:00 GMT") # =&gt; "2016-02-14 21:00:00 UTC"
HTTP.parse_time("Sun Feb 14 21:00:00 2016")       # =&gt; "2016-02-14 21:00:00 UTC"</pre> <p>Uses <code><a href="time/format/http_date">Time::Format::HTTP_DATE</a></code> as parser.</p> </div>   </div> <div class="entry-detail" id="quote_string(string,io)-class-method"> <h3 class="signature">def self.<strong>quote_string</strong>(string, io)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/http/common.cr#L412" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Encodes a string to an <a href="https://tools.ietf.org/html/rfc2616#page-17">RFC 2616</a> quoted-string. Encoded string is written to <em>io</em>. May raise when <em>string</em> contains an invalid character.</p> <pre data-language="crystal">require "http"

string = %q("foo\ bar")
io = IO::Memory.new
HTTP.quote_string(string, io)
io.rewind
io.gets_to_end # =&gt; %q(\"foo\\\ bar\")</pre> </div>   </div> <div class="entry-detail" id="quote_string(string)-class-method"> <h3 class="signature">def self.<strong>quote_string</strong>(string)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/http/common.cr#L437" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Encodes a string to an <a href="https://tools.ietf.org/html/rfc2616#page-17">RFC 2616</a> quoted-string. May raise when <em>string</em> contains an invalid character.</p> <pre data-language="crystal">require "http"

string = %q("foo\ bar")
HTTP.quote_string(string) # =&gt; %q(\"foo\\\ bar\")</pre> </div>   </div> <div class="entry-detail" id="serialize_chunked_body(io,body)-class-method"> <h3 class="signature">def self.<strong>serialize_chunked_body</strong>(io, body)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/http/common.cr#L297" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="serialize_headers(io,headers)-class-method"> <h3 class="signature">def self.<strong>serialize_headers</strong>(io, headers)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/http/common.cr#L288" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="serialize_headers_and_string_body(io,headers,body)-class-method"> <h3 class="signature">def self.<strong>serialize_headers_and_string_body</strong>(io, headers, body)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/http/common.cr#L282" target="_blank" class="view-source">Source</a>
</h3>   </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://crystal-lang.org/api/1.0.0/HTTP.html" class="_attribution-link" target="_blank">https://crystal-lang.org/api/1.0.0/HTTP.html</a>
  </p>
</div>
