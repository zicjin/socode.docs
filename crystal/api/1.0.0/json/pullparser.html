<h1 class="type-name"> class JSON::PullParser </h1> <ul class="superclass-hierarchy">
<li class="superclass"><a href="pullparser">JSON::PullParser</a></li>
<li class="superclass"><a href="../reference">Reference</a></li>
<li class="superclass"><a href="../object">Object</a></li>
</ul> <h2>  Overview </h2> <p>This class allows you to consume JSON on demand, token by token.</p> <p>Each <em>read_*</em> method consumes the next token. Sometimes it consumes only one token (like <code><a href="pullparser#read_begin_array-instance-method">#read_begin_array</a></code>), sometimes it consumes a full valid value (like <code><a href="pullparser#read_array(&amp;)-instance-method">#read_array</a></code>).</p> <p>You must be careful when calling those methods, as they move forward into the JSON input you are pulling. Calling <code><a href="pullparser#read_string-instance-method">#read_string</a></code> twice will return the next two strings (if possible), not twice the same.</p> <p>If you try to read a token which is not the one currently under the cursor location, an exception <code><a href="parseexception">ParseException</a></code> will be raised.</p> <p>Example:</p> <pre data-language="crystal">input = %(
  {
    "type": "event",
    "values": [1, 4, "three", 10]
  }
)
pull = JSON::PullParser.new(input)
pull.read_begin_object
pull.read_object_key # =&gt; "type"
pull.read_string     # =&gt; "event"
# Actually you can also use `read_string` to read a key
pull.read_string # =&gt; "values"
pull.read_begin_array
pull.read_int    # =&gt; 1
pull.read_int    # =&gt; 4
pull.read_string # =&gt; "three"
pull.read_int    # =&gt; 10
pull.read_end_array
pull.read_end_object</pre> <p>Another example reading the same object:</p> <pre data-language="crystal">pull = JSON::PullParser.new(input)
pull.read_object do |key|
  case key
  when "type"
    pull.read_string # =&gt; "event"
  when "values"
    pull.read_array do
      if v = pull.read?(Int8)
        v
      else
        pull.read_string
      end
    end
  end
end</pre> <p>This example fails:</p> <pre data-language="crystal">pull = JSON::PullParser.new(input)
pull.read_begin_object
pull.read_object_key # =&gt; "type"
pull.read_string     # =&gt; "event"
pull.read_end_object # =&gt; raise an exception. The current token is a string ("values"), not the end of an object.</pre> <h2>  Defined in: </h2> <a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L61" target="_blank"> json/pull_parser.cr </a> <br> <h2>  Constructors </h2> <ul class="list-summary"> <li class="entry-summary"> <a href="#new(input)-class-method" class="signature"><strong>.new</strong>(input)</a> <div class="summary"><p>Creates a PullParser which will consume the JSON <em>input</em>.</p></div> </li> </ul> <h2>  Instance Method Summary </h2> <ul class="list-summary"> <li class="entry-summary"> <a href="#bool_value:Bool-instance-method" class="signature"><strong>#bool_value</strong> : Bool</a> </li> <li class="entry-summary"> <a href="#column_number-instance-method" class="signature"><strong>#column_number</strong></a> <div class="summary"><p>Returns the current column number.</p></div> </li> <li class="entry-summary"> <a href="#float_value:Float64-instance-method" class="signature"><strong>#float_value</strong> : Float64</a> </li> <li class="entry-summary"> <a href="#int_value:Int64-instance-method" class="signature"><strong>#int_value</strong> : Int64</a> </li> <li class="entry-summary"> <a href="#kind:Kind-instance-method" class="signature"><strong>#kind</strong> : Kind</a> </li> <li class="entry-summary"> <a href="#line_number-instance-method" class="signature"><strong>#line_number</strong></a> <div class="summary"><p>Returns the current line number.</p></div> </li> <li class="entry-summary"> <a href="#location:Tuple(Int32,Int32)-instance-method" class="signature"><strong>#location</strong> : Tuple(Int32, Int32)</a> <div class="summary"><p>Returns the current location.</p></div> </li> <li class="entry-summary"> <a href="#max_nesting:Int32-instance-method" class="signature"><strong>#max_nesting</strong> : Int32</a> </li> <li class="entry-summary"> <a href="#max_nesting=(max_nesting)-instance-method" class="signature"><strong>#max_nesting=</strong>(max_nesting)</a> </li> <li class="entry-summary"> <a href="#on_key(key,&amp;:self-%3E_)-instance-method" class="signature"><strong>#on_key</strong>(key, &amp; : self -&gt; _)</a> <div class="summary"><p>Reads an object keys and yield when <em>key</em> is found.</p></div> </li> <li class="entry-summary"> <a href="#on_key!(key,&amp;:self-%3E_)-instance-method" class="signature"><strong>#on_key!</strong>(key, &amp; : self -&gt; _)</a> <div class="summary"><p>Reads an object keys and yield when <em>key</em> is found.</p></div> </li> <li class="entry-summary"> <a href="#raise(message:String)-instance-method" class="signature"><strong>#raise</strong>(message : String)</a> <div class="summary"><p>Raises <code><a href="parseexception">ParseException</a></code> with <em>message</em> at current location.</p></div> </li> <li class="entry-summary"> <a href="#raw_value:String-instance-method" class="signature"><strong>#raw_value</strong> : String</a> </li> <li class="entry-summary"> <a href="#read?(klass:Bool.class)-instance-method" class="signature"><strong>#read?</strong>(klass : Bool.class)</a> <div class="summary"><p>Reads a <code><a href="../bool">Bool</a></code> value and returns it.</p></div> </li> <li class="entry-summary"> <a href="#read?(klass:Int16.class)-instance-method" class="signature"><strong>#read?</strong>(klass : Int16.class)</a> <div class="summary"><p>Reads an Int16 value and returns it.</p></div> </li> <li class="entry-summary"> <a href="#read?(klass:Int32.class)-instance-method" class="signature"><strong>#read?</strong>(klass : Int32.class)</a> <div class="summary"><p>Reads an Int32 value and returns it.</p></div> </li> <li class="entry-summary"> <a href="#read?(klass:Int64.class)-instance-method" class="signature"><strong>#read?</strong>(klass : Int64.class)</a> <div class="summary"><p>Reads an Int64 value and returns it.</p></div> </li> <li class="entry-summary"> <a href="#read?(klass:UInt8.class)-instance-method" class="signature"><strong>#read?</strong>(klass : UInt8.class)</a> <div class="summary"><p>Reads an UInt8 value and returns it.</p></div> </li> <li class="entry-summary"> <a href="#read?(klass:Int8.class)-instance-method" class="signature"><strong>#read?</strong>(klass : Int8.class)</a> <div class="summary"><p>Reads an Int8 value and returns it.</p></div> </li> <li class="entry-summary"> <a href="#read?(klass:UInt16.class)-instance-method" class="signature"><strong>#read?</strong>(klass : UInt16.class)</a> <div class="summary"><p>Reads an UInt16 value and returns it.</p></div> </li> <li class="entry-summary"> <a href="#read?(klass:UInt32.class)-instance-method" class="signature"><strong>#read?</strong>(klass : UInt32.class)</a> <div class="summary"><p>Reads an UInt32 value and returns it.</p></div> </li> <li class="entry-summary"> <a href="#read?(klass:UInt64.class)-instance-method" class="signature"><strong>#read?</strong>(klass : UInt64.class)</a> <div class="summary"><p>Reads an <code><a href="../int64">Int64</a></code> value and returns it.</p></div> </li> <li class="entry-summary"> <a href="#read?(klass:Float32.class)-instance-method" class="signature"><strong>#read?</strong>(klass : Float32.class)</a> <div class="summary"><p>Reads an <code><a href="../float32">Float32</a></code> value and returns it.</p></div> </li> <li class="entry-summary"> <a href="#read?(klass:Float64.class)-instance-method" class="signature"><strong>#read?</strong>(klass : Float64.class)</a> <div class="summary"><p>Reads an <code><a href="../float64">Float64</a></code> value and returns it.</p></div> </li> <li class="entry-summary"> <a href="#read?(klass:String.class)-instance-method" class="signature"><strong>#read?</strong>(klass : String.class)</a> <div class="summary"><p>Reads a <code><a href="../string">String</a></code> value and returns it.</p></div> </li> <li class="entry-summary"> <a href="#read_array(&amp;)-instance-method" class="signature"><strong>#read_array</strong>(&amp;)</a> <div class="summary"><p>Reads a whole array.</p></div> </li> <li class="entry-summary"> <a href="#read_array_or_null(&amp;)-instance-method" class="signature"><strong>#read_array_or_null</strong>(&amp;)</a> <div class="summary"><p>Reads an array or a null value, and returns it.</p></div> </li> <li class="entry-summary"> <a href="#read_begin_array-instance-method" class="signature"><strong>#read_begin_array</strong></a> <div class="summary"><p>Reads the beginning of an array.</p></div> </li> <li class="entry-summary"> <a href="#read_begin_object-instance-method" class="signature"><strong>#read_begin_object</strong></a> <div class="summary"><p>Reads the beginning of an object.</p></div> </li> <li class="entry-summary"> <a href="#read_bool-instance-method" class="signature"><strong>#read_bool</strong></a> <div class="summary"><p>Reads a <code><a href="../bool">Bool</a></code> value.</p></div> </li> <li class="entry-summary"> <a href="#read_bool_or_null-instance-method" class="signature"><strong>#read_bool_or_null</strong></a> <div class="summary"><p>Reads a <code><a href="../bool">Bool</a></code> or a null value, and returns it.</p></div> </li> <li class="entry-summary"> <a href="#read_end_array-instance-method" class="signature"><strong>#read_end_array</strong></a> <div class="summary"><p>Reads the end of an array.</p></div> </li> <li class="entry-summary"> <a href="#read_end_object-instance-method" class="signature"><strong>#read_end_object</strong></a> <div class="summary"><p>Reads the end of an object.</p></div> </li> <li class="entry-summary"> <a href="#read_float-instance-method" class="signature"><strong>#read_float</strong></a> <div class="summary"><p>Reads a float value.</p></div> </li> <li class="entry-summary"> <a href="#read_float_or_null-instance-method" class="signature"><strong>#read_float_or_null</strong></a> <div class="summary"><p>Reads a float or a null value, and returns it.</p></div> </li> <li class="entry-summary"> <a href="#read_int-instance-method" class="signature"><strong>#read_int</strong></a> <div class="summary"><p>Reads an integer value.</p></div> </li> <li class="entry-summary"> <a href="#read_int_or_null-instance-method" class="signature"><strong>#read_int_or_null</strong></a> <div class="summary"><p>Reads an integer or a null value, and returns it.</p></div> </li> <li class="entry-summary"> <a href="#read_next-instance-method" class="signature"><strong>#read_next</strong></a> <div class="summary"><p>Reads the next lexer's token.</p></div> </li> <li class="entry-summary"> <a href="#read_null-instance-method" class="signature"><strong>#read_null</strong></a> <div class="summary"><p>Reads a null value and returns it.</p></div> </li> <li class="entry-summary"> <a href="#read_null_or(&amp;)-instance-method" class="signature"><strong>#read_null_or</strong>(&amp;)</a> <div class="summary"><p>Reads a null value and returns it, or executes the given block if the value is not null.</p></div> </li> <li class="entry-summary"> <a href="#read_object(&amp;)-instance-method" class="signature"><strong>#read_object</strong>(&amp;)</a> <div class="summary"><p>Reads a whole object.</p></div> </li> <li class="entry-summary"> <a href="#read_object_key-instance-method" class="signature"><strong>#read_object_key</strong></a> <div class="summary"><p>Reads an object's key and returns it.</p></div> </li> <li class="entry-summary"> <a href="#read_object_or_null(&amp;)-instance-method" class="signature"><strong>#read_object_or_null</strong>(&amp;)</a> <div class="summary"><p>Reads an object or a null value, and returns it.</p></div> </li> <li class="entry-summary"> <a href="#read_raw-instance-method" class="signature"><strong>#read_raw</strong></a> <div class="summary"><p>Read the next value and returns it.</p></div> </li> <li class="entry-summary"> <a href="#read_raw(json)-instance-method" class="signature"><strong>#read_raw</strong>(json)</a> <div class="summary"><p>Reads the new value and fill the a JSON builder with it.</p></div> </li> <li class="entry-summary"> <a href="#read_string-instance-method" class="signature"><strong>#read_string</strong></a> <div class="summary"><p>Reads a string and returns it.</p></div> </li> <li class="entry-summary"> <a href="#read_string_or_null-instance-method" class="signature"><strong>#read_string_or_null</strong></a> <div class="summary"><p>Reads a string or a null value, and returns it.</p></div> </li> <li class="entry-summary"> <a href="#skip-instance-method" class="signature"><strong>#skip</strong></a> <div class="summary"><p>Skips the next value.</p></div> </li> <li class="entry-summary"> <a href="#string_value:String-instance-method" class="signature"><strong>#string_value</strong> : String</a> </li> </ul> <div class="methods-inherited"> <h3>Instance methods inherited from class <code><a href="../reference">Reference</a></code>
</h3> <a href="../reference#==(other:self)-instance-method" class="tooltip"> ==(other : self)<br>==(other : JSON::Any)<br>==(other : YAML::Any)<br>==(other) ==</a>, <a href="../reference#dup-instance-method" class="tooltip"> dup dup</a>, <a href="../reference#hash(hasher)-instance-method" class="tooltip"> hash(hasher) hash</a>, <a href="../reference#inspect(io:IO):Nil-instance-method" class="tooltip"> inspect(io : IO) : Nil inspect</a>, <a href="../reference#object_id:UInt64-instance-method" class="tooltip"> object_id : UInt64 object_id</a>, <a href="../reference#pretty_print(pp):Nil-instance-method" class="tooltip"> pretty_print(pp) : Nil pretty_print</a>, <a href="../reference#same?(other:Reference)-instance-method" class="tooltip"> same?(other : Reference)<br>same?(other : Nil) same?</a>, <a href="../reference#to_s(io:IO):Nil-instance-method" class="tooltip"> to_s(io : IO) : Nil to_s</a> <h3>Constructor methods inherited from class <code><a href="../reference">Reference</a></code>
</h3> <a href="../reference#new-class-method" class="tooltip"> new new</a> <h3>Instance methods inherited from class <code><a href="../object">Object</a></code>
</h3> <a href="../object#!:Bool-instance-method" class="tooltip"> ! : Bool !</a>, <a href="../object#!=(other)-instance-method" class="tooltip"> !=(other) !=</a>, <a href="../object#!~(other)-instance-method" class="tooltip"> !~(other) !~</a>, <a href="../object#==(other)-instance-method" class="tooltip"> ==(other) ==</a>, <a href="../object#===(other:JSON::Any)-instance-method" class="tooltip"> ===(other : JSON::Any)<br>===(other : YAML::Any)<br>===(other) ===</a>, <a href="../object#=~(other)-instance-method" class="tooltip"> =~(other) =~</a>, <a href="../object#as(type:Class)-instance-method" class="tooltip"> as(type : Class) as</a>, <a href="../object#as?(type:Class)-instance-method" class="tooltip"> as?(type : Class) as?</a>, <a href="../object#class-instance-method" class="tooltip"> class class</a>, <a href="../object#dup-instance-method" class="tooltip"> dup dup</a>, <a href="../object#hash(hasher)-instance-method" class="tooltip"> hash(hasher)<br>hash hash</a>, <a href="../object#in?(*values:Object):Bool-instance-method" class="tooltip"> in?(*values : Object) : Bool<br>in?(collection) : Bool in?</a>, <a href="../object#inspect:String-instance-method" class="tooltip"> inspect : String<br>inspect(io : IO) : Nil inspect</a>, <a href="../object#is_a?(type:Class):Bool-instance-method" class="tooltip"> is_a?(type : Class) : Bool is_a?</a>, <a href="../object#itself-instance-method" class="tooltip"> itself itself</a>, <a href="../object#nil?:Bool-instance-method" class="tooltip"> nil? : Bool nil?</a>, <a href="../object#not_nil!-instance-method" class="tooltip"> not_nil! not_nil!</a>, <a href="#" class="tooltip"> pretty_inspect(width = 79, newline = "\n", indent = 0) : String pretty_inspect</a>, <a href="../object#pretty_print(pp:PrettyPrint):Nil-instance-method" class="tooltip"> pretty_print(pp : PrettyPrint) : Nil pretty_print</a>, <a href="../object#responds_to?(name:Symbol):Bool-instance-method" class="tooltip"> responds_to?(name : Symbol) : Bool responds_to?</a>, <a href="../object#tap(&amp;)-instance-method" class="tooltip"> tap(&amp;) tap</a>, <a href="../object#to_json(io:IO)-instance-method" class="tooltip"> to_json(io : IO)<br>to_json to_json</a>, <a href="#" class="tooltip"> to_pretty_json(io : IO, indent : String = " ")<br>to_pretty_json(indent : String = " ") to_pretty_json</a>, <a href="../object#to_s:String-instance-method" class="tooltip"> to_s : String<br>to_s(io : IO) : Nil to_s</a>, <a href="../object#to_yaml(io:IO)-instance-method" class="tooltip"> to_yaml(io : IO)<br>to_yaml to_yaml</a>, <a href="../object#try(&amp;)-instance-method" class="tooltip"> try(&amp;) try</a>, <a href="../object#unsafe_as(type:T.class)forallT-instance-method" class="tooltip"> unsafe_as(type : T.class) forall T unsafe_as</a> <h3>Class methods inherited from class <code><a href="../object">Object</a></code>
</h3> <a href="../object#from_json(string_or_io,root:String)-class-method" class="tooltip"> from_json(string_or_io, root : String)<br>from_json(string_or_io) from_json</a>, <a href="../object#from_yaml(string_or_io:String%7CIO)-class-method" class="tooltip"> from_yaml(string_or_io : String | IO) from_yaml</a> </div> <h2>  Constructor Detail </h2> <div class="entry-detail" id="new(input)-class-method"> <h3 class="signature">def self.<strong>new</strong>(input)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L92" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Creates a PullParser which will consume the JSON <em>input</em>.</p> <p><em>input</em> must be a <code><a href="../string">String</a></code> or an <code><a href="../io">IO</a></code>.</p> </div>   </div> <h2>  Instance Method Detail </h2> <div class="entry-detail" id="bool_value:Bool-instance-method"> <h3 class="signature">def <strong>bool_value</strong> : <a href="../bool">Bool</a><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L81" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="column_number-instance-method"> <h3 class="signature">def <strong>column_number</strong><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L571" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns the current column number.</p> </div>   </div> <div class="entry-detail" id="float_value:Float64-instance-method"> <h3 class="signature">def <strong>float_value</strong> : <a href="../float64">Float64</a><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L83" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="int_value:Int64-instance-method"> <h3 class="signature">def <strong>int_value</strong> : <a href="../int64">Int64</a><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L82" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="kind:Kind-instance-method"> <h3 class="signature">def <strong>kind</strong> : <a href="pullparser/kind">Kind</a><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L80" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="line_number-instance-method"> <h3 class="signature">def <strong>line_number</strong><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L566" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns the current line number.</p> </div>   </div> <div class="entry-detail" id="location:Tuple(Int32,Int32)-instance-method"> <h3 class="signature">def <strong>location</strong> : <a href="../tuple">Tuple</a>(<a href="../int32">Int32</a>, <a href="../int32">Int32</a>)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L578" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns the current location.</p> <p>The location is a tuple <code>{line number, column number}</code>.</p> </div>   </div> <div class="entry-detail" id="max_nesting:Int32-instance-method"> <h3 class="signature">def <strong>max_nesting</strong> : <a href="../int32">Int32</a><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L87" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="max_nesting=(max_nesting)-instance-method"> <h3 class="signature">def <strong>max_nesting=</strong>(max_nesting)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L87" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="on_key(key,&amp;:self-&gt;_)-instance-method"> <h3 class="signature">def <strong>on_key</strong>(key, &amp; : self -&gt; _)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L354" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads an object keys and yield when <em>key</em> is found.</p> <p>All the other object keys are skipped.</p> <p>Returns the return value of the block or <code><a href="../nil">Nil</a></code> if the key was not read.</p> </div>   </div> <div class="entry-detail" id="on_key!(key,&amp;:self-&gt;_)-instance-method"> <h3 class="signature">def <strong>on_key!</strong>(key, &amp; : self -&gt; _)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L371" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads an object keys and yield when <em>key</em> is found. If not found, raise an <code><a href="../exception">Exception</a></code>.</p> <p>All the other object keys are skipped.</p> <p>Returns the return value of the block.</p> </div>   </div> <div class="entry-detail" id="raise(message:String)-instance-method"> <h3 class="signature">def <strong>raise</strong>(message : <a href="../string">String</a>)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L690" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Raises <code><a href="parseexception">ParseException</a></code> with <em>message</em> at current location.</p> </div>   </div> <div class="entry-detail" id="raw_value:String-instance-method"> <h3 class="signature">def <strong>raw_value</strong> : <a href="../string">String</a><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L85" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="read?(klass:Bool.class)-instance-method"> <h3 class="signature">def <strong>read?</strong>(klass : Bool.class)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L403" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads a <code><a href="../bool">Bool</a></code> value and returns it.</p> <p>If the value is not a <code><a href="../bool">Bool</a></code>, returns <code>nil</code>.</p> </div>   </div> <div class="entry-detail" id="read?(klass:Int16.class)-instance-method"> <h3 class="signature">def <strong>read?</strong>(klass : Int16.class)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L407" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads an Int16 value and returns it.</p> <p>If the value is not an integer or does not fit in a Int16 variable, it returns <code>nil</code>.</p> </div>   </div> <div class="entry-detail" id="read?(klass:Int32.class)-instance-method"> <h3 class="signature">def <strong>read?</strong>(klass : Int32.class)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L407" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads an Int32 value and returns it.</p> <p>If the value is not an integer or does not fit in a Int32 variable, it returns <code>nil</code>.</p> </div>   </div> <div class="entry-detail" id="read?(klass:Int64.class)-instance-method"> <h3 class="signature">def <strong>read?</strong>(klass : Int64.class)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L407" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads an Int64 value and returns it.</p> <p>If the value is not an integer or does not fit in a Int64 variable, it returns <code>nil</code>.</p> </div>   </div> <div class="entry-detail" id="read?(klass:UInt8.class)-instance-method"> <h3 class="signature">def <strong>read?</strong>(klass : UInt8.class)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L407" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads an UInt8 value and returns it.</p> <p>If the value is not an integer or does not fit in a UInt8 variable, it returns <code>nil</code>.</p> </div>   </div> <div class="entry-detail" id="read?(klass:Int8.class)-instance-method"> <h3 class="signature">def <strong>read?</strong>(klass : Int8.class)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L407" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads an Int8 value and returns it.</p> <p>If the value is not an integer or does not fit in a Int8 variable, it returns <code>nil</code>.</p> </div>   </div> <div class="entry-detail" id="read?(klass:UInt16.class)-instance-method"> <h3 class="signature">def <strong>read?</strong>(klass : UInt16.class)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L407" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads an UInt16 value and returns it.</p> <p>If the value is not an integer or does not fit in a UInt16 variable, it returns <code>nil</code>.</p> </div>   </div> <div class="entry-detail" id="read?(klass:UInt32.class)-instance-method"> <h3 class="signature">def <strong>read?</strong>(klass : UInt32.class)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L407" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads an UInt32 value and returns it.</p> <p>If the value is not an integer or does not fit in a UInt32 variable, it returns <code>nil</code>.</p> </div>   </div> <div class="entry-detail" id="read?(klass:UInt64.class)-instance-method"> <h3 class="signature">def <strong>read?</strong>(klass : UInt64.class)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L421" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads an <code><a href="../int64">Int64</a></code> value and returns it.</p> <p>If the value is not an integer or does not fin in an <code><a href="../int64">Int64</a></code> variable, it returns <code>nil</code>.</p> </div>   </div> <div class="entry-detail" id="read?(klass:Float32.class)-instance-method"> <h3 class="signature">def <strong>read?</strong>(klass : Float32.class)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L432" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads an <code><a href="../float32">Float32</a></code> value and returns it.</p> <p>If the value is not an integer or does not fit in an <code><a href="../float32">Float32</a></code>, it returns <code>nil</code>. If the value was actually an integer, it is converted to a float.</p> </div>   </div> <div class="entry-detail" id="read?(klass:Float64.class)-instance-method"> <h3 class="signature">def <strong>read?</strong>(klass : Float64.class)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L443" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads an <code><a href="../float64">Float64</a></code> value and returns it.</p> <p>If the value is not an integer or does not fit in a <code><a href="../float64">Float64</a></code> variable, it returns <code>nil</code>. If the value was actually an integer, it is converted to a float.</p> </div>   </div> <div class="entry-detail" id="read?(klass:String.class)-instance-method"> <h3 class="signature">def <strong>read?</strong>(klass : String.class)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L451" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads a <code><a href="../string">String</a></code> value and returns it.</p> <p>If the value is not a <code><a href="../string">String</a></code>, returns <code>nil</code>.</p> </div>   </div> <div class="entry-detail" id="read_array(&amp;)-instance-method"> <h3 class="signature">def <strong>read_array</strong>(&amp;)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L152" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads a whole array.</p> <p>It reads the beginning of the array, yield each value of the array, and reads the end of the array. You have to consumes the values, if any, so the pull parser does not fail when reading the end of the array.</p> <p>If the array is empty, it does not yield.</p> </div>   </div> <div class="entry-detail" id="read_array_or_null(&amp;)-instance-method"> <h3 class="signature">def <strong>read_array_or_null</strong>(&amp;)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L330" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads an array or a null value, and returns it.</p> </div>   </div> <div class="entry-detail" id="read_begin_array-instance-method"> <h3 class="signature">def <strong>read_begin_array</strong><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L135" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads the beginning of an array.</p> </div>   </div> <div class="entry-detail" id="read_begin_object-instance-method"> <h3 class="signature">def <strong>read_begin_object</strong><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L161" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads the beginning of an object.</p> </div>   </div> <div class="entry-detail" id="read_bool-instance-method"> <h3 class="signature">def <strong>read_bool</strong><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L201" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads a <code><a href="../bool">Bool</a></code> value.</p> </div>   </div> <div class="entry-detail" id="read_bool_or_null-instance-method"> <h3 class="signature">def <strong>read_bool_or_null</strong><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L310" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads a <code><a href="../bool">Bool</a></code> or a null value, and returns it.</p> </div>   </div> <div class="entry-detail" id="read_end_array-instance-method"> <h3 class="signature">def <strong>read_end_array</strong><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L141" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads the end of an array.</p> </div>   </div> <div class="entry-detail" id="read_end_object-instance-method"> <h3 class="signature">def <strong>read_end_object</strong><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L167" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads the end of an object.</p> </div>   </div> <div class="entry-detail" id="read_float-instance-method"> <h3 class="signature">def <strong>read_float</strong><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L215" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads a float value.</p> <p>If the value is actually an integer, it is converted to float.</p> </div>   </div> <div class="entry-detail" id="read_float_or_null-instance-method"> <h3 class="signature">def <strong>read_float_or_null</strong><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L320" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads a float or a null value, and returns it.</p> </div>   </div> <div class="entry-detail" id="read_int-instance-method"> <h3 class="signature">def <strong>read_int</strong><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L207" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads an integer value.</p> </div>   </div> <div class="entry-detail" id="read_int_or_null-instance-method"> <h3 class="signature">def <strong>read_int_or_null</strong><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L315" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads an integer or a null value, and returns it.</p> </div>   </div> <div class="entry-detail" id="read_next-instance-method"> <h3 class="signature">def <strong>read_next</strong><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L395" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads the next lexer's token.</p> <p>Contrary to <code><a href="pullparser#read_raw-instance-method">#read_raw</a></code>, it does not read a full value. For example if the next token is the beginning of an array, it will stop there, while <code><a href="pullparser#read_raw-instance-method">#read_raw</a></code> would have read the whole array.</p> </div>   </div> <div class="entry-detail" id="read_null-instance-method"> <h3 class="signature">def <strong>read_null</strong><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L194" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads a null value and returns it.</p> </div>   </div> <div class="entry-detail" id="read_null_or(&amp;)-instance-method"> <h3 class="signature">def <strong>read_null_or</strong>(&amp;)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L340" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads a null value and returns it, or executes the given block if the value is not null.</p> </div>   </div> <div class="entry-detail" id="read_object(&amp;)-instance-method"> <h3 class="signature">def <strong>read_object</strong>(&amp;)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L183" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads a whole object.</p> <p>It reads the beginning of the object, yield each key and key location, and reads the end of the object. You have to consumes the values, if any, so the pull parser does not fail when reading the end of the object.</p> <p>If the object is empty, it does not yield.</p> </div>   </div> <div class="entry-detail" id="read_object_key-instance-method"> <h3 class="signature">def <strong>read_object_key</strong><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L173" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads an object's key and returns it.</p> </div>   </div> <div class="entry-detail" id="read_object_or_null(&amp;)-instance-method"> <h3 class="signature">def <strong>read_object_or_null</strong>(&amp;)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L335" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads an object or a null value, and returns it.</p> </div>   </div> <div class="entry-detail" id="read_raw-instance-method"> <h3 class="signature">def <strong>read_raw</strong><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L243" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Read the next value and returns it.</p> <p>The value is returned as a json string. If the value is an array or an object, it returns a string representing the full value. If the value in unknown, it raises a <code><a href="parseexception">ParseException</a></code>.</p> <pre data-language="crystal">pull = JSON::PullParser.new %([null, true, 1, "foo", [1, "two"], {"foo": "bar"}])
pull.read_begin_array
pull.read_raw # =&gt; "null"
pull.read_raw # =&gt; "true"
pull.read_raw # =&gt; "1"
pull.read_raw # =&gt; "\"foo\""
pull.read_raw # =&gt; "[1,\"two\"]"
pull.read_raw # =&gt; "{\"foo\":\"bar\"}"
pull.read_end_array</pre> </div>   </div> <div class="entry-detail" id="read_raw(json)-instance-method"> <h3 class="signature">def <strong>read_raw</strong>(json)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L266" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads the new value and fill the a JSON builder with it.</p> <p>Use this method with a <code><a href="builder">JSON::Builder</a></code> to read a JSON while building another one.</p> </div>   </div> <div class="entry-detail" id="read_string-instance-method"> <h3 class="signature">def <strong>read_string</strong><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L304" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads a string and returns it.</p> </div>   </div> <div class="entry-detail" id="read_string_or_null-instance-method"> <h3 class="signature">def <strong>read_string_or_null</strong><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L325" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads a string or a null value, and returns it.</p> </div>   </div> <div class="entry-detail" id="skip-instance-method"> <h3 class="signature">def <strong>skip</strong><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L559" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Skips the next value.</p> <p>It skips the whole value, not only the next lexer's token. For example if the next value is an array, the whole array will be skipped.</p> </div>   </div> <div class="entry-detail" id="string_value:String-instance-method"> <h3 class="signature">def <strong>string_value</strong> : <a href="../string">String</a><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/json/pull_parser.cr#L84" target="_blank" class="view-source">Source</a>
</h3>   </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://crystal-lang.org/api/1.0.0/JSON/PullParser.html" class="_attribution-link" target="_blank">https://crystal-lang.org/api/1.0.0/JSON/PullParser.html</a>
  </p>
</div>
