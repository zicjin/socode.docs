<h1 class="type-name"> module Iterator(T) </h1> <h2>  Overview </h2> <p>An <code><a href="iterator">Iterator</a></code> allows processing sequences lazily, as opposed to <code><a href="enumerable">Enumerable</a></code> which processes sequences eagerly and produces an <code><a href="array">Array</a></code> in most of its methods.</p> <p>As an example, let's compute the first three numbers in the range <code>1..10_000_000</code> that are even, multiplied by three. One way to do this is:</p> <pre data-language="crystal">(1..10_000_000).select(&amp;.even?).map { |x| x * 3 }.first(3) # =&gt; [6, 12, 18]</pre> <p>The above works, but creates many intermediate arrays: one for the <em>select</em> call, one for the <em>map</em> call and one for the <em>take</em> call. A more efficient way is to invoke <code><a href="range#each(&amp;):Nil-instance-method">Range#each</a></code> without a block, which gives us an <code><a href="iterator">Iterator</a></code> so we can process the operations lazily:</p> <pre data-language="crystal">(1..10_000_000).each.select(&amp;.even?).map { |x| x * 3 }.first(3) # =&gt; #&lt; Iterator(T)::First...</pre> <p><code><a href="iterator">Iterator</a></code> redefines many of <code><a href="enumerable">Enumerable</a></code>'s method in a lazy way, returning iterators instead of arrays.</p> <p>At the end of the call chain we get back a new iterator: we need to consume it, either using <code><a href="iterator#each-instance-method">#each</a></code> or <code><a href="enumerable#to_a-instance-method">Enumerable#to_a</a></code>:</p> <pre data-language="crystal">(1..10_000_000).each.select(&amp;.even?).map { |x| x * 3 }.first(3).to_a # =&gt; [6, 12, 18]</pre> <p>Because iterators only go forward, when using methods that consume it entirely or partially – <code>to_a</code>, <code>any?</code>, <code>count</code>, <code>none?</code>, <code>one?</code> and <code>size</code> – subsequent calls will give a different result as there will be less elements to consume.</p> <pre data-language="crystal">iter = (0...100).each
iter.size # =&gt; 100
iter.size # =&gt; 0</pre> <p>To implement an <code><a href="iterator">Iterator</a></code> you need to define a <code><a href="iterator#next-instance-method">#next</a></code> method that must return the next element in the sequence or <code><a href="iterator/stop#INSTANCE">Iterator::Stop::INSTANCE</a></code>, which signals the end of the sequence (you can invoke <code><a href="iterator#stop-instance-method">#stop</a></code> inside an iterator as a shortcut).</p> <p>For example, this is an iterator that returns a sequence of <code>N</code> zeros:</p> <pre data-language="crystal">class Zeros
  include Iterator(Int32)

  def initialize(@size : Int32)
    @produced = 0
  end

  def next
    if @produced &lt; @size
      @produced += 1
      0
    else
      stop
    end
  end
end

zeros = Zeros.new(5)
zeros.to_a # =&gt; [0, 0, 0, 0, 0]</pre> <p>The standard library provides iterators for many classes, like <code><a href="array">Array</a></code>, <code><a href="hash">Hash</a></code>, <code><a href="range">Range</a></code>, <code><a href="string">String</a></code> and <code><a href="io">IO</a></code>. Usually to get an iterator you invoke a method that would usually yield elements to a block, but without passing a block: <code>Array#each</code>, <code>Array#each_index</code>, <code><a href="hash#each-instance-method">Hash#each</a></code>, <code><a href="string#each_char-instance-method">String#each_char</a></code>, <code><a href="io#each_line(*args,**options,&amp;block:String-%3E):Nil-instance-method">IO#each_line</a></code>, etc.</p> <h2>  Included Modules </h2> <ul class="other-types-list"> <li class="other-type"><a href="enumerable">Enumerable(T)</a></li> </ul> <h2>  Direct including types </h2> <ul class="other-types-list"> <li class="other-type"><a href="number/stepiterator">Number::StepIterator(T, L, B)</a></li> </ul> <h2>  Defined in: </h2> <a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L74" target="_blank"> iterator.cr </a> <br> <h2>  Class Method Summary </h2> <ul class="list-summary"> <li class="entry-summary"> <a href="#chain(iters:Iterator(Iter))forallIter-class-method" class="signature"><strong>.chain</strong>(iters : Iterator(Iter)) forall Iter</a> <div class="summary"><p>The same as <code><a href="iterator#chain(other:Iterator(U))forallU-instance-method">#chain</a></code>, but have better performance when the quantity of iterators to chain is large (usually greater than 4) or undetermined.</p></div> </li> <li class="entry-summary"> <a href="#chain(iters:Iterable(Iter))forallIter-class-method" class="signature"><strong>.chain</strong>(iters : Iterable(Iter)) forall Iter</a> <div class="summary"><p>the same as <code><a href="iterator#chain(iters:Iterator(Iter))forallIter-class-method">.chain(Iterator(Iter)</a>)</code></p></div> </li> <li class="entry-summary"> <a href="#of(element:T)-class-method" class="signature"><strong>.of</strong>(element : T)</a> </li> <li class="entry-summary"> <a href="#of(&amp;block:-%3ET)-class-method" class="signature"><strong>.of</strong>(&amp;block : -&gt; T)</a> </li> <li class="entry-summary"> <a href="#stop-class-method" class="signature"><strong>.stop</strong></a> <div class="summary"><p>Shortcut for <code><a href="iterator/stop#INSTANCE">Iterator::Stop::INSTANCE</a></code>, to signal that there are no more elements in an iterator.</p></div> </li> </ul> <h2>  Instance Method Summary </h2> <ul class="list-summary"> <li class="entry-summary"> <a href="#chain(other:Iterator(U))forallU-instance-method" class="signature"><strong>#chain</strong>(other : Iterator(U)) forall U</a> <div class="summary"><p>Returns an iterator that returns elements from the original iterator until it is exhausted and then returns the elements of the second iterator.</p></div> </li> <li class="entry-summary"> <a href="#chunk(reuse=false,&amp;block:T-%3EU)forallT,U-instance-method" class="signature"><strong>#chunk</strong>(reuse = false, &amp;block : T -&gt; U) forall T, U</a> <div class="summary"><p>Returns an Iterator that enumerates over the items, chunking them together based on the return value of the block.</p></div> </li> <li class="entry-summary"> <a href="#chunk_while(reuse:Bool%7CArray(T)=false,&amp;block:T,T-%3EB)forallB-instance-method" class="signature"><strong>#chunk_while</strong>(reuse : Bool | Array(T) = false, &amp;block : T, T -&gt; B) forall B</a> <div class="summary"><p>Returns an iterator for each chunked elements where elements are kept in a given chunk as long as the block's value over a pair of elements is <em>truthy</em>.</p></div> </li> <li class="entry-summary"> <a href="#compact_map(&amp;func:T-%3E_)-instance-method" class="signature"><strong>#compact_map</strong>(&amp;func : T -&gt; _)</a> <div class="summary"><p>Returns an iterator that applies the given function to the element and then returns it unless it is <code>nil</code>.</p></div> </li> <li class="entry-summary"> <a href="#cons(n:Int,reuse=false)-instance-method" class="signature"><strong>#cons</strong>(n : Int, reuse = false)</a> <div class="summary"><p>Returns an iterator that returns consecutive chunks of the size <em>n</em>.</p></div> </li> <li class="entry-summary"> <a href="#cons_pair:Iterator(Tuple(T,T))-instance-method" class="signature"><strong>#cons_pair</strong> : Iterator(Tuple(T, T))</a> <div class="summary"><p>Returns an iterator that returns consecutive pairs of adjacent items.</p></div> </li> <li class="entry-summary"> <a href="#cycle(n:Int)-instance-method" class="signature"><strong>#cycle</strong>(n : Int)</a> <div class="summary"><p>Returns an iterator that repeatedly returns the elements of the original iterator starting back at the beginning when the end was reached, but only <em>n</em> times.</p></div> </li> <li class="entry-summary"> <a href="#cycle-instance-method" class="signature"><strong>#cycle</strong></a> <div class="summary"><p>Returns an iterator that repeatedly returns the elements of the original iterator forever starting back at the beginning when the end was reached.</p></div> </li> <li class="entry-summary"> <a href="#each-instance-method" class="signature"><strong>#each</strong></a> </li> <li class="entry-summary"> <a href="#each(&amp;):Nil-instance-method" class="signature"><strong>#each</strong>(&amp;) : Nil</a> <div class="summary"><p>Calls the given block once for each element, passing that element as a parameter.</p></div> </li> <li class="entry-summary"> <a href="#each_slice(n,reuse=false)-instance-method" class="signature"><strong>#each_slice</strong>(n, reuse = false)</a> <div class="summary"><p>Returns an iterator that then returns slices of <em>n</em> elements of the initial iterator.</p></div> </li> <li class="entry-summary"> <a href="#first(n:Int)-instance-method" class="signature"><strong>#first</strong>(n : Int)</a> <div class="summary"><p>Returns an iterator that only returns the first <em>n</em> elements of the initial iterator.</p></div> </li> <li class="entry-summary"> <a href="#flat_map(&amp;func:T-%3E_)-instance-method" class="signature"><strong>#flat_map</strong>(&amp;func : T -&gt; _)</a> <div class="summary"><p>Returns a new iterator with the concatenated results of running the block once for every element in the collection.</p></div> </li> <li class="entry-summary"> <a href="#flatten-instance-method" class="signature"><strong>#flatten</strong></a> <div class="summary"><p>Returns an iterator that flattens nested iterators and arrays into a single iterator whose type is the union of the simple types of all of the nested iterators and arrays (and their nested iterators and arrays, and so on).</p></div> </li> <li class="entry-summary"> <a href="#in_groups_of(size:Int,filled_up_with=nil,reuse=false)-instance-method" class="signature"><strong>#in_groups_of</strong>(size : Int, filled_up_with = nil, reuse = false)</a> <div class="summary"><p>Returns an iterator that chunks the iterator's elements in arrays of <em>size</em> filling up the remaining elements if no element remains with <code>nil</code> or a given optional parameter.</p></div> </li> <li class="entry-summary"> <a href="#map(&amp;func:T-%3EU)forallU-instance-method" class="signature"><strong>#map</strong>(&amp;func : T -&gt; U) forall U</a> <div class="summary"><p>Returns an iterator that applies the given block to the next element and returns the result.</p></div> </li> <li class="entry-summary"> <a href="#next-instance-method" class="signature"><strong>#next</strong></a> <div class="summary"><p>Returns the next element in this iterator, or <code><a href="iterator/stop#INSTANCE">Iterator::Stop::INSTANCE</a></code> if there are no more elements.</p></div> </li> <li class="entry-summary"> <a href="#reject(&amp;func:T-%3EU)forallU-instance-method" class="signature"><strong>#reject</strong>(&amp;func : T -&gt; U) forall U</a> <div class="summary"><p>Returns an iterator that only returns elements for which the passed in block returns a falsey value.</p></div> </li> <li class="entry-summary"> <a href="#reject(type:U.class)forallU-instance-method" class="signature"><strong>#reject</strong>(type : U.class) forall U</a> <div class="summary"><p>Returns an iterator that only returns elements that are <strong>not</strong> of the given <em>type</em>.</p></div> </li> <li class="entry-summary"> <a href="#reject(pattern)-instance-method" class="signature"><strong>#reject</strong>(pattern)</a> <div class="summary"><p>Returns an iterator that only returns elements where <code>pattern === element</code> does not hold.</p></div> </li> <li class="entry-summary"> <a href="#select(&amp;func:T-%3EU)forallU-instance-method" class="signature"><strong>#select</strong>(&amp;func : T -&gt; U) forall U</a> <div class="summary"><p>Returns an iterator that only returns elements for which the passed in block returns a truthy value.</p></div> </li> <li class="entry-summary"> <a href="#select(type:U.class)forallU-instance-method" class="signature"><strong>#select</strong>(type : U.class) forall U</a> <div class="summary"><p>Returns an iterator that only returns elements of the given <em>type</em>.</p></div> </li> <li class="entry-summary"> <a href="#select(pattern)-instance-method" class="signature"><strong>#select</strong>(pattern)</a> <div class="summary"><p>Returns an iterator that only returns elements where <code>pattern === element</code>.</p></div> </li> <li class="entry-summary"> <a href="#skip(n:Int)-instance-method" class="signature"><strong>#skip</strong>(n : Int)</a> <div class="summary"><p>Returns an iterator that skips the first <em>n</em> elements and only returns the elements after that.</p></div> </li> <li class="entry-summary"> <a href="#skip_while(&amp;func:T-%3EU)forallU-instance-method" class="signature"><strong>#skip_while</strong>(&amp;func : T -&gt; U) forall U</a> <div class="summary"><p>Returns an iterator that only starts to return elements once the given block has returned falsey value for one element.</p></div> </li> <li class="entry-summary"> <a href="#slice(n:Int,reuse=false)-instance-method" class="signature"><strong>#slice</strong>(n : Int, reuse = false)</a> <div class="summary"><p>Alias of <code><a href="iterator#each_slice(n,reuse=false)-instance-method">#each_slice</a></code>.</p></div> </li> <li class="entry-summary"> <a href="#slice_after(pattern,reuse:Bool%7CArray(T)=false)-instance-method" class="signature"><strong>#slice_after</strong>(pattern, reuse : Bool | Array(T) = false)</a> <div class="summary"><p>Returns an iterator over chunks of elements, where each chunk ends right <strong>after</strong> the given pattern is matched with <code>pattern === element</code>.</p></div> </li> <li class="entry-summary"> <a href="#slice_after(reuse:Bool%7CArray(T)=false,&amp;block:T-%3EB)forallB-instance-method" class="signature"><strong>#slice_after</strong>(reuse : Bool | Array(T) = false, &amp;block : T -&gt; B) forall B</a> <div class="summary"><p>Returns an iterator over chunks of elements, where each chunk ends right <strong>after</strong> the given block's value is <em>truthy</em>.</p></div> </li> <li class="entry-summary"> <a href="#slice_before(pattern,reuse:Bool%7CArray(T)=false)-instance-method" class="signature"><strong>#slice_before</strong>(pattern, reuse : Bool | Array(T) = false)</a> <div class="summary"><p>Returns an iterator over chunks of elements, where each chunk ends right <strong>before</strong> the given pattern is matched with <code>pattern === element</code>.</p></div> </li> <li class="entry-summary"> <a href="#slice_before(reuse:Bool%7CArray(T)=false,&amp;block:T-%3EB)forallB-instance-method" class="signature"><strong>#slice_before</strong>(reuse : Bool | Array(T) = false, &amp;block : T -&gt; B) forall B</a> <div class="summary"><p>Returns an iterator over chunks of elements, where each chunk ends right <strong>before</strong> the given block's value is <em>truthy</em>.</p></div> </li> <li class="entry-summary"> <a href="#slice_when(reuse:Bool%7CArray(T)=false,&amp;block:T,T-%3EB)forallB-instance-method" class="signature"><strong>#slice_when</strong>(reuse : Bool | Array(T) = false, &amp;block : T, T -&gt; B) forall B</a> <div class="summary"><p>Returns an iterator for each chunked elements where the ends of chunks are defined by the block, when the block's value over a pair of elements is <em>truthy</em>.</p></div> </li> <li class="entry-summary"> <a href="#step(n:Int)-instance-method" class="signature"><strong>#step</strong>(n : Int)</a> <div class="summary"><p>Returns an iterator that only returns every <em>n</em>th element, starting with the first.</p></div> </li> <li class="entry-summary"> <a href="#stop-instance-method" class="signature"><strong>#stop</strong></a> <div class="summary"><p>Shortcut for <code><a href="iterator/stop#INSTANCE">Iterator::Stop::INSTANCE</a></code>, to signal that there are no more elements in an iterator.</p></div> </li> <li class="entry-summary"> <a href="#take_while(&amp;func:T-%3EU)forallU-instance-method" class="signature"><strong>#take_while</strong>(&amp;func : T -&gt; U) forall U</a> <div class="summary"><p>Returns an iterator that returns elements while the given block returns a truthy value.</p></div> </li> <li class="entry-summary"> <a href="#tap(&amp;block:T-%3E)-instance-method" class="signature"><strong>#tap</strong>(&amp;block : T -&gt; )</a> <div class="summary"><p>Returns an iterator that calls the given block with the next element of the iterator when calling <code><a href="iterator#next-instance-method">#next</a></code>, still returning the original element.</p></div> </li> <li class="entry-summary"> <a href="#uniq(&amp;func:T-%3EU)forallU-instance-method" class="signature"><strong>#uniq</strong>(&amp;func : T -&gt; U) forall U</a> <div class="summary"><p>Returns an iterator that only returns unique values of the original iterator.</p></div> </li> <li class="entry-summary"> <a href="#uniq-instance-method" class="signature"><strong>#uniq</strong></a> <div class="summary"><p>Returns an iterator that only returns unique values of the original iterator.</p></div> </li> <li class="entry-summary"> <a href="#with_index(offset:Int=0,&amp;)-instance-method" class="signature"><strong>#with_index</strong>(offset : Int = 0, &amp;)</a> <div class="summary"><p>Yields each element in this iterator together with its index.</p></div> </li> <li class="entry-summary"> <a href="#with_index(offset:Int=0)-instance-method" class="signature"><strong>#with_index</strong>(offset : Int = 0)</a> <div class="summary"><p>Returns an iterator that returns a <code><a href="tuple">Tuple</a></code> of the element and its index.</p></div> </li> <li class="entry-summary"> <a href="#with_object(obj,&amp;)-instance-method" class="signature"><strong>#with_object</strong>(obj, &amp;)</a> <div class="summary"><p>Yields each element in this iterator together with <em>obj</em>.</p></div> </li> <li class="entry-summary"> <a href="#with_object(obj)-instance-method" class="signature"><strong>#with_object</strong>(obj)</a> <div class="summary"><p>Returns an iterator that returns a <code><a href="tuple">Tuple</a></code> of the element and a given object.</p></div> </li> <li class="entry-summary"> <a href="#zip(*others:Iterator):Iterator-instance-method" class="signature"><strong>#zip</strong>(*others : Iterator) : Iterator</a> <div class="summary"><p>Returns an iterator that returns the elements of this iterator and <em>others</em> traversed in tandem as <code><a href="tuple">Tuple</a></code>s.</p></div> </li> </ul> <div class="methods-inherited"> <h3>Instance methods inherited from module <code><a href="enumerable">Enumerable(T)</a></code>
</h3> <a href="enumerable#all?(&amp;)-instance-method" class="tooltip"> all?(&amp;)<br>all?(pattern)<br>all? all?</a>, <a href="enumerable#any?(&amp;)-instance-method" class="tooltip"> any?(&amp;)<br>any?(pattern)<br>any? any?</a>, <a href="enumerable#chunks(&amp;block:T-%3EU)forallU-instance-method" class="tooltip"> chunks(&amp;block : T -&gt; U) forall U chunks</a>, <a href="enumerable#compact_map(&amp;)-instance-method" class="tooltip"> compact_map(&amp;) compact_map</a>, <a href="enumerable#count(&amp;)-instance-method" class="tooltip"> count(&amp;)<br>count(item) count</a>, <a href="enumerable#cycle(&amp;)-instance-method" class="tooltip"> cycle(&amp;)<br>cycle(n, &amp;) cycle</a>, <a href="enumerable#each(&amp;block:T-%3E_)-instance-method" class="tooltip"> each(&amp;block : T -&gt; _) each</a>, <a href="enumerable#each_cons(count:Int,reuse=false,&amp;)-instance-method" class="tooltip"> each_cons(count : Int, reuse = false, &amp;) each_cons</a>, <a href="enumerable#each_cons_pair(&amp;:T,T-%3E_):Nil-instance-method" class="tooltip"> each_cons_pair(&amp; : T, T -&gt; _) : Nil each_cons_pair</a>, <a href="enumerable#each_slice(count:Int,reuse=false,&amp;)-instance-method" class="tooltip"> each_slice(count : Int, reuse = false, &amp;) each_slice</a>, <a href="enumerable#each_with_index(offset=0,&amp;)-instance-method" class="tooltip"> each_with_index(offset = 0, &amp;) each_with_index</a>, <a href="enumerable#each_with_object(obj,&amp;)-instance-method" class="tooltip"> each_with_object(obj, &amp;) each_with_object</a>, <a href="enumerable#empty?-instance-method" class="tooltip"> empty? empty?</a>, <a href="enumerable#find(if_none=nil,&amp;)-instance-method" class="tooltip"> find(if_none = nil, &amp;) find</a>, <a href="enumerable#first(&amp;)-instance-method" class="tooltip"> first(&amp;)<br>first(count : Int)<br>first first</a>, <a href="enumerable#first?-instance-method" class="tooltip"> first? first?</a>, <a href="enumerable#flat_map(&amp;block:T-%3E_)-instance-method" class="tooltip"> flat_map(&amp;block : T -&gt; _) flat_map</a>, <a href="enumerable#group_by(&amp;block:T-%3EU)forallU-instance-method" class="tooltip"> group_by(&amp;block : T -&gt; U) forall U group_by</a>, <a href="enumerable#in_groups_of(size:Int,filled_up_with:U=nil)forallU-instance-method" class="tooltip"> in_groups_of(size : Int, filled_up_with : U = nil) forall U<br>in_groups_of(size : Int, filled_up_with : U = nil, reuse = false, &amp;) forall U in_groups_of</a>, <a href="enumerable#includes?(obj)-instance-method" class="tooltip"> includes?(obj) includes?</a>, <a href="enumerable#index(&amp;)-instance-method" class="tooltip"> index(&amp;)<br>index(obj) index</a>, <a href="enumerable#index_by(&amp;block:T-%3EU)forallU-instance-method" class="tooltip"> index_by(&amp;block : T -&gt; U) forall U index_by</a>, <a href="#" class="tooltip"> join(separator = "", &amp; : T -&gt; )<br>join(separator, io : IO, &amp;)<br>join(io : IO, separator = "", &amp; : T, IO -&gt; )<br>join(separator = "")<br>join(separator, io : IO)<br>join(io : IO, separator = "") join</a>, <a href="enumerable#map(&amp;block:T-%3EU)forallU-instance-method" class="tooltip"> map(&amp;block : T -&gt; U) forall U map</a>, <a href="enumerable#map_with_index(offset=0,&amp;block:T,Int32-%3EU)forallU-instance-method" class="tooltip"> map_with_index(offset = 0, &amp;block : T, Int32 -&gt; U) forall U map_with_index</a>, <a href="enumerable#max-instance-method" class="tooltip"> max max</a>, <a href="enumerable#max?-instance-method" class="tooltip"> max? max?</a>, <a href="enumerable#max_by(&amp;block:T-%3EU)forallU-instance-method" class="tooltip"> max_by(&amp;block : T -&gt; U) forall U max_by</a>, <a href="enumerable#max_by?(&amp;block:T-%3EU)forallU-instance-method" class="tooltip"> max_by?(&amp;block : T -&gt; U) forall U max_by?</a>, <a href="enumerable#max_of(&amp;block:T-%3EU)forallU-instance-method" class="tooltip"> max_of(&amp;block : T -&gt; U) forall U max_of</a>, <a href="enumerable#max_of?(&amp;block:T-%3EU)forallU-instance-method" class="tooltip"> max_of?(&amp;block : T -&gt; U) forall U max_of?</a>, <a href="enumerable#min-instance-method" class="tooltip"> min min</a>, <a href="enumerable#min?-instance-method" class="tooltip"> min? min?</a>, <a href="enumerable#min_by(&amp;block:T-%3EU)forallU-instance-method" class="tooltip"> min_by(&amp;block : T -&gt; U) forall U min_by</a>, <a href="enumerable#min_by?(&amp;block:T-%3EU)forallU-instance-method" class="tooltip"> min_by?(&amp;block : T -&gt; U) forall U min_by?</a>, <a href="enumerable#min_of(&amp;block:T-%3EU)forallU-instance-method" class="tooltip"> min_of(&amp;block : T -&gt; U) forall U min_of</a>, <a href="enumerable#min_of?(&amp;block:T-%3EU)forallU-instance-method" class="tooltip"> min_of?(&amp;block : T -&gt; U) forall U min_of?</a>, <a href="enumerable#minmax-instance-method" class="tooltip"> minmax minmax</a>, <a href="enumerable#minmax?-instance-method" class="tooltip"> minmax? minmax?</a>, <a href="enumerable#minmax_by(&amp;block:T-%3EU)forallU-instance-method" class="tooltip"> minmax_by(&amp;block : T -&gt; U) forall U minmax_by</a>, <a href="enumerable#minmax_by?(&amp;block:T-%3EU)forallU-instance-method" class="tooltip"> minmax_by?(&amp;block : T -&gt; U) forall U minmax_by?</a>, <a href="enumerable#minmax_of(&amp;block:T-%3EU)forallU-instance-method" class="tooltip"> minmax_of(&amp;block : T -&gt; U) forall U minmax_of</a>, <a href="enumerable#minmax_of?(&amp;block:T-%3EU)forallU-instance-method" class="tooltip"> minmax_of?(&amp;block : T -&gt; U) forall U minmax_of?</a>, <a href="enumerable#none?(pattern)-instance-method" class="tooltip"> none?(pattern)<br>none?(&amp;)<br>none? none?</a>, <a href="enumerable#one?(&amp;)-instance-method" class="tooltip"> one?(&amp;)<br>one?(pattern)<br>one? one?</a>, <a href="enumerable#partition(&amp;)-instance-method" class="tooltip"> partition(&amp;) partition</a>, <a href="enumerable#product(initial:Number)-instance-method" class="tooltip"> product(initial : Number)<br>product<br>product(initial : Number, &amp;)<br>product(&amp;) product</a>, <a href="enumerable#reduce(memo,&amp;)-instance-method" class="tooltip"> reduce(memo, &amp;)<br>reduce(&amp;) reduce</a>, <a href="enumerable#reduce?(&amp;)-instance-method" class="tooltip"> reduce?(&amp;) reduce?</a>, <a href="enumerable#reject(pattern)-instance-method" class="tooltip"> reject(pattern)<br>reject(type : U.class) forall U<br>reject(&amp;block : T -&gt; ) reject</a>, <a href="enumerable#sample(n:Int,random=Random::DEFAULT)-instance-method" class="tooltip"> sample(n : Int, random = Random::DEFAULT)<br>sample(random = Random::DEFAULT) sample</a>, <a href="enumerable#select(pattern)-instance-method" class="tooltip"> select(pattern)<br>select(type : U.class) forall U<br>select(&amp;block : T -&gt; ) select</a>, <a href="enumerable#size-instance-method" class="tooltip"> size size</a>, <a href="enumerable#skip(count:Int)-instance-method" class="tooltip"> skip(count : Int) skip</a>, <a href="enumerable#skip_while(&amp;)-instance-method" class="tooltip"> skip_while(&amp;) skip_while</a>, <a href="enumerable#sum(initial)-instance-method" class="tooltip"> sum(initial)<br>sum<br>sum(initial, &amp;)<br>sum(&amp;) sum</a>, <a href="enumerable#take_while(&amp;)-instance-method" class="tooltip"> take_while(&amp;) take_while</a>, <a href="enumerable#tally:Hash(T,Int32)-instance-method" class="tooltip"> tally : Hash(T, Int32) tally</a>, <a href="enumerable#to_a-instance-method" class="tooltip"> to_a to_a</a>, <a href="enumerable#to_h-instance-method" class="tooltip"> to_h<br>to_h(&amp;block : T -&gt; Tuple(K, V)) forall K, V to_h</a>, <a href="enumerable#to_set-instance-method" class="tooltip"> to_set to_set</a>, <a href="enumerable#zip(*others:Indexable%7CIterable%7CIterator,&amp;)-instance-method" class="tooltip"> zip(*others : Indexable | Iterable | Iterator, &amp;)<br>zip(*others : Indexable | Iterable | Iterator) zip</a>, <a href="enumerable#zip?(*others:Indexable%7CIterable%7CIterator,&amp;)-instance-method" class="tooltip"> zip?(*others : Indexable | Iterable | Iterator, &amp;)<br>zip?(*others : Indexable | Iterable | Iterator) zip?</a> </div> <h2>  Class Method Detail </h2> <div class="entry-detail" id="chain(iters:Iterator(Iter))forallIter-class-method"> <h3 class="signature">def self.<strong>chain</strong>(iters : <a href="iterator">Iterator</a>(Iter)) forall Iter<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L197" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>The same as <code><a href="iterator#chain(other:Iterator(U))forallU-instance-method">#chain</a></code>, but have better performance when the quantity of iterators to chain is large (usually greater than 4) or undetermined.</p> <pre data-language="crystal">array_of_iters = [[1], [2, 3], [4, 5, 6]].each.map &amp;.each
iter = Iterator(Int32).chain array_of_iters
iter.next # =&gt; 1
iter.next # =&gt; 2
iter.next # =&gt; 3
iter.next # =&gt; 4</pre> </div>   </div> <div class="entry-detail" id="chain(iters:Iterable(Iter))forallIter-class-method"> <h3 class="signature">def self.<strong>chain</strong>(iters : <a href="iterable">Iterable</a>(Iter)) forall Iter<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L202" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>the same as <code><a href="iterator#chain(iters:Iterator(Iter))forallIter-class-method">.chain(Iterator(Iter)</a>)</code></p> </div>   </div> <div class="entry-detail" id="of(element:T)-class-method"> <h3 class="signature">def self.<strong>of</strong>(element : T)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L107" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="of(&amp;block:-&gt;T)-class-method"> <h3 class="signature">def self.<strong>of</strong>(&amp;block : -&gt; T)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L122" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="stop-class-method"> <h3 class="signature">def self.<strong>stop</strong><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L103" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Shortcut for <code><a href="iterator/stop#INSTANCE">Iterator::Stop::INSTANCE</a></code>, to signal that there are no more elements in an iterator.</p> </div>   </div> <h2>  Instance Method Detail </h2> <div class="entry-detail" id="chain(other:Iterator(U))forallU-instance-method"> <h3 class="signature">def <strong>chain</strong>(other : <a href="iterator">Iterator</a>(U)) forall U<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L161" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator that returns elements from the original iterator until it is exhausted and then returns the elements of the second iterator. Compared to <code><a href="iterator#chain(iters:Iterator(Iter))forallIter-class-method">.chain(Iterator(Iter)</a>)</code>, it has better performance when the quantity of iterators to chain is small (usually less than 4). This method also cannot chain iterators in a loop, for that see <code><a href="iterator#chain(iters:Iterator(Iter))forallIter-class-method">.chain(Iterator(Iter)</a>)</code>.</p> <pre data-language="crystal">iter = (1..2).each.chain(('a'..'b').each)
iter.next # =&gt; 1
iter.next # =&gt; 2
iter.next # =&gt; 'a'
iter.next # =&gt; 'b'
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> </div>   </div> <div class="entry-detail" id="chunk(reuse=false,&amp;block:T-&gt;U)forallT,U-instance-method"> <h3 class="signature">def <strong>chunk</strong>(reuse = false, &amp;block : T -&gt; U) forall T, U<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L1349" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an Iterator that enumerates over the items, chunking them together based on the return value of the block.</p> <p>Consecutive elements which return the same block value are chunked together.</p> <p>For example, consecutive even numbers and odd numbers can be chunked as follows.</p> <pre data-language="crystal">[3, 1, 4, 1, 5, 9, 2, 6, 5, 3, 5].chunk(&amp;.even?).each do |even, ary|
  p [even, ary]
end

# =&gt; [false, [3, 1]]
#    [true, [4]]
#    [false, [1, 5, 9]]
#    [true, [2, 6]]
#    [false, [5, 3, 5]]</pre> <p>The following key values have special meaning:</p> <ul>
<li>
<code><a href="enumerable/chunk/drop">Enumerable::Chunk::Drop</a></code> specifies that the elements should be dropped</li>
<li>
<code><a href="enumerable/chunk/alone">Enumerable::Chunk::Alone</a></code> specifies that the element should be chunked by itself</li>
</ul> <p>By default, a new array is created and yielded for each chunk when invoking <code><a href="iterator#next-instance-method">#next</a></code>.</p> <ul>
<li>If <em>reuse</em> is given, the array can be reused</li>
<li>If <em>reuse</em> is an <code><a href="array">Array</a></code>, this array will be reused</li>
<li>If <em>reuse</em> is truthy, the method will create a new array and reuse it.</li>
</ul> <p>This can be used to prevent many memory allocations when each slice of interest is to be used in a read-only fashion.</p> <p>See also: <code><a href="enumerable#chunks(&amp;block:T-%3EU)forallU-instance-method">Enumerable#chunks</a></code>.</p> </div>   </div> <div class="entry-detail" id="chunk_while(reuse:Bool|Array(T)=false,&amp;block:T,T-&gt;B)forallB-instance-method"> <h3 class="signature">def <strong>chunk_while</strong>(reuse : <a href="bool">Bool</a> | <a href="array">Array</a>(T) = false, &amp;block : T, T -&gt; B) forall B<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L1671" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator for each chunked elements where elements are kept in a given chunk as long as the block's value over a pair of elements is <em>truthy</em>.</p> <p>For example, one-by-one increasing subsequences can be chunked as follows:</p> <pre data-language="crystal">ary = [1, 2, 4, 9, 10, 11, 12, 15, 16, 19, 20, 21]
iter = ary.chunk_while { |i, j| i + 1 == j }
iter.next # =&gt; [1, 2]
iter.next # =&gt; [4]
iter.next # =&gt; [9, 10, 11, 12]
iter.next # =&gt; [15, 16]
iter.next # =&gt; [19, 20, 21]
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> <p>By default, a new array is created and yielded for each slice when invoking <code><a href="iterator#next-instance-method">#next</a></code>.</p> <ul>
<li>If <em>reuse</em> is <code>false</code>, the method will create a new array for each chunk</li>
<li>If <em>reuse</em> is <code>true</code>, the method will create a new array and reuse it.</li>
<li>If <em>reuse</em> is an <code><a href="array">Array</a></code>, that array will be reused</li>
</ul> <p>This can be used to prevent many memory allocations when each slice of interest is to be used in a read-only fashion.</p> <p>See also <code><a href="iterator#slice_when(reuse:Bool%7CArray(T)=false,&amp;block:T,T-%3EB)forallB-instance-method">#slice_when</a></code>, which works similarly but the block's condition is inverted.</p> </div>   </div> <div class="entry-detail" id="compact_map(&amp;func:T-&gt;_)-instance-method"> <h3 class="signature">def <strong>compact_map</strong>(&amp;func : T -&gt; _)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L237" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator that applies the given function to the element and then returns it unless it is <code>nil</code>. If the returned value would be <code>nil</code> it instead returns the next non <code>nil</code> value.</p> <pre data-language="crystal">iter = [1, nil, 2, nil].each.compact_map { |e| e.try &amp;.*(2) }
iter.next # =&gt; 2
iter.next # =&gt; 4
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> </div>   </div> <div class="entry-detail" id="cons(n:Int,reuse=false)-instance-method"> <h3 class="signature">def <strong>cons</strong>(n : <a href="int">Int</a>, reuse = false)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L280" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator that returns consecutive chunks of the size <em>n</em>.</p> <pre data-language="crystal">iter = (1..5).each.cons(3)
iter.next # =&gt; [1, 2, 3]
iter.next # =&gt; [2, 3, 4]
iter.next # =&gt; [3, 4, 5]
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> <p>By default, a new array is created and returned for each consecutive call of <code><a href="iterator#next-instance-method">#next</a></code>.</p> <ul>
<li>If <em>reuse</em> is given, the array can be reused</li>
<li>If <em>reuse</em> is <code>true</code>, the method will create a new array and reuse it.</li>
<li>If <em>reuse</em> is an instance of <code><a href="array">Array</a></code>, <code><a href="deque">Deque</a></code> or a similar collection type (implementing <code>#&lt;&lt;</code>, <code>#shift</code> and <code>#size</code>) it will be used.</li>
<li>If <em>reuse</em> is falsey, the array will not be reused.</li>
</ul> <p>This can be used to prevent many memory allocations when each slice of interest is to be used in a read-only fashion.</p> <p>Chunks of two items can be iterated using <code><a href="iterator#cons_pair:Iterator(Tuple(T,T))-instance-method">#cons_pair</a></code>, an optimized implementation for the special case of <code>size == 2</code> which avoids heap allocations.</p> </div>   </div> <div class="entry-detail" id="cons_pair:Iterator(Tuple(T,T))-instance-method"> <h3 class="signature">def <strong>cons_pair</strong> : <a href="iterator">Iterator</a>(<a href="tuple">Tuple</a>(T, T))<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L328" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator that returns consecutive pairs of adjacent items.</p> <pre data-language="crystal">iter = (1..5).each.cons_pair
iter.next # =&gt; {1, 2}
iter.next # =&gt; {2, 3}
iter.next # =&gt; {3, 4}
iter.next # =&gt; {4, 5}
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> <p>Chunks of more than two items can be iterated using <code><a href="iterator#cons(n:Int,reuse=false)-instance-method">#cons</a></code>. This method is just an optimized implementation for the special case of <code>size == 2</code> to avoid heap allocations.</p> </div>   </div> <div class="entry-detail" id="cycle(n:Int)-instance-method"> <h3 class="signature">def <strong>cycle</strong>(n : <a href="int">Int</a>)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L426" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator that repeatedly returns the elements of the original iterator starting back at the beginning when the end was reached, but only <em>n</em> times.</p> <pre data-language="crystal">iter = ["a", "b", "c"].each.cycle(2)
iter.next # =&gt; "a"
iter.next # =&gt; "b"
iter.next # =&gt; "c"
iter.next # =&gt; "a"
iter.next # =&gt; "b"
iter.next # =&gt; "c"
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> </div>   </div> <div class="entry-detail" id="cycle-instance-method"> <h3 class="signature">def <strong>cycle</strong><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L370" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator that repeatedly returns the elements of the original iterator forever starting back at the beginning when the end was reached.</p> <pre data-language="crystal">iter = ["a", "b", "c"].each.cycle
iter.next # =&gt; "a"
iter.next # =&gt; "b"
iter.next # =&gt; "c"
iter.next # =&gt; "a"
iter.next # =&gt; "b"
iter.next # =&gt; "c"
iter.next # =&gt; "a"
# and so an and so on</pre> </div>   </div> <div class="entry-detail" id="each-instance-method"> <h3 class="signature">def <strong>each</strong><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L475" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="each(&amp;):Nil-instance-method"> <h3 class="signature">def <strong>each</strong>(&amp;) : <a href="nil">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L486" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Calls the given block once for each element, passing that element as a parameter.</p> <pre data-language="crystal">iter = ["a", "b", "c"].each
iter.each { |x| print x, " " } # Prints "a b c"</pre> </div>   </div> <div class="entry-detail" id="each_slice(n,reuse=false)-instance-method"> <h3 class="signature">def <strong>each_slice</strong>(n, reuse = false)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L512" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator that then returns slices of <em>n</em> elements of the initial iterator.</p> <pre data-language="crystal">iter = (1..9).each.each_slice(3)
iter.next # =&gt; [1, 2, 3]
iter.next # =&gt; [4, 5, 6]
iter.next # =&gt; [7, 8, 9]
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> <p>By default, a new array is created and yielded for each consecutive when invoking <code><a href="iterator#next-instance-method">#next</a></code>.</p> <ul>
<li>If <em>reuse</em> is given, the array can be reused</li>
<li>If <em>reuse</em> is an <code><a href="array">Array</a></code>, this array will be reused</li>
<li>If <em>reuse</em> is truthy, the method will create a new array and reuse it.</li>
</ul> <p>This can be used to prevent many memory allocations when each slice of interest is to be used in a read-only fashion.</p> </div>   </div> <div class="entry-detail" id="first(n:Int)-instance-method"> <h3 class="signature">def <strong>first</strong>(n : <a href="int">Int</a>)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L1058" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator that only returns the first <em>n</em> elements of the initial iterator.</p> <pre data-language="crystal">iter = ["a", "b", "c"].each.first 2
iter.next # =&gt; "a"
iter.next # =&gt; "b"
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> </div>   </div> <div class="entry-detail" id="flat_map(&amp;func:T-&gt;_)-instance-method"> <h3 class="signature">def <strong>flat_map</strong>(&amp;func : T -&gt; _)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L608" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns a new iterator with the concatenated results of running the block once for every element in the collection. Only <code><a href="array">Array</a></code> and <code><a href="iterator">Iterator</a></code> results are concatenated; every other value is returned once in the new iterator.</p> <pre data-language="crystal">iter = [1, 2, 3].each.flat_map { |x| [x, x] }

iter.next # =&gt; 1
iter.next # =&gt; 1
iter.next # =&gt; 2

iter = [1, 2, 3].each.flat_map { |x| [x, x].each }

iter.to_a # =&gt; [1, 1, 2, 2, 3, 3]</pre> </div>   </div> <div class="entry-detail" id="flatten-instance-method"> <h3 class="signature">def <strong>flatten</strong><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L528" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator that flattens nested iterators and arrays into a single iterator whose type is the union of the simple types of all of the nested iterators and arrays (and their nested iterators and arrays, and so on).</p> <pre data-language="crystal">iter = [(1..2).each, ('a'..'b').each].each.flatten
iter.next # =&gt; 1
iter.next # =&gt; 2
iter.next # =&gt; 'a'
iter.next # =&gt; 'b'
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> </div>   </div> <div class="entry-detail" id="in_groups_of(size:Int,filled_up_with=nil,reuse=false)-instance-method"> <h3 class="signature">def <strong>in_groups_of</strong>(size : <a href="int">Int</a>, filled_up_with = nil, reuse = false)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L701" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator that chunks the iterator's elements in arrays of <em>size</em> filling up the remaining elements if no element remains with <code>nil</code> or a given optional parameter.</p> <pre data-language="crystal">iter = (1..3).each.in_groups_of(2)
iter.next # =&gt; [1, 2]
iter.next # =&gt; [3, nil]
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> <pre data-language="crystal">iter = (1..3).each.in_groups_of(2, 'z')
iter.next # =&gt; [1, 2]
iter.next # =&gt; [3, 'z']
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> <p>By default, a new array is created and yielded for each group.</p> <ul>
<li>If <em>reuse</em> is given, the array can be reused</li>
<li>If <em>reuse</em> is an <code><a href="array">Array</a></code>, this array will be reused</li>
<li>If <em>reuse</em> is truthy, the method will create a new array and reuse it.</li>
</ul> <p>This can be used to prevent many memory allocations when each slice of interest is to be used in a read-only fashion.</p> </div>   </div> <div class="entry-detail" id="map(&amp;func:T-&gt;U)forallU-instance-method"> <h3 class="signature">def <strong>map</strong>(&amp;func : T -&gt; U) forall U<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L754" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator that applies the given block to the next element and returns the result.</p> <pre data-language="crystal">iter = [1, 2, 3].each.map &amp;.*(2)
iter.next # =&gt; 2
iter.next # =&gt; 4
iter.next # =&gt; 6
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> </div>   </div> <div class="entry-detail" id="next-instance-method"> <h3 class="signature">abstract def <strong>next</strong><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L145" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns the next element in this iterator, or <code><a href="iterator/stop#INSTANCE">Iterator::Stop::INSTANCE</a></code> if there are no more elements.</p> </div>   </div> <div class="entry-detail" id="reject(&amp;func:T-&gt;U)forallU-instance-method"> <h3 class="signature">def <strong>reject</strong>(&amp;func : T -&gt; U) forall U<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L779" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator that only returns elements for which the passed in block returns a falsey value.</p> <pre data-language="crystal">iter = [1, 2, 3].each.reject &amp;.odd?
iter.next # =&gt; 2
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> </div>   </div> <div class="entry-detail" id="reject(type:U.class)forallU-instance-method"> <h3 class="signature">def <strong>reject</strong>(type : U.class) forall U<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L792" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator that only returns elements that are <strong>not</strong> of the given <em>type</em>.</p> <pre data-language="crystal">iter = [1, false, 3, true].each.reject(Bool)
iter.next # =&gt; 1
iter.next # =&gt; 3
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> </div>   </div> <div class="entry-detail" id="reject(pattern)-instance-method"> <h3 class="signature">def <strong>reject</strong>(pattern)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L809" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator that only returns elements where <code>pattern === element</code> does not hold.</p> <pre data-language="crystal">iter = [2, 3, 1, 5, 4, 6].each.reject(3..5)
iter.next # =&gt; 2
iter.next # =&gt; 1
iter.next # =&gt; 6
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> </div>   </div> <div class="entry-detail" id="select(&amp;func:T-&gt;U)forallU-instance-method"> <h3 class="signature">def <strong>select</strong>(&amp;func : T -&gt; U) forall U<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L839" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator that only returns elements for which the passed in block returns a truthy value.</p> <pre data-language="crystal">iter = [1, 2, 3].each.select &amp;.odd?
iter.next # =&gt; 1
iter.next # =&gt; 3
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> </div>   </div> <div class="entry-detail" id="select(type:U.class)forallU-instance-method"> <h3 class="signature">def <strong>select</strong>(type : U.class) forall U<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L852" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator that only returns elements of the given <em>type</em>.</p> <pre data-language="crystal">iter = [1, false, 3, nil].each.select(Int32)
iter.next # =&gt; 1
iter.next # =&gt; 3
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> </div>   </div> <div class="entry-detail" id="select(pattern)-instance-method"> <h3 class="signature">def <strong>select</strong>(pattern)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L866" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator that only returns elements where <code>pattern === element</code>.</p> <pre data-language="crystal">iter = [1, 3, 2, 5, 4, 6].each.select(3..5)
iter.next # =&gt; 3
iter.next # =&gt; 5
iter.next # =&gt; 4
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> </div>   </div> <div class="entry-detail" id="skip(n:Int)-instance-method"> <h3 class="signature">def <strong>skip</strong>(n : <a href="int">Int</a>)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L912" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator that skips the first <em>n</em> elements and only returns the elements after that.</p> <pre data-language="crystal">iter = (1..3).each.skip(2)
iter.next # -&gt; 3
iter.next # -&gt; Iterator::Stop::INSTANCE</pre> </div>   </div> <div class="entry-detail" id="skip_while(&amp;func:T-&gt;U)forallU-instance-method"> <h3 class="signature">def <strong>skip_while</strong>(&amp;func : T -&gt; U) forall U<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L944" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator that only starts to return elements once the given block has returned falsey value for one element.</p> <pre data-language="crystal">iter = [1, 2, 3, 4, 0].each.skip_while { |i| i &lt; 3 }
iter.next # =&gt; 3
iter.next # =&gt; 4
iter.next # =&gt; 0
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> </div>   </div> <div class="entry-detail" id="slice(n:Int,reuse=false)-instance-method"> <h3 class="signature">def <strong>slice</strong>(n : <a href="int">Int</a>, reuse = false)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L969" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Alias of <code><a href="iterator#each_slice(n,reuse=false)-instance-method">#each_slice</a></code>.</p> </div>   </div> <div class="entry-detail" id="slice_after(pattern,reuse:Bool|Array(T)=false)-instance-method"> <h3 class="signature">def <strong>slice_after</strong>(pattern, reuse : <a href="bool">Bool</a> | <a href="array">Array</a>(T) = false)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L1449" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator over chunks of elements, where each chunk ends right <strong>after</strong> the given pattern is matched with <code>pattern === element</code>.</p> <p>For example, to get chunks that end at each ASCII uppercase letter:</p> <pre data-language="crystal">ary = ['a', 'b', 'C', 'd', 'E', 'F', 'g', 'h']
#                   ^         ^    ^
iter = ary.slice_after('A'..'Z')
iter.next # =&gt; ['a', 'b', 'C']
iter.next # =&gt; ['d', 'E']
iter.next # =&gt; ['F']
iter.next # =&gt; ['g', 'h']
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> <p>By default, a new array is created and yielded for each slice when invoking <code><a href="iterator#next-instance-method">#next</a></code>.</p> <ul>
<li>If <em>reuse</em> is <code>false</code>, the method will create a new array for each chunk</li>
<li>If <em>reuse</em> is <code>true</code>, the method will create a new array and reuse it.</li>
<li>If <em>reuse</em> is an <code><a href="array">Array</a></code>, that array will be reused</li>
</ul> <p>This can be used to prevent many memory allocations when each slice of interest is to be used in a read-only fashion.</p> </div>   </div> <div class="entry-detail" id="slice_after(reuse:Bool|Array(T)=false,&amp;block:T-&gt;B)forallB-instance-method"> <h3 class="signature">def <strong>slice_after</strong>(reuse : <a href="bool">Bool</a> | <a href="array">Array</a>(T) = false, &amp;block : T -&gt; B) forall B<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L1421" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator over chunks of elements, where each chunk ends right <strong>after</strong> the given block's value is <em>truthy</em>.</p> <p>For example, to get chunks that end at each uppercase letter:</p> <pre data-language="crystal">ary = ['a', 'b', 'C', 'd', 'E', 'F', 'g', 'h']
#                   ^         ^    ^
iter = ary.slice_after(&amp;.uppercase?)
iter.next # =&gt; ['a', 'b', 'C']
iter.next # =&gt; ['d', 'E']
iter.next # =&gt; ['F']
iter.next # =&gt; ['g', 'h']
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> <p>By default, a new array is created and yielded for each slice when invoking <code><a href="iterator#next-instance-method">#next</a></code>.</p> <ul>
<li>If <em>reuse</em> is <code>false</code>, the method will create a new array for each chunk</li>
<li>If <em>reuse</em> is <code>true</code>, the method will create a new array and reuse it.</li>
<li>If <em>reuse</em> is an <code><a href="array">Array</a></code>, that array will be reused</li>
</ul> <p>This can be used to prevent many memory allocations when each slice of interest is to be used in a read-only fashion.</p> </div>   </div> <div class="entry-detail" id="slice_before(pattern,reuse:Bool|Array(T)=false)-instance-method"> <h3 class="signature">def <strong>slice_before</strong>(pattern, reuse : <a href="bool">Bool</a> | <a href="array">Array</a>(T) = false)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L1555" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator over chunks of elements, where each chunk ends right <strong>before</strong> the given pattern is matched with <code>pattern === element</code>.</p> <p>For example, to get chunks that end just before each ASCII uppercase letter:</p> <pre data-language="crystal">ary = ['a', 'b', 'C', 'd', 'E', 'F', 'g', 'h']
#              ^         ^    ^
iter = ary.slice_before('A'..'Z')
iter.next # =&gt; ['a', 'b']
iter.next # =&gt; ['C', 'd']
iter.next # =&gt; ['E']
iter.next # =&gt; ['F', 'g', 'h']
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> <p>By default, a new array is created and yielded for each slice when invoking <code><a href="iterator#next-instance-method">#next</a></code>.</p> <ul>
<li>If <em>reuse</em> is <code>false</code>, the method will create a new array for each chunk</li>
<li>If <em>reuse</em> is <code>true</code>, the method will create a new array and reuse it.</li>
<li>If <em>reuse</em> is an <code><a href="array">Array</a></code>, that array will be reused</li>
</ul> <p>This can be used to prevent many memory allocations when each slice of interest is to be used in a read-only fashion.</p> </div>   </div> <div class="entry-detail" id="slice_before(reuse:Bool|Array(T)=false,&amp;block:T-&gt;B)forallB-instance-method"> <h3 class="signature">def <strong>slice_before</strong>(reuse : <a href="bool">Bool</a> | <a href="array">Array</a>(T) = false, &amp;block : T -&gt; B) forall B<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L1527" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator over chunks of elements, where each chunk ends right <strong>before</strong> the given block's value is <em>truthy</em>.</p> <p>For example, to get chunks that end just before each uppercase letter:</p> <pre data-language="crystal">ary = ['a', 'b', 'C', 'd', 'E', 'F', 'g', 'h']
#              ^         ^    ^
iter = ary.slice_before(&amp;.uppercase?)
iter.next # =&gt; ['a', 'b']
iter.next # =&gt; ['C', 'd']
iter.next # =&gt; ['E']
iter.next # =&gt; ['F', 'g', 'h']
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> <p>By default, a new array is created and yielded for each slice when invoking <code><a href="iterator#next-instance-method">#next</a></code>.</p> <ul>
<li>If <em>reuse</em> is <code>false</code>, the method will create a new array for each chunk</li>
<li>If <em>reuse</em> is <code>true</code>, the method will create a new array and reuse it.</li>
<li>If <em>reuse</em> is an <code><a href="array">Array</a></code>, that array will be reused</li>
</ul> <p>This can be used to prevent many memory allocations when each slice of interest is to be used in a read-only fashion.</p> </div>   </div> <div class="entry-detail" id="slice_when(reuse:Bool|Array(T)=false,&amp;block:T,T-&gt;B)forallB-instance-method"> <h3 class="signature">def <strong>slice_when</strong>(reuse : <a href="bool">Bool</a> | <a href="array">Array</a>(T) = false, &amp;block : T, T -&gt; B) forall B<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L1641" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator for each chunked elements where the ends of chunks are defined by the block, when the block's value over a pair of elements is <em>truthy</em>.</p> <p>For example, one-by-one increasing subsequences can be chunked as follows:</p> <pre data-language="crystal">ary = [1, 2, 4, 9, 10, 11, 12, 15, 16, 19, 20, 21]
iter = ary.slice_when { |i, j| i + 1 != j }
iter.next # =&gt; [1, 2]
iter.next # =&gt; [4]
iter.next # =&gt; [9, 10, 11, 12]
iter.next # =&gt; [15, 16]
iter.next # =&gt; [19, 20, 21]
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> <p>By default, a new array is created and yielded for each slice when invoking <code><a href="iterator#next-instance-method">#next</a></code>.</p> <ul>
<li>If <em>reuse</em> is <code>false</code>, the method will create a new array for each chunk</li>
<li>If <em>reuse</em> is <code>true</code>, the method will create a new array and reuse it.</li>
<li>If <em>reuse</em> is an <code><a href="array">Array</a></code>, that array will be reused</li>
</ul> <p>This can be used to prevent many memory allocations when each slice of interest is to be used in a read-only fashion.</p> <p>See also <code><a href="iterator#chunk_while(reuse:Bool%7CArray(T)=false,&amp;block:T,T-%3EB)forallB-instance-method">#chunk_while</a></code>, which works similarly but the block's condition is inverted.</p> </div>   </div> <div class="entry-detail" id="step(n:Int)-instance-method"> <h3 class="signature">def <strong>step</strong>(n : <a href="int">Int</a>)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L1025" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator that only returns every <em>n</em>th element, starting with the first.</p> <pre data-language="crystal">iter = (1..6).each.step(2)
iter.next # =&gt; 1
iter.next # =&gt; 3
iter.next # =&gt; 5
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> </div>   </div> <div class="entry-detail" id="stop-instance-method"> <h3 class="signature">def <strong>stop</strong><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L98" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Shortcut for <code><a href="iterator/stop#INSTANCE">Iterator::Stop::INSTANCE</a></code>, to signal that there are no more elements in an iterator.</p> </div>   </div> <div class="entry-detail" id="take_while(&amp;func:T-&gt;U)forallU-instance-method"> <h3 class="signature">def <strong>take_while</strong>(&amp;func : T -&gt; U) forall U<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L1090" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator that returns elements while the given block returns a truthy value.</p> <pre data-language="crystal">iter = (1..5).each.take_while { |i| i &lt; 3 }
iter.next # =&gt; 1
iter.next # =&gt; 2
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> </div>   </div> <div class="entry-detail" id="tap(&amp;block:T-&gt;)-instance-method"> <h3 class="signature">def <strong>tap</strong>(&amp;block : T -&gt; )<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L1128" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator that calls the given block with the next element of the iterator when calling <code><a href="iterator#next-instance-method">#next</a></code>, still returning the original element.</p> <pre data-language="crystal">a = 0
iter = (1..3).each.tap { |x| a += x }
iter.next # =&gt; 1
a         # =&gt; 1
iter.next # =&gt; 2
a         # =&gt; 3
iter.next # =&gt; 3
a         # =&gt; 6
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> </div>   </div> <div class="entry-detail" id="uniq(&amp;func:T-&gt;U)forallU-instance-method"> <h3 class="signature">def <strong>uniq</strong>(&amp;func : T -&gt; U) forall U<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L1169" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator that only returns unique values of the original iterator. The provided block is applied to the elements to determine the value to be checked for uniqueness.</p> <pre data-language="crystal">iter = [["a", "a"], ["b", "a"], ["a", "c"]].each.uniq &amp;.first
iter.next # =&gt; ["a", "a"]
iter.next # =&gt; ["b", "a"]
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> </div>   </div> <div class="entry-detail" id="uniq-instance-method"> <h3 class="signature">def <strong>uniq</strong><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L1155" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator that only returns unique values of the original iterator.</p> <pre data-language="crystal">iter = [1, 2, 1].each.uniq
iter.next # =&gt; 1
iter.next # =&gt; 2
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> </div>   </div> <div class="entry-detail" id="with_index(offset:Int=0,&amp;)-instance-method"> <h3 class="signature">def <strong>with_index</strong>(offset : <a href="int">Int</a> = 0, &amp;)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L1208" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Yields each element in this iterator together with its index.</p> </div>   </div> <div class="entry-detail" id="with_index(offset:Int=0)-instance-method"> <h3 class="signature">def <strong>with_index</strong>(offset : <a href="int">Int</a> = 0)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L1203" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator that returns a <code><a href="tuple">Tuple</a></code> of the element and its index.</p> <pre data-language="crystal">iter = (1..3).each.with_index
iter.next # =&gt; {1, 0}
iter.next # =&gt; {2, 1}
iter.next # =&gt; {3, 2}
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> </div>   </div> <div class="entry-detail" id="with_object(obj,&amp;)-instance-method"> <h3 class="signature">def <strong>with_object</strong>(obj, &amp;)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L1245" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Yields each element in this iterator together with <em>obj</em>. Returns that object.</p> </div>   </div> <div class="entry-detail" id="with_object(obj)-instance-method"> <h3 class="signature">def <strong>with_object</strong>(obj)<a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L1240" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator that returns a <code><a href="tuple">Tuple</a></code> of the element and a given object.</p> <pre data-language="crystal">iter = (1..3).each.with_object("a")
iter.next # =&gt; {1, "a"}
iter.next # =&gt; {2, "a"}
iter.next # =&gt; {3, "a"}
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> </div>   </div> <div class="entry-detail" id="zip(*others:Iterator):Iterator-instance-method"> <h3 class="signature">def <strong>zip</strong>(*others : <a href="iterator">Iterator</a>) : <a href="iterator">Iterator</a><a href="https://github.com/crystal-lang/crystal/blob/dd40a2442/src/iterator.cr#L1280" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an iterator that returns the elements of this iterator and <em>others</em> traversed in tandem as <code><a href="tuple">Tuple</a></code>s.</p> <p>Iteration stops when any of the iterators runs out of elements.</p> <pre data-language="crystal">iter1 = [4, 5, 6].each
iter2 = [7, 8, 9].each
iter3 = ['a', 'b', 'c', 'd'].each
iter = iter1.zip(iter2, iter3)
iter.next # =&gt; {4, 7, 'a'}
iter.next # =&gt; {5, 8, 'b'}
iter.next # =&gt; {6, 9, 'c'}
iter.next # =&gt; Iterator::Stop::INSTANCE</pre> </div>   </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://crystal-lang.org/api/1.0.0/Iterator.html" class="_attribution-link" target="_blank">https://crystal-lang.org/api/1.0.0/Iterator.html</a>
  </p>
</div>
