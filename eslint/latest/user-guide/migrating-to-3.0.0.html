<a href="#main" class="c-btn c-btn--primary" id="skip-link">Skip to main content</a> <header class="site-header"> <div class="docs-wrapper">  <nav class="docs-site-nav" aria-label="Main"> <div class="flexer"> <a href="https://eslint.org/donate" class="c-btn c-btn--primary donate-link">Donate</a>  </div> <div class="docs-nav-panel" id="nav-panel"> <ul id="nav-list"> <li> <a href="https://eslint.org/team">Team</a> </li> <li> <a href="https://eslint.org/blog">Blog</a> </li> <li> <a href="../index" aria-current="true">Docs</a> </li> <li> <a href="https://eslint.threadless.com" target="_blank">Store</a> </li> <li> <a href="https://eslint.org/play">Playground</a> </li> </ul> <div class="mobile-only">  <div class="version-switcher"> <a href="../versions/index" class="switcher-fallback">Versions</a> <div hidden role="region" class="switcher switcher--version" aria-labelledby="nav-version-switcher-label" id="nav-version-switcher"> <span id="nav-version-switcher-label" hidden>Version Switcher</span> <div class="infobox visually-hidden" id="nav-version-infobox"> Selecting a version will take you to the chosen version of the ESLint docs. </div> <label class="switcher__label label--block" for="version-select"> <span class="label__text">Version</span> </label> <select name="version selector" id="nav-version-select" aria-describedby="nav-version-infobox" class="c-custom-select switcher__select auto-switcher"> <option value="HEAD" data-url="/docs/head/">HEAD</option> <option value="8.21.0" data-url="/docs/latest/" selected>v8.21.0</option> </select> </div> </div> </div> </div> </nav> </div> </header> <div class="docs-wrapper"> <div class="docs-nav"> <div class="desktop-only">  <div class="version-switcher"> <a href="../versions/index" class="switcher-fallback">Versions</a> <div hidden role="region" class="switcher switcher--version" aria-labelledby="version-switcher-label" id="version-switcher"> <span id="version-switcher-label" hidden>Version Switcher</span> <div class="infobox visually-hidden" id="version-infobox"> Selecting a version will take you to the chosen version of the ESLint docs. </div> <label class="switcher__label label--block" for="version-select"> <span class="label__text">Version</span> </label> <select name="version selector" id="version-select" aria-describedby="version-infobox" class="c-custom-select switcher__select auto-switcher"> <option value="HEAD" data-url="/docs/head/">HEAD</option> <option value="8.21.0" data-url="/docs/latest/" selected>v8.21.0</option> </select> </div> </div> </div> <nav class="docs-index" id="docs-index"> <button class="docs-index-toggle" id="js-docs-index-toggle" hidden> Index  </button> <div class="docs__index__panel" id="js-docs-index-panel"> <div role="region" aria-labelledby="search-label" class="search"> <label for="search" class="label--block"> <span class="label__text" id="search-label">Search</span> </label> <div class="search__input-wrapper">  <p id="search-hint">Results will be shown and updated as you type.</p> <div class="search__inner-input-wrapper"> <input type="search" id="search" class="search__input" autocomplete="off" aria-describedby="search-hint" pattern="\S+"> <button class="search__clear-btn" id="search__clear-btn" hidden> <span class="visually-hidden">Clear search</span>  </button> </div> </div>   </div> <ul class="docs-index__list" id="js-docs-list">
<li class="docs-index__item" data-has-children> <a href="index">User Guide</a><ul data-child-list>
<li class="docs-index__item"> <a href="getting-started">Getting Started</a>
</li>
<li class="docs-index__item" data-has-children> <a href="configuring/index">Configuring</a><ul data-child-list>
<li class="docs-index__item"> <a href="configuring/configuration-files-new">Configuration Files (New)</a>
</li>
<li class="docs-index__item"> <a href="configuring/configuration-files">Configuration Files</a>
</li>
<li class="docs-index__item"> <a href="configuring/language-options">Configuring Language Options</a>
</li>
<li class="docs-index__item"> <a href="configuring/rules">Configuring Rules</a>
</li>
<li class="docs-index__item"> <a href="configuring/plugins">Configuring Plugins</a>
</li>
<li class="docs-index__item"> <a href="configuring/ignoring-code">Ignoring Code</a>
</li>
</ul>
</li>
<li class="docs-index__item"> <a href="command-line-interface">Command Line Interface</a>
</li>
<li class="docs-index__item"> <a href="../rules/index">Rules</a>
</li>
<li class="docs-index__item"> <a href="formatters/index">Formatters</a>
</li>
<li class="docs-index__item"> <a href="integrations">Integrations</a>
</li>
<li class="docs-index__item"> <a href="migrating-to-8.0.0">Migrating to v8.x</a>
</li>
</ul>
</li>
<li class="docs-index__item" data-has-children> <a href="../developer-guide/index">Developer Guide</a><ul data-child-list>
<li class="docs-index__item"> <a href="../developer-guide/architecture/index">Architecture</a>
</li>
<li class="docs-index__item"> <a href="../developer-guide/source-code">Getting the Source Code</a>
</li>
<li class="docs-index__item"> <a href="../developer-guide/development-environment">Set Up a Development Environment</a>
</li>
<li class="docs-index__item"> <a href="../developer-guide/unit-tests">Run the Tests</a>
</li>
<li class="docs-index__item"> <a href="../developer-guide/working-with-rules">Working with Rules</a>
</li>
<li class="docs-index__item"> <a href="../developer-guide/working-with-plugins">Working with Plugins</a>
</li>
<li class="docs-index__item"> <a href="../developer-guide/working-with-custom-formatters">Working with Custom Formatters</a>
</li>
<li class="docs-index__item"> <a href="../developer-guide/working-with-custom-parsers">Working with Custom Parsers</a>
</li>
<li class="docs-index__item"> <a href="../developer-guide/shareable-configs">Shareable Configs</a>
</li>
<li class="docs-index__item"> <a href="../developer-guide/nodejs-api">Node.js API</a>
</li>
<li class="docs-index__item"> <a href="../developer-guide/contributing/index">Contributing</a>
</li>
</ul>
</li>
<li class="docs-index__item" data-has-children> <a href="https://eslint.org/docs/latest/maintainer-guide/">Maintainer Guide</a><ul data-child-list>
<li class="docs-index__item"> <a href="https://eslint.org/docs/latest/maintainer-guide/issues">Managing Issues</a>
</li>
<li class="docs-index__item"> <a href="https://eslint.org/docs/latest/maintainer-guide/pullrequests">Reviewing Pull Requests</a>
</li>
<li class="docs-index__item"> <a href="https://eslint.org/docs/latest/maintainer-guide/releases">Managing Releases</a>
</li>
<li class="docs-index__item"> <a href="https://eslint.org/docs/latest/maintainer-guide/governance">Governance</a>
</li>
</ul>
</li>
</ul> </div> </nav> </div> <div class="docs-content"> <main id="main" tabindex="-1" class="docs-main"> <div class="docs-main__content"> <h1>Migrating to v3.0.0</h1> <nav class="docs-toc c-toc" aria-labelledby="js-toc-label"><h2 class="c-toc__label" id="js-toc-label">Table of Contents</h2> <div class="c-toc__panel" id="js-toc-panel"> <nav class="c-toc"> <ol> <li>
<a href="#dropping-support-for-nodejs--4">Dropping Support for Node.js &lt; 4</a> </li> <li>
<a href="#requiring-configuration-to-run">Requiring Configuration to Run</a> </li> <li>
<a href="#changes-to-eslintrecommended">Changes to "eslint:recommended"</a> </li> <li>
<a href="#changes-to-cliengineexecuteontext">Changes to CLIEngine#executeOnText()</a> </li> </ol> </nav> </div></nav> <p>ESLint v3.0.0 is the third major version release. We have made several breaking changes in this release, however, we believe the changes to be small enough that they should not require significant changes for ESLint users. This guide is intended to walk you through the changes.</p> <h2 id="dropping-support-for-nodejs--4" tabindex="-1">Dropping Support for Node.js &lt; 4</h2> <p>With ESLint v3.0.0, we are dropping support for Node.js versions prior to 4. Node.js 0.10 and 0.12 are in <a href="https://github.com/nodejs/Release">maintenance mode</a> and Node.js 4 is the current LTS version. If you are using an older version of Node.js, we recommend upgrading to at least Node.js 4 as soon as possible. If you are unable to upgrade to Node.js 4 or higher, then we recommend continuing to use ESLint v2.x until you are ready to upgrade Node.js.</p> <p><strong>Important:</strong> We will not be updating the ESLint v2.x versions going forward. All bug fixes and enhancements will land in ESLint v3.x.</p> <h2 id="requiring-configuration-to-run" tabindex="-1">Requiring Configuration to Run</h2> <p>ESLint v3.0.0 now requires that you use a configuration to run. A configuration can be any of the following:</p> <ol> <li>A <code>.eslintrc.js</code>, <code>.eslintrc.json</code>, <code>.eslintrc.yml</code>, <code>.eslintrc.yaml</code>, or <code>.eslintrc</code> file either in your project or home directory.</li> <li>Configuration options passed on the command line using <code>--rule</code> (or to CLIEngine using <code>rules</code>).</li> <li>A configuration file passed on the command line using <code>-c</code> (or to CLIEngine using <code>configFile</code>).</li> <li>A base configuration is provided to CLIEngine using the <code>baseConfig</code> option.</li> </ol> <p>If ESLint can’t find a configuration, then it will throw an error and ask you to provide one.</p> <p>This change was made to help new ESLint users who are frequently confused that ESLint does nothing by default besides reporting parser errors. We anticipate this change will have minimal impact on most established users because you’re more likely to have configuration files already.</p> <p><strong>To Address:</strong> You should be sure to use a configuration whenever you run ESLint. However, you can still run ESLint without a configuration by passing the <code>--no-eslintrc</code> option on the command line or setting the <code>useEslintrc</code> option to <code>false</code> for <code>CLIEngine</code>.</p> <p>To create a new configuration, use <code>eslint --init</code>.</p> <h2 id="changes-to-eslintrecommended" tabindex="-1">Changes to <code>"eslint:recommended"</code>
</h2> <pre class="language-json"><code><span class="highlight-line"><span class="token punctuation">{</span></span><br><span class="highlight-line">    <span class="token property">"extends"</span><span class="token operator">:</span> <span class="token string">"eslint:recommended"</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre> <p>In 3.0.0, the following rules were added to <code>"eslint:recommended"</code>:</p> <ul> <li>
<a href="../../rules/no-unsafe-finally"><code>no-unsafe-finally</code></a> helps catch <code>finally</code> clauses that may not behave as you think.</li> <li>
<a href="../../rules/no-native-reassign"><code>no-native-reassign</code></a> was previously part of <code>no-undef</code>, but was split out because it didn’t make sense as part of another rule. The <code>no-native-reassign</code> rule warns whenever you try to overwrite a read-only global variable.</li> <li>
<a href="../../rules/require-yield"><code>require-yield</code></a> helps to identify generator functions that do not have the <code>yield</code> keyword.</li> </ul> <p>The following rules were removed from <code>"eslint:recommended"</code>:</p> <ul> <li>
<a href="../../rules/comma-dangle"><code>comma-dangle</code></a> used to be recommended because Internet Explorer 8 and earlier threw a syntax error when it found a dangling comma on object literal properties. However, <a href="https://www.microsoft.com/en-us/WindowsForBusiness/End-of-IE-support">Internet Explorer 8 was end-of-lifed</a> in January 2016 and all other active browsers allow dangling commas. As such, we consider dangling commas to now be a stylistic issue instead of a possible error.</li> </ul> <p>The following rules were modified:</p> <ul> <li>
<a href="../../rules/complexity"><code>complexity</code></a> used to have a hardcoded default of 11 in <code>eslint:recommended</code> that would be used if you turned the rule on without specifying a maximum. The default is now 20. The rule actually always had a default of 20, but <code>eslint:recommended</code> was overriding it by mistake.</li> </ul> <p><strong>To address:</strong> If you want to mimic how <code>eslint:recommended</code> worked in v2.x, you can use the following:</p> <pre class="language-json"><code><span class="highlight-line"><span class="token punctuation">{</span></span><br><span class="highlight-line">    <span class="token property">"extends"</span><span class="token operator">:</span> <span class="token string">"eslint:recommended"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">    <span class="token property">"rules"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">        <span class="token property">"no-unsafe-finally"</span><span class="token operator">:</span> <span class="token string">"off"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">        <span class="token property">"no-native-reassign"</span><span class="token operator">:</span> <span class="token string">"off"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">        <span class="token property">"complexity"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"off"</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span><br><span class="highlight-line">        <span class="token property">"comma-dangle"</span><span class="token operator">:</span> <span class="token string">"error"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">        <span class="token property">"require-yield"</span><span class="token operator">:</span> <span class="token string">"error"</span></span><br><span class="highlight-line">    <span class="token punctuation">}</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre> <h2 id="changes-to-cliengineexecuteontext" tabindex="-1">Changes to <code>CLIEngine#executeOnText()</code>
</h2> <p>The <code>CLIEngine#executeOnText()</code> method has changed to work more like <code>CLIEngine#executeOnFiles()</code>. In v2.x, <code>CLIEngine#executeOnText()</code> warned about ignored files by default and didn’t have a way to opt-out of those warnings whereas <code>CLIEngine#executeOnFiles()</code> did not warn about ignored files by default and allowed you to opt-in to warning about them. The <code>CLIEngine#executeOnText()</code> method now also does not warn about ignored files by default and allows you to opt-in with a new, third argument (a boolean, <code>true</code> to warn about ignored files and <code>false</code> to not warn).</p> <p><strong>To address:</strong> If you are currently using <code>CLIEngine#executeOnText()</code> in your project like this:</p> <pre class="language-js"><code><span class="highlight-line"><span class="token keyword">var</span> result <span class="token operator">=</span> engine<span class="token punctuation">.</span><span class="token function">executeOnText</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> filename<span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre> <p>You can get the equivalent behavior using this:</p> <pre class="language-js"><code><span class="highlight-line"><span class="token keyword">var</span> result <span class="token operator">=</span> engine<span class="token punctuation">.</span><span class="token function">executeOnText</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> filename<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre> <p>If you do not want ignored file warnings output to the console, you can omit the third argument or pass <code>false</code>.</p> </div> <div class="docs-edit-link"> <a href="https://github.com/eslint/eslint/edit/main/docs/src/user-guide/migrating-to-3.0.0.md" class="c-btn c-btn--secondary">Edit this page</a> </div> </main> <div class="docs-aside"> <div class="docs-aside__content">  <nav class="docs-toc c-toc" aria-labelledby="js-toc-label"><h2 class="c-toc__label" id="js-toc-label">Table of Contents</h2> <div class="c-toc__panel" id="js-toc-panel"> <nav class="c-toc"> <ol> <li>
<a href="#dropping-support-for-nodejs--4">Dropping Support for Node.js &lt; 4</a> </li> <li>
<a href="#requiring-configuration-to-run">Requiring Configuration to Run</a> </li> <li>
<a href="#changes-to-eslintrecommended">Changes to "eslint:recommended"</a> </li> <li>
<a href="#changes-to-cliengineexecuteontext">Changes to CLIEngine#executeOnText()</a> </li> </ol> </nav> </div></nav> </div> <footer class="docs-footer"> <div class="docs-socials-and-legal"> <div class="docs-social-icons"> <nav aria-labelledby="eslint-social-label" class="eslint-social-icons"> <h2 id="eslint-social-label" hidden>Social Media</h2>  </nav> </div> <div class="docs-copyright"> © OpenJS Foundation and ESLint contributors, <a href="https://www.openjsf.org">www.openjsf.org</a> </div> </div> <div class="docs-switchers"> <div role="region" class="theme-switcher" aria-labelledby="theme-switcher-label" id="js-theme-switcher" hidden> <h2 class="theme-switcher-label visually-hidden" id="theme-switcher-label">Theme Switcher </h2> <div class="theme-switcher__buttons"> <button class="theme-switcher__button js-toggle-button" id="light-theme-toggle" data-theme="light">  <span>Light</span> </button> <button class="theme-switcher__button js-toggle-button" id="dark-theme-toggle" data-theme="dark">  <span>Dark</span> </button> </div> </div> <div class="language-switcher"> <a href="https://eslint.org/languages/" class="switcher-fallback">Change Language</a> <div hidden role="region" class="switcher switcher--language" aria-labelledby="language-switcher-label" id="language-switcher"> <span id="language-switcher-label" hidden>Language Switcher</span> <div class="infobox visually-hidden" id="language-infobox"> Selecting a language will take you to the ESLint website in that language. </div> <label class="switcher__label" for="language-select"> <span class="label__text"> Language </span> </label> <select name="language selector" id="language-select" aria-describedby="language-infobox" class="c-custom-select switcher__select"> <option value="en" data-url="https://eslint.org" selected> 🇺🇸 English (US) </option> </select> </div> </div> </div> </footer> </div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://eslint.org/docs/latest/user-guide/migrating-to-3.0.0" class="_attribution-link" target="_blank">https://eslint.org/docs/latest/user-guide/migrating-to-3.0.0</a>
  </p>
</div>
