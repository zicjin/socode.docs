<a href="#main" class="c-btn c-btn--primary" id="skip-link">Skip to main content</a> <header class="site-header"> <div class="docs-wrapper">  <nav class="docs-site-nav" aria-label="Main"> <div class="flexer"> <a href="https://eslint.org/donate" class="c-btn c-btn--primary donate-link">Donate</a>  </div> <div class="docs-nav-panel" id="nav-panel"> <ul id="nav-list"> <li> <a href="https://eslint.org/team">Team</a> </li> <li> <a href="https://eslint.org/blog">Blog</a> </li> <li> <a href="../index" aria-current="true">Docs</a> </li> <li> <a href="https://eslint.threadless.com" target="_blank">Store</a> </li> <li> <a href="https://eslint.org/play">Playground</a> </li> </ul> <div class="mobile-only">  <div class="version-switcher"> <a href="../versions/index" class="switcher-fallback">Versions</a> <div hidden role="region" class="switcher switcher--version" aria-labelledby="nav-version-switcher-label" id="nav-version-switcher"> <span id="nav-version-switcher-label" hidden>Version Switcher</span> <div class="infobox visually-hidden" id="nav-version-infobox"> Selecting a version will take you to the chosen version of the ESLint docs. </div> <label class="switcher__label label--block" for="version-select"> <span class="label__text">Version</span> </label> <select name="version selector" id="nav-version-select" aria-describedby="nav-version-infobox" class="c-custom-select switcher__select auto-switcher"> <option value="HEAD" data-url="/docs/head/">HEAD</option> <option value="8.21.0" data-url="/docs/latest/" selected>v8.21.0</option> </select> </div> </div> </div> </div> </nav> </div> </header> <div class="docs-wrapper"> <div class="docs-nav"> <div class="desktop-only">  <div class="version-switcher"> <a href="../versions/index" class="switcher-fallback">Versions</a> <div hidden role="region" class="switcher switcher--version" aria-labelledby="version-switcher-label" id="version-switcher"> <span id="version-switcher-label" hidden>Version Switcher</span> <div class="infobox visually-hidden" id="version-infobox"> Selecting a version will take you to the chosen version of the ESLint docs. </div> <label class="switcher__label label--block" for="version-select"> <span class="label__text">Version</span> </label> <select name="version selector" id="version-select" aria-describedby="version-infobox" class="c-custom-select switcher__select auto-switcher"> <option value="HEAD" data-url="/docs/head/">HEAD</option> <option value="8.21.0" data-url="/docs/latest/" selected>v8.21.0</option> </select> </div> </div> </div> <nav class="docs-index" id="docs-index"> <button class="docs-index-toggle" id="js-docs-index-toggle" hidden> Index  </button> <div class="docs__index__panel" id="js-docs-index-panel"> <div role="region" aria-labelledby="search-label" class="search"> <label for="search" class="label--block"> <span class="label__text" id="search-label">Search</span> </label> <div class="search__input-wrapper">  <p id="search-hint">Results will be shown and updated as you type.</p> <div class="search__inner-input-wrapper"> <input type="search" id="search" class="search__input" autocomplete="off" aria-describedby="search-hint" pattern="\S+"> <button class="search__clear-btn" id="search__clear-btn" hidden> <span class="visually-hidden">Clear search</span>  </button> </div> </div>   </div> <ul class="docs-index__list" id="js-docs-list">
<li class="docs-index__item" data-has-children> <a href="index">User Guide</a><ul data-child-list>
<li class="docs-index__item"> <a href="getting-started">Getting Started</a>
</li>
<li class="docs-index__item" data-has-children> <a href="configuring/index">Configuring</a><ul data-child-list>
<li class="docs-index__item"> <a href="configuring/configuration-files-new">Configuration Files (New)</a>
</li>
<li class="docs-index__item"> <a href="configuring/configuration-files">Configuration Files</a>
</li>
<li class="docs-index__item"> <a href="configuring/language-options">Configuring Language Options</a>
</li>
<li class="docs-index__item"> <a href="configuring/rules">Configuring Rules</a>
</li>
<li class="docs-index__item"> <a href="configuring/plugins">Configuring Plugins</a>
</li>
<li class="docs-index__item"> <a href="configuring/ignoring-code">Ignoring Code</a>
</li>
</ul>
</li>
<li class="docs-index__item"> <a href="command-line-interface">Command Line Interface</a>
</li>
<li class="docs-index__item"> <a href="../rules/index">Rules</a>
</li>
<li class="docs-index__item"> <a href="formatters/index">Formatters</a>
</li>
<li class="docs-index__item"> <a href="integrations">Integrations</a>
</li>
<li class="docs-index__item"> <a href="migrating-to-8.0.0" aria-current="true">Migrating to v8.x</a>
</li>
</ul>
</li>
<li class="docs-index__item" data-has-children> <a href="../developer-guide/index">Developer Guide</a><ul data-child-list>
<li class="docs-index__item"> <a href="../developer-guide/architecture/index">Architecture</a>
</li>
<li class="docs-index__item"> <a href="../developer-guide/source-code">Getting the Source Code</a>
</li>
<li class="docs-index__item"> <a href="../developer-guide/development-environment">Set Up a Development Environment</a>
</li>
<li class="docs-index__item"> <a href="../developer-guide/unit-tests">Run the Tests</a>
</li>
<li class="docs-index__item"> <a href="../developer-guide/working-with-rules">Working with Rules</a>
</li>
<li class="docs-index__item"> <a href="../developer-guide/working-with-plugins">Working with Plugins</a>
</li>
<li class="docs-index__item"> <a href="../developer-guide/working-with-custom-formatters">Working with Custom Formatters</a>
</li>
<li class="docs-index__item"> <a href="../developer-guide/working-with-custom-parsers">Working with Custom Parsers</a>
</li>
<li class="docs-index__item"> <a href="../developer-guide/shareable-configs">Shareable Configs</a>
</li>
<li class="docs-index__item"> <a href="../developer-guide/nodejs-api">Node.js API</a>
</li>
<li class="docs-index__item"> <a href="../developer-guide/contributing/index">Contributing</a>
</li>
</ul>
</li>
<li class="docs-index__item" data-has-children> <a href="https://eslint.org/docs/latest/maintainer-guide/">Maintainer Guide</a><ul data-child-list>
<li class="docs-index__item"> <a href="https://eslint.org/docs/latest/maintainer-guide/issues">Managing Issues</a>
</li>
<li class="docs-index__item"> <a href="https://eslint.org/docs/latest/maintainer-guide/pullrequests">Reviewing Pull Requests</a>
</li>
<li class="docs-index__item"> <a href="https://eslint.org/docs/latest/maintainer-guide/releases">Managing Releases</a>
</li>
<li class="docs-index__item"> <a href="https://eslint.org/docs/latest/maintainer-guide/governance">Governance</a>
</li>
</ul>
</li>
</ul> </div> </nav> </div> <div class="docs-content"> <main id="main" tabindex="-1" class="docs-main"> <div class="docs-main__content"> <h1>Migrating to v8.0.0</h1> <nav class="docs-toc c-toc" aria-labelledby="js-toc-label"><h2 class="c-toc__label" id="js-toc-label">Table of Contents</h2> <div class="c-toc__panel" id="js-toc-panel"> <nav class="c-toc"> <ol> <li>
<a href="#table-of-contents">Table of Contents</a> <ol> <li>
<a href="#breaking-changes-for-users">Breaking changes for users</a> </li> <li>
<a href="#breaking-changes-for-plugin-developers">Breaking changes for plugin developers</a> </li> <li>
<a href="#breaking-changes-for-integration-developers">Breaking changes for integration developers</a> </li> </ol> </li> <li>
<a href="#-nodejs-10-13-and-15-are-no-longer-supported">Node.js 10, 13, and 15 are no longer supported</a> </li> <li>
<a href="#-removed-codeframe-and-table-formatters">Removed codeframe and table formatters</a> </li> <li>
<a href="#-comma-dangle-rule-schema-is-stricter">comma-dangle rule schema is stricter</a> </li> <li>
<a href="#-unused-disable-directives-are-now-fixable">Unused disable directives are now fixable</a> </li> <li>
<a href="#-eslintrecommended-has-been-updated">eslint:recommended has been updated</a> </li> <li>
<a href="#-rules-require-metahassuggestions-to-provide-suggestions">Rules require meta.hasSuggestions to provide suggestions</a> </li> <li>
<a href="#-rules-require-metafixable-to-provide-fixes">Rules require meta.fixable to provide fixes</a> </li> <li>
<a href="#-sourcecodegetcomments-fails-in-ruletester">SourceCode#getComments() fails in RuleTester</a> </li> <li>
<a href="#-changes-to-shorthand-property-ast-format">Changes to shorthand property AST format</a> </li> <li>
<a href="#-the-cliengine-class-has-been-removed">The CLIEngine class has been removed</a> </li> <li>
<a href="#-the-linter-object-has-been-removed">The linter object has been removed</a> </li> <li>
<a href="#-the-lib-entrypoint-has-been-removed">The /lib entrypoint has been removed</a> </li> </ol> </nav> </div></nav> <p>ESLint v8.0.0 is a major release of ESLint. We have made a few breaking changes in this release. This guide is intended to walk you through the breaking changes.</p> <p>The lists below are ordered roughly by the number of users each change is expected to affect, where the first items are expected to affect the most users.</p> <h2 id="table-of-contents" tabindex="-1">Table of Contents</h2> <h3 id="breaking-changes-for-users" tabindex="-1">Breaking changes for users</h3> <ul> <li><a href="#drop-old-node">Node.js 10, 13, and 15 are no longer supported</a></li> <li><a href="#removed-formatters">Removed <code>codeframe</code> and <code>table</code> formatters</a></li> <li><a href="#comma-dangle"><code>comma-dangle</code> rule schema is stricter</a></li> <li><a href="#directives">Unused disable directives are now fixable</a></li> <li><a href="#eslint-recommended"><code>eslint:recommended</code> has been updated</a></li> </ul> <h3 id="breaking-changes-for-plugin-developers" tabindex="-1">Breaking changes for plugin developers</h3> <ul> <li><a href="#drop-old-node">Node.js 10, 13, and 15 are no longer supported</a></li> <li><a href="#suggestions">Rules require <code>meta.hasSuggestions</code> to provide suggestions</a></li> <li><a href="#fixes">Rules require <code>meta.fixable</code> to provide fixes</a></li> <li><a href="#get-comments"><code>SourceCode#getComments()</code> fails in <code>RuleTester</code></a></li> <li><a href="#ast-format">Changes to shorthand property AST format</a></li> </ul> <h3 id="breaking-changes-for-integration-developers" tabindex="-1">Breaking changes for integration developers</h3> <ul> <li><a href="#drop-old-node">Node.js 10, 13, and 15 are no longer supported</a></li> <li><a href="#remove-cliengine">The <code>CLIEngine</code> class has been removed</a></li> <li><a href="#remove-linter">The <code>linter</code> object has been removed</a></li> <li><a href="#remove-lib">The <code>/lib</code> entrypoint has been removed</a></li> </ul>  <h2 id="-nodejs-10-13-and-15-are-no-longer-supported" tabindex="-1">
 Node.js 10, 13, and 15 are no longer supported</h2> <p>Node.js 10, 13, 15 all reached end of life either in 2020 or early 2021. ESLint is officially dropping support for these versions of Node.js starting with ESLint v8.0.0. ESLint now supports the following versions of Node.js:</p> <ul> <li>Node.js 12.22 and above</li> <li>Node.js 14 and above</li> <li>Node.js 16 and above</li> </ul> <p><strong>To address:</strong> Make sure you upgrade to at least Node.js <code>12.22.0</code> when using ESLint v8.0.0. One important thing to double check is the Node.js version supported by your editor when using ESLint via editor integrations. If you are unable to upgrade, we recommend continuing to use ESLint 7 until you are able to upgrade Node.js.</p> <p><strong>Related issue(s):</strong> <a href="https://github.com/eslint/eslint/issues/14023">#14023</a></p> <h2 id="-removed-codeframe-and-table-formatters" tabindex="-1">
 Removed <code>codeframe</code> and <code>table</code> formatters</h2> <p>ESLint v8.0.0 has removed the <code>codeframe</code> and <code>table</code> formatters from the core. These formatters required dependencies that weren’t used anywhere else in ESLint, and removing them allows us to reduce the size of ESLint, allowing for faster installation.</p> <p><strong>To address:</strong> If you are using the <code>codeframe</code> or <code>table</code> formatters, you’ll need to install the standalone <a href="https://github.com/fregante/eslint-formatter-codeframe"><code>eslint-formatter-codeframe</code></a> or <a href="https://github.com/fregante/eslint-formatter-table"><code>eslint-formatter-table</code></a> packages, respectively, to be able to use them in ESLint v8.0.0.</p> <p><strong>Related issue(s):</strong> <a href="https://github.com/eslint/eslint/issues/14277">#14277</a>, <a href="https://github.com/eslint/eslint/pull/14316">#14316</a></p> <h2 id="-comma-dangle-rule-schema-is-stricter" tabindex="-1">
 <code>comma-dangle</code> rule schema is stricter</h2> <p>In ESLint v7.0.0, the <code>comma-dangle</code> rule could be configured like this without error:</p> <pre class="language-json"><code><span class="highlight-line"><span class="token punctuation">{</span></span><br><span class="highlight-line">    <span class="token property">"rules"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">        <span class="token property">"comma-dangle"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"error"</span><span class="token punctuation">,</span> <span class="token string">"never"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token property">"arrays"</span><span class="token operator">:</span> <span class="token string">"always"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span></span><br><span class="highlight-line">    <span class="token punctuation">}</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre> <p>With this configuration, the rule would ignore the third element in the array because only the second element is read. In ESLint v8.0.0, this configuration will cause ESLint to throw an error.</p> <p><strong>To address:</strong> Change your rule configuration so that there are only two elements in the array, and the second element is either a string or an object, such as:</p> <pre class="language-json"><code><span class="highlight-line"><span class="token punctuation">{</span></span><br><span class="highlight-line">    <span class="token property">"comma-dangle"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"error"</span><span class="token punctuation">,</span> <span class="token string">"never"</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre> <p>or</p> <pre class="language-json"><code><span class="highlight-line"><span class="token punctuation">{</span></span><br><span class="highlight-line">    <span class="token property">"comma-dangle"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"error"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">        <span class="token property">"arrays"</span><span class="token operator">:</span> <span class="token string">"never"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">        <span class="token property">"objects"</span><span class="token operator">:</span> <span class="token string">"never"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">        <span class="token property">"imports"</span><span class="token operator">:</span> <span class="token string">"never"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">        <span class="token property">"exports"</span><span class="token operator">:</span> <span class="token string">"never"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">        <span class="token property">"functions"</span><span class="token operator">:</span> <span class="token string">"never"</span></span><br><span class="highlight-line">    <span class="token punctuation">}</span><span class="token punctuation">]</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre> <p><strong>Related issue(s):</strong> <a href="https://github.com/eslint/eslint/issues/13739">#13739</a></p> <h2 id="-unused-disable-directives-are-now-fixable" tabindex="-1">
 Unused disable directives are now fixable</h2> <p>In ESLint v7.0.0, using both <code>--report-unused-disable-directives</code> and <code>--fix</code> on the command line would fix only rules but leave unused disable directives in place. In ESLint v8.0.0, this combination of command-line options will result in the unused disable directives being removed.</p> <p><strong>To address:</strong> If you are using <code>--report-unused-disable-directives</code> and <code>--fix</code> together on the command line, and you don’t want unused disable directives to be removed, add <code>--fix-type problem,suggestion,layout</code> as a command line option.</p> <p><strong>Related issue(s):</strong> <a href="https://github.com/eslint/eslint/issues/11815">#11815</a></p> <h2 id="-eslintrecommended-has-been-updated" tabindex="-1">
 <code>eslint:recommended</code> has been updated</h2> <p>Four new rules have been enabled in the <code>eslint:recommended</code> preset.</p> <ul> <li><a href="../../rules/no-loss-of-precision"><code>no-loss-of-precision</code></a></li> <li><a href="../../rules/no-nonoctal-decimal-escape"><code>no-nonoctal-decimal-escape</code></a></li> <li><a href="../../rules/no-unsafe-optional-chaining"><code>no-unsafe-optional-chaining</code></a></li> <li><a href="../../rules/no-useless-backreference"><code>no-useless-backreference</code></a></li> </ul> <p><strong>To address:</strong> Fix errors or disable these rules.</p> <p><strong>Related issue(s):</strong> <a href="https://github.com/eslint/eslint/issues/14673">#14673</a></p> <h2 id="-rules-require-metahassuggestions-to-provide-suggestions" tabindex="-1">
 Rules require <code>meta.hasSuggestions</code> to provide suggestions</h2> <p>In ESLint v7.0.0, rules that <a href="../../developer-guide/working-with-rules#providing-suggestions">provided suggestions</a> did not need to let ESLint know. In v8.0.0, rules providing suggestions need to set their <code>meta.hasSuggestions</code> to <code>true</code>. This informs ESLint that the rule intends to provide suggestions. Without this property, any attempt to provide a suggestion will result in an error.</p> <p><strong>To address:</strong> If your rule provides suggestions, add <code>meta.hasSuggestions</code> to the object, such as:</p> <pre class="language-js"><code><span class="highlight-line">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">    <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">        <span class="token literal-property property">hasSuggestions</span><span class="token operator">:</span> <span class="token boolean">true</span></span><br><span class="highlight-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span><br><span class="highlight-line">    <span class="token function">create</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">        <span class="token comment">// your rule</span></span><br><span class="highlight-line">    <span class="token punctuation">}</span></span><br><span class="highlight-line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span></code></pre> <p>The <a href="https://github.com/not-an-aardvark/eslint-plugin-eslint-plugin/blob/master/docs/rules/require-meta-has-suggestions.md">eslint-plugin/require-meta-has-suggestions</a> rule can automatically fix and enforce that your rules are properly specifying <code>meta.hasSuggestions</code>.</p> <p><strong>Related issue(s):</strong> <a href="https://github.com/eslint/eslint/issues/14312">#14312</a></p> <h2 id="-rules-require-metafixable-to-provide-fixes" tabindex="-1">
 Rules require <code>meta.fixable</code> to provide fixes</h2> <p>In ESLint v7.0.0, rules that were written as a function (rather than object) were able to provide fixes. In ESLint v8.0.0, only rules written as an object are allowed to provide fixes and must have a <code>meta.fixable</code> property set to either <code>"code"</code> or <code>"whitespace"</code>.</p> <p><strong>To address:</strong> If your rule makes fixes and is written as a function, such as:</p> <pre class="language-js"><code><span class="highlight-line">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">    <span class="token comment">// your rule</span></span><br><span class="highlight-line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span></code></pre> <p>Then rewrite your rule in this format:</p> <pre class="language-js"><code><span class="highlight-line">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">    <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">        <span class="token literal-property property">fixable</span><span class="token operator">:</span> <span class="token string">"code"</span> <span class="token comment">// or "whitespace"</span></span><br><span class="highlight-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span><br><span class="highlight-line">    <span class="token function">create</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">        <span class="token comment">// your rule</span></span><br><span class="highlight-line">    <span class="token punctuation">}</span></span><br><span class="highlight-line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span></code></pre> <p>The <a href="https://github.com/not-an-aardvark/eslint-plugin-eslint-plugin/blob/master/docs/rules/require-meta-fixable.md">eslint-plugin/require-meta-fixable</a> rule can automatically fix and enforce that your rules are properly specifying <code>meta.fixable</code>.</p> <p>The <a href="https://github.com/not-an-aardvark/eslint-plugin-eslint-plugin/blob/master/docs/rules/prefer-object-rule.md">eslint-plugin/prefer-object-rule</a> rule can automatically fix and enforce that your rules are written with the object format instead of the deprecated function format.</p> <p>See the <a href="../../developer-guide/working-with-rules">rule documentation</a> for more information on writing rules.</p> <p><strong>Related issue(s):</strong> <a href="https://github.com/eslint/eslint/issues/13349">#13349</a></p> <h2 id="-sourcecodegetcomments-fails-in-ruletester" tabindex="-1">
 <code>SourceCode#getComments()</code> fails in <code>RuleTester</code>
</h2> <p>Back in ESLint v4.0.0, we deprecated <code>SourceCode#getComments()</code>, but we neglected to remove it. Rather than removing it completely in v8.0.0, we are taking the intermediate step of updating <code>RuleTester</code> to fail when <code>SourceCode#getComments()</code> is used inside of a rule. As such, all existing rules will continue to work, but when the developer runs tests for the rule there will be a failure.</p> <p>The <code>SourceCode#getComments()</code> method will be removed in v9.0.0.</p> <p><strong>To address:</strong> If your rule uses <code>SourceCode#getComments()</code>, please use <a href="../../developer-guide/working-with-rules#sourcecodegetcommentsbefore-sourcecodegetcommentsafter-and-sourcecodegetcommentsinside"><code>SourceCode#getCommentsBefore()</code>, <code>SourceCode#getCommentsAfter()</code>, or <code>SourceCode#getCommentsInside()</code></a>.</p> <p><strong>Related issue(s):</strong> <a href="https://github.com/eslint/eslint/issues/14744">#14744</a></p> <h2 id="-changes-to-shorthand-property-ast-format" tabindex="-1">
 Changes to shorthand property AST format</h2> <p>ESLint v8.0.0 includes an upgrade to Espree v8.0.0 to support new syntax. This Espree upgrade, in turn, contains an upgrade to Acorn v8.0.0, which changed how shorthand properties were represented in the AST. Here’s an example:</p> <pre class="language-js"><code><span class="highlight-line"><span class="token keyword">const</span> version <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">    version</span><br><span class="highlight-line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span></code></pre> <p>This code creates a property node that looks like this:</p> <pre class="language-json"><code><span class="highlight-line"><span class="token punctuation">{</span></span><br><span class="highlight-line">    <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"Property"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">    <span class="token property">"method"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></span><br><span class="highlight-line">    <span class="token property">"shorthand"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span><br><span class="highlight-line">    <span class="token property">"computed"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></span><br><span class="highlight-line">    <span class="token property">"key"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">        <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"Identifier"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">        <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"version"</span></span><br><span class="highlight-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span><br><span class="highlight-line">    <span class="token property">"kind"</span><span class="token operator">:</span> <span class="token string">"init"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">    <span class="token property">"value"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">        <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"Identifier"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">        <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"version"</span></span><br><span class="highlight-line">    <span class="token punctuation">}</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre> <p>Note that both the <code>key</code> and the <code>value</code> properties contain the same information. Prior to Acorn v8.0.0 (and therefore prior to ESLint v8.0.0), these two nodes were represented by the same object, so you could use <code>===</code> to determine if they represented the same node, such as:</p> <pre class="language-js"><code><span class="highlight-line"><span class="token comment">// true in ESLint v7.x, false in ESLint v8.0.0</span></span><br><span class="highlight-line"><span class="token keyword">if</span> <span class="token punctuation">(</span>propertyNode<span class="token punctuation">.</span>key <span class="token operator">===</span> propertyNode<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">    <span class="token comment">// do something</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre> <p>In ESLint v8.0.0 (via Acorn v8.0.0), the key and value are now separate objects and therefore no longer equivalent.</p> <p><strong>To address:</strong> If your rule makes a comparison between the key and value of a shorthand object literal property to determine if they are the same node, you’ll need to change your code in one of two ways:</p> <ol> <li>Use <code>propertyNode.shorthand</code> to determine if the property is a shorthand property node.</li> <li>Use the <code>range</code> property of each node to determine if the key and value occupy the same location.</li> </ol> <p><strong>Related issue(s):</strong> <a href="https://github.com/eslint/eslint/pull/14591#issuecomment-887733070">#14591</a></p> <h2 id="-the-cliengine-class-has-been-removed" tabindex="-1">
 The <code>CLIEngine</code> class has been removed</h2> <p>The <code>CLIEngine</code> class has been removed and replaced by the <a href="../../developer-guide/nodejs-api#eslint-class"><code>ESLint</code> class</a>.</p> <p><strong>To address:</strong> Update your code to use the new <code>ESLint</code> class if you are currently using <code>CLIEngine</code>. The following table maps the existing <code>CLIEngine</code> methods to their <code>ESLint</code> counterparts:</p> <table> <thead> <tr> <th style="text-align:left"><code>CLIEngine</code></th> <th style="text-align:left"><code>ESLint</code></th> </tr> </thead> <tbody> <tr> <td style="text-align:left"><code>executeOnFiles(patterns)</code></td> <td style="text-align:left"><code>lintFiles(patterns)</code></td> </tr> <tr> <td style="text-align:left"><code>executeOnText(text, filePath, warnIgnored)</code></td> <td style="text-align:left"><code>lintText(text, options)</code></td> </tr> <tr> <td style="text-align:left"><code>getFormatter(name)</code></td> <td style="text-align:left"><code>loadFormatter(name)</code></td> </tr> <tr> <td style="text-align:left"><code>getConfigForFile(filePath)</code></td> <td style="text-align:left"><code>calculateConfigForFile(filePath)</code></td> </tr> <tr> <td style="text-align:left"><code>isPathIgnored(filePath)</code></td> <td style="text-align:left"><code>isPathIgnored(filePath)</code></td> </tr> <tr> <td style="text-align:left"><code>static outputFixes(results)</code></td> <td style="text-align:left"><code>static outputFixes(results)</code></td> </tr> <tr> <td style="text-align:left"><code>static getErrorResults(results)</code></td> <td style="text-align:left"><code>static getErrorResults(results)</code></td> </tr> <tr> <td style="text-align:left"><code>static getFormatter(name)</code></td> <td style="text-align:left">(removed ※1)</td> </tr> <tr> <td style="text-align:left"><code>addPlugin(pluginId, definition)</code></td> <td style="text-align:left">the <code>plugins</code> constructor option</td> </tr> <tr> <td style="text-align:left"><code>getRules()</code></td> <td style="text-align:left">(removed ※2)</td> </tr> <tr> <td style="text-align:left"><code>resolveFileGlobPatterns()</code></td> <td style="text-align:left">(removed ※3)</td> </tr> </tbody> </table> <ul> <li>※1 The <code>engine.getFormatter()</code> method currently returns the object of loaded packages as-is, which made it difficult to add new features to formatters for backward compatibility reasons. The new <code>eslint.loadFormatter()</code> method returns an adapter object that wraps the object of loaded packages, to ease the process of adding new features. Additionally, the adapter object has access to the <code>ESLint</code> instance to calculate default data (using loaded plugin rules to make <code>rulesMeta</code>, for example). As a result, the <code>ESLint</code> class only implements an instance version of the <code>loadFormatter()</code> method.</li> <li>※2 The <code>CLIEngine#getRules()</code> method had side effects and so was removed. If you were using <code>CLIEngine#getRules()</code> to retrieve meta information about rules based on linting results, use <code>ESLint#getRulesMetaForResults()</code> instead. If you were using <code>CLIEngine#getRules()</code> to retrieve all built-in rules, import <code>builtinRules</code> from <code>eslint/use-at-your-own-risk</code> for an unsupported API that allows access to internal rules.</li> <li>※3 Since ESLint v6.0.0, ESLint uses different logic from the <code>resolveFileGlobPatterns()</code> method to iterate files, making this method obsolete.</li> </ul> <p><strong>Related issue(s):</strong> <a href="https://github.com/eslint/rfcs/tree/main/designs/2021-package-exports">RFC80</a>, <a href="https://github.com/eslint/eslint/pull/14716">#14716</a>, <a href="https://github.com/eslint/eslint/issues/13654">#13654</a></p> <h2 id="-the-linter-object-has-been-removed" tabindex="-1">
 The <code>linter</code> object has been removed</h2> <p>The deprecated <code>linter</code> object has been removed from the ESLint package in v8.0.0.</p> <p><strong>To address:</strong> If you are using the <code>linter</code> object, such as:</p> <pre class="language-js"><code><span class="highlight-line"><span class="token keyword">const</span> <span class="token punctuation">{</span> linter <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"eslint"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre> <p>Change your code to this:</p> <pre class="language-js"><code><span class="highlight-line"><span class="token keyword">const</span> <span class="token punctuation">{</span> Linter <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"eslint"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token keyword">const</span> linter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Linter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre> <p><strong>Related issue(s):</strong> <a href="https://github.com/eslint/rfcs/tree/main/designs/2021-package-exports">RFC80</a>, <a href="https://github.com/eslint/eslint/pull/14716">#14716</a>, <a href="https://github.com/eslint/eslint/issues/13654">#13654</a></p> <h2 id="-the-lib-entrypoint-has-been-removed" tabindex="-1">
 The <code>/lib</code> entrypoint has been removed</h2> <p>Beginning in v8.0.0, ESLint is strictly defining its public API. Previously, you could reach into individual files such as <code>require("eslint/lib/rules/semi")</code> and this is no longer allowed. There are a limited number of existing APIs that are now available through the <code>/use-at-your-own-risk</code> entrypoint for backwards compatibility, but these APIs are not formally supported and may break or disappear at any point in time.</p> <p><strong>To address:</strong> If you are accessing rules directly through the <code>/lib</code> entrypoint, such as:</p> <pre class="language-js"><code><span class="highlight-line"><span class="token keyword">const</span> rule <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"eslint/lib/rules/semi"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre> <p>Change your code to this:</p> <pre class="language-js"><code><span class="highlight-line"><span class="token keyword">const</span> <span class="token punctuation">{</span> builtinRules <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"eslint/use-at-your-own-risk"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token keyword">const</span> rule <span class="token operator">=</span> builtinRules<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"semi"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre> <p>If you are accessing <code>FileEnumerator</code> directly through the <code>/lib</code> entrypoint, such as:</p> <pre class="language-js"><code><span class="highlight-line"><span class="token keyword">const</span> <span class="token punctuation">{</span> FileEnumerator <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"eslint/lib/cli-engine/file-enumerator"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre> <p>Change your code to this:</p> <pre class="language-js"><code><span class="highlight-line"><span class="token keyword">const</span> <span class="token punctuation">{</span> FileEnumerator <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"eslint/use-at-your-own-risk"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre> <p><strong>Related issue(s):</strong> <a href="https://github.com/eslint/rfcs/tree/main/designs/2021-package-exports">RFC80</a>, <a href="https://github.com/eslint/eslint/pull/14716">#14716</a>, <a href="https://github.com/eslint/eslint/issues/13654">#13654</a></p> </div> <div class="docs-edit-link"> <a href="https://github.com/eslint/eslint/edit/main/docs/src/user-guide/migrating-to-8.0.0.md" class="c-btn c-btn--secondary">Edit this page</a> </div> </main> <div class="docs-aside"> <div class="docs-aside__content">  <nav class="docs-toc c-toc" aria-labelledby="js-toc-label"><h2 class="c-toc__label" id="js-toc-label">Table of Contents</h2> <div class="c-toc__panel" id="js-toc-panel"> <nav class="c-toc"> <ol> <li>
<a href="#table-of-contents">Table of Contents</a> <ol> <li>
<a href="#breaking-changes-for-users">Breaking changes for users</a> </li> <li>
<a href="#breaking-changes-for-plugin-developers">Breaking changes for plugin developers</a> </li> <li>
<a href="#breaking-changes-for-integration-developers">Breaking changes for integration developers</a> </li> </ol> </li> <li>
<a href="#-nodejs-10-13-and-15-are-no-longer-supported">Node.js 10, 13, and 15 are no longer supported</a> </li> <li>
<a href="#-removed-codeframe-and-table-formatters">Removed codeframe and table formatters</a> </li> <li>
<a href="#-comma-dangle-rule-schema-is-stricter">comma-dangle rule schema is stricter</a> </li> <li>
<a href="#-unused-disable-directives-are-now-fixable">Unused disable directives are now fixable</a> </li> <li>
<a href="#-eslintrecommended-has-been-updated">eslint:recommended has been updated</a> </li> <li>
<a href="#-rules-require-metahassuggestions-to-provide-suggestions">Rules require meta.hasSuggestions to provide suggestions</a> </li> <li>
<a href="#-rules-require-metafixable-to-provide-fixes">Rules require meta.fixable to provide fixes</a> </li> <li>
<a href="#-sourcecodegetcomments-fails-in-ruletester">SourceCode#getComments() fails in RuleTester</a> </li> <li>
<a href="#-changes-to-shorthand-property-ast-format">Changes to shorthand property AST format</a> </li> <li>
<a href="#-the-cliengine-class-has-been-removed">The CLIEngine class has been removed</a> </li> <li>
<a href="#-the-linter-object-has-been-removed">The linter object has been removed</a> </li> <li>
<a href="#-the-lib-entrypoint-has-been-removed">The /lib entrypoint has been removed</a> </li> </ol> </nav> </div></nav> </div> <footer class="docs-footer"> <div class="docs-socials-and-legal"> <div class="docs-social-icons"> <nav aria-labelledby="eslint-social-label" class="eslint-social-icons"> <h2 id="eslint-social-label" hidden>Social Media</h2>  </nav> </div> <div class="docs-copyright"> © OpenJS Foundation and ESLint contributors, <a href="https://www.openjsf.org">www.openjsf.org</a> </div> </div> <div class="docs-switchers"> <div role="region" class="theme-switcher" aria-labelledby="theme-switcher-label" id="js-theme-switcher" hidden> <h2 class="theme-switcher-label visually-hidden" id="theme-switcher-label">Theme Switcher </h2> <div class="theme-switcher__buttons"> <button class="theme-switcher__button js-toggle-button" id="light-theme-toggle" data-theme="light">  <span>Light</span> </button> <button class="theme-switcher__button js-toggle-button" id="dark-theme-toggle" data-theme="dark">  <span>Dark</span> </button> </div> </div> <div class="language-switcher"> <a href="https://eslint.org/languages/" class="switcher-fallback">Change Language</a> <div hidden role="region" class="switcher switcher--language" aria-labelledby="language-switcher-label" id="language-switcher"> <span id="language-switcher-label" hidden>Language Switcher</span> <div class="infobox visually-hidden" id="language-infobox"> Selecting a language will take you to the ESLint website in that language. </div> <label class="switcher__label" for="language-select"> <span class="label__text"> Language </span> </label> <select name="language selector" id="language-select" aria-describedby="language-infobox" class="c-custom-select switcher__select"> <option value="en" data-url="https://eslint.org" selected> 🇺🇸 English (US) </option> </select> </div> </div> </div> </footer> </div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://eslint.org/docs/latest/user-guide/migrating-to-8.0.0" class="_attribution-link" target="_blank">https://eslint.org/docs/latest/user-guide/migrating-to-8.0.0</a>
  </p>
</div>
