
<h1 id="enforce-valid-jsdoc-comments-valid-jsdoc">enforce valid JSDoc comments (valid-jsdoc)</h1>
<p>The <code>--fix</code> option on the <a href="../user-guide/command-line-interface#fixing-problems">command line</a> can automatically fix some of the problems reported by this rule.</p>
<p>This rule was <a href="https://eslint.org/blog/2018/11/jsdoc-end-of-life"><strong>deprecated</strong></a> in ESLint v5.10.0.</p>
<p><a href="http://usejsdoc.org">JSDoc</a> generates application programming interface (API) documentation from specially-formatted comments in JavaScript code. For example, this is a JSDoc comment for a function:</p>
<pre data-language="js">/**
 * Add two numbers.
 * @param {number} num1 The first number.
 * @param {number} num2 The second number.
 * @returns {number} The sum of the two numbers.
 */
function add(num1, num2) {
    return num1 + num2;
}</pre>
<p>If comments are invalid because of typing mistakes, then documentation will be incomplete.</p>
<p>If comments are inconsistent because they are not updated when function definitions are modified, then readers might become confused.</p>
<h2 id="rule-details">Rule Details</h2>
<p>This rule enforces valid and consistent JSDoc comments. It reports any of the following problems:</p>
<ul>
<li>missing parameter tag: <code>@arg</code>, <code>@argument</code>, or <code>@param</code>
</li>
<li>inconsistent order of parameter names in a comment compared to the function or method</li>
<li>missing return tag: <code>@return</code> or <code>@returns</code>
</li>
<li>missing parameter or return type</li>
<li>missing parameter or return description</li>
<li>syntax error</li>
</ul>
<p>This rule does not report missing JSDoc comments for classes, functions, or methods.</p>
<p><strong>Note:</strong> This rule does not support all of the Google Closure documentation tool's use cases. As such, some code such as <code>(/**number*/ n =&gt; n * 2);</code> will be flagged as missing appropriate function JSDoc comments even though <code>/**number*/</code> is intended to be a type hint and not a documentation block for the function. We don't recommend using this rule if you use type hints in this way.</p>
<p>Examples of <strong>incorrect</strong> code for this rule:</p>
<pre data-language="js">/*eslint valid-jsdoc: "error"*/

// expected @param tag for parameter num1 but found num instead
// missing @param tag for parameter num2
// missing return type
/**
 * Add two numbers.
 * @param {number} num The first number.
 * @returns The sum of the two numbers.
 */
function add(num1, num2) {
    return num1 + num2;
}

// missing brace
// missing @returns tag
/**
 * @param {string name Whom to greet.
 */
function greet(name) {
    console.log("Hello " + name);
}

// missing parameter type for num1
// missing parameter description for num2
/**
 * Represents a sum.
 * @constructor
 * @param num1 The first number.
 * @param {number} num2
 */
function sum(num1, num2) {
    this.num1 = num1;
    this.num2 = num2;
}</pre>
<p>Examples of <strong>correct</strong> code for this rule:</p>
<pre data-language="js">/*eslint valid-jsdoc: "error"*/
/*eslint-env es6*/

/**
 * Add two numbers.
 * @param {number} num1 The first number.
 * @param {number} num2 The second number.
 * @returns {number} The sum of the two numbers.
 */
function add(num1, num2) {
    return num1 + num2;
}

// default options allow missing function description
// return type `void` means the function has no `return` statement
/**
 * @param {string} name Whom to greet.
 * @returns {void}
 */
function greet(name) {
    console.log("Hello " + name);
}

// @constructor tag allows missing @returns tag
/**
 * Represents a sum.
 * @constructor
 * @param {number} num1 The first number.
 * @param {number} num2 The second number.
 */
function sum(num1, num2) {
    this.num1 = num1;
    this.num2 = num2;
}

// class constructor allows missing @returns tag
/**
 * Represents a sum.
 */
class Sum {
    /**
     * @param {number} num1 The first number.
     * @param {number} num2 The second number.
     */
    constructor(num1, num2) {
        this.num1 = num1;
        this.num2 = num2;
    }
}

// @abstract tag allows @returns tag without `return` statement
class Widget {
    /**
    * When the state changes, does it affect the rendered appearance?
    * @abstract
    * @param {Object} state The new state of the widget.
    * @returns {boolean} Is current appearance inconsistent with new state?
    */
    mustRender (state) {
        throw new Error("Widget subclass did not implement mustRender");
    }
}

// @override tag allows missing @param and @returns tags
class WonderfulWidget extends Widget {
    /**
     * @override
     */
    mustRender (state) {
        return state !== this.state; // shallow comparison
    }
}</pre>
<h2 id="options">Options</h2>
<p>This rule has an object option:</p>
<ul>
<li>
<code>"prefer"</code> enforces consistent documentation tags specified by an object whose properties mean instead of key use value (for example, <code>"return": "returns"</code> means instead of <code>@return</code> use <code>@returns</code>)</li>
<li>
<code>"preferType"</code> enforces consistent type strings specified by an object whose properties mean instead of key use value (for example, <code>"object": "Object"</code> means instead of <code>object</code> use <code>Object</code>)</li>
<li>
<code>"requireReturn"</code> requires a return tag:<ul>
<li>
<code>true</code> (default) <strong>even if</strong> the function or method does not have a <code>return</code> statement (this option value does not apply to constructors)</li>
<li>
<code>false</code> <strong>if and only if</strong> the function or method has a <code>return</code> statement or returns a value e.g. <code>async</code> function (this option value does apply to constructors)</li>
</ul>
</li>
<li>
<code>"requireReturnType": false</code> allows missing type in return tags</li>
<li>
<code>"matchDescription"</code> specifies (as a string) a regular expression to match the description in each JSDoc comment (for example, <code>".+"</code> requires a description; this option does not apply to descriptions in parameter or return tags)</li>
<li>
<code>"requireParamDescription": false</code> allows missing description in parameter tags</li>
<li>
<code>"requireReturnDescription": false</code> allows missing description in return tags</li>
<li>
<code>"requireParamType": false</code> allows missing type in parameter tags</li>
</ul>
<h3 id="prefer">prefer</h3>
<p>Examples of additional <strong>incorrect</strong> code for this rule with sample <code>"prefer": { "arg": "param", "argument": "param", "class": "constructor", "return": "returns", "virtual": "abstract" }</code> options:</p>
<pre data-language="js">/*eslint valid-jsdoc: ["error", { "prefer": { "arg": "param", "argument": "param", "class": "constructor", "return": "returns", "virtual": "abstract" } }]*/
/*eslint-env es6*/

/**
 * Add two numbers.
 * @arg {int} num1 The first number.
 * @arg {int} num2 The second number.
 * @return {int} The sum of the two numbers.
 */
function add(num1, num2) {
    return num1 + num2;
}

/**
 * Represents a sum.
 * @class
 * @argument {number} num1 The first number.
 * @argument {number} num2 The second number.
 */
function sum(num1, num2) {
    this.num1 = num1;
    this.num2 = num2;
}

class Widget {
    /**
     * When the state changes, does it affect the rendered appearance?
     * @virtual
     * @argument {Object} state The new state of the widget.
     * @return {boolean} Is current appearance inconsistent with new state?
     */
    mustRender (state) {
        throw new Error("Widget subclass did not implement mustRender");
    }
}</pre>
<h3 id="prefertype">preferType</h3>
<p>Examples of additional <strong>incorrect</strong> code for this rule with sample <code>"preferType": { "Boolean": "boolean", "Number": "number", "object": "Object", "String": "string" }</code> options:</p>
<pre data-language="js">/*eslint valid-jsdoc: ["error", { "preferType": { "Boolean": "boolean", "Number": "number", "object": "Object", "String": "string" } }]*/
/*eslint-env es6*/

/**
 * Add two numbers.
 * @param {Number} num1 The first number.
 * @param {Number} num2 The second number.
 * @returns {Number} The sum of the two numbers.
 */
function add(num1, num2) {
    return num1 + num2;
}

/**
 * Output a greeting as a side effect.
 * @param {String} name Whom to greet.
 * @returns {void}
 */
function greet(name) {
    console.log("Hello " + name);
}

class Widget {
    /**
     * When the state changes, does it affect the rendered appearance?
     * @abstract
     * @param {object} state The new state of the widget.
     * @returns {Boolean} Is current appearance inconsistent with new state?
     */
    mustRender (state) {
        throw new Error("Widget subclass did not implement mustRender");
    }
}</pre>
<h3 id="requirereturn">requireReturn</h3>
<p>Examples of additional <strong>incorrect</strong> code for this rule with the <code>"requireReturn": false</code> option:</p>
<pre data-language="js">/*eslint valid-jsdoc: ["error", { "requireReturn": false }]*/

// unexpected @returns tag because function has no `return` statement
/**
 * @param {string} name Whom to greet.
 * @returns {string} The greeting.
 */
function greet(name) {
    console.log("Hello " + name);
}

// add @abstract tag to allow @returns tag without `return` statement
class Widget {
    /**
     * When the state changes, does it affect the rendered appearance?
     * @param {Object} state The new state of the widget.
     * @returns {boolean} Is current appearance inconsistent with new state?
     */
    mustRender (state) {
        throw new Error("Widget subclass did not implement mustRender");
    }
}</pre>
<p>Example of additional <strong>correct</strong> code for this rule with the <code>"requireReturn": false</code> option:</p>
<pre data-language="js">/*eslint valid-jsdoc: ["error", { "requireReturn": false }]*/

/**
 * @param {string} name Whom to greet.
 */
function greet(name) {
    console.log("Hello " + name);
}</pre>
<h3 id="requirereturntype">requireReturnType</h3>
<p>Example of additional <strong>correct</strong> code for this rule with the <code>"requireReturnType": false</code> option:</p>
<pre data-language="js">/*eslint valid-jsdoc: ["error", { "requireReturnType": false }]*/

/**
 * Add two numbers.
 * @param {number} num1 The first number.
 * @param {number} num2 The second number.
 * @returns The sum of the two numbers.
 */
function add(num1, num2) {
    return num1 + num2;
}</pre>
<h3 id="requireparamtype">requireParamType</h3>
<p>Example of additional <strong>correct</strong> code for this rule with the <code>"requireParamType": false</code> option:</p>
<pre data-language="js">/*eslint valid-jsdoc: ["error", { "requireParamType": false }]*/

/**
 * Add two numbers.
 * @param num1 The first number.
 * @param num2 The second number.
 * @returns {number} The sum of the two numbers.
 */
function add(num1, num2) {
    return num1 + num2;
}</pre>
<h3 id="matchdescription">matchDescription</h3>
<p>Example of additional <strong>incorrect</strong> code for this rule with a sample <code>"matchDescription": ".+"</code> option:</p>
<pre data-language="js">/*eslint valid-jsdoc: ["error", { "matchDescription": ".+" }]*/

// missing function description
/**
 * @param {string} name Whom to greet.
 * @returns {void}
 */
function greet(name) {
    console.log("Hello " + name);
}</pre>
<h3 id="requireparamdescription">requireParamDescription</h3>
<p>Example of additional <strong>correct</strong> code for this rule with the <code>"requireParamDescription": false</code> option:</p>
<pre data-language="js">/*eslint valid-jsdoc: ["error", { "requireParamDescription": false }]*/

/**
 * Add two numbers.
 * @param {int} num1
 * @param {int} num2
 * @returns {int} The sum of the two numbers.
 */
function add(num1, num2) {
    return num1 + num2;
}</pre>
<h3 id="requirereturndescription">requireReturnDescription</h3>
<p>Example of additional <strong>correct</strong> code for this rule with the <code>"requireReturnDescription": false</code> option:</p>
<pre data-language="js">/*eslint valid-jsdoc: ["error", { "requireReturnDescription": false }]*/

/**
 * Add two numbers.
 * @param {number} num1 The first number.
 * @param {number} num2 The second number.
 * @returns {number}
 */
function add(num1, num2) {
    return num1 + num2;
}</pre>
<h2 id="when-not-to-use-it">When Not To Use It</h2>
<p>If you aren't using JSDoc, then you can safely turn this rule off.</p>
<h2 id="further-reading">Further Reading</h2>
<ul><li><a href="http://usejsdoc.org">JSDoc</a></li></ul>
<h2 id="related-rules">Related Rules</h2>
<ul><li><a href="require-jsdoc">require-jsdoc</a></li></ul>
<h2 id="version">Version</h2>
<p>This rule was introduced in ESLint 0.4.0.</p>
<h2 id="resources">Resources</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/valid-jsdoc.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/valid-jsdoc.md">Documentation source</a></li>
</ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://eslint.org/docs/rules/valid-jsdoc" class="_attribution-link" target="_blank">https://eslint.org/docs/rules/valid-jsdoc</a>
  </p>
</div>
