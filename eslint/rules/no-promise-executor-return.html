
<h1 id="disallow-returning-values-from-promise-executor-functions-no-promise-executor-return">Disallow returning values from Promise executor functions (no-promise-executor-return)</h1>
<p>The <code>new Promise</code> constructor accepts a single argument, called an <em>executor</em>.</p>
<pre data-language="js">const myPromise = new Promise(function executor(resolve, reject) {
    readFile('foo.txt', function(err, result) {
        if (err) {
            reject(err);
        } else {
            resolve(result);
        }
    });
});</pre>
<p>The executor function usually initiates some asynchronous operation. Once it is finished, the executor should call <code>resolve</code> with the result, or <code>reject</code> if an error occurred.</p>
<p>The return value of the executor is ignored. Returning a value from an executor function is a possible error because the returned value cannot be used and it doesn't affect the promise in any way.</p>
<h2 id="rule-details">Rule Details</h2>
<p>This rule disallows returning values from Promise executor functions.</p>
<p>Only <code>return</code> without a value is allowed, as it's a control flow statement.</p>
<p>Examples of <strong>incorrect</strong> code for this rule:</p>
<pre data-language="js">/*eslint no-promise-executor-return: "error"*/

new Promise((resolve, reject) =&gt; {
    if (someCondition) {
        return defaultResult;
    }
    getSomething((err, result) =&gt; {
        if (err) {
            reject(err);
        } else {
            resolve(result);
        }
    });
});

new Promise((resolve, reject) =&gt; getSomething((err, data) =&gt; {
    if (err) {
        reject(err);
    } else {
        resolve(data);
    }
}));

new Promise(() =&gt; {
    return 1;
});</pre>
<p>Examples of <strong>correct</strong> code for this rule:</p>
<pre data-language="js">/*eslint no-promise-executor-return: "error"*/

new Promise((resolve, reject) =&gt; {
    if (someCondition) {
        resolve(defaultResult);
        return;
    }
    getSomething((err, result) =&gt; {
        if (err) {
            reject(err);
        } else {
            resolve(result);
        }
    });
});

new Promise((resolve, reject) =&gt; {
    getSomething((err, data) =&gt; {
        if (err) {
            reject(err);
        } else {
            resolve(data);
        }
    });
});

Promise.resolve(1);</pre>
<h2 id="further-reading">Further Reading</h2>
<ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">MDN Promise</a></li></ul>
<h2 id="related-rules">Related Rules</h2>
<ul><li><a href="no-async-promise-executor">no-async-promise-executor</a></li></ul>
<h2 id="version">Version</h2>
<p>This rule was introduced in ESLint 7.3.0.</p>
<h2 id="resources">Resources</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-promise-executor-return.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-promise-executor-return.md">Documentation source</a></li>
</ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://eslint.org/docs/rules/no-promise-executor-return" class="_attribution-link" target="_blank">https://eslint.org/docs/rules/no-promise-executor-return</a>
  </p>
</div>
