
<h1 id="disallow-specific-imports-no-restricted-imports">Disallow specific imports (no-restricted-imports)</h1>
<p>Imports are an ES6/ES2015 standard for making the functionality of other modules available in your current module. In CommonJS this is implemented through the <code>require()</code> call which makes this ESLint rule roughly equivalent to its CommonJS counterpart <code>no-restricted-modules</code>.</p>
<p>Why would you want to restrict imports?</p>
<ul>
<li><p>Some imports might not make sense in a particular environment. For example, Node.js' <code>fs</code> module would not make sense in an environment that didn't have a file system.</p></li>
<li><p>Some modules provide similar or identical functionality, think <code>lodash</code> and <code>underscore</code>. Your project may have standardized on a module. You want to make sure that the other alternatives are not being used as this would unnecessarily bloat the project and provide a higher maintenance cost of two dependencies when one would suffice.</p></li>
</ul>
<h2 id="rule-details">Rule Details</h2>
<p>This rule allows you to specify imports that you don't want to use in your application.</p>
<p>It applies to static imports only, not dynamic ones.</p>
<h2 id="options">Options</h2>
<p>The syntax to specify restricted imports looks like this:</p>
<pre data-language="json">"no-restricted-imports": ["error", "import1", "import2"]</pre>
<p>or like this:</p>
<pre data-language="json">"no-restricted-imports": ["error", { "paths": ["import1", "import2"] }]</pre>
<p>When using the object form, you can also specify an array of gitignore-style patterns:</p>
<pre data-language="json">"no-restricted-imports": ["error", {
    "paths": ["import1", "import2"],
    "patterns": ["import1/private/*", "import2/*", "!import2/good"]
}]</pre>
<p>You may also specify a custom message for any paths you want to restrict as follows:</p>
<pre data-language="json">"no-restricted-imports": ["error", {
    "name": "import-foo",
    "message": "Please use import-bar instead."
}, {
    "name": "import-baz",
    "message": "Please use import-quux instead."
}]</pre>
<p>or like this:</p>
<pre data-language="json">"no-restricted-imports": ["error", {
    "paths": [{
        "name": "import-foo",
        "message": "Please use import-bar instead."
    }, {
        "name": "import-baz",
        "message": "Please use import-quux instead."
    }]
}]</pre>
<p>or like this if you need to restrict only certain imports from a module:</p>
<pre data-language="json">"no-restricted-imports": ["error", {
  "paths": [{
    "name": "import-foo",
    "importNames": ["Bar"],
    "message": "Please use Bar from /import-bar/baz/ instead."
  }]
}]</pre>
<p>or like this if you want to apply a custom message to pattern matches:</p>
<pre data-language="json">"no-restricted-imports": ["error", {
    "patterns": [{
      "group": ["import1/private/*"],
      "message": "usage of import1 private modules not allowed."
    }, {
      "group": ["import2/*", "!import2/good"],
      "message": "import2 is deprecated, except the modules in import2/good."
    }]
}]</pre>
<p>The custom message will be appended to the default error message.</p>
<p>To restrict the use of all Node.js core imports (via https://github.com/nodejs/node/tree/master/lib):</p>
<pre data-language="json">"no-restricted-imports": ["error",
         "assert","buffer","child_process","cluster","crypto","dgram","dns","domain","events","freelist","fs","http","https","module","net","os","path","punycode","querystring","readline","repl","smalloc","stream","string_decoder","sys","timers","tls","tracing","tty","url","util","vm","zlib"
    ],</pre>
<h2 id="examples">Examples</h2>
<p>Examples of <strong>incorrect</strong> code for this rule:</p>
<pre data-language="js">/*eslint no-restricted-imports: ["error", "fs"]*/

import fs from 'fs';</pre>
<pre data-language="js">/*eslint no-restricted-imports: ["error", "fs"]*/

export { fs } from 'fs';</pre>
<pre data-language="js">/*eslint no-restricted-imports: ["error", "fs"]*/

export * from 'fs';</pre>
<pre data-language="js">/*eslint no-restricted-imports: ["error", { "paths": ["cluster"] }]*/

import cluster from 'cluster';</pre>
<pre data-language="js">/*eslint no-restricted-imports: ["error", { "patterns": ["lodash/*"] }]*/

import pick from 'lodash/pick';</pre>
<pre data-language="js">/*eslint no-restricted-imports: ["error", { paths: [{
    name: "foo",
    importNames: ["default"],
    message: "Please use the default import from '/bar/baz/' instead."
}]}]*/

import DisallowedObject from "foo";</pre>
<pre data-language="js">/*eslint no-restricted-imports: ["error", { paths: [{
    name: "foo",
    importNames: ["DisallowedObject"],
    message: "Please import 'DisallowedObject' from '/bar/baz/' instead."
}]}]*/

import { DisallowedObject as AllowedObject } from "foo";</pre>
<pre data-language="js">/*eslint no-restricted-imports: ["error", { paths: [{
    name: "foo",
    importNames: ["DisallowedObject"],
    message: "Please import 'DisallowedObject' from '/bar/baz/' instead."
}]}]*/

import * as Foo from "foo";</pre>
<pre data-language="js">/*eslint no-restricted-imports: ["error", { patterns: [{
    group: ["lodash/*"],
    message: "Please use the default import from 'lodash' instead."
}]}]*/

import pick from 'lodash/pick';</pre>
<p>Examples of <strong>correct</strong> code for this rule:</p>
<pre data-language="js">/*eslint no-restricted-imports: ["error", "fs"]*/

import crypto from 'crypto';
export { foo } from "bar";</pre>
<pre data-language="js">/*eslint no-restricted-imports: ["error", { "paths": ["fs"], "patterns": ["eslint/*"] }]*/

import crypto from 'crypto';
import eslint from 'eslint';
export * from "path";</pre>
<pre data-language="js">/*eslint no-restricted-imports: ["error", { paths: [{ name: "foo", importNames: ["DisallowedObject"] }] }]*/

import DisallowedObject from "foo"</pre>
<pre data-language="js">/*eslint no-restricted-imports: ["error", { paths: [{
    name: "foo",
    importNames: ["DisallowedObject"],
    message: "Please import 'DisallowedObject' from '/bar/baz/' instead."
}]}]*/

import { AllowedObject as DisallowedObject } from "foo";</pre>
<pre data-language="js">/*eslint no-restricted-imports: ["error", { patterns: [{
    group: ["lodash/*"],
    message: "Please use the default import from 'lodash' instead."
}]}]*/

import lodash from 'lodash';</pre>
<h2 id="when-not-to-use-it">When Not To Use It</h2>
<p>Don't use this rule or don't include a module in the list for this rule if you want to be able to import a module in your project without an ESLint error or warning.</p>
<h2 id="version">Version</h2>
<p>This rule was introduced in ESLint 2.0.0-alpha-1.</p>
<h2 id="resources">Resources</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-restricted-imports.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-restricted-imports.md">Documentation source</a></li>
</ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://eslint.org/docs/rules/no-restricted-imports" class="_attribution-link" target="_blank">https://eslint.org/docs/rules/no-restricted-imports</a>
  </p>
</div>
