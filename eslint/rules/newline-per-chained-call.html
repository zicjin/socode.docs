
<h1 id="require-a-newline-after-each-call-in-a-method-chain-newline-per-chained-call">require a newline after each call in a method chain (newline-per-chained-call)</h1>
<p>The <code>--fix</code> option on the <a href="../user-guide/command-line-interface#fixing-problems">command line</a> can automatically fix some of the problems reported by this rule.</p>
<p>Chained method calls on a single line without line breaks are harder to read, so some developers place a newline character after each method call in the chain to make it more readable and easy to maintain.</p>
<p>Let's look at the following perfectly valid (but single line) code.</p>
<pre data-language="js">d3.select("body").selectAll("p").data([4, 8, 15, 16, 23, 42 ]).enter().append("p").text(function(d) { return "I'm number " + d + "!"; });</pre>
<p>However, with appropriate new lines, it becomes easy to read and understand. Look at the same code written below with line breaks after each call.</p>
<pre data-language="js">d3
    .select("body")
    .selectAll("p")
    .data([
        4,
        8,
        15,
        16,
        23,
        42
    ])
    .enter()
    .append("p")
    .text(function (d) {
        return "I'm number " + d + "!";
    });</pre>
<p>Another argument in favor of this style is that it improves the clarity of diffs when something in the method chain is changed:</p>
<p>Less clear:</p>
<pre data-language="diff">-d3.select("body").selectAll("p").style("color", "white");
+d3.select("body").selectAll("p").style("color", "blue");</pre>
<p>More clear:</p>
<pre data-language="diff">d3
    .select("body")
    .selectAll("p")
-    .style("color", "white");
+    .style("color", "blue");</pre>
<h2 id="rule-details">Rule Details</h2>
<p>This rule requires a newline after each call in a method chain or deep member access. Computed property accesses such as <code>instance[something]</code> are excluded.</p>
<h2 id="options">Options</h2>
<p>This rule has an object option:</p>
<ul><li>
<code>"ignoreChainWithDepth"</code> (default: <code>2</code>) allows chains up to a specified depth.</li></ul>
<h3 id="ignorechainwithdepth">ignoreChainWithDepth</h3>
<p>Examples of <strong>incorrect</strong> code for this rule with the default <code>{ "ignoreChainWithDepth": 2 }</code> option:</p>
<pre data-language="js">/*eslint newline-per-chained-call: ["error", { "ignoreChainWithDepth": 2 }]*/

_.chain({}).map(foo).filter(bar).value();

// Or
_.chain({}).map(foo).filter(bar);

// Or
_
  .chain({}).map(foo)
  .filter(bar);

// Or
obj.method().method2().method3();</pre>
<p>Examples of <strong>correct</strong> code for this rule with the default <code>{ "ignoreChainWithDepth": 2 }</code> option:</p>
<pre data-language="js">/*eslint newline-per-chained-call: ["error", { "ignoreChainWithDepth": 2 }]*/

_
  .chain({})
  .map(foo)
  .filter(bar)
  .value();

// Or
_
  .chain({})
  .map(foo)
  .filter(bar);

// Or
_.chain({})
  .map(foo)
  .filter(bar);

// Or
obj
  .prop
  .method().prop;

// Or
obj
  .prop.method()
  .method2()
  .method3().prop;</pre>
<h2 id="when-not-to-use-it">When Not To Use It</h2>
<p>If you have conflicting rules or when you are fine with chained calls on one line, you can safely turn this rule off.</p>
<h2 id="version">Version</h2>
<p>This rule was introduced in ESLint 2.0.0-rc.0.</p>
<h2 id="resources">Resources</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/newline-per-chained-call.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/newline-per-chained-call.md">Documentation source</a></li>
</ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://eslint.org/docs/rules/newline-per-chained-call" class="_attribution-link" target="_blank">https://eslint.org/docs/rules/newline-per-chained-call</a>
  </p>
</div>
