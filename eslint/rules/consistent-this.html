
<h1 id="require-consistent-this-consistent-this">Require Consistent This (consistent-this)</h1>
<p>It is often necessary to capture the current execution context in order to make it available subsequently. A prominent example of this are jQuery callbacks:</p>
<pre data-language="js">var that = this;
jQuery('li').click(function (event) {
    // here, "this" is the HTMLElement where the click event occurred
    that.setFoo(42);
});</pre>
<p>There are many commonly used aliases for <code>this</code> such as <code>that</code>, <code>self</code> or <code>me</code>. It is desirable to ensure that whichever alias the team agrees upon is used consistently throughout the application.</p>
<h2 id="rule-details">Rule Details</h2>
<p>This rule enforces two things about variables with the designated alias names for <code>this</code>:</p>
<ul>
<li>If a variable with a designated name is declared, it <em>must</em> be either initialized (in the declaration) or assigned (in the same scope as the declaration) the value <code>this</code>.</li>
<li>If a variable is initialized or assigned the value <code>this</code>, the name of the variable <em>must</em> be a designated alias.</li>
</ul>
<h2 id="options">Options</h2>
<p>This rule has one or more string options:</p>
<ul><li>designated alias names for <code>this</code> (default <code>"that"</code>)</li></ul>
<p>Examples of <strong>incorrect</strong> code for this rule with the default <code>"that"</code> option:</p>
<pre data-language="js">/*eslint consistent-this: ["error", "that"]*/

var that = 42;

var self = this;

that = 42;

self = this;</pre>
<p>Examples of <strong>correct</strong> code for this rule with the default <code>"that"</code> option:</p>
<pre data-language="js">/*eslint consistent-this: ["error", "that"]*/

var that = this;

var self = 42;

var self;

that = this;

foo.bar = this;</pre>
<p>Examples of <strong>incorrect</strong> code for this rule with the default <code>"that"</code> option, if the variable is not initialized:</p>
<pre data-language="js">/*eslint consistent-this: ["error", "that"]*/

var that;
function f() {
    that = this;
}</pre>
<p>Examples of <strong>correct</strong> code for this rule with the default <code>"that"</code> option, if the variable is not initialized:</p>
<pre data-language="js">/*eslint consistent-this: ["error", "that"]*/

var that;
that = this;

var foo, that;
foo = 42;
that = this;</pre>
<h2 id="when-not-to-use-it">When Not To Use It</h2>
<p>If you need to capture nested context, <code>consistent-this</code> is going to be problematic. Code of that nature is usually difficult to read and maintain and you should consider refactoring it.</p>
<h2 id="version">Version</h2>
<p>This rule was introduced in ESLint 0.0.9.</p>
<h2 id="resources">Resources</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/consistent-this.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/consistent-this.md">Documentation source</a></li>
</ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://eslint.org/docs/rules/consistent-this" class="_attribution-link" target="_blank">https://eslint.org/docs/rules/consistent-this</a>
  </p>
</div>
