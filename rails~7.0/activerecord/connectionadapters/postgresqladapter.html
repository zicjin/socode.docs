<h1 id="class-ActiveRecord::ConnectionAdapters::PostgreSQLAdapter" class="class"> class ActiveRecord::ConnectionAdapters::PostgreSQLAdapter </h1>
<dl class="meta">
<dt>Parent:</dt>
<dd class="meta-parent"><a href="abstractadapter">ActiveRecord::ConnectionAdapters::AbstractAdapter</a></dd>
<dt>Included modules:</dt>
<dd class="meta-includes">
<a class="include" href="postgresql/quoting">ActiveRecord::ConnectionAdapters::PostgreSQL::Quoting</a>, <a class="include" href="postgresql/schemastatements">ActiveRecord::ConnectionAdapters::PostgreSQL::SchemaStatements</a>, <a class="include" href="postgresql/databasestatements">ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements</a>
</dd>
</dl> <section class="description"> <p>The PostgreSQL adapter works with the native C (<a href="https://github.com/ged/ruby-pg">github.com/ged/ruby-pg</a>) driver.</p> <p>Options:</p> <ul>
<li> <p><code>:host</code> - Defaults to a Unix-domain socket in /tmp. On machines without Unix-domain sockets, the default is to connect to localhost.</p> </li>
<li> <p><code>:port</code> - Defaults to 5432.</p> </li>
<li> <p><code>:username</code> - Defaults to be the same as the operating system name of the user running the application.</p> </li>
<li> <p><code>:password</code> - Password to be used if the server demands password authentication.</p> </li>
<li> <p><code>:database</code> - Defaults to be the same as the username.</p> </li>
<li> <p><code>:schema_search_path</code> - An optional schema search path for the connection given as a string of comma-separated schema names. This is backward-compatible with the <code>:schema_order</code> option.</p> </li>
<li> <p><code>:encoding</code> - An optional client encoding that is used in a <code>SET client_encoding TO &lt;encoding&gt;</code> call on the connection.</p> </li>
<li> <p><code>:min_messages</code> - An optional client min messages that is used in a <code>SET client_min_messages TO &lt;min_messages&gt;</code> call on the connection.</p> </li>
<li> <p><code>:variables</code> - An optional hash of additional parameters that will be used in <code>SET SESSION key = val</code> calls on the connection.</p> </li>
<li> <p><code>:insert_returning</code> - An optional boolean to control the use of <code>RETURNING</code> for <code>INSERT</code> statements defaults to true.</p> </li>
</ul> <p>Any further options are used as connection parameters to libpq. See <a href="https://www.postgresql.org/docs/current/static/libpq-connect.html">www.postgresql.org/docs/current/static/libpq-connect.html</a> for the list of parameters.</p> <p>In addition, default connection parameters of libpq can be set per environment variables. See <a href="https://www.postgresql.org/docs/current/static/libpq-envars.html">www.postgresql.org/docs/current/static/libpq-envars.html</a> .</p> </section> <section id="5Buntitled-5D" class="documentation-section"> <section class="constants-list"> <header> <h3>Constants</h3> </header> <dl> <dt id="ADAPTER_NAME">ADAPTER_NAME </dt>

<dt id="DEADLOCK_DETECTED">DEADLOCK_DETECTED </dt>

<dt id="DUPLICATE_DATABASE">DUPLICATE_DATABASE </dt>

<dt id="FOREIGN_KEY_VIOLATION">FOREIGN_KEY_VIOLATION </dt>

<dt id="LOCK_NOT_AVAILABLE">LOCK_NOT_AVAILABLE </dt>

<dt id="NATIVE_DATABASE_TYPES">NATIVE_DATABASE_TYPES </dt>

<dt id="NOT_NULL_VIOLATION">NOT_NULL_VIOLATION </dt>

<dt id="NUMERIC_VALUE_OUT_OF_RANGE">NUMERIC_VALUE_OUT_OF_RANGE </dt>

<dt id="QUERY_CANCELED">QUERY_CANCELED </dt>

<dt id="SERIALIZATION_FAILURE">SERIALIZATION_FAILURE </dt>

<dt id="UNIQUE_VIOLATION">UNIQUE_VIOLATION </dt>

<dt id="VALUE_LIMIT_VIOLATION">VALUE_LIMIT_VIOLATION </dt>
<dd>
<p>See <a href="https://www.postgresql.org/docs/current/static/errcodes-appendix.html">www.postgresql.org/docs/current/static/errcodes-appendix.html</a></p> </dd>
</dl> </section> <section id="public-class-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Class Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-c-create_unlogged_tables"> <span class="method-name">create_unlogged_tables</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="create_unlogged_tables-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 103
class_attribute :create_unlogged_tables, default: false
</pre> </div> <p>PostgreSQL allows the creation of “unlogged” tables, which do not record data in the PostgreSQL Write-Ahead Log. This can make the tables faster, but significantly increases the risk of data loss if the database crashes. As a result, this should not be used in production environments. If you would like all created tables to be unlogged in the test environment you can add the following line to your test.rb file:</p> <pre class="ruby" data-language="ruby">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter.create_unlogged_tables = true
</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-database_exists-3F"> <span class="method-name">database_exists?</span><span class="method-args">(config)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="database_exists-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 300
def self.database_exists?(config)
  !!ActiveRecord::Base.postgresql_connection(config)
rescue ActiveRecord::NoDatabaseError
  false
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-datetime_type"> <span class="method-name">datetime_type</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="datetime_type-source"> <pre class="c" data-language="c"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 121
class_attribute :datetime_type, default: :timestamp
</pre> </div> <p>PostgreSQL supports multiple types for DateTimes. By default if you use `datetime` in migrations, Rails will translate this to a PostgreSQL “timestamp without time zone”. Change this in an initializer to use another <a href="postgresqladapter#NATIVE_DATABASE_TYPES"><code>NATIVE_DATABASE_TYPES</code></a>. For example, to store DateTimes as “timestamp with time zone”:</p> <pre class="ruby" data-language="ruby">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter.datetime_type = :timestamptz
</pre> <p>Or if you are adding a custom type:</p> <pre class="ruby" data-language="ruby">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::NATIVE_DATABASE_TYPES[:my_custom_type] = { name: "my_custom_type_name" }
ActiveRecord::ConnectionAdapters::PostgreSQLAdapter.datetime_type = :my_custom_type
</pre> <p>If you're using :ruby as your config.active_record.schema_format and you change this setting, you should immediately run bin/rails db:migrate to update the types in your schema.rb.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-new"> <span class="method-name">new</span><span class="method-args">(connection, logger, connection_parameters, config)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="new-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 281
def initialize(connection, logger, connection_parameters, config)
  super(connection, logger, config)

  @connection_parameters = connection_parameters

  # @local_tz is initialized as nil to avoid warnings when connect tries to use it
  @local_tz = nil
  @max_identifier_length = nil

  configure_connection
  add_pg_encoders
  add_pg_decoders

  @type_map = Type::HashLookupTypeMap.new
  initialize_type_map
  @local_tz = execute("SHOW TIME ZONE", "SCHEMA").first["TimeZone"]
  @use_insert_returning = @config.key?(:insert_returning) ? self.class.type_cast_config_to_boolean(@config[:insert_returning]) : true
end</pre> </div> <p>Initializes and connects a PostgreSQL adapter.</p> <div class="method-calls-super"> Calls superclass method <a href="querycache#method-c-new"><code>ActiveRecord::ConnectionAdapters::QueryCache::new</code></a> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-new_client"> <span class="method-name">new_client</span><span class="method-args">(conn_params)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="new_client-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 77
def new_client(conn_params)
  PG.connect(conn_params)
rescue ::PG::Error =&gt; error
  if conn_params &amp;&amp; conn_params[:dbname] &amp;&amp; error.message.include?(conn_params[:dbname])
    raise ActiveRecord::NoDatabaseError.db_error(conn_params[:dbname])
  elsif conn_params &amp;&amp; conn_params[:user] &amp;&amp; error.message.include?(conn_params[:user])
    raise ActiveRecord::DatabaseConnectionError.username_error(conn_params[:user])
  elsif conn_params &amp;&amp; conn_params[:hostname] &amp;&amp; error.message.include?(conn_params[:hostname])
    raise ActiveRecord::DatabaseConnectionError.hostname_error(conn_params[:hostname])
  else
    raise ActiveRecord::ConnectionNotEstablished, error.message
  end
end</pre> </div>  </div> </div> </section> <section id="public-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-i-active-3F"> <span class="method-name">active?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="active-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 307
def active?
  @lock.synchronize do
    @connection.query ";"
  end
  true
rescue PG::Error
  false
end</pre> </div> <p>Is this connection alive and ready for queries?</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-create_enum"> <span class="method-name">create_enum</span><span class="method-args">(name, values)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="create_enum-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 472
      def create_enum(name, values)
        sql_values = values.map { |s| "'#{s}'" }.join(", ")
        query = &lt;&lt;~SQL
          DO $$
          BEGIN
              IF NOT EXISTS (
                SELECT 1 FROM pg_type t
                WHERE t.typname = '#{name}'
              ) THEN
                  CREATE TYPE \"#{name}\" AS ENUM (#{sql_values});
              END IF;
          END
          $$;
        SQL
        exec_query(query)
      end</pre> </div> <p>Given a name and an array of values, creates an enum type.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-disable_extension"> <span class="method-name">disable_extension</span><span class="method-args">(name)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="disable_extension-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 439
def disable_extension(name)
  exec_query("DROP EXTENSION IF EXISTS \"#{name}\" CASCADE").tap {
    reload_type_map
  }
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-disconnect-21"> <span class="method-name">disconnect!</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="disconnect-21-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 347
def disconnect!
  @lock.synchronize do
    super
    @connection.close rescue nil
  end
end</pre> </div> <p>Disconnects from the database if already connected. Otherwise, this method does nothing.</p> <div class="method-calls-super"> Calls superclass method <a href="abstractadapter#method-i-disconnect-21"><code>ActiveRecord::ConnectionAdapters::AbstractAdapter#disconnect!</code></a> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-enable_extension"> <span class="method-name">enable_extension</span><span class="method-args">(name)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="enable_extension-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 433
def enable_extension(name)
  exec_query("CREATE EXTENSION IF NOT EXISTS \"#{name}\"").tap {
    reload_type_map
  }
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-enum_types"> <span class="method-name">enum_types</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="enum_types-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 458
      def enum_types
        query = &lt;&lt;~SQL
          SELECT
            type.typname AS name,
            string_agg(enum.enumlabel, ',' ORDER BY enum.enumsortorder) AS value
          FROM pg_enum AS enum
          JOIN pg_type AS type
            ON (type.oid = enum.enumtypid)
          GROUP BY type.typname;
        SQL
        exec_query(query, "SCHEMA").cast_values
      end</pre> </div> <p>Returns a list of defined enum types, and their values.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-extension_available-3F"> <span class="method-name">extension_available?</span><span class="method-args">(name)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="extension_available-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 445
def extension_available?(name)
  query_value("SELECT true FROM pg_available_extensions WHERE name = #{quote(name)}", "SCHEMA")
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-extension_enabled-3F"> <span class="method-name">extension_enabled?</span><span class="method-args">(name)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="extension_enabled-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 449
def extension_enabled?(name)
  query_value("SELECT installed_version IS NOT NULL FROM pg_available_extensions WHERE name = #{quote(name)}", "SCHEMA")
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-extensions"> <span class="method-name">extensions</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="extensions-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 453
def extensions
  exec_query("SELECT extname FROM pg_extension", "SCHEMA").cast_values
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-index_algorithms"> <span class="method-name">index_algorithms</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="index_algorithms-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 252
def index_algorithms
  { concurrently: "CONCURRENTLY" }
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-max_identifier_length"> <span class="method-name">max_identifier_length</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="max_identifier_length-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 490
def max_identifier_length
  @max_identifier_length ||= query_value("SHOW max_identifier_length", "SCHEMA").to_i
end</pre> </div> <p>Returns the configured supported identifier length supported by PostgreSQL</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-reconnect-21"> <span class="method-name">reconnect!</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="reconnect-21-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 322
def reconnect!
  @lock.synchronize do
    super
    @connection.reset
    configure_connection
    reload_type_map
  rescue PG::ConnectionBad
    connect
  end
end</pre> </div> <p>Close then reopen the connection.</p> <div class="method-calls-super"> Calls superclass method <a href="abstractadapter#method-i-reconnect-21"><code>ActiveRecord::ConnectionAdapters::AbstractAdapter#reconnect!</code></a> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-reset-21"> <span class="method-name">reset!</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="reset-21-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 333
def reset!
  @lock.synchronize do
    clear_cache!
    reset_transaction
    unless @connection.transaction_status == ::PG::PQTRANS_IDLE
      @connection.query "ROLLBACK"
    end
    @connection.query "DISCARD ALL"
    configure_connection
  end
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-session_auth-3D"> <span class="method-name">session_auth=</span><span class="method-args">(user)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="session_auth-3D-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 495
def session_auth=(user)
  clear_cache!
  execute("SET SESSION AUTHORIZATION #{user}")
end</pre> </div> <p>Set the authorized user for this session</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-set_standard_conforming_strings"> <span class="method-name">set_standard_conforming_strings</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="set_standard_conforming_strings-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 372
def set_standard_conforming_strings
  execute("SET standard_conforming_strings = on", "SCHEMA")
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-supports_advisory_locks-3F"> <span class="method-name">supports_advisory_locks?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="supports_advisory_locks-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 380
def supports_advisory_locks?
  true
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-supports_bulk_alter-3F"> <span class="method-name">supports_bulk_alter?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="supports_bulk_alter-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 177
def supports_bulk_alter?
  true
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-supports_check_constraints-3F"> <span class="method-name">supports_check_constraints?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="supports_check_constraints-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 205
def supports_check_constraints?
  true
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-supports_comments-3F"> <span class="method-name">supports_comments?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="supports_comments-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 229
def supports_comments?
  true
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-supports_common_table_expressions-3F"> <span class="method-name">supports_common_table_expressions?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="supports_common_table_expressions-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 411
def supports_common_table_expressions?
  true
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-supports_datetime_with_precision-3F"> <span class="method-name">supports_datetime_with_precision?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="supports_datetime_with_precision-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 221
def supports_datetime_with_precision?
  true
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-supports_ddl_transactions-3F"> <span class="method-name">supports_ddl_transactions?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="supports_ddl_transactions-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 376
def supports_ddl_transactions?
  true
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-supports_deferrable_constraints-3F"> <span class="method-name">supports_deferrable_constraints?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="supports_deferrable_constraints-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 213
def supports_deferrable_constraints?
  true
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-supports_explain-3F"> <span class="method-name">supports_explain?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="supports_explain-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 384
def supports_explain?
  true
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-supports_expression_index-3F"> <span class="method-name">supports_expression_index?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="supports_expression_index-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 193
def supports_expression_index?
  true
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-supports_extensions-3F"> <span class="method-name">supports_extensions?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="supports_extensions-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 388
def supports_extensions?
  true
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-supports_foreign_keys-3F"> <span class="method-name">supports_foreign_keys?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="supports_foreign_keys-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 201
def supports_foreign_keys?
  true
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-supports_foreign_tables-3F"> <span class="method-name">supports_foreign_tables?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="supports_foreign_tables-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 396
def supports_foreign_tables?
  true
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-supports_index_sort_order-3F"> <span class="method-name">supports_index_sort_order?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="supports_index_sort_order-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 181
def supports_index_sort_order?
  true
end</pre> </div>  </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-supports_insert_conflict_target-3F"> <span class="method-name">supports_insert_conflict_target?</span><span class="method-args">()</span> </div>  <div class="aliases"> Alias for: <a href="postgresqladapter#method-i-supports_insert_on_conflict-3F">supports_insert_on_conflict?</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-supports_insert_on_conflict-3F"> <span class="method-name">supports_insert_on_conflict?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="supports_insert_on_conflict-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 241
def supports_insert_on_conflict?
  database_version &gt;= 90500 # &gt;= 9.5
end</pre> </div>  </div> <div class="aliases"> Also aliased as: <a href="postgresqladapter#method-i-supports_insert_on_duplicate_skip-3F">supports_insert_on_duplicate_skip?</a>, <a href="postgresqladapter#method-i-supports_insert_on_duplicate_update-3F">supports_insert_on_duplicate_update?</a>, <a href="postgresqladapter#method-i-supports_insert_conflict_target-3F">supports_insert_conflict_target?</a> </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-supports_insert_on_duplicate_skip-3F"> <span class="method-name">supports_insert_on_duplicate_skip?</span><span class="method-args">()</span> </div>  <div class="aliases"> Alias for: <a href="postgresqladapter#method-i-supports_insert_on_conflict-3F">supports_insert_on_conflict?</a> </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-supports_insert_on_duplicate_update-3F"> <span class="method-name">supports_insert_on_duplicate_update?</span><span class="method-args">()</span> </div>  <div class="aliases"> Alias for: <a href="postgresqladapter#method-i-supports_insert_on_conflict-3F">supports_insert_on_conflict?</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-supports_insert_returning-3F"> <span class="method-name">supports_insert_returning?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="supports_insert_returning-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 237
def supports_insert_returning?
  true
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-supports_json-3F"> <span class="method-name">supports_json?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="supports_json-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 225
def supports_json?
  true
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-supports_lazy_transactions-3F"> <span class="method-name">supports_lazy_transactions?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="supports_lazy_transactions-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 415
def supports_lazy_transactions?
  true
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-supports_materialized_views-3F"> <span class="method-name">supports_materialized_views?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="supports_materialized_views-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 392
def supports_materialized_views?
  true
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-supports_optimizer_hints-3F"> <span class="method-name">supports_optimizer_hints?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="supports_optimizer_hints-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 404
def supports_optimizer_hints?
  unless defined?(@has_pg_hint_plan)
    @has_pg_hint_plan = extension_available?("pg_hint_plan")
  end
  @has_pg_hint_plan
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-supports_partial_index-3F"> <span class="method-name">supports_partial_index?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="supports_partial_index-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 189
def supports_partial_index?
  true
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-supports_partitioned_indexes-3F"> <span class="method-name">supports_partitioned_indexes?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="supports_partitioned_indexes-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 185
def supports_partitioned_indexes?
  database_version &gt;= 110_000 # &gt;= 11.0
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-supports_pgcrypto_uuid-3F"> <span class="method-name">supports_pgcrypto_uuid?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="supports_pgcrypto_uuid-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 400
def supports_pgcrypto_uuid?
  database_version &gt;= 90400 # &gt;= 9.4
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-supports_savepoints-3F"> <span class="method-name">supports_savepoints?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="supports_savepoints-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 233
def supports_savepoints?
  true
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-supports_transaction_isolation-3F"> <span class="method-name">supports_transaction_isolation?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="supports_transaction_isolation-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 197
def supports_transaction_isolation?
  true
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-supports_validate_constraints-3F"> <span class="method-name">supports_validate_constraints?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="supports_validate_constraints-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 209
def supports_validate_constraints?
  true
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-supports_views-3F"> <span class="method-name">supports_views?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="supports_views-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 217
def supports_views?
  true
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-supports_virtual_columns-3F"> <span class="method-name">supports_virtual_columns?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="supports_virtual_columns-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 248
def supports_virtual_columns?
  database_version &gt;= 120_000 # &gt;= 12.0
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-use_insert_returning-3F"> <span class="method-name">use_insert_returning?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="use_insert_returning-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 500
def use_insert_returning?
  @use_insert_returning
end</pre> </div>  </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2004&ndash;2021 David Heinemeier Hansson<br>Licensed under the MIT License.<br>
    
  </p>
</div>
