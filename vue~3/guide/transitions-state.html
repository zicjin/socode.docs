 <div class="theme-default-content content__default">
<h1 id="state-transitions"> State Transitions</h1> <p>Vue's transition system offers many simple ways to animate entering, leaving, and lists, but what about animating your data itself? For example:</p> <ul>
<li>numbers and calculations</li> <li>colors displayed</li> <li>the positions of SVG nodes</li> <li>the sizes and other properties of elements</li>
</ul> <p>All of these are either already stored as raw numbers or can be converted into numbers. Once we do that, we can animate these state changes using 3rd-party libraries to tween state, in combination with Vue's reactivity and component systems.</p> <h2 id="animating-state-with-watchers"> Animating State with Watchers</h2> <p>Watchers allow us to animate changes of any numerical property into another property. That may sound complicated in the abstract, so let's dive into an example using <a href="https://greensock.com/" target="_blank" rel="noopener noreferrer">GreenSock<span> <span class="sr-only">(opens new window)</span></span></a>:</p> <div class="language-html line-numbers-mode">
<pre class="language-html" data-language="javascript">&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.2.4/gsap.min.js"&gt;&lt;/script&gt;

&lt;div id="animated-number-demo"&gt;
  &lt;input v-model.number="number" type="number" step="20" /&gt;
  &lt;p&gt;{{ animatedNumber }}&lt;/p&gt;
&lt;/div&gt;</pre> </div>
<div class="language-js line-numbers-mode">
<pre class="language-js" data-language="javascript">const Demo = {
  data() {
    return {
      number: 0,
      tweenedNumber: 0
    }
  },
  computed: {
    animatedNumber() {
      return this.tweenedNumber.toFixed(0)
    }
  },
  watch: {
    number(newValue) {
      gsap.to(this.$data, { duration: 0.5, tweenedNumber: newValue })
    }
  }
}

Vue.createApp(Demo).mount('#animated-number-demo')</pre> </div>
<p data-theme-id="39028" data-height="300" data-default-tab="js,result" data-user="Vue" data-slug-hash="22903bc3b53eb5b7817378ecb985ce96" data-pen-title="Transitioning State 1" class="codepen" style="height:300px;"><span>See the Pen <a href="https://codepen.io/teamVue/pen/22903bc3b53eb5b7817378ecb985ce96">Transitioning State 1</a> by Vue (<a href="https://codepen.io/Vue">@Vue</a>) on <a href="https://codepen.io">CodePen</a>.</span></p> <p>When you update the number, the change is animated below the input.</p> <h2 id="dynamic-state-transitions"> Dynamic State Transitions</h2> <p>As with Vue's transition components, the data backing state transitions can be updated in real time, which is especially useful for prototyping! Even using a simple SVG polygon, you can achieve many effects that would be difficult to conceive of until you've played with the variables a little.</p> <p data-theme-id="39028" data-preview="true" data-height="500" data-default-tab="js,result" data-user="Vue" data-slug-hash="a8e00648d4df6baa1b19fb6c31c8d17e" data-pen-title="Updating SVG" class="codepen" style="height:500px;"><span>See the Pen <a href="https://codepen.io/teamVue/pen/a8e00648d4df6baa1b19fb6c31c8d17e">Updating SVG</a> by Vue (<a href="https://codepen.io/Vue">@Vue</a>) on <a href="https://codepen.io">CodePen</a>.</span></p> <h2 id="organizing-transitions-into-components"> Organizing Transitions into Components</h2> <p>Managing many state transitions can quickly increase the complexity of a component instance. Fortunately, many animations can be extracted out into dedicated child components. Let's do this with the animated integer from our earlier example:</p> <div class="language-html line-numbers-mode">
<pre class="language-html" data-language="javascript">&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.2.4/gsap.min.js"&gt;&lt;/script&gt;

&lt;div id="app"&gt;
  &lt;input v-model.number="firstNumber" type="number" step="20" /&gt; +
  &lt;input v-model.number="secondNumber" type="number" step="20" /&gt; = {{ result }}
  &lt;p&gt;
    &lt;animated-integer :value="firstNumber"&gt;&lt;/animated-integer&gt; +
    &lt;animated-integer :value="secondNumber"&gt;&lt;/animated-integer&gt; =
    &lt;animated-integer :value="result"&gt;&lt;/animated-integer&gt;
  &lt;/p&gt;
&lt;/div&gt;</pre> </div>
<div class="language-js line-numbers-mode">
<pre class="language-js" data-language="javascript">const app = Vue.createApp({
  data() {
    return {
      firstNumber: 20,
      secondNumber: 40
    }
  },
  computed: {
    result() {
      return this.firstNumber + this.secondNumber
    }
  }
})

app.component('animated-integer', {
  template: '&lt;span&gt;{{ fullValue }}&lt;/span&gt;',
  props: {
    value: {
      type: Number,
      required: true
    }
  },
  data() {
    return {
      tweeningValue: 0
    }
  },
  computed: {
    fullValue() {
      return Math.floor(this.tweeningValue)
    }
  },
  methods: {
    tween(newValue, oldValue) {
      gsap.to(this.$data, {
        duration: 0.5,
        tweeningValue: newValue,
        ease: 'sine'
      })
    }
  },
  watch: {
    value(newValue, oldValue) {
      this.tween(newValue, oldValue)
    }
  },
  mounted() {
    this.tween(this.value, 0)
  }
})

app.mount('#app')</pre> </div>
<p data-theme-id="39028" data-preview="true" data-height="300" data-default-tab="js,result" data-user="Vue" data-slug-hash="e9ef8ac7e32e0d0337e03d20949b4d17" data-pen-title="State Transition Components" class="codepen" style="height:300px;"><span>See the Pen <a href="https://codepen.io/teamVue/pen/e9ef8ac7e32e0d0337e03d20949b4d17">State Transition Components</a> by Vue (<a href="https://codepen.io/Vue">@Vue</a>) on <a href="https://codepen.io">CodePen</a>.</span></p> <p>Now we can compose multiple states with these child components. It's exciting- we can use any combination of transition strategies that have been covered on this page, along with those offered by Vue's <a href="transitions-enterleave">built-in transition system</a>. Together, there are very few limits to what can be accomplished.</p> <p>You can see how we could use this for data visualization, for physics effects, for character animations and interactions, the sky's the limit.</p> <h2 id="bringing-designs-to-life"> Bringing Designs to Life</h2> <p>To animate, by one definition, means to bring to life. Unfortunately, when designers create icons, logos, and mascots, they're usually delivered as images or static SVGs. So although GitHub's octocat, Twitter's bird, and many other logos resemble living creatures, they don't really seem alive.</p> <p>Vue can help. Since SVGs are just data, we only need examples of what these creatures look like when excited, thinking, or alarmed. Then Vue can help transition between these states, making your welcome pages, loading indicators, and notifications more emotionally compelling.</p> <p>Sarah Drasner demonstrates this in the demo below, using a combination of timed and interactivity-driven state changes:</p> <p data-theme-id="light" data-height="400" data-default-tab="result" data-user="sdras" data-slug-hash="YZBGNp" data-pen-title="Vue-controlled Wall-E" data-embed-version="2" class="codepen" style="height:400px;"><span>See the Pen <a href="https://codepen.io/sdras/pen/YZBGNp">Vue-controlled Wall-E</a> by Sarah Drasner (<a href="https://codepen.io/sdras">@sdras</a>) on <a href="https://codepen.io">CodePen</a>.</span></p>
</div>   <div class="_attribution">
  <p class="_attribution-p">
    <a href="https://v3.vuejs.org/guide/transitions-state.html" class="_attribution-link" target="_blank">https://v3.vuejs.org/guide/transitions-state.html</a>
  </p>
</div>
