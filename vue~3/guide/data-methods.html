 <div class="theme-default-content content__default">
<h1 id="data-properties-and-methods"> Data Properties and Methods</h1> <section class="video-lesson"><a href="https://vueschool.io/lessons/methods-in-vue-3?friend=vuejs" target="_blank" rel="sponsored noopener" title="Learn how to use methods on Vue School">Learn how to work with data and methods with a free Vue School lesson</a></section> <h2 id="data-properties"> Data Properties</h2> <p>The <code>data</code> option for a component is a function. Vue calls this function as part of creating a new component instance. It should return an object, which Vue will then wrap in its reactivity system and store on the component instance as <code>$data</code>. For convenience, any top-level properties of that object are also exposed directly via the component instance:</p> <div class="language-js line-numbers-mode">
<pre class="language-js" data-language="javascript">const app = Vue.createApp({
  data() {
    return { count: 4 }
  }
})

const vm = app.mount('#app')

console.log(vm.$data.count) // =&gt; 4
console.log(vm.count)       // =&gt; 4

// Assigning a value to vm.count will also update $data.count
vm.count = 5
console.log(vm.$data.count) // =&gt; 5

// ... and vice-versa
vm.$data.count = 6
console.log(vm.count) // =&gt; 6</pre> </div>
<p>These instance properties are only added when the instance is first created, so you need to ensure they are all present in the object returned by the <code>data</code> function. Where necessary, use <code>null</code>, <code>undefined</code> or some other placeholder value for properties where the desired value isn't yet available.</p> <p>It is possible to add a new property directly to the component instance without including it in <code>data</code>. However, because this property isn't backed by the reactive <code>$data</code> object, it won't automatically be tracked by <a href="reactivity">Vue's reactivity system</a>.</p> <p>Vue uses a <code>$</code> prefix when exposing its own built-in APIs via the component instance. It also reserves the prefix <code>_</code> for internal properties. You should avoid using names for top-level <code>data</code> properties that start with either of these characters.</p> <h2 id="methods"> Methods</h2> <p>To add methods to a component instance we use the <code>methods</code> option. This should be an object containing the desired methods:</p> <div class="language-js line-numbers-mode">
<pre class="language-js" data-language="javascript">const app = Vue.createApp({
  data() {
    return { count: 4 }
  },
  methods: {
    increment() {
      // `this` will refer to the component instance
      this.count++
    }
  }
})

const vm = app.mount('#app')

console.log(vm.count) // =&gt; 4

vm.increment()

console.log(vm.count) // =&gt; 5</pre> </div>
<p>Vue automatically binds the <code>this</code> value for <code>methods</code> so that it always refers to the component instance. This ensures that a method retains the correct <code>this</code> value if it's used as an event listener or callback. You should avoid using arrow functions when defining <code>methods</code>, as that prevents Vue from binding the appropriate <code>this</code> value.</p> <p>Just like all other properties of the component instance, the <code>methods</code> are accessible from within the component's template. Inside a template they are most commonly used as event listeners:</p> <div class="language-html line-numbers-mode">
<pre class="language-html" data-language="javascript">&lt;button @click="increment"&gt;Up vote&lt;/button&gt;</pre> </div>
<p>In the example above, the method <code>increment</code> will be called when the <code>&lt;button&gt;</code> is clicked.</p> <p>It is also possible to call a method directly from a template. As we'll see shortly, it's usually better to use a <a href="computed">computed property</a> instead. However, using a method can be useful in scenarios where computed properties aren't a viable option. You can call a method anywhere that a template supports JavaScript expressions:</p> <div class="language-html line-numbers-mode">
<pre class="language-html" data-language="javascript">&lt;span :title="toTitleDate(date)"&gt;
  {{ formatDate(date) }}
&lt;/span&gt;</pre> </div>
<p>If the methods <code>toTitleDate</code> or <code>formatDate</code> access any reactive data then it will be tracked as a rendering dependency, just as if it had been used in the template directly.</p> <p>Methods called from a template should not have any side effects, such as changing data or triggering asynchronous processes. If you find yourself tempted to do that you should probably use a <a href="instance#lifecycle-hooks">lifecycle hook</a> instead.</p> <h3 id="debouncing-and-throttling"> Debouncing and Throttling</h3> <p>Vue doesn't include built-in support for debouncing or throttling but it can be implemented using libraries such as <a href="https://lodash.com/" target="_blank" rel="noopener noreferrer">Lodash<span> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>In cases where a component is only used once, the debouncing can be applied directly within <code>methods</code>:</p> <div class="language-html line-numbers-mode">
<pre class="language-html" data-language="javascript">&lt;script src="https://unpkg.com/lodash@4.17.20/lodash.min.js"&gt;&lt;/script&gt;
&lt;script&gt;
  Vue.createApp({
    methods: {
      // Debouncing with Lodash
      click: _.debounce(function() {
        // ... respond to click ...
      }, 500)
    }
  }).mount('#app')
&lt;/script&gt;</pre> </div>
<p>However, this approach is potentially problematic for components that are reused because they'll all share the same debounced function. To keep the component instances independent from each other, we can add the debounced function in the <code>created</code> lifecycle hook:</p> <div class="language-js line-numbers-mode">
<pre class="language-js" data-language="javascript">app.component('save-button', {
  created() {
    // Debouncing with Lodash
    this.debouncedClick = _.debounce(this.click, 500)
  },
  unmounted() {
    // Cancel the timer when the component is removed
    this.debouncedClick.cancel()
  },
  methods: {
    click() {
      // ... respond to click ...
    }
  },
  template: `
    &lt;button @click="debouncedClick"&gt;
      Save
    &lt;/button&gt;
  `
})</pre> </div>
</div>   <div class="_attribution">
  <p class="_attribution-p">
    <a href="https://v3.vuejs.org/guide/data-methods.html" class="_attribution-link" target="_blank">https://v3.vuejs.org/guide/data-methods.html</a>
  </p>
</div>
