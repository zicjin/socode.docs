 <div class="theme-default-content content__default">
<h1 id="testing"> Testing</h1> <h2 id="introduction"> Introduction</h2> <p>When it comes to building reliable applications, tests can play a critical role in an individual or team's ability to build new features, refactor code, fix bugs, etc. While there are many schools of thought with testing, there are three categories often discussed in the context of web applications:</p> <ul>
<li>Unit Testing</li> <li>Component Testing</li> <li>End-To-End (E2E) Testing</li>
</ul> <p>This section aims to provide guidance to navigating the testing ecosystem and choosing the right tools for your Vue application or component library.</p> <h2 id="unit-testing"> Unit Testing</h2> <h3 id="introduction-2"> Introduction</h3> <p>Unit tests allow you to test individual units of code in isolation. The purpose of unit testing is to provide developers with confidence in their code. By writing thorough, meaningful tests, you achieve the confidence that as new features are built or your code is refactored your application will remain functional and stable.</p> <p>Unit testing a Vue application does not significantly differ from testing other types of applications.</p> <h3 id="choosing-your-framework"> Choosing Your Framework</h3> <p>Since unit testing advice is often framework-agnostic, here are some basic guidelines to keep in mind when evaluating which unit testing tool is best for your application.</p> <h4 id="first-class-error-reporting"> First-class error reporting</h4> <p>When tests fail, it is critical that your unit testing framework provides useful errors. This is the job of the assertion library. An assertion with high-quality error messages helps minimize the amount of time it takes to debug the problem. In addition to simply telling you what test is failing, assertion libraries provide context for why a test fails, e.g., what is expected vs what was received.</p> <p>Some unit testing frameworks, like Jest, include assertion libraries. Others, like Mocha, require you to install assertion libraries separately (usually Chai).</p> <h4 id="active-community-and-team"> Active community and team</h4> <p>Since the majority of unit testing frameworks are open-source, having a community that is active can be critical to some teams that will be maintaining their tests for a long period of time and needs to ensure that a project will be actively maintained. In addition, having an active community has the benefit of providing more support whenever you run into issues.</p> <h3 id="frameworks"> Frameworks</h3> <p>While there are many tools in the ecosystem, here are some common unit testing tools that are being used in the Vue.js ecosystem.</p> <h4 id="jest"> Jest</h4> <p>Jest is a JavaScript test framework that is focused on simplicity. One of its unique features is the ability to take snapshots of tests in order to provide an alternative means of verifying units of your application.</p> <p><strong>Resources:</strong></p> <ul>
<li><a href="https://jestjs.io" target="_blank" rel="noopener noreferrer">Official Jest Website<span> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://cli.vuejs.org/core-plugins/unit-jest.html" target="_blank" rel="noopener noreferrer">Official Vue 2 CLI Plugin - Jest<span> <span class="sr-only">(opens new window)</span></span></a></li>
</ul> <h4 id="mocha"> Mocha</h4> <p>Mocha is a JavaScript test framework that is focused on being flexible. Because of this flexibility, it allows you to choose different libraries to fulfill other common features such as spying (e.g., Sinon) and assertions (e.g., Chai). Another unique feature of Mocha is that it can also execute tests in the browser in addition to Node.js.</p> <p><strong>Resources:</strong></p> <ul>
<li><a href="https://mochajs.org" target="_blank" rel="noopener noreferrer">Official Mocha Website<span> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://cli.vuejs.org/core-plugins/unit-mocha.html" target="_blank" rel="noopener noreferrer">Official Vue CLI Plugin - Mocha<span> <span class="sr-only">(opens new window)</span></span></a></li>
</ul> <h2 id="component-testing"> Component Testing</h2> <h3 id="introduction-3"> Introduction</h3> <p>To test most Vue components, they must be mounted to the DOM (either virtual or real) in order to fully assert that they are working. This is another framework-agnostic concept. As a result, component testing frameworks were created to give users the ability to do this reliably while also providing Vue-specific conveniences such as integrations for Vuex, Vue Router, and other Vue plugins.</p> <h3 id="choosing-your-framework-2"> Choosing Your Framework</h3> <p>The following section provides guidelines on things to keep in mind when evaluating which component testing framework is best for your application.</p> <h4 id="optimal-compatibility-with-the-vue-ecosystem"> Optimal compatibility with the Vue ecosystem</h4> <p>It should be no surprise that one of the first criteria is that a component testing library should have is being as compatible with the Vue ecosystem as possible. While this may seem comprehensive, some key integration areas to keep in mind include single file components (SFCs), Vuex, Vue Router, and any other Vue specific plugins that your application relies on.</p> <h4 id="first-class-error-reporting-2"> First-class error reporting</h4> <p>When tests fail, it is critical that your component testing framework provides useful error logs that help to minimize the amount of time it takes to debug the problem. In addition to simply telling you what test fails, they should also provide context for why a test fails, e.g., what is expected vs what was received.</p> <h3 id="recommendations"> Recommendations</h3> <h4 id="vue-testing-library-testing-library-vue"> Vue Testing Library (@testing-library/vue)</h4> <p>Vue Testing Library is a set of tools focused on testing components without relying on implementation details. Built with accessibility in mind, its approach also makes refactoring a breeze.</p> <p>Its guiding principle is that the more tests resemble the way software is used, the more confidence they can provide.</p> <p><strong>Resources:</strong></p> <ul><li><a href="https://testing-library.com/docs/vue-testing-library/intro" target="_blank" rel="noopener noreferrer">Official Vue Testing Library Website<span> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h4 id="vue-test-utils"> Vue Test Utils</h4> <p>Vue Test Utils is the official low-level component testing library that was written to provide users access to Vue specific APIs. If you are new to testing Vue applications, we would recommend using Vue Testing Library, which is an abstraction over Vue Test Utils.</p> <p><strong>Resources:</strong></p> <ul>
<li><a href="https://vue-test-utils.vuejs.org" target="_blank" rel="noopener noreferrer">Official Vue Test Utils Documentation<span> <span class="sr-only">(opens new window)</span></span></a></li> <li>
<a href="https://lmiller1990.github.io/vue-testing-handbook/v3/#what-is-this-guide" target="_blank" rel="noopener noreferrer">Vue Testing Handbook<span> <span class="sr-only">(opens new window)</span></span></a> by Lachlan Miller</li>
</ul> <h2 id="end-to-end-e2e-testing"> End-to-End (E2E) Testing</h2> <h3 id="introduction-4"> Introduction</h3> <p>While unit tests provide developers with some degree of confidence, unit and component tests are limited in their abilities to provide holistic coverage of an application when deployed to production. As a result, end-to-end (E2E) tests provide coverage on what is arguably the most important aspect of an application: what happens when users actually use your applications.</p> <p>In other words, E2E tests validate all of the layers in your application. This not only includes your frontend code, but all associated backend services and infrastructure that are more representative of the environment that your users will be in. By testing how user actions impact your application, E2E tests are often the key to higher confidence in whether an application is functioning properly or not.</p> <h3 id="choosing-your-framework-3"> Choosing Your Framework</h3> <p>While end-to-end (E2E) testing on the web has gained a negative reputation for unreliable (flaky) tests and slowing down development processes, modern E2E tools have made strides forward to create more reliable, interactive, and useful tests. When choosing an E2E testing framework, the following sections provide some guidance on things to keep in mind when choosing a testing framework for your application.</p> <h4 id="cross-browser-testing"> Cross-browser testing</h4> <p>One of the primary benefits that end-to-end (E2E) testing is known for is its ability to test your application across multiple browsers. While it may seem desirable to have 100% cross-browser coverage, it is important to note that cross browser testing has diminishing returns on a team's resources due the additional time and machine power required to run them consistently. As a result, it is important to be mindful of this trade-off when choosing the amount of cross-browser testing your application needs.</p> <div class="custom-block tip">
<strong class="custom-block-title">TIP</strong> <p>A recent development in for catching browser-specific issues is using application monitoring and error reporting tools (e.g., Sentry, LogRocket, etc.) for browsers that are not as commonly used (e.g., &lt; IE11, older Safari versions, etc.).</p>
</div> <h4 id="faster-feedback-loops"> Faster feedback loops</h4> <p>One of the primary problems with end-to-end (E2E) tests and development is that running the entire suite takes a long time. Typically, this is only done in continuous integration and deployment (CI/CD) pipelines. Modern E2E testing frameworks have helped to solve this by adding features like parallelization, which allows for CI/CD pipelines to often run magnitudes faster than before. In addition, when developing locally, the ability to selectively run a single test for the page you are working on while also providing hot reloading of tests can help to boost a developer's workflow and productivity.</p> <h4 id="first-class-debugging-experience"> First class debugging experience</h4> <p>While developers have traditionally relied on scanning logs in a terminal window to help determine what went wrong in a test, modern end-to-end (E2E) test frameworks allow developers to leverage tools that they are already familiar with, e.g. browser developer tools.</p> <h4 id="visibility-in-headless-mode"> Visibility in headless mode</h4> <p>When end-to-end (E2E) tests are run in continuous integration / deployment pipelines, they are often run in headless browsers (i.e., no visible browser is opened for the user to watch). As a result, when errors occur, a critical feature that modern E2E testing frameworks provide 1st class support for is the ability to see snapshots and/or videos of your applications during various testing stages in order to provide insight into why errors are happening. Historically, it was tedious to maintain these integrations.</p> <h3 id="recommendations-2"> Recommendations</h3> <p>While there are many tools in the ecosystem, here are some common end-to-end (E2E) testing frameworks that are being used in the Vue.js ecosystem.</p> <h4 id="cypress-io"> Cypress.io</h4> <p>Cypress.io is a testing framework that aims to enhance developer productivity by enabling developers to reliably test their applications while providing a first class developer experience.</p> <p><strong>Resources:</strong></p> <ul>
<li><a href="https://www.cypress.io" target="_blank" rel="noopener noreferrer">Cypress' Official Website<span> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://cli.vuejs.org/core-plugins/e2e-cypress.html" target="_blank" rel="noopener noreferrer">Official Vue CLI Cypress Plugin<span> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/testing-library/cypress-testing-library" target="_blank" rel="noopener noreferrer">Cypress Testing Library<span> <span class="sr-only">(opens new window)</span></span></a></li>
</ul> <h4 id="nightwatch-js"> Nightwatch.js</h4> <p>Nightwatch.js is an end-to-end testing framework that can be used to test web applications and websites, as well as Node.js unit and integration testing.</p> <p><strong>Resources:</strong></p> <ul>
<li><a href="https://nightwatchjs.org" target="_blank" rel="noopener noreferrer">Nightwatch's Official Website<span> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://cli.vuejs.org/core-plugins/e2e-nightwatch.html" target="_blank" rel="noopener noreferrer">Official Vue CLI Nightwatch Plugin<span> <span class="sr-only">(opens new window)</span></span></a></li>
</ul> <h4 id="puppeteer"> Puppeteer</h4> <p>Puppeteer is a Node library that provides a high-level API to control the browser and can pair with other test runners (e.g., Jest) to test your application.</p> <p><strong>Resources:</strong></p> <ul><li><a href="https://pptr.dev" target="_blank" rel="noopener noreferrer">Puppeteer's Official Website<span> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h4 id="testcafe"> TestCafe</h4> <p>TestCafe is a Node.js based end-to-end framework that aims to provide easy setup so that developers can focus on creating tests that are easy to write and reliable.</p> <p><strong>Resources:</strong></p> <ul><li><a href="https://devexpress.github.io/testcafe/" target="_blank" rel="noopener noreferrer">TestCafe's Official Website<span> <span class="sr-only">(opens new window)</span></span></a></li></ul>
</div>   <div class="_attribution">
  <p class="_attribution-p">
    <a href="https://v3.vuejs.org/guide/testing.html" class="_attribution-link" target="_blank">https://v3.vuejs.org/guide/testing.html</a>
  </p>
</div>
