 <div class="theme-default-content content__default">
<h1 id="list-rendering"> List Rendering</h1> <section class="video-lesson"><a href="https://vueschool.io/lessons/list-rendering-in-vue-3?friend=vuejs" target="_blank" rel="sponsored noopener" title="Learn how to render lists on Vue School">Learn how to render list with a free Vue School lesson</a></section> <h2 id="mapping-an-array-to-elements-with-v-for"> Mapping an Array to Elements with <code>v-for</code>
</h2> <p>We can use the <code>v-for</code> directive to render a list of items based on an array. The <code>v-for</code> directive requires a special syntax in the form of <code>item in items</code>, where <code>items</code> is the source data array and <code>item</code> is an <strong>alias</strong> for the array element being iterated on:</p> <div class="language-html line-numbers-mode">
<pre class="language-html" data-language="javascript">&lt;ul id="array-rendering"&gt;
  &lt;li v-for="item in items"&gt;
    {{ item.message }}
  &lt;/li&gt;
&lt;/ul&gt;</pre> </div>
<div class="language-js line-numbers-mode">
<pre class="language-js" data-language="javascript">Vue.createApp({
  data() {
    return {
      items: [{ message: 'Foo' }, { message: 'Bar' }]
    }
  }
}).mount('#array-rendering')</pre> </div>
<p>Result:</p> <p data-theme-id="39028" data-editable="true" data-height="300" data-default-tab="js,result" data-user="Vue" data-slug-hash="VwLGbwa" data-pen-title="v-for with Array" class="codepen" style="height:300px;"><span>See the Pen <a href="https://codepen.io/teamVue/pen/VwLGbwa">v-for with Array</a> by Vue (<a href="https://codepen.io/Vue">@Vue</a>) on <a href="https://codepen.io">CodePen</a>.</span></p> <p>Inside <code>v-for</code> blocks we have full access to parent scope properties. <code>v-for</code> also supports an optional second argument for the index of the current item.</p> <div class="language-html line-numbers-mode">
<pre class="language-html" data-language="javascript">&lt;ul id="array-with-index"&gt;
  &lt;li v-for="(item, index) in items"&gt;
    {{ parentMessage }} - {{ index }} - {{ item.message }}
  &lt;/li&gt;
&lt;/ul&gt;</pre> </div>
<div class="language-js line-numbers-mode">
<pre class="language-js" data-language="javascript">Vue.createApp({
  data() {
    return {
      parentMessage: 'Parent',
      items: [{ message: 'Foo' }, { message: 'Bar' }]
    }
  }
}).mount('#array-with-index')</pre> </div>
<p>Result:</p> <p data-theme-id="39028" data-editable="true" data-height="300" data-default-tab="js,result" data-user="Vue" data-slug-hash="wvaEdBP" data-pen-title="v-for with Array and index" class="codepen" style="height:300px;"><span>See the Pen <a href="https://codepen.io/teamVue/pen/wvaEdBP">v-for with Array and index</a> by Vue (<a href="https://codepen.io/Vue">@Vue</a>) on <a href="https://codepen.io">CodePen</a>.</span></p> <p>You can also use <code>of</code> as the delimiter instead of <code>in</code>, so that it is closer to JavaScript's syntax for iterators:</p> <div class="language-html line-numbers-mode">
<pre class="language-html" data-language="javascript">&lt;div v-for="item of items"&gt;&lt;/div&gt;</pre> </div>
<h2 id="v-for-with-an-object"> <code>v-for</code> with an Object</h2> <p>You can also use <code>v-for</code> to iterate through the properties of an object.</p> <div class="language-html line-numbers-mode">
<pre class="language-html" data-language="javascript">&lt;ul id="v-for-object" class="demo"&gt;
  &lt;li v-for="value in myObject"&gt;
    {{ value }}
  &lt;/li&gt;
&lt;/ul&gt;</pre> </div>
<div class="language-js line-numbers-mode">
<pre class="language-js" data-language="javascript">Vue.createApp({
  data() {
    return {
      myObject: {
        title: 'How to do lists in Vue',
        author: 'Jane Doe',
        publishedAt: '2016-04-10'
      }
    }
  }
}).mount('#v-for-object')</pre> </div>
<p>Result:</p> <p data-theme-id="39028" data-editable="true" data-height="300" data-default-tab="js,result" data-user="Vue" data-slug-hash="NWqLjqy" data-pen-title="v-for with Object" class="codepen" style="height:300px;"><span>See the Pen <a href="https://codepen.io/teamVue/pen/NWqLjqy">v-for with Object</a> by Vue (<a href="https://codepen.io/Vue">@Vue</a>) on <a href="https://codepen.io">CodePen</a>.</span></p> <p>You can also provide a second argument for the property's name (a.k.a. key):</p> <div class="language-html line-numbers-mode">
<pre class="language-html" data-language="javascript">&lt;li v-for="(value, name) in myObject"&gt;
  {{ name }}: {{ value }}
&lt;/li&gt;</pre> </div>
<p data-theme-id="39028" data-editable="true" data-height="300" data-default-tab="js,result" data-user="Vue" data-slug-hash="poJOPjx" data-pen-title="v-for with Object and key" class="codepen" style="height:300px;"><span>See the Pen <a href="https://codepen.io/teamVue/pen/poJOPjx">v-for with Object and key</a> by Vue (<a href="https://codepen.io/Vue">@Vue</a>) on <a href="https://codepen.io">CodePen</a>.</span></p> <p>And another for the index:</p> <div class="language-html line-numbers-mode">
<pre class="language-html" data-language="javascript">&lt;li v-for="(value, name, index) in myObject"&gt;
  {{ index }}. {{ name }}: {{ value }}
&lt;/li&gt;</pre> </div>
<p data-theme-id="39028" data-editable="true" data-height="300" data-default-tab="js,result" data-user="Vue" data-slug-hash="abOaWdo" data-pen-title="v-for with Object key and index" class="codepen" style="height:300px;"><span>See the Pen <a href="https://codepen.io/teamVue/pen/abOaWdo">v-for with Object key and index</a> by Vue (<a href="https://codepen.io/Vue">@Vue</a>) on <a href="https://codepen.io">CodePen</a>.</span></p> <div class="custom-block tip">
<strong class="custom-block-title">Note</strong> <p>When iterating over an object, the order is based on the enumeration order of <code>Object.keys()</code>, which isn't guaranteed to be consistent across JavaScript engine implementations.</p>
</div> <h2 id="maintaining-state"> Maintaining State</h2> <p>When Vue is updating a list of elements rendered with <code>v-for</code>, by default it uses an "in-place patch" strategy. If the order of the data items has changed, instead of moving the DOM elements to match the order of the items, Vue will patch each element in-place and make sure it reflects what should be rendered at that particular index.</p> <p>This default mode is efficient, but <strong>only suitable when your list render output does not rely on child component state or temporary DOM state (e.g. form input values)</strong>.</p> <p>To give Vue a hint so that it can track each node's identity, and thus reuse and reorder existing elements, you need to provide a unique <code>key</code> attribute for each item:</p> <div class="language-html line-numbers-mode">
<pre class="language-html" data-language="javascript">&lt;div v-for="item in items" :key="item.id"&gt;
  &lt;!-- content --&gt;
&lt;/div&gt;</pre> </div>
<p>It is recommended to provide a <code>key</code> attribute with <code>v-for</code> whenever possible, unless the iterated DOM content is simple, or you are intentionally relying on the default behavior for performance gains.</p> <p>Since it's a generic mechanism for Vue to identify nodes, the <code>key</code> also has other uses that are not specifically tied to <code>v-for</code>, as we will see later in the guide.</p> <div class="custom-block tip">
<strong class="custom-block-title">Note</strong> <p>Don't use non-primitive values like objects and arrays as <code>v-for</code> keys. Use string or numeric values instead.</p>
</div> <p>For detailed usage of the <code>key</code> attribute, please see the <a href="../api/special-attributes#key"><code>key</code> API documentation</a>.</p> <h2 id="array-change-detection"> Array Change Detection</h2> <h3 id="mutation-methods"> Mutation Methods</h3> <p>Vue wraps an observed array's mutation methods so they will also trigger view updates. The wrapped methods are:</p> <ul>
<li><code>push()</code></li> <li><code>pop()</code></li> <li><code>shift()</code></li> <li><code>unshift()</code></li> <li><code>splice()</code></li> <li><code>sort()</code></li> <li><code>reverse()</code></li>
</ul> <p>You can open the console and play with the previous examples' <code>items</code> array by calling their mutation methods. For example: <code>example1.items.push({ message: 'Baz' })</code>.</p> <h3 id="replacing-an-array"> Replacing an Array</h3> <p>Mutation methods, as the name suggests, mutate the original array they are called on. In comparison, there are also non-mutating methods, e.g. <code>filter()</code>, <code>concat()</code> and <code>slice()</code>, which do not mutate the original array but <strong>always return a new array</strong>. When working with non-mutating methods, you can replace the old array with the new one:</p> <div class="language-js line-numbers-mode">
<pre class="language-js" data-language="javascript">example1.items = example1.items.filter(item =&gt; item.message.match(/Foo/))</pre> </div>
<p>You might think this will cause Vue to throw away the existing DOM and re-render the entire list - luckily, that is not the case. Vue implements some smart heuristics to maximize DOM element reuse, so replacing an array with another array containing overlapping objects is a very efficient operation.</p> <h2 id="displaying-filtered-sorted-results"> Displaying Filtered/Sorted Results</h2> <p>Sometimes we want to display a filtered or sorted version of an array without actually mutating or resetting the original data. In this case, you can create a computed property that returns the filtered or sorted array.</p> <p>For example:</p> <div class="language-html line-numbers-mode">
<pre class="language-html" data-language="javascript">&lt;li v-for="n in evenNumbers" :key="n"&gt;{{ n }}&lt;/li&gt;</pre> </div>
<div class="language-js line-numbers-mode">
<pre class="language-js" data-language="javascript">data() {
  return {
    numbers: [ 1, 2, 3, 4, 5 ]
  }
},
computed: {
  evenNumbers() {
    return this.numbers.filter(number =&gt; number % 2 === 0)
  }
}</pre> </div>
<p>In situations where computed properties are not feasible (e.g. inside nested <code>v-for</code> loops), you can use a method:</p> <div class="language-html line-numbers-mode">
<pre class="language-html" data-language="javascript">&lt;ul v-for="numbers in sets"&gt;
  &lt;li v-for="n in even(numbers)" :key="n"&gt;{{ n }}&lt;/li&gt;
&lt;/ul&gt;</pre> </div>
<div class="language-js line-numbers-mode">
<pre class="language-js" data-language="javascript">data() {
  return {
    sets: [[ 1, 2, 3, 4, 5 ], [6, 7, 8, 9, 10]]
  }
},
methods: {
  even(numbers) {
    return numbers.filter(number =&gt; number % 2 === 0)
  }
}</pre> </div>
<h2 id="v-for-with-a-range"> <code>v-for</code> with a Range</h2> <p><code>v-for</code> can also take an integer. In this case it will repeat the template that many times.</p> <div class="language-html line-numbers-mode">
<pre class="language-html" data-language="javascript">&lt;div id="range" class="demo"&gt;
  &lt;span v-for="n in 10" :key="n"&gt;{{ n }} &lt;/span&gt;
&lt;/div&gt;</pre> </div>
<p>Result:</p> <p data-theme-id="39028" data-preview="true" data-editable="true" data-height="300" data-default-tab="html,result" data-user="Vue" data-slug-hash="NWqLjNY" data-pen-title="v-for with a range" class="codepen" style="height:300px;"><span>See the Pen <a href="https://codepen.io/teamVue/pen/NWqLjNY">v-for with a range</a> by Vue (<a href="https://codepen.io/Vue">@Vue</a>) on <a href="https://codepen.io">CodePen</a>.</span></p> <h2 id="v-for-on-a-template"> <code>v-for</code> on a <code>&lt;template&gt;</code>
</h2> <p>Similar to template <code>v-if</code>, you can also use a <code>&lt;template&gt;</code> tag with <code>v-for</code> to render a block of multiple elements. For example:</p> <div class="language-html line-numbers-mode">
<pre class="language-html" data-language="javascript">&lt;ul&gt;
  &lt;template v-for="item in items" :key="item.msg"&gt;
    &lt;li&gt;{{ item.msg }}&lt;/li&gt;
    &lt;li class="divider" role="presentation"&gt;&lt;/li&gt;
  &lt;/template&gt;
&lt;/ul&gt;</pre> </div>
<h2 id="v-for-with-v-if"> <code>v-for</code> with <code>v-if</code>
</h2> <div class="custom-block tip">
<strong class="custom-block-title">TIP</strong> <p>Note that it's <strong>not</strong> recommended to use <code>v-if</code> and <code>v-for</code> together. Refer to <a href="../style-guide/index#avoid-v-if-with-v-for-essential">style guide</a> for details.</p>
</div> <p>When they exist on the same node, <code>v-if</code> has a higher priority than <code>v-for</code>. That means the <code>v-if</code> condition will not have access to variables from the scope of the <code>v-for</code>:</p> <div class="language-html line-numbers-mode">
<pre class="language-html" data-language="javascript">&lt;!-- This will throw an error because property "todo" is not defined on instance. --&gt;

&lt;li v-for="todo in todos" v-if="!todo.isComplete"&gt;
  {{ todo.name }}
&lt;/li&gt;</pre> </div>
<p>This can be fixed by moving <code>v-for</code> to a wrapping <code>&lt;template&gt;</code> tag:</p> <div class="language-html line-numbers-mode">
<pre class="language-html" data-language="javascript">&lt;template v-for="todo in todos" :key="todo.name"&gt;
  &lt;li v-if="!todo.isComplete"&gt;
    {{ todo.name }}
  &lt;/li&gt;
&lt;/template&gt;</pre> </div>
<h2 id="v-for-with-a-component"> <code>v-for</code> with a Component</h2> <blockquote><p>This section assumes knowledge of <a href="component-basics">Components</a>. Feel free to skip it and come back later.</p></blockquote> <p>You can directly use <code>v-for</code> on a custom component, like any normal element:</p> <div class="language-html line-numbers-mode">
<pre class="language-html" data-language="javascript">&lt;my-component v-for="item in items" :key="item.id"&gt;&lt;/my-component&gt;</pre> </div>
<p>However, this won't automatically pass any data to the component, because components have isolated scopes of their own. In order to pass the iterated data into the component, we should also use props:</p> <div class="language-html line-numbers-mode">
<pre class="language-html" data-language="javascript">&lt;my-component
  v-for="(item, index) in items"
  :item="item"
  :index="index"
  :key="item.id"
&gt;&lt;/my-component&gt;</pre> </div>
<p>The reason for not automatically injecting <code>item</code> into the component is because that makes the component tightly coupled to how <code>v-for</code> works. Being explicit about where its data comes from makes the component reusable in other situations.</p> <p>Here's a complete example of a simple todo list:</p> <div class="language-html line-numbers-mode">
<pre class="language-html" data-language="javascript">&lt;div id="todo-list-example"&gt;
  &lt;form v-on:submit.prevent="addNewTodo"&gt;
    &lt;label for="new-todo"&gt;Add a todo&lt;/label&gt;
    &lt;input
      v-model="newTodoText"
      id="new-todo"
      placeholder="E.g. Feed the cat"
    /&gt;
    &lt;button&gt;Add&lt;/button&gt;
  &lt;/form&gt;
  &lt;ul&gt;
    &lt;todo-item
      v-for="(todo, index) in todos"
      :key="todo.id"
      :title="todo.title"
      @remove="todos.splice(index, 1)"
    &gt;&lt;/todo-item&gt;
  &lt;/ul&gt;
&lt;/div&gt;</pre> </div>
<div class="language-js line-numbers-mode">
<pre class="language-js" data-language="javascript">const app = Vue.createApp({
  data() {
    return {
      newTodoText: '',
      todos: [
        {
          id: 1,
          title: 'Do the dishes'
        },
        {
          id: 2,
          title: 'Take out the trash'
        },
        {
          id: 3,
          title: 'Mow the lawn'
        }
      ],
      nextTodoId: 4
    }
  },
  methods: {
    addNewTodo() {
      this.todos.push({
        id: this.nextTodoId++,
        title: this.newTodoText
      })
      this.newTodoText = ''
    }
  }
})

app.component('todo-item', {
  template: `
    &lt;li&gt;
      {{ title }}
      &lt;button @click="$emit('remove')"&gt;Remove&lt;/button&gt;
    &lt;/li&gt;
  `,
  props: ['title'],
  emits: ['remove']
})

app.mount('#todo-list-example')</pre> </div>
<p data-theme-id="39028" data-editable="true" data-height="300" data-default-tab="js,result" data-user="Vue" data-slug-hash="abOaWpz" data-pen-title="v-for with components" class="codepen" style="height:300px;"><span>See the Pen <a href="https://codepen.io/teamVue/pen/abOaWpz">v-for with components</a> by Vue (<a href="https://codepen.io/Vue">@Vue</a>) on <a href="https://codepen.io">CodePen</a>.</span></p>
</div>   <div class="_attribution">
  <p class="_attribution-p">
    <a href="https://v3.vuejs.org/guide/list" class="_attribution-link" target="_blank">https://v3.vuejs.org/guide/list</a>
  </p>
</div>
