<h1>The stacking context</h1>
<p>The <strong>stacking context</strong> is a three-dimensional conceptualization of HTML elements along an imaginary z-axis relative to the user, who is assumed to be facing the viewport or the webpage. HTML elements occupy this space in priority order based on element attributes.</p>
<h2 id="the_stacking_context">The stacking context</h2>
<p>In the previous part of this article, <a href="adding_z-index">Using z-index</a>, the rendering order of certain elements is influenced by their <code>z-index</code> value. This occurs because these elements have special properties which cause them to form a <em>stacking context</em>.</p> <p>A stacking context is formed, anywhere in the document, by any element in the following scenarios:</p> <ul> <li>Root element of the document (<code>&lt;html&gt;</code>).</li> <li>Element with a <a href="../../position"><code>position</code></a> value <code>absolute</code> or <code>relative</code> and <a href="../../z-index"><code>z-index</code></a> value other than <code>auto</code>.</li> <li>Element with a <a href="../../position"><code>position</code></a> value <code>fixed</code> or <code>sticky</code> (sticky for all mobile browsers, but not older desktop).</li> <li>Element that is a child of a <a href="../../css_flexible_box_layout/basic_concepts_of_flexbox">flex</a> container, with <a href="../../z-index"><code>z-index</code></a> value other than <code>auto</code>.</li> <li>Element that is a child of a <a href="../../grid"><code>grid</code></a> container, with <a href="../../z-index"><code>z-index</code></a> value other than <code>auto</code>.</li> <li>Element with a <a href="../../opacity"><code>opacity</code></a> value less than <code>1</code> (See <a href="https://www.w3.org/TR/css3-color/#transparency" rel=" noopener">the specification for opacity</a>).</li> <li>Element with a <a href="../../mix-blend-mode"><code>mix-blend-mode</code></a> value other than <code>normal</code>.</li> <li>Element with any of the following properties with value other than <code>none</code>: <ul> <li><a href="../../transform"><code>transform</code></a></li> <li><a href="../../filter"><code>filter</code></a></li> <li><a href="../../perspective"><code>perspective</code></a></li> <li><a href="../../clip-path"><code>clip-path</code></a></li> <li>
<a href="../../mask"><code>mask</code></a> / <a href="../../mask-image"><code>mask-image</code></a> / <a href="../../mask-border"><code>mask-border</code></a>
</li> </ul> </li> <li>Element with a <a href="../../isolation"><code>isolation</code></a> value <code>isolate</code>.</li> <li>Element with a <a href="../../-webkit-overflow-scrolling"><code>-webkit-overflow-scrolling</code></a> value <code>touch</code>.</li> <li>Element with a <a href="../../will-change"><code>will-change</code></a> value specifying any property that would create a stacking context on non-initial value (see <a href="https://dev.opera.com/articles/css-will-change-property/" rel=" noopener">this post</a>).</li> <li>Element with a <a href="../../contain"><code>contain</code></a> value of <code>layout</code>, or <code>paint</code>, or a composite value that includes either of them (i.e. <code>contain: strict</code>, <code>contain: content</code>).</li> </ul> <p>Within a stacking context, child elements are stacked according to the same rules previously explained. Importantly, the <code>z-index</code> values of its child stacking contexts only have meaning in this parent. Stacking contexts are treated atomically as a single unit in the parent stacking context.</p> <p>In summary:</p> <ul> <li>Stacking contexts can be contained in other stacking contexts, and together create a hierarchy of stacking contexts.</li> <li>Each stacking context is completely independent of its siblings: only descendant elements are considered when stacking is processed.</li> <li>Each stacking context is self-contained: after the element's contents are stacked, the whole element is considered in the stacking order of the parent stacking context.</li> </ul> <div class="notecard note"> <p><strong>Note:</strong> The hierarchy of stacking contexts is a subset of the hierarchy of HTML elements because only certain elements create stacking contexts. We can say that elements that do not create their own stacking contexts are <em>assimilated</em> by the parent stacking context.</p> </div>
<h2 id="the_example">The example</h2>
<p> <img src="data:image/png;base64,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" alt="Example of stacking rules modified using z-index" width="465" height="396" loading="lazy"> </p> <p>In this example, every positioned element creates its own stacking context, because of their positioning and <code>z-index</code> values. The hierarchy of stacking contexts is organized as follows:</p> <ul> <li>Root <ul> <li>DIV #1</li> <li>DIV #2</li> <li>DIV #3 <ul> <li>DIV #4</li> <li>DIV #5</li> <li>DIV #6</li> </ul> </li> </ul> </li> </ul> <p>It is important to note that DIV #4, DIV #5 and DIV #6 are children of DIV #3, so stacking of those elements is completely resolved within DIV#3. Once stacking and rendering within DIV #3 is completed, the whole DIV #3 element is passed for stacking in the root element with respect to its sibling's DIV.</p> <div class="notecard note"> <p><strong>Note:</strong></p> <ul> <li>DIV #4 is rendered under DIV #1 because DIV #1's z-index (5) is valid within the stacking context of the root element, while DIV #4's z-index (6) is valid within the stacking context of DIV #3. So, DIV #4 is under DIV #1, because DIV #4 belongs to DIV #3, which has a lower z-index value.</li> <li>For the same reason DIV #2 (z-index 2) is rendered under DIV#5 (z-index 1) because DIV #5 belongs to DIV #3, which has an higher z-index value.</li> <li>DIV #3's z-index is 4, but this value is independent from z-index of DIV #4, DIV #5 and DIV #6, because it belongs to a different stacking context.</li> <li>An easy way to figure out the <em>rendering order</em> of stacked elements along the Z axis is to think of it as a "version number" of sorts, where child elements are minor version numbers underneath their parent's major version numbers. This way we can easily see how an element with a z-index of 1 (DIV #5) is stacked above an element with a z-index of 2 (DIV #2), and how an element with a z-index of 6 (DIV #4) is stacked below an element with a z-index of 5 (DIV #1). In our example (sorted according to the final rendering order): <ul> <li>Root <ul> <li>DIV #2 - z-index is 2</li> <li>DIV #3 - z-index is 4 <ul> <li>DIV #5 - z-index is 1, stacked under an element with a z-index of 4, which results in a rendering order of 4.1</li> <li>DIV #6 - z-index is 3, stacked under an element with a z-index of 4, which results in a rendering order of 4.3</li> <li>DIV #4 - z-index is 6, stacked under an element with a z-index of 4, which results in a rendering order of 4.6</li> </ul> </li> <li>DIV #1 - z-index is 5</li> </ul> </li> </ul> </li> </ul> </div>
<h2 id="example">Example</h2>
<h3 id="html">HTML</h3>
<div class="code-example"><pre data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>div1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Division Element #1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">&gt;</span></span>position: relative;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
  z-index: 5;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>div2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Division Element #2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">&gt;</span></span>position: relative;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
  z-index: 2;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>div3<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>div4<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Division Element #4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">&gt;</span></span>position: relative;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
    z-index: 6;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Division Element #3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">&gt;</span></span>position: absolute;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
  z-index: 4;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>div5<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Division Element #5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">&gt;</span></span>position: relative;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
    z-index: 1;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>div6<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Division Element #6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">&gt;</span></span>position: absolute;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
    z-index: 3;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</pre></div>
<h3 id="css">CSS</h3>
<div class="code-example"><pre data-language="css"><span class="token selector">*</span> <span class="token punctuation">{</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">html</span> <span class="token punctuation">{</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
  <span class="token property">font</span><span class="token punctuation">:</span> 12px/20px Arial<span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">div</span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 0.7<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">h1</span> <span class="token punctuation">{</span>
  <span class="token property">font</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#div1,
#div2</span> <span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px dashed #696<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #cfc<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#div1</span> <span class="token punctuation">{</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 5<span class="token punctuation">;</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 190px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#div2</span> <span class="token punctuation">{</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#div3</span> <span class="token punctuation">{</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 4<span class="token punctuation">;</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 180px<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 330px<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px dashed #900<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #fdd<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 40px 20px 20px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#div4,
#div5</span> <span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px dashed #996<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #ffc<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#div4</span> <span class="token punctuation">{</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 6<span class="token punctuation">;</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 25px 10px 5px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#div5</span> <span class="token punctuation">{</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 5px 10px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#div6</span> <span class="token punctuation">{</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 3<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 180px<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 125px<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px dashed #009<span class="token punctuation">;</span>
  <span class="token property">padding-top</span><span class="token punctuation">:</span> 125px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #ddf<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre></div>
<h3 id="result">Result</h3>
<iframe class="sample-code-frame" title="Example sample" id="frame_Example" width="100%" height="396" src="https://yari-demos.prod.mdn.mozit.cloud/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context/_sample_.Example.html" loading="lazy"></iframe><h2 id="see_also">See also</h2>
<ul> <li>
<a href="stacking_without_z-index">Stacking without the z-index property</a>: The stacking rules that apply when <code>z-index</code> is not used.</li> <li>
<a href="stacking_and_float">Stacking with floated blocks</a>: How floating elements are handled with stacking.</li> <li>
<a href="adding_z-index">Using z-index</a>: How to use <code>z-index</code> to change default stacking.</li> <li>
<a href="stacking_context_example_1">Stacking context example 1</a>: 2-level HTML hierarchy, <code>z-index</code> on the last level</li> <li>
<a href="stacking_context_example_2">Stacking context example 2</a>: 2-level HTML hierarchy, <code>z-index</code> on all levels</li> <li>
<a href="stacking_context_example_3">Stacking context example 3</a>: 3-level HTML hierarchy, <code>z-index</code> on the second level</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context" class="_attribution-link" target="_blank">https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context</a>
  </p>
</div>
