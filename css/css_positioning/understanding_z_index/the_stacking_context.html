<h1>The stacking context</h1> <p>The <strong>stacking context</strong> is a three-dimensional conceptualization of HTML elements along an imaginary z-axis relative to the user, who is assumed to be facing the viewport or the webpage. HTML elements occupy this space in priority order based on element attributes.</p>
<h2 id="the_stacking_context">The stacking context</h2>
<p>In the previous part of this article, <a href="adding_z-index">Using z-index</a>, the rendering order of certain elements is influenced by their <code>z-index</code> value. This occurs because these elements have special properties which cause them to form a <em>stacking context</em>.</p> <p>A stacking context is formed, anywhere in the document, by any element in the following scenarios:</p> <ul> <li>Root element of the document (<code>&lt;html&gt;</code>).</li> <li>Element with a <a href="../../position"><code>position</code></a> value <code>absolute</code> or <code>relative</code> and <a href="../../z-index"><code>z-index</code></a> value other than <code>auto</code>.</li> <li>Element with a <a href="../../position"><code>position</code></a> value <code>fixed</code> or <code>sticky</code> (sticky for all mobile browsers, but not older desktop).</li> <li>Element that is a child of a <a href="../../css_flexible_box_layout/basic_concepts_of_flexbox">flex</a> container, with <a href="../../z-index"><code>z-index</code></a> value other than <code>auto</code>.</li> <li>Element that is a child of a <a href="../../grid"><code>grid</code></a> container, with <a href="../../z-index"><code>z-index</code></a> value other than <code>auto</code>.</li> <li>Element with a <a href="../../opacity"><code>opacity</code></a> value less than <code>1</code> (See <a href="https://www.w3.org/TR/css3-color/#transparency" rel=" noopener">the specification for opacity</a>).</li> <li>Element with a <a href="../../mix-blend-mode"><code>mix-blend-mode</code></a> value other than <code>normal</code>.</li> <li>Element with any of the following properties with value other than <code>none</code>: <ul> <li><a href="../../transform"><code>transform</code></a></li> <li><a href="../../filter"><code>filter</code></a></li> <li><a href="../../perspective"><code>perspective</code></a></li> <li><a href="../../clip-path"><code>clip-path</code></a></li> <li>
<a href="../../mask"><code>mask</code></a> / <a href="../../mask-image"><code>mask-image</code></a> / <a href="../../mask-border"><code>mask-border</code></a>
</li> </ul> </li> <li>Element with a <a href="../../isolation"><code>isolation</code></a> value <code>isolate</code>.</li> <li>Element with a <a href="../../-webkit-overflow-scrolling"><code>-webkit-overflow-scrolling</code></a> value <code>touch</code>.</li> <li>Element with a <a href="../../will-change"><code>will-change</code></a> value specifying any property that would create a stacking context on non-initial value (see <a href="https://dev.opera.com/articles/css-will-change-property/" rel=" noopener">this post</a>).</li> <li>Element with a <a href="../../contain"><code>contain</code></a> value of <code>layout</code>, or <code>paint</code>, or a composite value that includes either of them (i.e. <code>contain: strict</code>, <code>contain: content</code>).</li> </ul> <p>Within a stacking context, child elements are stacked according to the same rules previously explained. Importantly, the <code>z-index</code> values of its child stacking contexts only have meaning in this parent. Stacking contexts are treated atomically as a single unit in the parent stacking context.</p> <p>In summary:</p> <ul> <li>Stacking contexts can be contained in other stacking contexts, and together create a hierarchy of stacking contexts.</li> <li>Each stacking context is completely independent of its siblings: only descendant elements are considered when stacking is processed.</li> <li>Each stacking context is self-contained: after the element's contents are stacked, the whole element is considered in the stacking order of the parent stacking context.</li> </ul> <div class="note notecard"> <p><strong>Note:</strong> The hierarchy of stacking contexts is a subset of the hierarchy of HTML elements because only certain elements create stacking contexts. We can say that elements that do not create their own stacking contexts are <em>assimilated</em> by the parent stacking context.</p> </div>
<h2 id="the_example">The example</h2>
<p><img alt="Example of stacking rules modified using z-index" src="data:image/png;base64,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" width="465" height="396" loading="lazy"></p> <p>In this example, every positioned element creates its own stacking context, because of their positioning and <code>z-index</code> values. The hierarchy of stacking contexts is organized as follows:</p> <ul> <li>Root <ul> <li>DIV #1</li> <li>DIV #2</li> <li>DIV #3 <ul> <li>DIV #4</li> <li>DIV #5</li> <li>DIV #6</li> </ul> </li> </ul> </li> </ul> <p>It is important to note that DIV #4, DIV #5 and DIV #6 are children of DIV #3, so stacking of those elements is completely resolved within DIV#3. Once stacking and rendering within DIV #3 is completed, the whole DIV #3 element is passed for stacking in the root element with respect to its sibling's DIV.</p> <div class="note notecard"> <p><strong>Note:</strong></p> <ul> <li>DIV #4 is rendered under DIV #1 because DIV #1's z-index (5) is valid within the stacking context of the root element, while DIV #4's z-index (6) is valid within the stacking context of DIV #3. So, DIV #4 is under DIV #1, because DIV #4 belongs to DIV #3, which has a lower z-index value.</li> <li>For the same reason DIV #2 (z-index 2) is rendered under DIV#5 (z-index 1) because DIV #5 belongs to DIV #3, which has an higher z-index value.</li> <li>DIV #3's z-index is 4, but this value is independent from z-index of DIV #4, DIV #5 and DIV #6, because it belongs to a different stacking context.</li> <li>An easy way to figure out the <em>rendering order</em> of stacked elements along the Z axis is to think of it as a "version number" of sorts, where child elements are minor version numbers underneath their parent's major version numbers. This way we can easily see how an element with a z-index of 1 (DIV #5) is stacked above an element with a z-index of 2 (DIV #2), and how an element with a z-index of 6 (DIV #4) is stacked below an element with a z-index of 5 (DIV #1). In our example (sorted according to the final rendering order): <ul> <li>Root <ul> <li>DIV #2 - z-index is 2</li> <li>DIV #3 - z-index is 4 <ul> <li>DIV #5 - z-index is 1, stacked under an element with a z-index of 4, which results in a rendering order of 4.1</li> <li>DIV #6 - z-index is 3, stacked under an element with a z-index of 4, which results in a rendering order of 4.3</li> <li>DIV #4 - z-index is 6, stacked under an element with a z-index of 4, which results in a rendering order of 4.6</li> </ul> </li> <li>DIV #1 - z-index is 5</li> </ul> </li> </ul> </li> </ul> </div>
<h2 id="example">Example</h2>
<h3 id="html">HTML</h3>
<div class="code-example"><pre data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>div1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Division Element #1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">&gt;</span></span>position: relative;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
  z-index: 5;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>div2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Division Element #2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">&gt;</span></span>position: relative;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
  z-index: 2;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>div3<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>div4<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Division Element #4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">&gt;</span></span>position: relative;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
    z-index: 6;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Division Element #3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">&gt;</span></span>position: absolute;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
  z-index: 4;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>div5<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Division Element #5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">&gt;</span></span>position: relative;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
    z-index: 1;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>div6<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Division Element #6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">&gt;</span></span>position: absolute;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
    z-index: 3;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</pre></div>
<h3 id="division_element_.231">CSS</h3>
<div class="code-example"><pre data-language="css"><span class="token selector">*</span> <span class="token punctuation">{</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">html</span> <span class="token punctuation">{</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
  <span class="token property">font</span><span class="token punctuation">:</span> 12px/20px Arial<span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">div</span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 0.7<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">h1</span> <span class="token punctuation">{</span>
  <span class="token property">font</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#div1,
#div2</span> <span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px dashed #696<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #cfc<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#div1</span> <span class="token punctuation">{</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 5<span class="token punctuation">;</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 190px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#div2</span> <span class="token punctuation">{</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#div3</span> <span class="token punctuation">{</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 4<span class="token punctuation">;</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 180px<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 330px<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px dashed #900<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #fdd<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 40px 20px 20px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#div4,
#div5</span> <span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px dashed #996<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #ffc<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#div4</span> <span class="token punctuation">{</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 6<span class="token punctuation">;</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 25px 10px 5px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#div5</span> <span class="token punctuation">{</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 5px 10px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#div6</span> <span class="token punctuation">{</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 3<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 180px<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 125px<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px dashed #009<span class="token punctuation">;</span>
  <span class="token property">padding-top</span><span class="token punctuation">:</span> 125px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #ddf<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div>
<h3 id="result">Result</h3>
<p><iframe class="sample-code-frame" title="Example sample" id="frame_Example" width="100%" height="396" src="https://yari-demos.prod.mdn.mozit.cloud/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context/_sample_.Example.html" loading="lazy"></iframe></p>
<h2 id="see_also">See also</h2>
<ul> <li>
<a href="stacking_without_z-index">Stacking without the z-index property</a>: The stacking rules that apply when <code>z-index</code> is not used.</li> <li>
<a href="stacking_and_float">Stacking with floated blocks</a>: How floating elements are handled with stacking.</li> <li>
<a href="adding_z-index">Using z-index</a>: How to use <code>z-index</code> to change default stacking.</li> <li>
<a href="stacking_context_example_1">Stacking context example 1</a>: 2-level HTML hierarchy, <code>z-index</code> on the last level</li> <li>
<a href="stacking_context_example_2">Stacking context example 2</a>: 2-level HTML hierarchy, <code>z-index</code> on all levels</li> <li>
<a href="stacking_context_example_3">Stacking context example 3</a>: 3-level HTML hierarchy, <code>z-index</code> on the second level</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context" class="_attribution-link" target="_blank">https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context</a>
  </p>
</div>
