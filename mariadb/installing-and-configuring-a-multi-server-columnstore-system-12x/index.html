<h1>Installing and Configuring a Multi Server ColumnStore System - 1.2.X</h1> <div> <div class="node creole"> <div class="answer formatted">  <h2 class="anchored_heading" id="preparing-to-install">Preparing to Install</h2> <p>Review the <a href="../preparing-for-columnstore-installation-12x/index">Preparing for ColumnStore Installation 1.2.x</a> document and ensure that any necessary pre-requisites have been completed on all target servers for the ColumnStore cluster including installing the ColumnStore software packages.</p> <h2 class="anchored_heading" id="validating-pre-requisites-are-complete">Validating Pre-Requisites are Complete</h2> <p>The <a href="../mariadb-columnstore-cluster-test-tool/index">ColumnStore Cluster Tester Tool</a> can be used to verify that the target servers are are setup correctly and report specific known errors that can cause failures or timeouts in the cluster setup scripts.</p> <p>The tool should be run from the same server as the subsequent quick install and postConfigure scripts. With no arguments the script will only test the current server. Specify the other servers in the cluster using the <em>--ippaddr</em> argument to validate those servers are reachable and also configured correctly.</p> <h2 class="anchored_heading" id="mariadb-columnstore-multi-server-quick-installer">MariaDB ColumnStore Multi-Server Quick Installer</h2> <p>The script <em>quick_installer_multi_server.sh</em> provides a simple 1 step install of MariaDB ColumnStore bypassing the interactive wizard style interface and works for both root and non-root installs.</p> <p>The script has 4 parameters. </p> <ul start="1">
<li>--pm-ip-addresses=xxx.xxx.xxx.xxx,xxx.xxx.xxx.xxx : IP Addresses of PM nodes, specify current node IP as first value. </li>
<li>--um-ip-addresses=xxx.xxx.xxx.xxx,xxx.xxx.xxx.xxx : IP Addresses of other UM nodes. optional if combined node install is desired. </li>
<li>--dist-install : Optional override default to perform legacy distributed installation which also performs remote ColumnStore software installation. </li>
<li>--system-name=&lt;name&gt; : ColumnStore System Name, defaults to 'columnstore-1' </li>
</ul> <p>The script will then perform an equivalent installation to running postConfigure with the arguments: It will perform an install with these defaults:</p> <ul start="1">
<li>System-Name : Argument given or defaults to 'columnstore-1' </li>
<li>Multi-Server Install <ul start="1">
<li>if only <em>--pm-ip-addresses</em> specified then <em>combined</em> install with number of IP Addresses nodes. </li>
<li>if both <em>--pm-ip-addresses</em> and <em>--um-ip-addresses</em> specified then <em>seperate</em> install with PM IP's Performance Module Nodes and UM IP's User Module Nodes. </li>
<li>Non distributed install, i.e. ColumnStore software must be pre-installed on the other nodes. <ul start="1"><li>Legacy distributed install is used if <em>--dist-install</em> specified which will perform remote install of the ColumnStore software on other nodes. SSH Keys must be setup to allow passwordless login to the other nodes as the OS installation user. </li></ul> </li>
</ul> </li>
<li>Storage : Internal </li>
<li>DBRoot : 1 DBroot per 1 Performance Module </li>
<li>Local Query is disabled on um/pm install </li>
<li>MariaDB Replication is enabled </li>
</ul> <p>NOTE: The Multi-Server Quick Installer defaults to a Non-Distributed Install meaning the user is required to install the MariaDB ColumnStore on all nodes and starting the ColumnStore Server on all non-pm1 nodes before running the script. </p> <h3 class="anchored_heading" id="example-1-um-1-pm-deployment-as-root">Example: 1 UM 1 PM Deployment as Root</h3> <pre class="fixed" data-language="sql"># /usr/local/mariadb/columnstore/bin/quick_installer_multi_server.sh --um-ip-addresses=10.128.0.4 --pm-ip-addresses=10.128.0.3
</pre>
<h3 class="anchored_heading" id="example-2-pm-combo-non-root-distributed-install">Example : 2 PM Combo Non Root Distributed Install</h3> <pre class="fixed" data-language="sql"># /home/guest/mariadb/columnstore/bin/quick_installer_multi_server.sh --pm-ip-addresses=10.128.0.3,10.128.0.4 --dist-install
</pre>
<h2 class="anchored_heading" id="mariadb-columnstore-custom-installation">MariaDB ColumnStore Custom Installation</h2> <p>If you choose not to do the quick install and chose to customize the various options of installations using a wizard, you may use MariaDB ColumnStore postConfigure script. Please look at <a href="../custom-installation-of-multi-server-columnstore-cluster/index">Custom Installation of Multi-Server Cluster</a>.</p> </div>     </div> <div id="content_disclaimer" class="graybox"> Content reproduced on this site is the property of its respective owners, and this content is not reviewed in advance by MariaDB. The views, information and opinions expressed by this content do not necessarily represent those of MariaDB or any other party. </div> </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://mariadb.com/kb/en/installing-and-configuring-a-multi-server-columnstore-system-12x/" class="_attribution-link" target="_blank">https://mariadb.com/kb/en/installing-and-configuring-a-multi-server-columnstore-system-12x/</a>
  </p>
</div>
