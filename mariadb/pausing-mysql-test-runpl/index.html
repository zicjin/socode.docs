<h1>Pausing mysql-test-run.pl</h1> <div> <div class="node creole"> <div class="answer formatted"> <p> Sometimes you need to work when your computer is busy running <a href="../mysql-test-runpl-options/index">mysql-test-run.pl</a>. The mysql-test-run.pl script allows you to stop it temporarily so you can use your computer and then restart the tests when you're ready.</p> <p>There are two ways to enable this:</p> <ol start="1">
<li>
<strong>Command-line:</strong> The <code class="highlight fixed" style="white-space:pre-wrap">--stop-file</code> and <code class="highlight fixed" style="white-space:pre-wrap">--stop-keep-alive</code> options. </li>
<li>
<strong>Environment Variables:</strong> If you are calling mysql-test-run.pl indirectly (i.e from a script or program such as buildbot) you can set <code class="highlight fixed" style="white-space:pre-wrap">MTR_STOP_FILE</code> and <code class="highlight fixed" style="white-space:pre-wrap">MTR_STOP_KEEP_ALIVE</code>. </li>
</ol> <h3 class="anchored_heading" id="keep-alive">Keep Alive</h3> <p>If you plan on using this feature with other programs, such as buildbot, you should set the &lt;code&gt;MTR_STOP_KEEP_ALIVE&lt;/code&gt; environment variable or the &lt;code&gt;--stop-keep-alive&lt;/code&gt; command-line option with a value in seconds. This will make the script print messages to whatever program is calling mysql-test-run.pl at the interval you set to prevent timeouts. </p> <p>If you are calling mysql-test-run.pl directly, you do not need to specify a timeout.</p> <h3 class="anchored_heading" id="the-mysql-test-run-stop-file">The mysql-test-run Stop File</h3> <p>The stop file is a temporary file that you create on your system when you want to pause the execution of mysql-test-run. When enabled via the command-line or environment variable options, mysql-test-run will periodically check for the existence of the file and if it exists it will stop until the file is no longer present.</p> <h3 class="anchored_heading" id="examples">Examples</h3> <p>Command-line:</p> <pre class="fixed" data-language="sql">mysql-test-run.pl --stop-file="/path/to/stop/file" --stop-keep-alive=120
</pre>
<p>Environment Variables:</p> <pre class="fixed" data-language="sql">export MTR_STOP_FILE="/path/to/stop/file"
export MTR_STOP_KEEP_ALIVE=120
mysql-test-run.pl
</pre>
<h3 class="anchored_heading" id="fixes">Fixes</h3> <p>The following mysql-test-run bugs have been fixed in <a href="../what-is-mariadb-51/index">MariaDB 5.1</a>:</p> <ul start="1">
<li>Windows: mysql-test-run --log-error fixed to not add --console. </li>
<li>mysql-test-run sometimes terminated mysqld early, causing loss of memory leak error reports from Valgrind and GCov test coverage output</li>
</ul> </div>     </div> <div id="content_disclaimer" class="graybox"> Content reproduced on this site is the property of its respective owners, and this content is not reviewed in advance by MariaDB. The views, information and opinions expressed by this content do not necessarily represent those of MariaDB or any other party. </div> </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://mariadb.com/kb/en/pausing-mysql-test-runpl/" class="_attribution-link" target="_blank">https://mariadb.com/kb/en/pausing-mysql-test-runpl/</a>
  </p>
</div>
