<h1 id="class-Net::SMTP::Response" class="class"> class Net::SMTP::Response </h1>
<dl class="meta">
<dt>Parent:</dt>
<dd class="meta-parent"><a href="../../object">Object</a></dd>
</dl> <section class="description"> <p>This class represents a response received by the <a href="../smtp"><code>SMTP</code></a> server. Instances of this class are created by the <a href="../smtp"><code>SMTP</code></a> class; they should not be directly created by the user. For more information on <a href="../smtp"><code>SMTP</code></a> responses, view <a href="http://tools.ietf.org/html/rfc5321#section-4.2">Section 4.2 of RFC 5321</a></p> </section> <section id="5Buntitled-5D" class="documentation-section"> <section class="attribute-method-details"> <header> <h3>Attributes</h3> </header> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-status"> <span class="method-name">status</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>The three digit reply code of the <a href="../smtp"><code>SMTP</code></a> response</p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-string"> <span class="method-name">string</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>The human readable reply text of the <a href="../smtp"><code>SMTP</code></a> response</p> </div> </div> </section> <section id="public-class-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Class Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-c-new"> <span class="method-name">new</span><span class="method-args">(status, string)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="new-source"> <pre class="ruby" data-language="ruby"># File lib/net/smtp.rb, line 1038
def initialize(status, string)
  @status = status
  @string = string
end</pre> </div> <p>Creates a new instance of the <a href="response"><code>Response</code></a> class and sets the status and string attributes</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-parse"> <span class="method-name">parse</span><span class="method-args">(str)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="parse-source"> <pre class="ruby" data-language="ruby"># File lib/net/smtp.rb, line 1032
def self.parse(str)
  new(str[0,3], str)
end</pre> </div> <p>Parses the received response and separates the reply code and the human readable reply text</p>  </div> </div> </section> <section id="public-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-i-capabilities"> <span class="method-name">capabilities</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="capabilities-source"> <pre class="ruby" data-language="ruby"># File lib/net/smtp.rb, line 1081
def capabilities
  return {} unless @string[3, 1] == '-'
  h = {}
  @string.lines.drop(1).each do |line|
    k, *v = line[4..-1].split(' ')
    h[k] = v
  end
  h
end</pre> </div> <p>Returns a hash of the human readable reply text in the response if it is multiple lines. It does not return the first line. The key of the hash is the first word the value of the hash is an array with each word thereafter being a value in the array</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-continue-3F"> <span class="method-name">continue?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="continue-3F-source"> <pre class="ruby" data-language="ruby"># File lib/net/smtp.rb, line 1062
def continue?
  status_type_char() == '3'
end</pre> </div> <p>Determines whether the response received was a Positive Intermediate reply (3xx reply code)</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-cram_md5_challenge"> <span class="method-name">cram_md5_challenge</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="cram_md5_challenge-source"> <pre class="ruby" data-language="ruby"># File lib/net/smtp.rb, line 1073
def cram_md5_challenge
  @string.split(/ /)[1].unpack1('m')
end</pre> </div> <p>Creates a CRAM-MD5 challenge. You can view more information on CRAM-MD5 on Wikipedia: <a href="https://en.wikipedia.org/wiki/CRAM-MD5">en.wikipedia.org/wiki/CRAM-MD5</a></p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-exception_class"> <span class="method-name">exception_class</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="exception_class-source"> <pre class="ruby" data-language="ruby"># File lib/net/smtp.rb, line 1093
def exception_class
  case @status
  when /\A4/  then SMTPServerBusy
  when /\A50/ then SMTPSyntaxError
  when /\A53/ then SMTPAuthenticationError
  when /\A5/  then SMTPFatalError
  else             SMTPUnknownError
  end
end</pre> </div> <p>Determines whether there was an error and raises the appropriate error based on the reply code of the response</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-message"> <span class="method-name">message</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="message-source"> <pre class="ruby" data-language="ruby"># File lib/net/smtp.rb, line 1067
def message
  @string.lines.first
end</pre> </div> <p>The first line of the human readable reply text</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-status_type_char"> <span class="method-name">status_type_char</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="status_type_char-source"> <pre class="ruby" data-language="ruby"># File lib/net/smtp.rb, line 1050
def status_type_char
  @status[0, 1]
end</pre> </div> <p>Takes the first digit of the reply code to determine the status type</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-success-3F"> <span class="method-name">success?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="success-3F-source"> <pre class="ruby" data-language="ruby"># File lib/net/smtp.rb, line 1056
def success?
  status_type_char() == '2'
end</pre> </div> <p>Determines whether the response received was a Positive Completion reply (2xx reply code)</p>  </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    Ruby Core &copy; 1993&ndash;2020 Yukihiro Matsumoto<br>Licensed under the Ruby License.<br>Ruby Standard Library &copy; contributors<br>Licensed under their own licenses.<br>
    
  </p>
</div>
