<h1 id="class-Net::POPMail" class="class"> class Net::POPMail </h1>
<dl class="meta">
<dt>Parent:</dt>
<dd class="meta-parent"><a href="../object">Object</a></dd>
</dl> <section class="description"> <p>This class represents a message which exists on the POP server. Instances of this class are created by the <a href="pop3"><code>POP3</code></a> class; they should not be directly created by the user.</p> </section> <section id="5Buntitled-5D" class="documentation-section"> <section class="attribute-method-details"> <header> <h3>Attributes</h3> </header> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-length"> <span class="method-name">length</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>The length of the message in octets.</p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-number"> <span class="method-name">number</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>The sequence number of the message on the server.</p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-size"> <span class="method-name">size</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>The length of the message in octets.</p> </div> </div> </section> <section id="public-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-all"> <span class="method-name">all</span><span class="method-args">( dest = +'' )</span> </div>  <div class="aliases"> Alias for: <a href="popmail#method-i-pop">pop</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-delete"> <span class="method-name">delete</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="delete-source"> <pre class="ruby" data-language="ruby"># File lib/net/pop.rb, line 858
def delete
  @command.dele @number
  @deleted = true
end</pre> </div> <p>Marks a message for deletion on the server. Deletion does not actually occur until the end of the session; deletion may be cancelled for <em>all</em> marked messages by calling <a href="pop3#method-i-reset"><code>POP3#reset()</code></a>.</p> <p>This method raises a <a href="poperror"><code>POPError</code></a> if an error occurs.</p> <h3 id="method-i-delete-label-Example">Example</h3> <pre class="ruby" data-language="ruby">POP3.start('pop.example.com', 110,
           'YourAccount', 'YourPassword') do |pop|
  n = 1
  pop.mails.each do |popmail|
    File.open("inbox/#{n}", 'w') do |f|
      f.write popmail.pop
    end
    popmail.delete         ####
    n += 1
  end
end
</pre>  </div> <div class="aliases"> Also aliased as: <a href="popmail#method-i-delete-21">delete!</a> </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-delete-21"> <span class="method-name">delete!</span><span class="method-args">()</span> </div>  <div class="aliases"> Alias for: <a href="popmail#method-i-delete">delete</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-deleted-3F"> <span class="method-name">deleted?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="deleted-3F-source"> <pre class="ruby" data-language="ruby"># File lib/net/pop.rb, line 866
def deleted?
  @deleted
end</pre> </div> <p>True if the mail has been deleted.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-header"> <span class="method-name">header</span><span class="method-args">(dest = +'')</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="header-source"> <pre class="ruby" data-language="ruby"># File lib/net/pop.rb, line 834
def header(dest = +'')
  top(0, dest)
end</pre> </div> <p>Fetches the message header.</p> <p>The optional <code>dest</code> argument is obsolete.</p> <p>This method raises a <a href="poperror"><code>POPError</code></a> if an error occurs.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-inspect"> <span class="method-name">inspect</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="inspect-source"> <pre class="ruby" data-language="ruby"># File lib/net/pop.rb, line 760
def inspect
  +"#&lt;#{self.class} #{@number}#{@deleted ? ' deleted' : ''}&gt;"
end</pre> </div> <p>Provide human-readable stringification of class state.</p>  </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-mail"> <span class="method-name">mail</span><span class="method-args">( dest = +'' )</span> </div>  <div class="aliases"> Alias for: <a href="popmail#method-i-pop">pop</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-pop"> <span class="method-name">pop</span><span class="method-args">( dest = +'' ) { |message_chunk| ... }</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="pop-source"> <pre class="ruby" data-language="ruby"># File lib/net/pop.rb, line 802
def pop( dest = +'', &amp;block ) # :yield: message_chunk
  if block_given?
    @command.retr(@number, &amp;block)
    nil
  else
    @command.retr(@number) do |chunk|
      dest &lt;&lt; chunk
    end
    dest
  end
end</pre> </div> <p>This method fetches the message. If called with a block, the message is yielded to the block one chunk at a time. If called without a block, the message is returned as a <a href="../string"><code>String</code></a>. The optional <code>dest</code> argument will be prepended to the returned <a href="../string"><code>String</code></a>; this argument is essentially obsolete.</p> <h3 id="method-i-pop-label-Example+without+block">Example without block</h3> <pre class="ruby" data-language="ruby">POP3.start('pop.example.com', 110,
           'YourAccount', 'YourPassword') do |pop|
  n = 1
  pop.mails.each do |popmail|
    File.open("inbox/#{n}", 'w') do |f|
      f.write popmail.pop
    end
    popmail.delete
    n += 1
  end
end
</pre> <h3 id="method-i-pop-label-Example+with+block">Example with block</h3> <pre class="ruby" data-language="ruby">POP3.start('pop.example.com', 110,
           'YourAccount', 'YourPassword') do |pop|
  n = 1
  pop.mails.each do |popmail|
    File.open("inbox/#{n}", 'w') do |f|
      popmail.pop do |chunk|            ####
        f.write chunk
      end
    end
    n += 1
  end
end
</pre> <p>This method raises a <a href="poperror"><code>POPError</code></a> if an error occurs.</p>  </div> <div class="aliases"> Also aliased as: <a href="popmail#method-i-all">all</a>, <a href="popmail#method-i-mail">mail</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-top"> <span class="method-name">top</span><span class="method-args">(lines, dest = +'')</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="top-source"> <pre class="ruby" data-language="ruby"># File lib/net/pop.rb, line 822
def top(lines, dest = +'')
  @command.top(@number, lines) do |chunk|
    dest &lt;&lt; chunk
  end
  dest
end</pre> </div> <p>Fetches the message header and <code>lines</code> lines of body.</p> <p>The optional <code>dest</code> argument is obsolete.</p> <p>This method raises a <a href="poperror"><code>POPError</code></a> if an error occurs.</p>  </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-uidl"> <span class="method-name">uidl</span><span class="method-args">()</span> </div>  <div class="aliases"> Alias for: <a href="popmail#method-i-unique_id">unique_id</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-unique_id"> <span class="method-name">unique_id</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="unique_id-source"> <pre class="ruby" data-language="ruby"># File lib/net/pop.rb, line 874
def unique_id
  return @uid if @uid
  @pop.set_all_uids
  @uid
end</pre> </div> <p>Returns the unique-id of the message. Normally the unique-id is a hash string of the message.</p> <p>This method raises a <a href="poperror"><code>POPError</code></a> if an error occurs.</p>  </div> <div class="aliases"> Also aliased as: <a href="popmail#method-i-uidl">uidl</a> </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    Ruby Core &copy; 1993&ndash;2020 Yukihiro Matsumoto<br>Licensed under the Ruby License.<br>Ruby Standard Library &copy; contributors<br>Licensed under their own licenses.<br>
    
  </p>
</div>
