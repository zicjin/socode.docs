<p class="_links"><a href="../dart-io/dart-io-library" class="_links-link">dart:io</a></p> <h1>HttpResponse class  </h1>  <p>An HTTP response, which returns the headers and data from the server to the client in response to an HTTP request.</p> <p>Every HttpRequest object provides access to the associated <a href="httpresponse-class">HttpResponse</a> object through the <code>response</code> property. The server sends its response to the client by writing to the HttpResponse object.</p> <h2 id="writing-the-response">Writing the response</h2> <p>This class implements <a href="iosink-class">IOSink</a>. After the header has been set up, the methods from IOSink, such as <code>writeln()</code>, can be used to write the body of the HTTP response. Use the <code>close()</code> method to close the response and send it to the client.</p> <pre class="language-dart" data-language="dart">server.listen((HttpRequest request) {
  request.response.write('Hello, world!');
  request.response.close();
});</pre> <p>When one of the IOSink methods is used for the first time, the request header is sent. Calling any methods that change the header after it is sent throws an exception.</p> <h2 id="setting-the-headers">Setting the headers</h2> <p>The HttpResponse object has a number of properties for setting up the HTTP headers of the response. When writing string data through the IOSink, the encoding used is determined from the "charset" parameter of the "Content-Type" header.</p> <pre class="language-dart" data-language="dart">HttpResponse response = ...
response.headers.contentType
    = ContentType("application", "json", charset: "utf-8");
response.write(...);  // Strings written will be UTF-8 encoded.</pre> <p>If no charset is provided the default of ISO-8859-1 (Latin 1) will be used.</p> <pre class="language-dart" data-language="dart">HttpResponse response = ...
response.headers.add(HttpHeaders.contentTypeHeader, "text/plain");
response.write(...);  // Strings written will be ISO-8859-1 encoded.</pre> <p>An exception is thrown if you use the <code>write()</code> method while an unsupported content-type is set.</p>   <dl class="dl-horizontal"> <dt>Implemented types</dt> <dd> <ul class="comma-separated clazz-relationships"> <li><a href="iosink-class">IOSink</a></li> </ul> </dd> </dl>   <h2 id="constructors">Constructors</h2> <dl class="constructor-summary-list"> <dt id="HttpResponse"> <a href="httpresponse/httpresponse">HttpResponse</a>() </dt>  </dl>   <h2 id="instance-properties">Properties</h2> <dl> <dt id="bufferOutput"> <a href="httpresponse/bufferoutput">bufferOutput</a> ↔ <a href="../dart-core/bool-class">bool</a> <div class="features">read / write</div>
</dt> <dd> Gets or sets if the <a href="httpresponse-class">HttpResponse</a> should buffer output. <a href="httpresponse/bufferoutput">[...]</a>  </dd> <dt id="connectionInfo"> <a href="httpresponse/connectioninfo">connectionInfo</a> → <a href="httpconnectioninfo-class">HttpConnectionInfo</a>? <div class="features">read-only</div>
</dt> <dd> Gets information about the client connection. Returns <code>null</code> if the socket is not available.  </dd> <dt id="contentLength"> <a href="httpresponse/contentlength">contentLength</a> ↔ <a href="../dart-core/int-class">int</a> <div class="features">read / write</div>
</dt> <dd> Gets and sets the content length of the response. If the size of the response is not known in advance set the content length to -1, which is also the default if not set.  </dd> <dt id="cookies"> <a href="httpresponse/cookies">cookies</a> → <a href="../dart-core/list-class">List</a>&lt;<wbr><a href="cookie-class">Cookie</a>&gt;</wbr> <div class="features">read-only</div>
</dt> <dd> Cookies to set in the client (in the 'set-cookie' header).  </dd> <dt id="deadline"> <a href="httpresponse/deadline">deadline</a> ↔ <a href="../dart-core/duration-class">Duration</a>? <div class="features">read / write</div>
</dt> <dd> Set and get the <a href="httpresponse/deadline">deadline</a> for the response. The deadline is timed from the time it's set. Setting a new deadline will override any previous deadline. When a deadline is exceeded, the response will be closed and any further data ignored. <a href="httpresponse/deadline">[...]</a>  </dd> <dt id="done"> <a href="iosink/done">done</a> → <a href="../dart-async/future-class">Future</a> <div class="features">read-only, inherited</div>
</dt> <dd class="inherited"> A future that will complete when the consumer closes, or when an error occurs. <a href="iosink/done">[...]</a>  </dd> <dt id="encoding"> <a href="iosink/encoding">encoding</a> ↔ <a href="../dart-convert/encoding-class">Encoding</a> <div class="features">read / write, inherited</div>
</dt> <dd class="inherited"> The <a href="../dart-convert/encoding-class">Encoding</a> used when writing strings. <a href="iosink/encoding">[...]</a>  </dd> <dt id="hashCode"> <a href="../dart-core/object/hashcode">hashCode</a> → <a href="../dart-core/int-class">int</a> <div class="features">read-only, inherited</div>
</dt> <dd class="inherited"> The hash code for this object. <a href="../dart-core/object/hashcode">[...]</a>  </dd> <dt id="headers"> <a href="httpresponse/headers">headers</a> → <a href="httpheaders-class">HttpHeaders</a> <div class="features">read-only</div>
</dt> <dd> Returns the response headers. <a href="httpresponse/headers">[...]</a>  </dd> <dt id="persistentConnection"> <a href="httpresponse/persistentconnection">persistentConnection</a> ↔ <a href="../dart-core/bool-class">bool</a> <div class="features">read / write</div>
</dt> <dd> Gets and sets the persistent connection state. The initial value of this property is the persistent connection state from the request.  </dd> <dt id="reasonPhrase"> <a href="httpresponse/reasonphrase">reasonPhrase</a> ↔ <a href="../dart-core/string-class">String</a> <div class="features">read / write</div>
</dt> <dd> The reason phrase for the response. <a href="httpresponse/reasonphrase">[...]</a>  </dd> <dt id="runtimeType"> <a href="../dart-core/object/runtimetype">runtimeType</a> → <a href="../dart-core/type-class">Type</a> <div class="features">read-only, inherited</div>
</dt> <dd class="inherited"> A representation of the runtime type of the object.  </dd> <dt id="statusCode"> <a href="httpresponse/statuscode">statusCode</a> ↔ <a href="../dart-core/int-class">int</a> <div class="features">read / write</div>
</dt> <dd> The status code of the response. <a href="httpresponse/statuscode">[...]</a>  </dd> </dl>   <h2 id="instance-methods">Methods</h2> <dl> <dt id="add"> <a href="iosink/add">add</a>(<wbr><a href="../dart-core/list-class">List</a>&lt;<wbr><a href="../dart-core/int-class">int</a>&gt;</wbr> data) → void </wbr> <div class="features">inherited</div>
</dt> <dd class="inherited"> Adds byte <code>data</code> to the target consumer, ignoring <a href="iosink/encoding">encoding</a>. <a href="iosink/add">[...]</a>  </dd> <dt id="addError"> <a href="iosink/adderror">addError</a>(<wbr><a href="../dart-core/object-class">Object</a> error, [<a href="../dart-core/stacktrace-class">StackTrace</a>? stackTrace]) → void </wbr> <div class="features">inherited</div>
</dt> <dd class="inherited"> Passes the error to the target consumer as an error event. <a href="iosink/adderror">[...]</a>  </dd> <dt id="addStream"> <a href="iosink/addstream">addStream</a>(<wbr><a href="../dart-async/stream-class">Stream</a>&lt;<wbr><a href="../dart-core/list-class">List</a>&lt;<wbr><a href="../dart-core/int-class">int</a>&gt;</wbr>&gt;</wbr> stream) → <a href="../dart-async/future-class">Future</a> </wbr> <div class="features">inherited</div>
</dt> <dd class="inherited"> Adds all elements of the given <code>stream</code>. <a href="iosink/addstream">[...]</a>  </dd> <dt id="close"> <a href="iosink/close">close</a>(<wbr>) → <a href="../dart-async/future-class">Future</a> </wbr> <div class="features">inherited</div>
</dt> <dd class="inherited"> Close the target consumer. <a href="iosink/close">[...]</a>  </dd> <dt id="detachSocket"> <a href="httpresponse/detachsocket">detachSocket</a>(<wbr>{<a href="../dart-core/bool-class">bool</a> writeHeaders = true}) → <a href="../dart-async/future-class">Future</a>&lt;<wbr><a href="socket-class">Socket</a>&gt;</wbr> </wbr> </dt> <dd> Detaches the underlying socket from the HTTP server. When the socket is detached the HTTP server will no longer perform any operations on it. <a href="httpresponse/detachsocket">[...]</a> </dd> <dt id="flush"> <a href="iosink/flush">flush</a>(<wbr>) → <a href="../dart-async/future-class">Future</a> </wbr> <div class="features">inherited</div>
</dt> <dd class="inherited"> Returns a <a href="../dart-async/future-class">Future</a> that completes once all buffered data is accepted by the underlying <a href="../dart-async/streamconsumer-class">StreamConsumer</a>. <a href="iosink/flush">[...]</a>  </dd> <dt id="noSuchMethod"> <a href="../dart-core/object/nosuchmethod">noSuchMethod</a>(<wbr><a href="../dart-core/invocation-class">Invocation</a> invocation) → dynamic </wbr> <div class="features">inherited</div>
</dt> <dd class="inherited"> Invoked when a non-existent method or property is accessed. <a href="../dart-core/object/nosuchmethod">[...]</a>  </dd> <dt id="redirect"> <a href="httpresponse/redirect">redirect</a>(<wbr><a href="../dart-core/uri-class">Uri</a> location, {<a href="../dart-core/int-class">int</a> status = HttpStatus.movedTemporarily}) → <a href="../dart-async/future-class">Future</a> </wbr> </dt> <dd> Respond with a redirect to <code>location</code>. <a href="httpresponse/redirect">[...]</a> </dd> <dt id="toString"> <a href="../dart-core/object/tostring">toString</a>(<wbr>) → <a href="../dart-core/string-class">String</a> </wbr> <div class="features">inherited</div>
</dt> <dd class="inherited"> A string representation of this object. <a href="../dart-core/object/tostring">[...]</a>  </dd> <dt id="write"> <a href="iosink/write">write</a>(<wbr><a href="../dart-core/object-class">Object</a>? object) → void </wbr> <div class="features">inherited</div>
</dt> <dd class="inherited"> Converts <code>object</code> to a String by invoking <a href="../dart-core/object/tostring">Object.toString</a> and <a href="iosink/add">add</a>s the encoding of the result to the target consumer. <a href="iosink/write">[...]</a>  </dd> <dt id="writeAll"> <a href="iosink/writeall">writeAll</a>(<wbr><a href="../dart-core/iterable-class">Iterable</a> objects, [<a href="../dart-core/string-class">String</a> separator = ""]) → void </wbr> <div class="features">inherited</div>
</dt> <dd class="inherited"> Iterates over the given <code>objects</code> and <a href="iosink/write">write</a>s them in sequence. <a href="iosink/writeall">[...]</a>  </dd> <dt id="writeCharCode"> <a href="iosink/writecharcode">writeCharCode</a>(<wbr><a href="../dart-core/int-class">int</a> charCode) → void </wbr> <div class="features">inherited</div>
</dt> <dd class="inherited"> Writes the character of <code>charCode</code>. <a href="iosink/writecharcode">[...]</a>  </dd> <dt id="writeln"> <a href="iosink/writeln">writeln</a>(<wbr>[<a href="../dart-core/object-class">Object</a>? object = ""]) → void </wbr> <div class="features">inherited</div>
</dt> <dd class="inherited"> Converts <code>object</code> to a String by invoking <a href="../dart-core/object/tostring">Object.toString</a> and writes the result to <code>this</code>, followed by a newline. <a href="iosink/writeln">[...]</a>  </dd> </dl>   <h2 id="operators">Operators</h2> <dl> <dt id="operator =="> <a href="../dart-core/object/operator_equals">operator ==</a>(<wbr><a href="../dart-core/object-class">Object</a> other) → <a href="../dart-core/bool-class">bool</a> </wbr> <div class="features">inherited</div>
</dt> <dd class="inherited"> The equality operator. <a href="../dart-core/object/operator_equals">[...]</a>  </dd> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012 the Dart project authors<br>Licensed under the Creative Commons Attribution-ShareAlike License v4.0.<br>
    <a href="https://api.dart.dev/stable/2.15.1/dart-io/HttpResponse-class.html" class="_attribution-link">https://api.dart.dev/stable/2.15.1/dart-io/HttpResponse-class.html</a>
  </p>
</div>
