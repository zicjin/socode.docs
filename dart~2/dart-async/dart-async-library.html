<h1>dart:async library  </h1>  <p>Support for asynchronous programming, with classes such as Future and Stream.</p> <p>Understanding <a href="future-class">Future</a>s and <a href="stream-class">Stream</a>s is a prerequisite for writing just about any Dart program.</p> <p>To use this library in your code:</p> <pre class="language-dart" data-language="dart">import 'dart:async';</pre> <h2 id="future">Future</h2> <p>A Future object represents a computation whose return value might not yet be available. The Future returns the value of the computation when it completes at some time in the future. Futures are often used for potentially lengthy computations such as I/O and interaction with users.</p> <p>Many methods in the Dart libraries return Futures when performing tasks. For example, when binding an HttpServer to a host and port, the <code>bind()</code> method returns a Future.</p> <pre class="language-dart" data-language="dart">HttpServer.bind('127.0.0.1', 4444)
     .then((server) =&gt; print('${server.isBroadcast}'))
     .catchError(print);</pre> <p><a href="future/then">Future.then</a> registers a callback function that runs when the Future's operation, in this case the <code>bind()</code> method, completes successfully. The value returned by the operation is passed into the callback function. In this example, the <code>bind()</code> method returns the HttpServer object. The callback function prints one of its properties. <a href="future/catcherror">Future.catchError</a> registers a callback function that runs if an error occurs within the Future.</p> <h2 id="stream">Stream</h2> <p>A Stream provides an asynchronous sequence of data. Examples of data sequences include individual events, like mouse clicks, or sequential chunks of larger data, like multiple byte lists with the contents of a file such as mouse clicks, and a stream of byte lists read from a file. The following example opens a file for reading. <a href="stream/listen">Stream.listen</a> registers a callback function that runs each time more data is available.</p> <pre class="language-dart" data-language="dart">Stream&lt;List&lt;int&gt;&gt; stream = File('quotes.txt').openRead();
stream.transform(utf8.decoder).listen(print);</pre> <p>The stream emits a sequence of a list of bytes. The program must interpret the bytes or handle the raw byte data. Here, the code uses a UTF-8 decoder (provided in the <code>dart:convert</code> library) to convert the sequence of bytes into a sequence of Dart strings.</p> <p>Another common use of streams is for user-generated events in a web app: The following code listens for mouse clicks on a button.</p> <pre class="language-dart" data-language="dart">querySelector('#myButton').onClick.listen((_) =&gt; print('Click.'));</pre> <h2 id="other-resources">Other resources</h2> <ul> <li> <p>The <a href="https://dart.dev/guides/libraries/library-tour#dartasync---asynchronous-programming">dart:async section of the library tour</a>: A brief overview of asynchronous programming.</p> </li> <li> <p><a href="https://dart.dev/codelabs/async-await">Use Future-Based APIs</a>: A closer look at Futures and how to use them to write asynchronous Dart code.</p> </li> <li> <p><a href="https://dart.dev/guides/libraries/futures-error-handling">Futures and Error Handling</a>: Everything you wanted to know about handling errors and exceptions when working with Futures (but were afraid to ask).</p> </li> <li> <p><a href="https://dart.dev/articles/event-loop/">The Event Loop and Dart</a>: Learn how Dart handles the event queue and microtask queue, so you can write better asynchronous code with fewer surprises.</p> </li> <li> <p><a href="https://pub.dev/packages/test">test package: Asynchronous Tests</a>: How to test asynchronous code.</p> </li> </ul>   <h2 id="classes">Classes</h2> <dl> <dt id="Completer"> <a href="completer-class">Completer</a>&lt;<wbr>T&gt;</wbr> </dt> <dd> A way to produce Future objects and to complete them later with a value or error. <a href="completer-class">[...]</a> </dd> <dt id="DeferredLibrary"> <a class="deprecated" href="deferredlibrary-class">DeferredLibrary</a> </dt> <dd> Indicates that loading of <a href="deferredlibrary/libraryname">libraryName</a> is deferred. <a href="deferredlibrary-class">[...]</a> </dd> <dt id="EventSink"> <a href="eventsink-class">EventSink</a>&lt;<wbr>T&gt;</wbr> </dt> <dd> A <a href="../dart-core/sink-class">Sink</a> that supports adding errors. <a href="eventsink-class">[...]</a> </dd> <dt id="Future"> <a href="future-class">Future</a>&lt;<wbr>T&gt;</wbr> </dt> <dd> An object representing a delayed computation. <a href="future-class">[...]</a> </dd> <dt id="FutureOr"> <a href="futureor-class">FutureOr</a>&lt;<wbr>T&gt;</wbr> </dt> <dd> A type representing values that are either <code>Future&lt;T&gt;</code> or <code>T</code>. <a href="futureor-class">[...]</a> </dd> <dt id="MultiStreamController"> <a href="multistreamcontroller-class">MultiStreamController</a>&lt;<wbr>T&gt;</wbr> </dt> <dd> An enhanced stream controller provided by <a href="stream/stream.multi">Stream.multi</a>. <a href="multistreamcontroller-class">[...]</a> </dd> <dt id="Stream"> <a href="stream-class">Stream</a>&lt;<wbr>T&gt;</wbr> </dt> <dd> A source of asynchronous data events. <a href="stream-class">[...]</a> </dd> <dt id="StreamConsumer"> <a href="streamconsumer-class">StreamConsumer</a>&lt;<wbr>S&gt;</wbr> </dt> <dd> Abstract interface for a "sink" accepting multiple entire streams. <a href="streamconsumer-class">[...]</a> </dd> <dt id="StreamController"> <a href="streamcontroller-class">StreamController</a>&lt;<wbr>T&gt;</wbr> </dt> <dd> A controller with the stream it controls. <a href="streamcontroller-class">[...]</a> </dd> <dt id="StreamIterator"> <a href="streamiterator-class">StreamIterator</a>&lt;<wbr>T&gt;</wbr> </dt> <dd> An <a href="../dart-core/iterator-class">Iterator</a>-like interface for the values of a <a href="stream-class">Stream</a>. <a href="streamiterator-class">[...]</a> </dd> <dt id="StreamSink"> <a href="streamsink-class">StreamSink</a>&lt;<wbr>S&gt;</wbr> </dt> <dd> A object that accepts stream events both synchronously and asynchronously. <a href="streamsink-class">[...]</a> </dd> <dt id="StreamSubscription"> <a href="streamsubscription-class">StreamSubscription</a>&lt;<wbr>T&gt;</wbr> </dt> <dd> A subscription on events from a <a href="stream-class">Stream</a>. <a href="streamsubscription-class">[...]</a> </dd> <dt id="StreamTransformer"> <a href="streamtransformer-class">StreamTransformer</a>&lt;<wbr>S, T&gt;</wbr> </dt> <dd> Transforms a Stream. <a href="streamtransformer-class">[...]</a> </dd> <dt id="StreamTransformerBase"> <a href="streamtransformerbase-class">StreamTransformerBase</a>&lt;<wbr>S, T&gt;</wbr> </dt> <dd> Base class for implementing <a href="streamtransformer-class">StreamTransformer</a>. <a href="streamtransformerbase-class">[...]</a> </dd> <dt id="StreamView"> <a href="streamview-class">StreamView</a>&lt;<wbr>T&gt;</wbr> </dt> <dd> <a href="stream-class">Stream</a> wrapper that only exposes the <a href="stream-class">Stream</a> interface. </dd> <dt id="SynchronousStreamController"> <a href="synchronousstreamcontroller-class">SynchronousStreamController</a>&lt;<wbr>T&gt;</wbr> </dt> <dd> A stream controller that delivers its events synchronously. <a href="synchronousstreamcontroller-class">[...]</a> </dd> <dt id="Timer"> <a href="timer-class">Timer</a> </dt> <dd> A count-down timer that can be configured to fire once or repeatedly. <a href="timer-class">[...]</a> </dd> <dt id="Zone"> <a href="zone-class">Zone</a> </dt> <dd> A zone represents an environment that remains stable across asynchronous calls. <a href="zone-class">[...]</a> </dd> <dt id="ZoneDelegate"> <a href="zonedelegate-class">ZoneDelegate</a> </dt> <dd> An adapted view of the parent zone. <a href="zonedelegate-class">[...]</a> </dd> <dt id="ZoneSpecification"> <a href="zonespecification-class">ZoneSpecification</a> </dt> <dd> A parameter object with custom zone function handlers for <a href="zone/fork">Zone.fork</a>. <a href="zonespecification-class">[...]</a> </dd> </dl>   <h2 id="extensions">Extensions</h2> <dl> <dt id="FutureExtensions"> <a href="futureextensions">FutureExtensions</a> </dt> <dd> Convenience methods on futures. <a href="futureextensions">[...]</a> </dd> </dl>   <h2 id="functions">Functions</h2> <dl> <dt id="runZoned"> <a href="runzoned">runZoned</a>&lt;<wbr>R&gt;</wbr>(<wbr>R body(), {<a href="../dart-core/map-class">Map</a>&lt;<wbr><a href="../dart-core/object-class">Object</a>?, <a href="../dart-core/object-class">Object</a>?&gt;</wbr>? zoneValues, <a href="zonespecification-class">ZoneSpecification</a>? zoneSpecification, <a href="../dart-core/function-class">Function</a>? onError}) → R </wbr> </dt> <dd> Runs <code>body</code> in its own zone. <a href="runzoned">[...]</a> </dd> <dt id="runZonedGuarded"> <a href="runzonedguarded">runZonedGuarded</a>&lt;<wbr>R&gt;</wbr>(<wbr>R body(), void onError(<a href="../dart-core/object-class">Object</a> error, <a href="../dart-core/stacktrace-class">StackTrace</a> stack), {<a href="../dart-core/map-class">Map</a>&lt;<wbr><a href="../dart-core/object-class">Object</a>?, <a href="../dart-core/object-class">Object</a>?&gt;</wbr>? zoneValues, <a href="zonespecification-class">ZoneSpecification</a>? zoneSpecification}) → R? </wbr> <div class="features">@Since("2.8")</div>
</dt> <dd> Runs <code>body</code> in its own error zone. <a href="runzonedguarded">[...]</a>  </dd> <dt id="scheduleMicrotask"> <a href="schedulemicrotask">scheduleMicrotask</a>(<wbr>void callback()) → void </wbr> </dt> <dd> Runs a function asynchronously. <a href="schedulemicrotask">[...]</a> </dd> </dl>   <h2 id="typedefs">Typedefs</h2> <dl> <dt id="ControllerCallback"> <a href="controllercallback">ControllerCallback</a>(<wbr>) → void </wbr> </dt> <dd> Type of a stream controller's <code>onListen</code>, <code>onPause</code> and <code>onResume</code> callbacks. </dd> <dt id="ControllerCancelCallback"> <a href="controllercancelcallback">ControllerCancelCallback</a>(<wbr>) → <a href="futureor-class">FutureOr</a>&lt;<wbr>void&gt;</wbr> </wbr> </dt> <dd> Type of stream controller <code>onCancel</code> callbacks. </dd> <dt id="CreatePeriodicTimerHandler"> <a href="createperiodictimerhandler">CreatePeriodicTimerHandler</a>(<wbr><a href="zone-class">Zone</a> self, <a href="zonedelegate-class">ZoneDelegate</a> parent, <a href="zone-class">Zone</a> zone, <a href="../dart-core/duration-class">Duration</a> period, void f(<a href="timer-class">Timer</a> timer)) → <a href="timer-class">Timer</a> </wbr> </dt> <dd> The type of a custom <a href="zone/createperiodictimer">Zone.createPeriodicTimer</a> implementation function. <a href="createperiodictimerhandler">[...]</a> </dd> <dt id="CreateTimerHandler"> <a href="createtimerhandler">CreateTimerHandler</a>(<wbr><a href="zone-class">Zone</a> self, <a href="zonedelegate-class">ZoneDelegate</a> parent, <a href="zone-class">Zone</a> zone, <a href="../dart-core/duration-class">Duration</a> duration, void f()) → <a href="timer-class">Timer</a> </wbr> </dt> <dd> The type of a custom <a href="zone/createtimer">Zone.createTimer</a> implementation function. <a href="createtimerhandler">[...]</a> </dd> <dt id="ErrorCallbackHandler"> <a href="errorcallbackhandler">ErrorCallbackHandler</a>(<wbr><a href="zone-class">Zone</a> self, <a href="zonedelegate-class">ZoneDelegate</a> parent, <a href="zone-class">Zone</a> zone, <a href="../dart-core/object-class">Object</a> error, <a href="../dart-core/stacktrace-class">StackTrace</a>? stackTrace) → <a href="asyncerror-class">AsyncError</a>? </wbr> </dt> <dd> The type of a custom <a href="zone/errorcallback">Zone.errorCallback</a> implementation function. <a href="errorcallbackhandler">[...]</a> </dd> <dt id="ForkHandler"> <a href="forkhandler">ForkHandler</a>(<wbr><a href="zone-class">Zone</a> self, <a href="zonedelegate-class">ZoneDelegate</a> parent, <a href="zone-class">Zone</a> zone, <a href="zonespecification-class">ZoneSpecification</a>? specification, <a href="../dart-core/map-class">Map</a>&lt;<wbr><a href="../dart-core/object-class">Object</a>?, <a href="../dart-core/object-class">Object</a>?&gt;</wbr>? zoneValues) → <a href="zone-class">Zone</a> </wbr> </dt> <dd> The type of a custom <a href="zone/fork">Zone.fork</a> implementation function. <a href="forkhandler">[...]</a> </dd> <dt id="HandleUncaughtErrorHandler"> <a href="handleuncaughterrorhandler">HandleUncaughtErrorHandler</a>(<wbr><a href="zone-class">Zone</a> self, <a href="zonedelegate-class">ZoneDelegate</a> parent, <a href="zone-class">Zone</a> zone, <a href="../dart-core/object-class">Object</a> error, <a href="../dart-core/stacktrace-class">StackTrace</a> stackTrace) → void </wbr> </dt> <dd> The type of a custom <a href="zone/handleuncaughterror">Zone.handleUncaughtError</a> implementation function. <a href="handleuncaughterrorhandler">[...]</a> </dd> <dt id="PrintHandler"> <a href="printhandler">PrintHandler</a>(<wbr><a href="zone-class">Zone</a> self, <a href="zonedelegate-class">ZoneDelegate</a> parent, <a href="zone-class">Zone</a> zone, <a href="../dart-core/string-class">String</a> line) → void </wbr> </dt> <dd> The type of a custom <a href="zone/print">Zone.print</a> implementation function. <a href="printhandler">[...]</a> </dd> <dt id="RegisterBinaryCallbackHandler"> <a href="registerbinarycallbackhandler">RegisterBinaryCallbackHandler</a>(<wbr><a href="zone-class">Zone</a> self, <a href="zonedelegate-class">ZoneDelegate</a> parent, <a href="zone-class">Zone</a> zone, R f(T1 arg1, T2 arg2)) → <a href="zonebinarycallback">ZoneBinaryCallback</a>&lt;<wbr>R, T1, T2&gt;</wbr> </wbr> </dt> <dd> The type of a custom <code>Zone.registerBinary</code> implementation function. <a href="registerbinarycallbackhandler">[...]</a> </dd> <dt id="RegisterCallbackHandler"> <a href="registercallbackhandler">RegisterCallbackHandler</a>(<wbr><a href="zone-class">Zone</a> self, <a href="zonedelegate-class">ZoneDelegate</a> parent, <a href="zone-class">Zone</a> zone, R f()) → <a href="zonecallback">ZoneCallback</a>&lt;<wbr>R&gt;</wbr> </wbr> </dt> <dd> The type of a custom <a href="zone/registercallback">Zone.registerCallback</a> implementation function. <a href="registercallbackhandler">[...]</a> </dd> <dt id="RegisterUnaryCallbackHandler"> <a href="registerunarycallbackhandler">RegisterUnaryCallbackHandler</a>(<wbr><a href="zone-class">Zone</a> self, <a href="zonedelegate-class">ZoneDelegate</a> parent, <a href="zone-class">Zone</a> zone, R f(T arg)) → <a href="zoneunarycallback">ZoneUnaryCallback</a>&lt;<wbr>R, T&gt;</wbr> </wbr> </dt> <dd> The type of a custom <code>Zone.registerUnary</code> implementation function. <a href="registerunarycallbackhandler">[...]</a> </dd> <dt id="RunBinaryHandler"> <a href="runbinaryhandler">RunBinaryHandler</a>(<wbr><a href="zone-class">Zone</a> self, <a href="zonedelegate-class">ZoneDelegate</a> parent, <a href="zone-class">Zone</a> zone, R f(T1 arg1, T2 arg2), T1 arg1, T2 arg2) → R </wbr> </dt> <dd> The type of a custom <a href="zone/runbinary">Zone.runBinary</a> implementation function. <a href="runbinaryhandler">[...]</a> </dd> <dt id="RunHandler"> <a href="runhandler">RunHandler</a>(<wbr><a href="zone-class">Zone</a> self, <a href="zonedelegate-class">ZoneDelegate</a> parent, <a href="zone-class">Zone</a> zone, R f()) → R </wbr> </dt> <dd> The type of a custom <a href="zone/run">Zone.run</a> implementation function. <a href="runhandler">[...]</a> </dd> <dt id="RunUnaryHandler"> <a href="rununaryhandler">RunUnaryHandler</a>(<wbr><a href="zone-class">Zone</a> self, <a href="zonedelegate-class">ZoneDelegate</a> parent, <a href="zone-class">Zone</a> zone, R f(T arg), T arg) → R </wbr> </dt> <dd> The type of a custom <a href="zone/rununary">Zone.runUnary</a> implementation function. <a href="rununaryhandler">[...]</a> </dd> <dt id="ScheduleMicrotaskHandler"> <a href="schedulemicrotaskhandler">ScheduleMicrotaskHandler</a>(<wbr><a href="zone-class">Zone</a> self, <a href="zonedelegate-class">ZoneDelegate</a> parent, <a href="zone-class">Zone</a> zone, void f()) → void </wbr> </dt> <dd> The type of a custom <a href="zone/schedulemicrotask">Zone.scheduleMicrotask</a> implementation function. <a href="schedulemicrotaskhandler">[...]</a> </dd> <dt id="ZoneBinaryCallback"> <a href="zonebinarycallback">ZoneBinaryCallback</a>&lt;<wbr>R, T1, T2&gt;</wbr>(<wbr>T1 arg1, T2 arg2) → R </wbr> </dt>  <dt id="ZoneCallback"> <a href="zonecallback">ZoneCallback</a>&lt;<wbr>R&gt;</wbr>(<wbr>) → R </wbr> </dt>  <dt id="ZoneUnaryCallback"> <a href="zoneunarycallback">ZoneUnaryCallback</a>&lt;<wbr>R, T&gt;</wbr>(<wbr>T arg) → R </wbr> </dt>  </dl>   <h2 id="exceptions">Exceptions / Errors</h2> <dl> <dt id="AsyncError"> <a href="asyncerror-class">AsyncError</a> </dt> <dd> An error and a stack trace. <a href="asyncerror-class">[...]</a> </dd> <dt id="DeferredLoadException"> <a href="deferredloadexception-class">DeferredLoadException</a> </dt> <dd> Thrown when a deferred library fails to load. </dd> <dt id="TimeoutException"> <a href="timeoutexception-class">TimeoutException</a> </dt> <dd> Thrown when a scheduled timeout happens while waiting for an async result. </dd> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012 the Dart project authors<br>Licensed under the Creative Commons Attribution-ShareAlike License v4.0.<br>
    <a href="https://api.dart.dev/stable/2.13.0/dart-async/dart-async-library.html" class="_attribution-link">https://api.dart.dev/stable/2.13.0/dart-async/dart-async-library.html</a>
  </p>
</div>
