<h1 class="devsite-page-title">tf.keras.layers.experimental.preprocessing.Normalization</h1>       <p>Feature-wise normalization of the data.</p> <p>Inherits From: <a href="preprocessinglayer"><code translate="no" dir="ltr">PreprocessingLayer</code></a>, <a href="../../layer"><code translate="no" dir="ltr">Layer</code></a>, <a href="../../../../module"><code translate="no" dir="ltr">Module</code></a></p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
tf.keras.layers.experimental.preprocessing.Normalization(
    axis=-1, dtype=None, mean=None, variance=None, **kwargs
)
</pre>  <p>This layer will coerce its inputs into a distribution centered around 0 with standard deviation 1. It accomplishes this by precomputing the mean and variance of the data, and calling (input-mean)/sqrt(var) at runtime.</p> <p>What happens in <code translate="no" dir="ltr">adapt</code>: Compute mean and variance of the data and store them as the layer's weights. <code translate="no" dir="ltr">adapt</code> should be called before <code translate="no" dir="ltr">fit</code>, <code translate="no" dir="ltr">evaluate</code>, or <code translate="no" dir="ltr">predict</code>.</p> <h4 id="examples" data-text="Examples:">Examples:</h4> <p>Calculate the mean and variance by analyzing the dataset in <code translate="no" dir="ltr">adapt</code>.</p> <pre class="devsite-click-to-copy prettyprint lang-py" translate="no" dir="ltr" data-language="cpp">
adapt_data = np.array([[1.], [2.], [3.], [4.], [5.]], dtype=np.float32)
input_data = np.array([[1.], [2.], [3.]], np.float32)
layer = Normalization()
layer.adapt(adapt_data)
layer(input_data)
&lt;tf.Tensor: shape=(3, 1), dtype=float32, numpy=
array([[-1.4142135 ],
       [-0.70710677],
       [ 0.        ]], dtype=float32)&gt;
</pre> <p>Pass the mean and variance directly.</p> <pre class="devsite-click-to-copy prettyprint lang-py" translate="no" dir="ltr" data-language="cpp">
input_data = np.array([[1.], [2.], [3.]], np.float32)
layer = Normalization(mean=3., variance=2.)
layer(input_data)
&lt;tf.Tensor: shape=(3, 1), dtype=float32, numpy=
array([[-1.4142135 ],
       [-0.70710677],
       [ 0.        ]], dtype=float32)&gt;
</pre>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Attributes</th></tr> 
<tr> <td> <code translate="no" dir="ltr">axis</code> </td> <td> Integer or tuple of integers, the axis or axes that should be "kept". These axes are not be summed over when calculating the normalization statistics. By default the last axis, the <code translate="no" dir="ltr">features</code> axis is kept and any <code translate="no" dir="ltr">space</code> or <code translate="no" dir="ltr">time</code> axes are summed. Each element in the the axes that are kept is normalized independently. If <code translate="no" dir="ltr">axis</code> is set to 'None', the layer will perform scalar normalization (dividing the input by a single scalar value). The <code translate="no" dir="ltr">batch</code> axis, 0, is always summed over (<code translate="no" dir="ltr">axis=0</code> is not allowed). </td> </tr>
<tr> <td> <code translate="no" dir="ltr">mean</code> </td> <td> The mean value(s) to use during normalization. The passed value(s) will be broadcast to the shape of the kept axes above; if the value(s) cannot be broadcast, an error will be raised when this layer's build() method is called. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">variance</code> </td> <td> The variance value(s) to use during normalization. The passed value(s) will be broadcast to the shape of the kept axes above; if the value(s)cannot be broadcast, an error will be raised when this layer's build() method is called. </td> </tr> </table> <h2 id="methods" data-text="Methods">Methods</h2> <h3 id="adapt" data-text="adapt"><code translate="no" dir="ltr">adapt</code></h3> <p><a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/v2.4.0/tensorflow/python/keras/engine/base_preprocessing_layer.py#L136-L222">View source</a></p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
adapt(
    data, reset_state=True
)
</pre> <p>Fits the state of the preprocessing layer to the data being passed.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Arguments</th></tr> 
<tr> <td> <code translate="no" dir="ltr">data</code> </td> <td> The data to train on. It can be passed either as a tf.data Dataset, or as a numpy array. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">reset_state</code> </td> <td> Optional argument specifying whether to clear the state of the layer at the start of the call to <code translate="no" dir="ltr">adapt</code>, or whether to start from the existing state. Subclasses may choose to throw if reset_state is set to 'False'. </td> </tr> </table>  <devsite-thumb-rating position="footer"> </devsite-thumb-rating><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://www.tensorflow.org/versions/r2.4/api_docs/python/tf/keras/layers/experimental/preprocessing/Normalization" class="_attribution-link" target="_blank">https://www.tensorflow.org/versions/r2.4/api_docs/python/tf/keras/layers/experimental/preprocessing/Normalization</a>
  </p>
</div>
