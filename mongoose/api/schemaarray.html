<a class="edit-docs-link" href="https://github.com/Automattic/mongoose/blob/master/lib/schema/array.js" target="_blank"> <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCAxMDAwIDEwMDAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDEwMDAgMTAwMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Zz48ZyB0cmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAtMSAwIDQ4MCkiPjxwYXRoIHN0cm9rZT0iIzA5NzFCMiIgZmlsbD0iIzA5NzFCMiIgZD0iTTkzMC45LDQyMC41Yy0zMy4xLDMxLjgtNjkuMyw0Ny43LTEwOC43LDQ3LjdjLTQ0LjUsMC04My45LTE3LjItMTE4LjItNTEuNUw5OS40LTE4NS45Yy0zLjgtMy44LTYuNC04LjktNy42LTE1LjNjLTIuNS04LjktMjkuMi05Ny45LTgwLjEtMjY3Yy0zLjgtMTIuNy0xLjMtMjMuNSw3LjYtMzIuNGM2LjQtNS4xLDE0LTcuNiwyMi45LTcuNmg5LjVjMTMyLjIsNDQuNSwyMTkuOSw3My4xLDI2My4yLDg1LjhjMy44LDEuMyw3LjYsMy44LDExLjQsNy42YzM3NSwzNzAsNTc3LjIsNTcwLjIsNjA2LjQsNjAwLjdjMzguMSwzOS40LDU3LjIsNzkuNSw1Ny4yLDEyMC4xQzk4OC43LDM0Ni44LDk2OSwzODQuOSw5MzAuOSw0MjAuNXogTTY5NC40LDMxOS40YzMxLjgtNy42LDYxLjctMjUuNCw4OS42LTUzLjRjMjYuNy0yNi43LDQzLjItNTcuMiw0OS42LTkxLjVDNzQ3LjIsODguMSw1NzguNy03OS4xLDMyOC4zLTMyN2MtMTIuNywzMC41LTI5LjksNTYuNi01MS41LDc4LjJjLTI2LjcsMjYuNy01Ni42LDQ3LTg5LjYsNjFMMzMyLjEtNDIuOWwyMTAuNywyMTAuN0w2OTQuNCwzMTkuNHogTTE0NS4yLTIzOS4zYzMxLjgtNy42LDYxLTI1LjQsODcuNy01My40YzIxLjYtMjEuNiwzNi45LTQ3LDQ1LjgtNzYuM2MtMTIuNy0zLjgtNDIuOS0xNC05MC42LTMwLjVjLTQ3LjctMTYuNS04Mi4zLTI4LTEwMy45LTM0LjNjNi40LDE5LjEsMTYuOCw1Mi4xLDMxLjUsOTkuMkMxMzAuMy0yODcuNiwxNDAuMS0yNTUuOCwxNDUuMi0yMzkuM3ogTTg4OC45LDIyOS44bC01LjctNS43Yy0xMi43LDMzLjEtMzEuMSw2MS43LTU1LjMsODUuOEM4MDIuNSwzMzUuMyw3NzQuNSwzNTUsNzQ0LDM2OWwxLjksMS45bDEuOSwxLjljMjIuOSwyMi45LDQ3LjcsMzQuMyw3NC40LDM0LjNjMjIuOSwwLDQ1LjEtMTAuOCw2Ni43LTMyLjRjMjUuNC0yNC4yLDM4LjEtNDcuNywzOC4xLTcwLjZTOTE0LjQsMjU2LjUsODg4LjksMjI5Ljh6Ii8+PC9nPjwvZz4NCjwvc3ZnPg=="> </a><h1>SchemaArray</h1>

<div class="api-content">
<h3 id="schemaarray_SchemaArray">SchemaArray()</h3>
<h5>Parameters</h5>
<ul class="params">
<li class="param">key <span class="method-type">«String»</span> </li>
<li class="param">cast <span class="method-type">«SchemaType»</span> </li>
<li class="param">options <span class="method-type">«Object»</span> </li>
</ul>
<h5>Inherits:</h5>
<ul><li><span class="method-type">«SchemaType»</span></li></ul>
<div>
<p>Array SchemaType constructor</p> </div>
<h3 id="schemaarray_SchemaArray.checkRequired">SchemaArray.checkRequired()</h3>
<h5>Parameters</h5>
<ul class="params"><li class="param">fn <span class="method-type">«Function»</span> </li></ul>
<h5>Returns:</h5>
<ul><li>
<span class="method-type">«Function»</span> </li></ul>
<div>
<p>Override the function the required validator uses to check whether an array passes the <code>required</code> check.</p> <h4>Example:</h4> <pre data-language="javascript"><span class="hljs-comment">// Require non-empty array to pass `required` check</span>
mongoose.Schema.Types.Array.checkRequired(<span class="hljs-function"><span class="hljs-params">v</span> =&gt;</span> <span class="hljs-built_in">Array</span>.isArray(v) &amp;amp;&amp;amp; v.length);

<span class="hljs-keyword">const</span> M = mongoose.model({ <span class="hljs-attr">arr</span>: { <span class="hljs-attr">type</span>: <span class="hljs-built_in">Array</span>, <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span> } });
<span class="hljs-keyword">new</span> M({ <span class="hljs-attr">arr</span>: [] }).validateSync(); <span class="hljs-comment">// `null`, validation fails!</span></pre> </div>
<h3 id="schemaarray_SchemaArray.options">SchemaArray.options</h3>
<h5>Type:</h5>
<ul><li><span class="method-type">«property»</span></li></ul>
<div>
<p>Options for all arrays.</p> <ul> <li>
<code>castNonArrays</code>: <code>true</code> by default. If <code>false</code>, Mongoose will throw a CastError when a value isn't an array. If <code>true</code>, Mongoose will wrap the provided value in an array before casting.</li> </ul> </div>
<h3 id="schemaarray_SchemaArray-checkRequired">SchemaArray.prototype.checkRequired()</h3>
<h5>Parameters</h5>
<ul class="params">
<li class="param">value <span class="method-type">«Any»</span> </li>
<li class="param">doc <span class="method-type">«Document»</span> </li>
</ul>
<h5>Returns:</h5>
<ul><li>
<span class="method-type">«Boolean»</span> </li></ul>
<div>
<p>Check if the given value satisfies the <code>required</code> validator.</p> </div>
<h3 id="schemaarray_SchemaArray-enum">SchemaArray.prototype.enum()</h3>
<h5>Parameters</h5>

<h5>Returns:</h5>
<ul><li>
<span class="method-type">«SchemaArray»</span> this </li></ul>
<div>
<p>Adds an enum validator if this is an array of strings or numbers. Equivalent to <code>SchemaString.prototype.enum()</code> or <code>SchemaNumber.prototype.enum()</code></p> </div>
<h3 id="schemaarray_SchemaArray.schemaName">SchemaArray.schemaName</h3>
<h5>Type:</h5>
<ul><li><span class="method-type">«property»</span></li></ul>
<div>
<p>This schema type's name, to defend against minifiers that mangle function names.</p> </div>
<h3 id="schemaarray_SchemaArray.set">SchemaArray.set()</h3>
<h5>Parameters</h5>
<ul class="params">
<li class="param">option <span class="method-type">«String»</span> <ul> <li>The option you'd like to set the value for</li> </ul> </li>
<li class="param">value <span class="method-type">«*»</span> <ul> <li>value for option</li> </ul> </li>
</ul>
<h5>Returns:</h5>
<ul><li>
<span class="method-type">«undefined»</span> </li></ul>
<div>
<p>Sets a default option for all Array instances.</p> <h4>Example:</h4> <pre data-language="javascript"><span class="hljs-comment">// Make all Array instances have `required` of true by default.</span>
mongoose.Schema.Array.set(<span class="hljs-string">'required'</span>, <span class="hljs-literal">true</span>);

<span class="hljs-keyword">const</span> User = mongoose.model(<span class="hljs-string">'User'</span>, <span class="hljs-keyword">new</span> Schema({ <span class="hljs-attr">test</span>: <span class="hljs-built_in">Array</span> }));
<span class="hljs-keyword">new</span> User({ }).validateSync().errors.test.message; <span class="hljs-comment">// Path `test` is required.</span></pre> </div>
</div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://mongoosejs.com/docs/api/schemaarray.html" class="_attribution-link" target="_blank">https://mongoosejs.com/docs/api/schemaarray.html</a>
  </p>
</div>
