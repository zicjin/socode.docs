   <h1 id="firstHeading" class="firstHeading">alignas</h1>            <p>Appears in the <a href="declarations" title="c/language/declarations">declaration</a> syntax as one of the type specifiers to modify the <a href="object#Alignment" title="c/language/object">alignment requirement</a> of the object being declared.</p>
<h3 id="Syntax">Syntax</h3> <table class="t-sdsc-begin">  <tr class="t-sdsc"> <td> <code>_Alignas</code> <code>(</code> <span class="t-spar">expression</span> <code>)</code> </td> <td> (1) </td> <td> <span class="t-mark-rev t-since-c11">(since C11)</span> </td>
</tr>  <tr class="t-sdsc"> <td> <code>_Alignas</code> <code>(</code> <span class="t-spar">type</span> <code>)</code> </td> <td> (2) </td> <td> <span class="t-mark-rev t-since-c11">(since C11)</span> </td>
</tr> 
</table> <table class="t-par-begin"> <tr class="t-par"> <td> <span class="t-spar">expression</span> </td> <td> - </td> <td> any <a href="constant_expression" title="c/language/constant expression">integer constant expression</a> whose value is a valid <a href="object#Alignment" title="c/language/object">alignment</a> or zero </td>
</tr> <tr class="t-par"> <td> <span class="t-spar">type</span> </td> <td> - </td> <td> any <a href="compatible_type#Type_names" title="c/language/type">type name</a> </td>
</tr>
</table> <p>This keyword is also available as convenience macro <a href="../types" title="c/types"><code>alignas</code></a>, available in the header <code>&lt;stdalign.h&gt;</code>.</p>
<h3 id="Explanation">Explanation</h3> <p>The alignas specifier can only be used when declaring objects that aren't <a href="bit_field" title="c/language/bit field">bit fields</a>, and don't have the <a href="storage_duration" title="c/language/storage duration">register</a> storage class. It cannot be used in function parameter declarations, and cannot be used in a typedef.</p>
<p>When used in a declaration, the declared object will have its <a href="object#Alignment" title="c/language/object">alignment requirement</a> set to.</p>
<div class="t-li1">
<span class="t-li">1)</span> the result of the <span class="t-spar">expression</span>, unless it is zero</div> <div class="t-li1">
<span class="t-li">2)</span> to the alignment requirement of <span class="t-spar">type</span>, that is, to <code>alignof(type)</code>
</div> <p>except when this would weaken the alignment the type would have had naturally.</p>
<p>If <span class="t-spar">expression</span> evaluates to zero, this specifier has no effect.</p>
<p>When multiple alignas specifiers appear in the same declaration, the strictest one is used.</p>
<p>Alignas specifier only needs to appear on the <a href="declarations#Definitions" title="c/language/declarations">definition</a> of an object, but if any declaration uses alignas, it must specify the same alignment as the alignas on the definition. The behavior is undefined if different translation units specify different alignments for the same object.</p>
<h3 id="Notes">Notes</h3> <p>As initially published, C11 does not allow alignas specifiers in structure and union members; this was corrected by DR 444.</p>
<p>In C++, the <code>alignas</code> specifier may also be applied to the declarations of class/struct/union types and enumerations. This is not supported in C, but the alignment of a struct type can be controlled by using alignas in a member declaration (as of DR 444).</p>
<h3 id="Keywords">Keywords</h3> <p><a href="../keyword/_alignas" title="c/keyword/ Alignas"><code>_Alignas</code></a>.</p>
<h3 id="Example">Example</h3> <div class="t-example"> <div class="c source-c"><pre data-language="c">#include &lt;stdalign.h&gt;
#include &lt;stdio.h&gt;
// every object of type struct sse_t will be aligned to 16-byte boundary
// (note: needs support for DR 444)
struct sse_t
{
  alignas(16) float sse_data[4];
};
 
// every object of type struct data will be aligned to 128-byte boundary
struct data {
  char x;
  alignas(128) char cacheline[128]; // over-aligned array of char, 
                                    // not array of over-aligned chars
};
 
int main(void)
{
    printf("sizeof(data) = %zu (1 byte + 127 bytes padding + 128-byte array)\n",
           sizeof(struct data));
 
    printf("alignment of sse_t is %zu\n", alignof(struct sse_t));
 
    alignas(2048) struct data d; // this instance of data is aligned even stricter
}</pre></div> <p>Output:</p>
<div class="text source-text"><pre data-language="c">sizeof(data) = 256 (1 byte + 127 bytes padding + 128-byte array)
alignment of sse_t is 16</pre></div> </div> <h3 id="References">References</h3>  <ul>
<li> C11 standard (ISO/IEC 9899:2011): </li>
<ul>
<li> 6.7.5 Alignment specifier </li>
<li> 6.2.8 Alignment of objects (p: 48-49) </li>
<li> 7.15 Alignment &lt;stdalign.h&gt; (p: 268) </li>
</ul>
</ul>     <h3 id="See_also">See also</h3>           <div class="_attribution">
  <p class="_attribution-p">
    &copy; cppreference.com<br>Licensed under the Creative Commons Attribution-ShareAlike Unported License v3.0.<br>
    <a href="http://en.cppreference.com/w/c/language/alignas" class="_attribution-link">http://en.cppreference.com/w/c/language/alignas</a>
  </p>
</div>
