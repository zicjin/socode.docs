<h1> Phoenix.LiveView.Helpers   </h1> <section id="moduledoc"> <p>A collection of helpers to be imported into your views.</p> </section> <section id="summary" class="details-list"> <h1 class="section-heading">  Summary </h1> <h2> Functions </h2>
<dl class="summary-functions summary">  <div class="summary-row"> <dt class="summary-signature"> <a href="#component/3">component(func, assigns \\ [], do_block \\ [])</a> </dt> <dd class="summary-synopsis"><p>Renders a component defined by the given function.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#live_component/3">live_component(component, assigns \\ [], do_block \\ [])</a> </dt> <dd class="summary-synopsis"><p>Renders a <a href="phoenix.livecomponent"><code class="inline">Phoenix.LiveComponent</code></a> within a parent LiveView.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#live_component/4">live_component(socket, component, assigns, do_block)</a> </dt> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#live_file_input/2">live_file_input(conf, opts \\ [])</a> </dt> <dd class="summary-synopsis"><p>Builds a file input tag for a LiveView upload.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#live_flash/2">live_flash(other, key)</a> </dt> <dd class="summary-synopsis"><p>Returns the flash message from the LiveView flash assign.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#live_img_preview/2">live_img_preview(entry, opts \\ [])</a> </dt> <dd class="summary-synopsis"><p>Generates an image preview on the client for a selected file.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#live_patch/2">live_patch(text, opts)</a> </dt> <dd class="summary-synopsis"><p>Generates a link that will patch the current LiveView.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#live_redirect/2">live_redirect(text, opts)</a> </dt> <dd class="summary-synopsis"><p>Generates a link that will redirect to a new LiveView.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#live_render/3">live_render(conn_or_socket, view, opts \\ [])</a> </dt> <dd class="summary-synopsis"><p>Renders a LiveView within an originating plug request or within a parent LiveView.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#live_title_tag/2">live_title_tag(title, opts \\ [])</a> </dt> <dd class="summary-synopsis"><p>Renders a title tag with automatic prefix/suffix on <code class="inline">@page_title</code> updates.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#render_block/2">render_block(inner_block, argument \\ [])</a> </dt> <dd class="summary-synopsis"><p>Renders the <code class="inline">@inner_block</code> assign of a component with the given <code class="inline">argument</code>.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#sigil_L/2">sigil_L(arg, list)</a> </dt> <dd class="summary-synopsis"><p>Provides <code class="inline">~L</code> sigil with HTML safe Live EEx syntax inside source files.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#upload_errors/1">upload_errors(conf)</a> </dt> <dd class="summary-synopsis"><p>Returns the entry errors for an upload.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#upload_errors/2">upload_errors(conf, entry)</a> </dt> <dd class="summary-synopsis"><p>Returns the entry errors for an upload.</p></dd> </div> </dl> </section> <section id="functions" class="details-list"> <h1 class="section-heading">  Functions </h1> <div class="functions-list"> <section class="detail">   <h3 class="detail-header" id="component/3">component(func, assigns \\ [], do_block \\ [])<a href="https://github.com/phoenixframework/phoenix_live_view/blob/v0.15.7/lib/phoenix_live_view/helpers.ex#L306" class="source">Source</a>
</h3> <section class="docstring"> <p>Renders a component defined by the given function.</p>
<p>It takes two optional arguments, the assigns to pass to the given function and a do-block - which will be converted into a <code class="inline">@inner_block</code> assign (see <code class="inline">render_block/3</code> for more information).</p>
<p>The given function must expect one argument, which are the <code class="inline">assigns</code> as a map.</p>
<h4 id="component/3-examples" class="section-heading">  Examples </h4> <p>The function can be either local:</p>
<pre data-language="elixir">&lt;%= component(&amp;weather_component/1, city: "Kraków") %&gt;</pre>
<p>Or remote:</p>
<pre data-language="elixir">&lt;%= component(&amp;MyApp.Weather.component/1, city: "Kraków") %&gt;</pre> </section> </section> <section class="detail">   <h3 class="detail-header" id="live_component/3">live_component(component, assigns \\ [], do_block \\ [])<a href="https://github.com/phoenixframework/phoenix_live_view/blob/v0.15.7/lib/phoenix_live_view/helpers.ex#L214" class="source">Source</a>
</h3> <section class="docstring"> <p>Renders a <a href="phoenix.livecomponent"><code class="inline">Phoenix.LiveComponent</code></a> within a parent LiveView.</p>
<p>While <code class="inline">LiveView</code>s can be nested, each LiveView starts its own process. A LiveComponent provides similar functionality to LiveView, except they run in the same process as the <code class="inline">LiveView</code>, with its own encapsulated state.</p>
<p>LiveComponent comes in two shapes, stateful and stateless. See <a href="phoenix.livecomponent"><code class="inline">Phoenix.LiveComponent</code></a> for more information.</p>
<h4 id="live_component/3-examples" class="section-heading">  Examples </h4> <p>All of the <code class="inline">assigns</code> given are forwarded directly to the <code class="inline">live_component</code>:</p>
<pre data-language="elixir">&lt;%= live_component(MyApp.WeatherComponent, id: "thermostat", city: "Kraków") %&gt;</pre>
<p>Note the <code class="inline">:id</code> won't necessarily be used as the DOM ID. That's up to the component. However, note that the <code class="inline">:id</code> has a special meaning: whenever an <code class="inline">:id</code> is given, the component becomes stateful. Otherwise, <code class="inline">:id</code> is always set to <code class="inline">nil</code>.</p> </section> </section> <section class="detail"> <h3 class="detail-header" id="live_component/4">live_component(socket, component, assigns, do_block)<a href="https://github.com/phoenixframework/phoenix_live_view/blob/v0.15.7/lib/phoenix_live_view/helpers.ex#L259" class="source">Source</a>
</h3>  </section> <section class="detail">  <h3 class="detail-header" id="live_file_input/2">live_file_input(conf, opts \\ [])<a href="https://github.com/phoenixframework/phoenix_live_view/blob/v0.15.7/lib/phoenix_live_view/helpers.ex#L576" class="source">Source</a>
</h3> <section class="docstring"> <p>Builds a file input tag for a LiveView upload.</p>
<p>Options may be passed through to the tag builder for custom attributes.</p>
<h4 id="live_file_input/2-drag-and-drop" class="section-heading">  Drag and Drop </h4> <p>Drag and drop is supported by annotating the droppable container with a <code class="inline">phx-drop-target</code> attribute pointing to the DOM ID of the file input. By default, the file input ID is the upload <code class="inline">ref</code>, so the following markup is all that is required for drag and drop support:</p>
<pre data-language="elixir">&lt;div class="container" phx-drop-target="&lt;%= @uploads.avatar.ref %&gt;"&gt;
    ...
    &lt;%= live_file_input @uploads.avatar %&gt;
&lt;/div&gt;</pre>
<h4 id="live_file_input/2-examples" class="section-heading">  Examples </h4> <pre data-language="elixir">&lt;%= live_file_input @uploads.avatar %&gt;</pre> </section> </section> <section class="detail"> <h3 class="detail-header" id="live_flash/2">live_flash(other, key)<a href="https://github.com/phoenixframework/phoenix_live_view/blob/v0.15.7/lib/phoenix_live_view/helpers.ex#L459" class="source">Source</a>
</h3> <section class="docstring"> <p>Returns the flash message from the LiveView flash assign.</p>
<h4 id="live_flash/2-examples" class="section-heading">  Examples </h4> <pre data-language="elixir">&lt;p class="alert alert-info"&gt;&lt;%= live_flash(@flash, :info) %&gt;&lt;/p&gt;
&lt;p class="alert alert-danger"&gt;&lt;%= live_flash(@flash, :error) %&gt;&lt;/p&gt;</pre> </section> </section> <section class="detail">  <h3 class="detail-header" id="live_img_preview/2">live_img_preview(entry, opts \\ [])<a href="https://github.com/phoenixframework/phoenix_live_view/blob/v0.15.7/lib/phoenix_live_view/helpers.ex#L543" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates an image preview on the client for a selected file.</p>
<h4 id="live_img_preview/2-examples" class="section-heading">  Examples </h4> <pre data-language="elixir">&lt;%= for entry &lt;- @uploads.avatar.entries do %&gt;
  &lt;%= live_img_preview entry, width: 75 %&gt;
&lt;% end %&gt;</pre> </section> </section> <section class="detail"> <h3 class="detail-header" id="live_patch/2">live_patch(text, opts)<a href="https://github.com/phoenixframework/phoenix_live_view/blob/v0.15.7/lib/phoenix_live_view/helpers.ex#L40" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates a link that will patch the current LiveView.</p>
<p>When navigating to the current LiveView, <a href="phoenix.liveview#c:handle_params/3"><code class="inline">Phoenix.LiveView.handle_params/3</code></a> is immediately invoked to handle the change of params and URL state. Then the new state is pushed to the client, without reloading the whole page while also maintaining the current scroll position. For live redirects to another LiveView, use <a href="#live_redirect/2"><code class="inline">live_redirect/2</code></a>.</p>
<h4 id="live_patch/2-options" class="section-heading">  Options </h4> <ul>
<li>
<code class="inline">:to</code> - the required path to link to.</li>
<li>
<code class="inline">:replace</code> - the flag to replace the current history or push a new state. Defaults <code class="inline">false</code>.</li>
</ul>
<p>All other options are forwarded to the anchor tag.</p>
<h4 id="live_patch/2-examples" class="section-heading">  Examples </h4> <pre data-language="elixir">&lt;%= live_patch "home", to: Routes.page_path(@socket, :index) %&gt;
&lt;%= live_patch "next", to: Routes.live_path(@socket, MyLive, @page + 1) %&gt;
&lt;%= live_patch to: Routes.live_path(@socket, MyLive, dir: :asc), replace: false do %&gt;
  Sort By Price
&lt;% end %&gt;</pre> </section> </section> <section class="detail"> <h3 class="detail-header" id="live_redirect/2">live_redirect(text, opts)<a href="https://github.com/phoenixframework/phoenix_live_view/blob/v0.15.7/lib/phoenix_live_view/helpers.ex#L90" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates a link that will redirect to a new LiveView.</p>
<p>The current LiveView will be shut down and a new one will be mounted in its place, without reloading the whole page. This can also be used to remount the same LiveView, in case you want to start fresh. If you want to navigate to the same LiveView without remounting it, use <a href="#live_patch/2"><code class="inline">live_patch/2</code></a> instead.</p>
<h4 id="live_redirect/2-options" class="section-heading">  Options </h4> <ul>
<li>
<code class="inline">:to</code> - the required path to link to.</li>
<li>
<code class="inline">:replace</code> - the flag to replace the current history or push a new state. Defaults <code class="inline">false</code>.</li>
</ul>
<p>All other options are forwarded to the anchor tag.</p>
<h4 id="live_redirect/2-examples" class="section-heading">  Examples </h4> <pre data-language="elixir">&lt;%= live_redirect "home", to: Routes.page_path(@socket, :index) %&gt;
&lt;%= live_redirect "next", to: Routes.live_path(@socket, MyLive, @page + 1) %&gt;
&lt;%= live_redirect to: Routes.live_path(@socket, MyLive, dir: :asc), replace: false do %&gt;
  Sort By Price
&lt;% end %&gt;</pre> </section> </section> <section class="detail">  <h3 class="detail-header" id="live_render/3">live_render(conn_or_socket, view, opts \\ [])<a href="https://github.com/phoenixframework/phoenix_live_view/blob/v0.15.7/lib/phoenix_live_view/helpers.ex#L175" class="source">Source</a>
</h3> <section class="docstring"> <p>Renders a LiveView within an originating plug request or within a parent LiveView.</p>
<h4 id="live_render/3-options" class="section-heading">  Options </h4> <ul>
<li>
<code class="inline">:session</code> - the map of extra session data to be serialized and sent to the client. Note that all session data currently in the connection is automatically available in LiveViews. You can use this option to provide extra data. Also note that the keys in the session are strings keys, as a reminder that data has to be serialized first.</li>
<li>
<code class="inline">:container</code> - an optional tuple for the HTML tag and DOM attributes to be used for the LiveView container. For example: <code class="inline">{:li, style: "color: blue;"}</code>. By default it uses the module definition container. See the "Containers" section below for more information.</li>
<li>
<code class="inline">:id</code> - both the DOM ID and the ID to uniquely identify a LiveView. An <code class="inline">:id</code> is automatically generated when rendering root LiveViews but it is a required option when rendering a child LiveView.</li>
<li>
<code class="inline">:router</code> - an optional router that enables this LiveView to perform live navigation. Only a single LiveView in a page may have the <code class="inline">:router</code> set. LiveViews defined at the router with the <code class="inline">live</code> macro automatically have the <code class="inline">:router</code> option set.</li>
</ul>
<h4 id="live_render/3-examples" class="section-heading">  Examples </h4> <pre data-language="elixir"># within eex template
&lt;%= live_render(@conn, MyApp.ThermostatLive) %&gt;

# within leex template
&lt;%= live_render(@socket, MyApp.ThermostatLive, id: "thermostat") %&gt;</pre>
<h4 id="live_render/3-containers" class="section-heading">  Containers </h4> <p>When a <code class="inline">LiveView</code> is rendered, its contents are wrapped in a container. By default, said container is a <code class="inline">div</code> tag with a handful of <code class="inline">LiveView</code> specific attributes.</p>
<p>The container can be customized in different ways:</p>
<ul>
<li>
<p>You can change the default <code class="inline">container</code> on <code class="inline">use Phoenix.LiveView</code>:</p>
<pre data-language="elixir">use Phoenix.LiveView, container: {:tr, id: "foo-bar"}</pre>
</li>
<li>
<p>You can override the container tag and pass extra attributes when calling <code class="inline">live_render</code> (as well as on your <code class="inline">live</code> call in your router):</p>
<pre data-language="elixir">live_render socket, MyLiveView, container: {:tr, class: "highlight"}</pre>
</li>
</ul> </section> </section> <section class="detail">  <h3 class="detail-header" id="live_title_tag/2">live_title_tag(title, opts \\ [])<a href="https://github.com/phoenixframework/phoenix_live_view/blob/v0.15.7/lib/phoenix_live_view/helpers.ex#L618" class="source">Source</a>
</h3> <section class="docstring"> <p>Renders a title tag with automatic prefix/suffix on <code class="inline">@page_title</code> updates.</p>
<h4 id="live_title_tag/2-examples" class="section-heading">  Examples </h4> <pre data-language="elixir">&lt;%= live_title_tag assigns[:page_title] || "Welcome", prefix: "MyApp – " %&gt;

&lt;%= live_title_tag assigns[:page_title] || "Welcome", suffix: " – MyApp" %&gt;</pre> </section> </section> <section class="detail">  <h3 class="detail-header" id="render_block/2">render_block(inner_block, argument \\ [])<a href="https://github.com/phoenixframework/phoenix_live_view/blob/v0.15.7/lib/phoenix_live_view/helpers.ex#L445" class="source">Source</a>
</h3> <section class="docstring"> <p>Renders the <code class="inline">@inner_block</code> assign of a component with the given <code class="inline">argument</code>.</p>
<pre data-language="elixir">&lt;%= render_block(@inner_block, value: @value)</pre> </section> </section> <section class="detail"> <h3 class="detail-header" id="sigil_L/2">sigil_L(arg, list)<a href="https://github.com/phoenixframework/phoenix_live_view/blob/v0.15.7/lib/phoenix_live_view/helpers.ex#L474" class="source">Source</a>
</h3> <section class="docstring"> <p>Provides <code class="inline">~L</code> sigil with HTML safe Live EEx syntax inside source files.</p>
<pre data-language="elixir">iex&gt; ~L"""
...&gt; Hello &lt;%= "world" %&gt;
...&gt; """
{:safe, ["Hello ", "world", "\n"]}</pre> </section> </section> <section class="detail"> <h3 class="detail-header" id="upload_errors/1">upload_errors(conf)<a href="https://github.com/phoenixframework/phoenix_live_view/blob/v0.15.7/lib/phoenix_live_view/helpers.ex#L502" class="source">Source</a>
</h3> <section class="docstring"> <p>Returns the entry errors for an upload.</p>
<p>The following errors may be returned:</p>
<ul><li>
<code class="inline">:too_many_files</code> - The number of selected files exceeds the <code class="inline">:max_entries</code> constraint</li></ul>
<h4 id="upload_errors/1-examples" class="section-heading">  Examples </h4> <pre data-language="elixir">def error_to_string(:too_many_files), do: "You have selected too many files"

&lt;%= for err &lt;- upload_errors(@uploads.avatar) do %&gt;
  &lt;div class="alert alert-danger"&gt;
    &lt;%= error_to_string(err) %&gt;
  &lt;/div&gt;
&lt;% end %&gt;</pre> </section> </section> <section class="detail"> <h3 class="detail-header" id="upload_errors/2">upload_errors(conf, entry)<a href="https://github.com/phoenixframework/phoenix_live_view/blob/v0.15.7/lib/phoenix_live_view/helpers.ex#L527" class="source">Source</a>
</h3> <section class="docstring"> <p>Returns the entry errors for an upload.</p>
<p>The following errors may be returned:</p>
<ul>
<li>
<code class="inline">:too_large</code> - The entry exceeds the <code class="inline">:max_file_size</code> constraint</li>
<li>
<code class="inline">:not_accepted</code> - The entry does not match the <code class="inline">:accept</code> MIME types</li>
</ul>
<h4 id="upload_errors/2-examples" class="section-heading">  Examples </h4> <pre data-language="elixir">def error_to_string(:too_large), do: "Too large"
def error_to_string(:not_accepted), do: "You have selected an unacceptable file type"

&lt;%= for entry &lt;- @uploads.avatar.entries do %&gt;
  &lt;%= for err &lt;- upload_errors(@uploads.avatar, entry) do %&gt;
    &lt;div class="alert alert-danger"&gt;
      &lt;%= error_to_string(err) %&gt;
    &lt;/div&gt;
  &lt;% end %&gt;
&lt;% end %&gt;</pre> </section> </section> </div> </section><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://hexdocs.pm/phoenix_live_view/Phoenix.LiveView.Helpers.html" class="_attribution-link" target="_blank">https://hexdocs.pm/phoenix_live_view/Phoenix.LiveView.Helpers.html</a>
  </p>
</div>
