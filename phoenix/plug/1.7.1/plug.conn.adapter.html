<h1> <small class="visible-xs">Plug v1.7.1</small> Plug.Conn.Adapter <small>behaviour</small>  </h1> <section id="moduledoc"> <p>Specification of the connection adapter API implemented by webservers</p> </section> <section id="summary" class="details-list"> <h1 class="section-heading">  Summary </h1> <h2> Types </h2>
<dl class="summary-types summary">  <div class="summary-row"> <dt class="summary-signature"> <a href="#t:http_protocol/0">http_protocol()</a> </dt> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#t:payload/0">payload()</a> </dt> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#t:peer_data/0">peer_data()</a> </dt> </div> </dl> <h2> Callbacks </h2>
<dl class="summary-callbacks summary">  <div class="summary-row"> <dt class="summary-signature"> <a href="#c:chunk/2">chunk(payload, arg1)</a> </dt> <dd class="summary-synopsis">
<p>Sends a chunk in the chunked response</p> </dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#c:get_http_protocol/1">get_http_protocol(payload)</a> </dt> <dd class="summary-synopsis">
<p>Returns the HTTP protocol and its version</p> </dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#c:get_peer_data/1">get_peer_data(payload)</a> </dt> <dd class="summary-synopsis">
<p>Returns peer information such as the address, port and ssl cert</p> </dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#c:inform/3">inform(payload, arg1, headers)</a> </dt> <dd class="summary-synopsis">
<p>Send an informational response to the client</p> </dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#c:push/3">push(payload, path, headers)</a> </dt> <dd class="summary-synopsis">
<p>Push a resource to the client</p> </dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#c:read_req_body/2">read_req_body(payload, options)</a> </dt> <dd class="summary-synopsis">
<p>Reads the request body</p> </dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#c:send_chunked/3">send_chunked(payload, arg1, arg2)</a> </dt> <dd class="summary-synopsis">
<p>Sends the given status, headers as the beginning of a chunked response to the client</p> </dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#c:send_file/6">send_file(payload, arg1, arg2, file, offset, length)</a> </dt> <dd class="summary-synopsis">
<p>Sends the given status, headers and file as a response back to the client</p> </dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#c:send_resp/4">send_resp(payload, arg1, arg2, arg3)</a> </dt> <dd class="summary-synopsis">
<p>Sends the given status, headers and body as a response back to the client</p> </dd> </div> </dl> </section> <section id="types" class="details-list"> <h1 class="section-heading">  Types </h1> <div class="types-list"> <div class="detail" id="t:http_protocol/0"> <div class="detail-header"> <a href="#t:http_protocol/0" class="detail-link" title="Link to this type">  <span class="sr-only">Link to this type</span> </a> <span class="signature">http_protocol()</span> <a href="https://github.com/elixir-plug/plug/blob/v1.7.1/lib/plug/conn/adapter.ex#L7" class="view-source" rel="help" title="View Source">  <span class="sr-only">View Source</span> </a> <div class="specs"> <pre data-language="elixir">http_protocol() :: :"HTTP/1" | :"HTTP/1.1" | :"HTTP/2" | atom()</pre> </div> </div>  </div> <div class="detail" id="t:payload/0"> <div class="detail-header"> <a href="#t:payload/0" class="detail-link" title="Link to this type">  <span class="sr-only">Link to this type</span> </a> <span class="signature">payload()</span> <a href="https://github.com/elixir-plug/plug/blob/v1.7.1/lib/plug/conn/adapter.ex#L8" class="view-source" rel="help" title="View Source">  <span class="sr-only">View Source</span> </a> <div class="specs"> <pre data-language="elixir">payload() :: term()</pre> </div> </div>  </div> <div class="detail" id="t:peer_data/0"> <div class="detail-header"> <a href="#t:peer_data/0" class="detail-link" title="Link to this type">  <span class="sr-only">Link to this type</span> </a> <span class="signature">peer_data()</span> <a href="https://github.com/elixir-plug/plug/blob/v1.7.1/lib/plug/conn/adapter.ex#L9" class="view-source" rel="help" title="View Source">  <span class="sr-only">View Source</span> </a> <div class="specs"> <pre data-language="elixir">peer_data() :: %{
  address: :inet.ip_address(),
  port: :inet.port_number(),
  ssl_cert: binary() | nil
}</pre> </div> </div>  </div> </div> </section> <section id="callbacks" class="details-list"> <h1 class="section-heading">  Callbacks </h1> <div class="detail" id="c:chunk/2"> <div class="detail-header"> <a href="#c:chunk/2" class="detail-link" title="Link to this callback">  <span class="sr-only">Link to this callback</span> </a> <span class="signature">chunk(payload, arg1)</span> <a href="https://github.com/elixir-plug/plug/blob/v1.7.1/lib/plug/conn/adapter.ex#L74" class="view-source" rel="help" title="View Source">  <span class="sr-only">View Source</span> </a> <div class="specs"> <pre data-language="elixir">chunk(payload(), Plug.Conn.status()) ::
  :ok | {:ok, sent_body :: binary(), payload()} | {:error, term()}</pre> </div> </div> <section class="docstring"> <p>Sends a chunk in the chunked response.</p> <p>If the request has method <code class="inline">"HEAD"</code>, the adapter should not send the response to the client.</p> <p>Webservers are advised to return <code class="inline">:ok</code> and not modify any further state for each chunk. However, the test implementation returns the actual body and payload so it can be used during testing.</p> </section> </div> <div class="detail" id="c:get_http_protocol/1"> <div class="detail-header"> <a href="#c:get_http_protocol/1" class="detail-link" title="Link to this callback">  <span class="sr-only">Link to this callback</span> </a> <span class="signature">get_http_protocol(payload)</span> <a href="https://github.com/elixir-plug/plug/blob/v1.7.1/lib/plug/conn/adapter.ex#L112" class="view-source" rel="help" title="View Source">  <span class="sr-only">View Source</span> </a> <div class="specs"> <pre data-language="elixir">get_http_protocol(payload()) :: http_protocol()</pre> </div> </div> <section class="docstring"> <p>Returns the HTTP protocol and its version.</p> </section> </div> <div class="detail" id="c:get_peer_data/1"> <div class="detail-header"> <a href="#c:get_peer_data/1" class="detail-link" title="Link to this callback">  <span class="sr-only">Link to this callback</span> </a> <span class="signature">get_peer_data(payload)</span> <a href="https://github.com/elixir-plug/plug/blob/v1.7.1/lib/plug/conn/adapter.ex#L107" class="view-source" rel="help" title="View Source">  <span class="sr-only">View Source</span> </a> <div class="specs"> <pre data-language="elixir">get_peer_data(payload()) :: peer_data()</pre> </div> </div> <section class="docstring"> <p>Returns peer information such as the address, port and ssl cert.</p> </section> </div> <div class="detail" id="c:inform/3"> <div class="detail-header"> <a href="#c:inform/3" class="detail-link" title="Link to this callback">  <span class="sr-only">Link to this callback</span> </a> <span class="signature">inform(payload, arg1, headers)</span> <a href="https://github.com/elixir-plug/plug/blob/v1.7.1/lib/plug/conn/adapter.ex#L102" class="view-source" rel="help" title="View Source">  <span class="sr-only">View Source</span> </a> <div class="specs"> <pre data-language="elixir">inform(payload(), Plug.Conn.status(), headers :: Keyword.t()) ::
  :ok | {:error, term()}</pre> </div> </div> <section class="docstring"> <p>Send an informational response to the client.</p> <p>If the adapter does not support inform, then <code class="inline">{:error, :not_supported}</code> should be returned.</p> </section> </div> <div class="detail" id="c:push/3"> <div class="detail-header"> <a href="#c:push/3" class="detail-link" title="Link to this callback">  <span class="sr-only">Link to this callback</span> </a> <span class="signature">push(payload, path, headers)</span> <a href="https://github.com/elixir-plug/plug/blob/v1.7.1/lib/plug/conn/adapter.ex#L94" class="view-source" rel="help" title="View Source">  <span class="sr-only">View Source</span> </a> <div class="specs"> <pre data-language="elixir">push(payload(), path :: String.t(), headers :: Keyword.t()) ::
  :ok | {:error, term()}</pre> </div> </div> <section class="docstring"> <p>Push a resource to the client.</p> <p>If the adapter does not support server push then <code class="inline">{:error, :not_supported}</code> should be returned.</p> </section> </div> <div class="detail" id="c:read_req_body/2"> <div class="detail-header"> <a href="#c:read_req_body/2" class="detail-link" title="Link to this callback">  <span class="sr-only">Link to this callback</span> </a> <span class="signature">read_req_body(payload, options)</span> <a href="https://github.com/elixir-plug/plug/blob/v1.7.1/lib/plug/conn/adapter.ex#L83" class="view-source" rel="help" title="View Source">  <span class="sr-only">View Source</span> </a> <div class="specs"> <pre data-language="elixir">read_req_body(payload(), options :: Keyword.t()) ::
  {:ok, data :: binary(), payload()}
  | {:more, data :: binary(), payload()}
  | {:error, term()}</pre> </div> </div> <section class="docstring"> <p>Reads the request body.</p> <p>Read the docs in <a href="plug.conn#read_body/2"><code class="inline">Plug.Conn.read_body/2</code></a> for the supported options and expected behaviour.</p> </section> </div> <div class="detail" id="c:send_chunked/3"> <div class="detail-header"> <a href="#c:send_chunked/3" class="detail-link" title="Link to this callback">  <span class="sr-only">Link to this callback</span> </a> <span class="signature">send_chunked(payload, arg1, arg2)</span> <a href="https://github.com/elixir-plug/plug/blob/v1.7.1/lib/plug/conn/adapter.ex#L60" class="view-source" rel="help" title="View Source">  <span class="sr-only">View Source</span> </a> <div class="specs"> <pre data-language="elixir">send_chunked(payload(), Plug.Conn.status(), Plug.Conn.headers()) ::
  {:ok, sent_body :: binary() | nil, payload()}</pre> </div> </div> <section class="docstring"> <p>Sends the given status, headers as the beginning of a chunked response to the client.</p> <p>Webservers are advised to return <code class="inline">nil</code> as the sent_body, as the body can no longer be manipulated. However, the test implementation returns the actual body so it can be used during testing.</p> </section> </div> <div class="detail" id="c:send_file/6"> <div class="detail-header"> <a href="#c:send_file/6" class="detail-link" title="Link to this callback">  <span class="sr-only">Link to this callback</span> </a> <span class="signature">send_file(payload, arg1, arg2, file, offset, length)</span> <a href="https://github.com/elixir-plug/plug/blob/v1.7.1/lib/plug/conn/adapter.ex#L42" class="view-source" rel="help" title="View Source">  <span class="sr-only">View Source</span> </a> <div class="specs"> <pre data-language="elixir">send_file(
  payload(),
  Plug.Conn.status(),
  Plug.Conn.headers(),
  file :: binary(),
  offset :: integer(),
  length :: integer() | :all
) :: {:ok, sent_body :: binary() | nil, payload()}</pre> </div> </div> <section class="docstring"> <p>Sends the given status, headers and file as a response back to the client.</p> <p>If the request has method <code class="inline">"HEAD"</code>, the adapter should not send the response to the client.</p> <p>Webservers are advised to return <code class="inline">nil</code> as the sent_body, as the body can no longer be manipulated. However, the test implementation returns the actual body so it can be used during testing.</p> </section> </div> <div class="detail" id="c:send_resp/4"> <div class="detail-header"> <a href="#c:send_resp/4" class="detail-link" title="Link to this callback">  <span class="sr-only">Link to this callback</span> </a> <span class="signature">send_resp(payload, arg1, arg2, arg3)</span> <a href="https://github.com/elixir-plug/plug/blob/v1.7.1/lib/plug/conn/adapter.ex#L27" class="view-source" rel="help" title="View Source">  <span class="sr-only">View Source</span> </a> <div class="specs"> <pre data-language="elixir">send_resp(payload(), Plug.Conn.status(), Plug.Conn.headers(), Plug.Conn.body()) ::
  {:ok, sent_body :: binary() | nil, payload()}</pre> </div> </div> <section class="docstring"> <p>Sends the given status, headers and body as a response back to the client.</p> <p>If the request has method <code class="inline">"HEAD"</code>, the adapter should not send the response to the client.</p> <p>Webservers are advised to return <code class="inline">nil</code> as the sent_body, as the body can no longer be manipulated. However, the test implementation returns the actual body so it can be used during testing.</p> </section> </div> </section><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://hexdocs.pm/plug/1.7.1/Plug.Conn.Adapter.html" class="_attribution-link" target="_blank">https://hexdocs.pm/plug/1.7.1/Plug.Conn.Adapter.html</a>
  </p>
</div>
