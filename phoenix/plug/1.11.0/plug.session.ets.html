<h1> Plug.Session.ETS   </h1> <section id="moduledoc"> <p>Stores the session in an in-memory ETS table.</p>
<p>This store does not create the ETS table; it expects that an existing named table with public properties is passed as an argument.</p>
<p>We don't recommend using this store in production as every session will be stored in ETS and never cleaned until you create a task responsible for cleaning up old entries.</p>
<p>Also, since the store is in-memory, it means sessions are not shared between servers. If you deploy to more than one machine, using this store is again not recommended.</p>
<p>This store, however, can be used as an example for creating custom storages, based on Redis, Memcached, or a database itself.</p>
<h2 id="module-options" class="section-heading">  Options </h2> <ul><li>
<code class="inline">:table</code> - ETS table name (required)</li></ul>
<p>For more information on ETS tables, visit the Erlang documentation at <a href="http://www.erlang.org/doc/man/ets.html.">http://www.erlang.org/doc/man/ets.html.</a></p>
<h2 id="module-storage" class="section-heading">  Storage </h2> <p>The data is stored in ETS in the following format:</p>
<pre data-language="elixir">{sid :: String.t, data :: map, timestamp :: :erlang.timestamp}</pre>
<p>The timestamp is updated whenever there is a read or write to the table and it may be used to detect if a session is still active.</p>
<h2 id="module-examples" class="section-heading">  Examples </h2> <pre data-language="elixir"># Create an ETS table when the application starts
:ets.new(:session, [:named_table, :public, read_concurrency: true])

# Use the session plug with the table name
plug Plug.Session, store: :ets, key: "sid", table: :session</pre> </section> <section id="summary" class="details-list"> <h1 class="section-heading">  Summary </h1> <h2> Functions </h2>
<dl class="summary-functions summary">  <div class="summary-row"> <dt class="summary-signature"> <a href="#delete/3">delete(conn, sid, table)</a> </dt> <dd class="summary-synopsis"><p>Callback implementation for <a href="../plug.session.store#c:delete/3"><code class="inline">Plug.Session.Store.delete/3</code></a>.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#get/3">get(conn, sid, table)</a> </dt> <dd class="summary-synopsis"><p>Callback implementation for <a href="../plug.session.store#c:get/3"><code class="inline">Plug.Session.Store.get/3</code></a>.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#init/1">init(opts)</a> </dt> <dd class="summary-synopsis"><p>Callback implementation for <a href="../plug.session.store#c:init/1"><code class="inline">Plug.Session.Store.init/1</code></a>.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#put/4">put(conn, sid, data, table)</a> </dt> <dd class="summary-synopsis"><p>Callback implementation for <a href="../plug.session.store#c:put/4"><code class="inline">Plug.Session.Store.put/4</code></a>.</p></dd> </div> </dl> </section> <section id="functions" class="details-list"> <h1 class="section-heading">  Functions </h1> <div class="functions-list"> <section class="detail"> <h3 class="detail-header" id="delete/3">delete(conn, sid, table)<a href="https://github.com/elixir-plug/plug/blob/v1.11.0/lib/plug/session/ets.ex#L75" class="source">Source</a>
</h3> <section class="docstring"> <p>Callback implementation for <a href="../plug.session.store#c:delete/3"><code class="inline">Plug.Session.Store.delete/3</code></a>.</p> </section> </section> <section class="detail"> <h3 class="detail-header" id="get/3">get(conn, sid, table)<a href="https://github.com/elixir-plug/plug/blob/v1.11.0/lib/plug/session/ets.ex#L55" class="source">Source</a>
</h3> <section class="docstring"> <p>Callback implementation for <a href="../plug.session.store#c:get/3"><code class="inline">Plug.Session.Store.get/3</code></a>.</p> </section> </section> <section class="detail"> <h3 class="detail-header" id="init/1">init(opts)<a href="https://github.com/elixir-plug/plug/blob/v1.11.0/lib/plug/session/ets.ex#L51" class="source">Source</a>
</h3> <section class="docstring"> <p>Callback implementation for <a href="../plug.session.store#c:init/1"><code class="inline">Plug.Session.Store.init/1</code></a>.</p> </section> </section> <section class="detail"> <h3 class="detail-header" id="put/4">put(conn, sid, data, table)<a href="https://github.com/elixir-plug/plug/blob/v1.11.0/lib/plug/session/ets.ex#L66" class="source">Source</a>
</h3> <section class="docstring"> <p>Callback implementation for <a href="../plug.session.store#c:put/4"><code class="inline">Plug.Session.Store.put/4</code></a>.</p> </section> </section> </div> </section><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://hexdocs.pm/plug/1.11.0/Plug.Session.ETS.html" class="_attribution-link" target="_blank">https://hexdocs.pm/plug/1.11.0/Plug.Session.ETS.html</a>
  </p>
</div>
