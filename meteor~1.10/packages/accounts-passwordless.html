<p>Passwordless package allows you to create a login for users without the need for user to provide password. Upon registering or login an email is sent to the user’s email with a code to enter to confirm login and a link to login directly. Since the user is responding to the email it will also verify the email.</p> <p>The first step to in the passwordless process is for the user to sign-up or request a token to their email address. You can do that with the following:</p>  <h2 class="api-heading" id="Accounts-requestLoginTokenForUser"> <div class="locus"> Client </div> <code>Accounts.requestLoginTokenForUser(options, [callback])</code> <div class="subtext-api"> <code>import { Accounts } from 'meteor/accounts-base'</code> <a class="src-code link secondary" href="https://github.com/meteor/meteor/blob/master/packages/accounts-passwordless/passwordless_client.js#L98" target="_blank"> (accounts-passwordless/passwordless_client.js, line 98) </a> </div> </h2>   <p>Request a login token.</p>  <h4 class="subheading">Arguments</h4> <dl class="args"> <dt> <code>callback</code> <span class="type">Function</span> </dt> <dd> <p>Optional callback. Called with no arguments on success, or with a single <code>Error</code> argument on failure.</p> </dd> </dl> <h4 class="subheading">Options</h4> <dl class="args"> <dt> <code>selector</code> <span class="type">String</span> </dt> <dd> <p>The email address to get a token for or username or a mongo selector.</p> </dd> <dt> <code>userData</code> <span class="type">String</span> </dt> <dd> <p>When creating a user use this data if selector produces no result.</p> </dd> <dt> <code>options</code> <span class="type">Object</span> </dt> <dd> <p>For example userCreationDisabled.</p> </dd> </dl>   <p>If the user is signing up you can pass in the <code>userData</code> object like in <a href="../api/passwords#Accounts-createUser">Accounts.createUser</a>.</p>  <h2 class="api-heading" id="Meteor-passwordlessLoginWithToken"> <div class="locus"> Client </div> <code>Meteor.passwordlessLoginWithToken(selector, token, [callback])</code> <div class="subtext-api"> <code>import { Meteor } from 'meteor/meteor'</code> <a class="src-code link secondary" href="https://github.com/meteor/meteor/blob/master/packages/accounts-passwordless/passwordless_client.js#L70" target="_blank"> (accounts-passwordless/passwordless_client.js, line 70) </a> </div> </h2>   <p>Log the user in with a one time token.</p>  <h4 class="subheading">Arguments</h4> <dl class="args"> <dt> <code>selector</code> <span class="type">Object or String</span> </dt> <dd> <p>Username, email or custom selector to identify the user.</p> </dd> <dt> <code>token</code> <span class="type">String</span> </dt> <dd> <p>one time token generated by the server</p> </dd> <dt> <code>callback</code> <span class="type">Function</span> </dt> <dd> <p>Optional callback. Called with no arguments on success, or with a single <code>Error</code> argument on failure.</p> </dd> </dl>   <p>The second step in the passwordless flow. Like all the other <code>loginWith</code> functions call this method to login the user with the token they have inputted.</p>  <h2 class="api-heading" id="Accounts-sendLoginTokenEmail"> <div class="locus"> Server </div> <code>Accounts.sendLoginTokenEmail(options)</code> <div class="subtext-api"> <code>import { Accounts } from 'meteor/accounts-base'</code> <a class="src-code link secondary" href="https://github.com/meteor/meteor/blob/master/packages/accounts-passwordless/passwordless_server.js#L216" target="_blank"> (accounts-passwordless/passwordless_server.js, line 216) </a> </div> </h2>   <p>Send an email with a link the user can use to login with token.</p>  <h4 class="subheading">Options</h4> <dl class="args"> <dt> <code>userId</code> <span class="type">String</span> </dt> <dd> <p>The id of the user to send email to.</p> </dd> <dt> <code>sequence</code> <span class="type">String</span> </dt> <dd> <p>The token to be provided</p> </dd> <dt> <code>email</code> <span class="type">String</span> </dt> <dd> <p>Which address of the user's to send the email to.</p> </dd> <dt> <code>extra</code> <span class="type">Object</span> </dt> <dd> <p>Optional. Extra properties</p> </dd> </dl>   <p>Use this function if you want to manually send the email to users to login with token from the server. Do note that you will need to create the token/sequence and save it in the DB yourself. This is good if you want to change how the tokens look or are generated, but unless you are sure of what you are doing we don’t recommend it.</p> <h3 id="config-options">Settings Options</h3> <p>You can use the function <code>Accounts.config</code> in the server to change some settings on this package:</p> <ul> <li>
<p><strong>tokenSequenceLength</strong>: use <code>Accounts.config({tokenSequenceLength: _Number_})</code> to the size of the token sequence generated. The default is 6.</p> </li> <li>
<p><strong>loginTokenExpirationHours</strong>: use <code>Accounts.config({loginTokenExpirationHours: _Number_})</code> to set the amount of time a token sent is valid. As it’s just a number, you can use, for example, 0.5 to make the token valid for just half hour. The default is 1 hour.</p> </li> </ul> <h3 id="passwordless-email-templates">E-mail templates</h3> <p><code>accounts-passwordless</code> brings new templates that you can edit to change the look of emails which send code to users. The email template is named <code>sendLoginToken</code> and beside <code>user</code> and <code>url</code>, the templates also receive a data object with <code>sequence</code> which is the user’s code.</p>  <pre class="line-numbers" style><code class="language-javascript">sendLoginToken: {
  text: (user, url, { sequence }) =&gt; { /* text template */ }
}
</code></pre> <h3 id="enabling-2fa">Enable 2FA for this package</h3> <p>You can add 2FA to your login flow by using the package <a href="accounts-2fa">accounts-2fa</a>. You can find an example showing how this would look like <a href="accounts-2fa#working-with-accounts-passwordless">here</a>. </p><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://docs.meteor.com/packages/accounts-passwordless.html" class="_attribution-link" target="_blank">https://docs.meteor.com/packages/accounts-passwordless.html</a>
  </p>
</div>
