<p><code>url</code> package provides polyfill for the <a href="https://url.spec.whatwg.org/" target="_blank" rel="noopener">WHATWG url specification</a> for legacy browsers or defaults to the global class which is available in modern browsers and Node. It is recomended that you use this package for compatibility with non-modern browsers.</p> <p>For more information we recommend <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API" target="_blank" rel="noopener">reading the MDN articles</a> about it and looking over the <a href="https://nodejs.org/api/url.html#url_the_whatwg_url_api" target="_blank" rel="noopener">Node API documentation</a> for more details as this article covers only basic usage in Meteor.</p> <h2 id="Usage">Usage</h2>
<h3 id="Installation">
Installation</h3>
<p>To add this package to an existing app, run the following command from your app directory:</p>  <pre class="line-numbers" style><code class="language-bash">meteor add url
</code></pre> <p>To add the <code>url</code> package to an existing package, include the statement <code>api.use('url');</code> in the <code>Package.onUse</code> callback in your <code>package.js</code> file:</p>  <pre class="line-numbers" style><code class="language-js">Package.onUse((api) =&gt; {
  api.use('url');
});
</code></pre> <p>After installing the package you can then import the <code>URL</code> and <code>URLSearchParams</code> from the package and use it as described at MDN and Node documentations.</p> <h3 id="URL">
URL</h3>  <pre class="line-numbers" style><code class="language-js">import { URL } from 'meteor/url';

const url = new URL('https://www.meteor.com');
</code></pre> <p>You can then use <code>URL</code> for example in a <a href="fetch">fetch</a> call:</p>  <pre class="line-numbers" style><code class="language-js">import { URL } from 'meteor/url';
import { fetch } from 'meteor/fetch';

const url = new URL('https://www.example.com/api/reportVisit');

fetch(url, {
    method: 'POST',
    body: JSON.stringify({ siteId: 11 })
    ...
})
</code></pre> <h3 id="URLSearchParams">
URLSearchParams</h3>  <pre class="line-numbers" style><code class="language-js">import { URLSearchParams } from 'meteor/url';

const searchParams = new URLSearchParams({ query: 'WHATWG', location: 'MDN' })
</code></pre> <p>You can then include <code>URLSearchParams</code> in the options for <code>URL</code> if you build them separately from when creating the <code>URL</code> class.</p><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://docs.meteor.com/packages/url.html" class="_attribution-link" target="_blank">https://docs.meteor.com/packages/url.html</a>
  </p>
</div>
