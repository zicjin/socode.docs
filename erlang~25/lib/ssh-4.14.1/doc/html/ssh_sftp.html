  <div class="innertube"> <h2 id="module" class="title-link" onmouseover="document.getElementById('ghlink-module-idm3844').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-idm3844').style.visibility = 'hidden';"> <div class="title-name">Module</div>  </h2> <p class="REFBODY module-body">ssh_sftp</p> </div> <div class="innertube"> <h2 id="module-summary" class="title-link" onmouseover="document.getElementById('ghlink-module-summary-idm3845').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-summary-idm3845').style.visibility = 'hidden';"> <div class="title-name">Module Summary</div>  </h2> <p class="REFBODY module-summary-body">SFTP client.</p> </div> <section class="description"><div class="innertube"> <h2 id="description" class="title-link" onmouseover="document.getElementById('ghlink-description-idm3846').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-description-idm3846').style.visibility = 'hidden';"> <div class="title-name">Description</div>  </h2> 
<p>This module implements an SSH FTP (SFTP) client. SFTP is a secure, encrypted file transfer service available for SSH.</p>  </div></section> <div class="innertube"> <h2 id="data-types" class="title-link" onmouseover="document.getElementById('ghlink-data-types-idm3848').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-data-types-idm3848').style.visibility = 'hidden';"> <div class="title-name">Data Types</div>  </h2> <article class="data-types-body"><h4 id="type-sftp_option" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-sftp_option').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-sftp_option').style.visibility = 'hidden';">  <div class="title-name"> <code>sftp_option() = <br id="type-sftp_option">    {timeout, <span>timeout()</span>} |<br>    {sftp_vsn, <span>integer() &gt;= 1</span>} |<br>    {window_size, <span>integer() &gt;= 1</span>} |<br>    {packet_size, <span>integer() &gt;= 1</span>}</code><br> </div> </h4> </article> <h4 id="Error cause" class="title-link" onmouseover="document.getElementById('ghlink-Error cause-idm3852').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-Error cause-idm3852').style.visibility = 'hidden';"> <div class="title-name">Error cause</div>  </h4> <article class="data-types-body"><h4 id="type-reason" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-reason').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-reason').style.visibility = 'hidden';">  <div class="title-name"> <code>reason() = <span id="type-reason">atom()</span> | <span>string()</span> | <span>tuple()</span></code><br> </div> </h4> <div class="data-type-desc"> <p>A description of the reason why an operation failed.</p> <p>The <code class="code">atom()</code> value is formed from the sftp error codes in the protocol-level responses as defined in <code><a href="https://tools.ietf.org/html/draft-ietf-secsh-filexfer-13#page-49">draft-ietf-secsh-filexfer-13</a></code> section 9.1. The codes are named as <code class="code">SSH_FX_*</code> which are transformed into lowercase of the star-part. E.g. the error code <code class="code">SSH_FX_NO_SUCH_FILE</code> will cause the <code class="code">reason()</code> to be <code class="code">no_such_file</code>. </p> <p>The <code class="code">string()</code> reason is the error information from the server in case of an exit-signal. If that information is empty, the reason is the exit signal name. </p> <p>The <code class="code">tuple()</code> reason are other errors like for example <code class="code">{exit_status,1}</code>. </p> </div></article> <h4 id="Crypto operations for open_tar" class="title-link" onmouseover="document.getElementById('ghlink-Crypto operations for open_tar-idm3869').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-Crypto operations for open_tar-idm3869').style.visibility = 'hidden';"> <div class="title-name">Crypto operations for open_tar</div>  </h4> <article class="data-types-body"><h4 id="type-tar_crypto_spec" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-tar_crypto_spec').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-tar_crypto_spec').style.visibility = 'hidden';">  <div class="title-name"> <code>tar_crypto_spec() = <span id="type-tar_crypto_spec"><a href="#type-encrypt_spec">encrypt_spec()</a></span> | <span><a href="#type-decrypt_spec">decrypt_spec()</a></span></code><br> <code>encrypt_spec() = {<span id="type-encrypt_spec"><a href="#type-init_fun">init_fun()</a></span>, <span><a href="#type-crypto_fun">crypto_fun()</a></span>, <span><a href="#type-final_fun">final_fun()</a></span>}</code><br> <code>decrypt_spec() = {<span id="type-decrypt_spec"><a href="#type-init_fun">init_fun()</a></span>, <span><a href="#type-crypto_fun">crypto_fun()</a></span>}</code><br> </div> </h4> <div class="data-type-desc"> <p>Specifies the encryption or decryption applied to tar files when using <code><a href="#open_tar-3">open_tar/3</a></code> or <code><a href="#open_tar-4">open_tar/4</a></code>. </p> <p>The encryption or decryption is applied to the generated stream of bytes prior to sending the resulting stream to the SFTP server. </p> <p>For code examples see Section <code><a href="using_ssh#example-with-encryption">Example with encryption</a></code> in the ssh Users Guide. </p> </div></article> <article class="data-types-body"><h4 id="type-init_fun" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-init_fun').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-init_fun').style.visibility = 'hidden';">  <div class="title-name"> <code>init_fun() = <br id="type-init_fun">    fun(() -&gt; {ok, <span><a href="#type-crypto_state">crypto_state()</a></span>}) |<br>    fun(() -&gt; {ok, <span><a href="#type-crypto_state">crypto_state()</a></span>, <span><a href="#type-chunk_size">chunk_size()</a></span>})</code><br> <code>chunk_size() = undefined | <span id="type-chunk_size">integer() &gt;= 1</span></code><br> <code>crypto_state() = <span id="type-crypto_state">any()</span></code><br> </div> </h4> <div class="data-type-desc"> <p>The <code class="code">init_fun()</code> in the <code><a href="#type-tar_crypto_spec">tar_crypto_spec</a></code> is applied once prior to any other <code class="code">crypto</code> operation. The intention is that this function initiates the encryption or decryption for example by calling <code>crypto:crypto_init/4</code> or similar. The <code class="code">crypto_state()</code> is the state such a function may return. </p> <p>If the selected cipher needs to have the input data partitioned into blocks of a certain size, the <code class="code">init_fun()</code> should return the second form of return value with the <code class="code">chunk_size()</code> set to the block size. If the <code class="code">chunk_size()</code> is <code class="code">undefined</code>, the size of the <code class="code">PlainBin</code>s varies, because this is intended for stream crypto, whereas a fixed <code class="code">chunk_size()</code> is intended for block crypto. A <code class="code">chunk_size()</code> can be changed in the return from the <code class="code">crypto_fun()</code>. The value can be changed between <code class="code">pos_integer()</code> and <code class="code">undefined</code>. </p> </div></article> <article class="data-types-body"><h4 id="type-crypto_fun" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-crypto_fun').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-crypto_fun').style.visibility = 'hidden';">  <div class="title-name"> <code>crypto_fun() = <br id="type-crypto_fun">    fun((TextIn :: <span>binary()</span>, <span><a href="#type-crypto_state">crypto_state()</a></span>) -&gt; <span><a href="#type-crypto_result">crypto_result()</a></span>)</code><br> <code>crypto_result() = <br id="type-crypto_result">    {ok, TextOut :: <span>binary()</span>, <span><a href="#type-crypto_state">crypto_state()</a></span>} |<br>    {ok, TextOut :: <span>binary()</span>, <span><a href="#type-crypto_state">crypto_state()</a></span>, <span><a href="#type-chunk_size">chunk_size()</a></span>}</code><br> </div> </h4> <div class="data-type-desc"> <p>The initial <code class="code">crypto_state()</code> returned from the <code><a href="#type-init_fun">init_fun()</a></code> is folded into repeated applications of the <code class="code">crypto_fun()</code> in the <code><a href="#type-tar_crypto_spec">tar_crypto_spec</a></code>. The binary returned from that fun is sent to the remote SFTP server and the new <code class="code">crypto_state()</code> is used in the next call of the <code class="code">crypto_fun()</code>. </p> <p>If the <code class="code">crypto_fun()</code> reurns a <code class="code">chunk_size()</code>, that value is as block size for further blocks in calls to <code class="code">crypto_fun()</code>. </p> </div></article> <article class="data-types-body"><h4 id="type-final_fun" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-final_fun').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-final_fun').style.visibility = 'hidden';">  <div class="title-name"> <code>final_fun() = <br id="type-final_fun">    fun((FinalTextIn :: <span>binary()</span>, <span><a href="#type-crypto_state">crypto_state()</a></span>) -&gt;<br>            {ok, FinalTextOut :: <span>binary()</span>})</code><br> </div> </h4> <div class="data-type-desc"> <p>If doing encryption, the <code class="code">final_fun()</code> in the <code><a href="#type-tar_crypto_spec">tar_crypto_spec</a></code> is applied to the last piece of data. The <code class="code">final_fun()</code> is responsible for padding (if needed) and encryption of that last piece. </p> </div></article> </div> <div class="innertube"><h2 id="export" class="title-link" onmouseover="document.getElementById('ghlink-export-idm3925').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-export-idm3925').style.visibility = 'hidden';"> <div class="title-name">Exports</div>  </h2></div> <div class="exports-body"> <article class="func"><h4 id="apread-4" onmouseover="document.getElementById('ghlink-apread-4-idp48').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-apread-4-idp48').style.visibility = 'hidden';">  <span class="title-name">apread(ChannelPid, Handle, Position, Len) -&gt; {async, N} | Error</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>        <div class="exports-tube"> <p>The <code class="code">apread/4</code> function reads from a specified position, combining the <code><a href="#position-3"><span class="code">position/3</span></a></code> and <code><a href="#aread-3"><span class="code">aread/3</span></a></code> functions.</p> </div></article><article class="func"><h4 id="apwrite-4" onmouseover="document.getElementById('ghlink-apwrite-4-idp49').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-apwrite-4-idp49').style.visibility = 'hidden';">  <span class="title-name">apwrite(ChannelPid, Handle, Position, Data) -&gt; {async, N} | Error</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>        <div class="exports-tube"> <p>The <code class="code">apwrite/4</code> function writes to a specified position, combining the <code><a href="#position-3"><span class="code">position/3</span></a></code> and <code><a href="#awrite-3"><span class="code">awrite/3</span></a></code> functions.</p> </div></article><article class="func"><h4 id="aread-3" onmouseover="document.getElementById('ghlink-aread-3-idp50').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-aread-3-idp50').style.visibility = 'hidden';">  <span class="title-name">aread(ChannelPid, Handle, Len) -&gt; {async, N} | Error</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>       <div class="exports-tube"> <p>Reads from an open file, without waiting for the result. If the handle is valid, the function returns <code class="code">{async, N}</code>, where <code class="code">N</code> is a term guaranteed to be unique between calls of <code class="code">aread</code>. The actual data is sent as a message to the calling process. This message has the form <code class="code">{async_reply, N, Result}</code>, where <code class="code">Result</code> is the result from the read, either <code class="code">{ok, Data}</code>, <code class="code">eof</code>, or <code class="code">{error, reason()}</code>.</p> </div></article><article class="func"><h4 id="awrite-3" onmouseover="document.getElementById('ghlink-awrite-3-idp51').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-awrite-3-idp51').style.visibility = 'hidden';">  <span class="title-name">awrite(ChannelPid, Handle, Data) -&gt; {async, N} | Error</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>       <div class="exports-tube"> <p>Writes to an open file, without waiting for the result. If the handle is valid, the function returns <code class="code">{async, N}</code>, where <code class="code">N</code> is a term guaranteed to be unique between calls of <code class="code">awrite</code>. The result of the <code class="code">write</code> operation is sent as a message to the calling process. This message has the form <code class="code">{async_reply, N, Result}</code>, where <code class="code">Result</code> is the result from the write, either <code class="code">ok</code>, or <code class="code">{error, reason()}</code>.</p> </div></article><article class="func"><h4 id="close-2" onmouseover="document.getElementById('ghlink-close-2-idp52').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-close-2-idp52').style.visibility = 'hidden';">  <span class="title-name">close(ChannelPid, Handle) -&gt; ok | Error</span> </h4> <h4 id="close-3" onmouseover="document.getElementById('ghlink-close-3-idp53').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-close-3-idp53').style.visibility = 'hidden';">  <span class="title-name">close(ChannelPid, Handle, Timeout) -&gt; ok | Error</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>      <div class="exports-tube"> <p>Closes a handle to an open file or directory on the server.</p> </div></article><article class="func"><h4 id="delete-2" onmouseover="document.getElementById('ghlink-delete-2-idp54').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-delete-2-idp54').style.visibility = 'hidden';">  <span class="title-name">delete(ChannelPid, Name) -&gt; ok | Error</span> </h4> <h4 id="delete-3" onmouseover="document.getElementById('ghlink-delete-3-idp55').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-delete-3-idp55').style.visibility = 'hidden';">  <span class="title-name">delete(ChannelPid, Name, Timeout) -&gt; ok | Error</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>      <div class="exports-tube"> <p>Deletes the file specified by <code class="code">Name</code>. </p> </div></article><article class="func"><h4 id="del_dir-2" onmouseover="document.getElementById('ghlink-del_dir-2-idp56').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-del_dir-2-idp56').style.visibility = 'hidden';">  <span class="title-name">del_dir(ChannelPid, Name) -&gt; ok | Error</span> </h4> <h4 id="del_dir-3" onmouseover="document.getElementById('ghlink-del_dir-3-idp57').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-del_dir-3-idp57').style.visibility = 'hidden';">  <span class="title-name">del_dir(ChannelPid, Name, Timeout) -&gt; ok | Error</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>      <div class="exports-tube"> <p>Deletes a directory specified by <code class="code">Name</code>. The directory must be empty before it can be successfully deleted. </p> </div></article><article class="func"><h4 id="list_dir-2" onmouseover="document.getElementById('ghlink-list_dir-2-idp58').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-list_dir-2-idp58').style.visibility = 'hidden';">  <span class="title-name">list_dir(ChannelPid, Path) -&gt; {ok, FileNames} | Error</span> </h4> <h4 id="list_dir-3" onmouseover="document.getElementById('ghlink-list_dir-3-idp59').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-list_dir-3-idp59').style.visibility = 'hidden';">  <span class="title-name">list_dir(ChannelPid, Path, Timeout) -&gt; {ok, FileNames} | Error</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>        <div class="exports-tube"> <p>Lists the given directory on the server, returning the filenames as a list of strings.</p> </div></article><article class="func"><h4 id="make_dir-2" onmouseover="document.getElementById('ghlink-make_dir-2-idp60').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-make_dir-2-idp60').style.visibility = 'hidden';">  <span class="title-name">make_dir(ChannelPid, Name) -&gt; ok | Error</span> </h4> <h4 id="make_dir-3" onmouseover="document.getElementById('ghlink-make_dir-3-idp61').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-make_dir-3-idp61').style.visibility = 'hidden';">  <span class="title-name">make_dir(ChannelPid, Name, Timeout) -&gt; ok | Error</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>      <div class="exports-tube"> <p>Creates a directory specified by <code class="code">Name</code>. <code class="code">Name</code> must be a full path to a new directory. The directory can only be created in an existing directory.</p> </div></article><article class="func"><h4 id="make_symlink-3" onmouseover="document.getElementById('ghlink-make_symlink-3-idp62').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-make_symlink-3-idp62').style.visibility = 'hidden';">  <span class="title-name">make_symlink(ChannelPid, Name, Target) -&gt; ok | Error</span> </h4> <h4 id="make_symlink-4" onmouseover="document.getElementById('ghlink-make_symlink-4-idp63').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-make_symlink-4-idp63').style.visibility = 'hidden';">  <span class="title-name">make_symlink(ChannelPid, Name, Target, Timeout) -&gt; ok | Error</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>       <div class="exports-tube"> <p>Creates a symbolic link pointing to <code class="code">Target</code> with the name <code class="code">Name</code>. </p> </div></article><article class="func"><h4 id="open-3" onmouseover="document.getElementById('ghlink-open-3-idp64').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-open-3-idp64').style.visibility = 'hidden';">  <span class="title-name">open(ChannelPid, Name, Mode) -&gt; {ok, Handle} | Error</span> </h4> <h4 id="open-4" onmouseover="document.getElementById('ghlink-open-4-idp65').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-open-4-idp65').style.visibility = 'hidden';">  <span class="title-name">open(ChannelPid, Name, Mode, Timeout) -&gt; {ok, Handle} | Error</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>        <div class="exports-tube"> <p>Opens a file on the server and returns a handle, which can be used for reading or writing.</p> </div></article><article class="func"><h4 id="opendir-2" onmouseover="document.getElementById('ghlink-opendir-2-idp66').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-opendir-2-idp66').style.visibility = 'hidden';">  <span class="title-name">opendir(ChannelPid, Path) -&gt; {ok, Handle} | Error</span> </h4> <h4 id="opendir-3" onmouseover="document.getElementById('ghlink-opendir-3-idp67').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-opendir-3-idp67').style.visibility = 'hidden';">  <span class="title-name">opendir(ChannelPid, Path, Timeout) -&gt; {ok, Handle} | Error</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>       <div class="exports-tube"> <p>Opens a handle to a directory on the server. The handle can be used for reading directory contents.</p> </div></article><article class="func"><h4 id="open_tar-3" onmouseover="document.getElementById('ghlink-open_tar-3-idp68').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-open_tar-3-idp68').style.visibility = 'hidden';">  <span class="title-name">open_tar(ChannelPid, Path, Mode) -&gt; {ok, Handle} | Error</span><div class="title-since"><span class="since">OTP 17.4</span></div> </h4> <h4 id="open_tar-4" onmouseover="document.getElementById('ghlink-open_tar-4-idp69').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-open_tar-4-idp69').style.visibility = 'hidden';">  <span class="title-name">open_tar(ChannelPid, Path, Mode, Timeout) -&gt; {ok, Handle} | Error</span><div class="title-since"><span class="since">OTP 17.4</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>        <div class="exports-tube"> <p>Opens a handle to a tar file on the server, associated with <code class="code">ChannelPid</code>. The handle can be used for remote tar creation and extraction. The actual writing and reading is performed by calls to <code>erl_tar:add/3,4</code> and <code>erl_tar:extract/2</code>. Note: The <code>erl_tar:init/3</code> function should not be called, that one is called by this open_tar function. </p> <p>For code examples see Section <code><a href="using_ssh#sftp-client-with-tar-compression">SFTP Client with TAR Compression</a></code> in the ssh Users Guide. </p> <p>The <code class="code">crypto</code> mode option is explained in the data types section above, see <code><a href="#Crypto%20operations%20for%20open_tar">Crypto operations for open_tar</a></code>. Encryption is assumed if the <code class="code">Mode</code> contains <code class="code">write</code>, and decryption if the <code class="code">Mode</code> contains <code class="code">read</code>. </p> </div></article><article class="func"><h4 id="position-3" onmouseover="document.getElementById('ghlink-position-3-idp70').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-position-3-idp70').style.visibility = 'hidden';">  <span class="title-name">position(ChannelPid, Handle, Location) -&gt;<br> {ok, NewPosition} | Error</span> </h4> <h4 id="position-4" onmouseover="document.getElementById('ghlink-position-4-idp71').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-position-4-idp71').style.visibility = 'hidden';">  <span class="title-name">position(ChannelPid, Handle, Location, Timeout) -&gt;<br> {ok, NewPosition} | Error</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>         <div class="exports-tube"> <p>Sets the file position of the file referenced by <code class="code">Handle</code>. Returns <code class="code">{ok, NewPosition}</code> (as an absolute offset) if successful, otherwise <code class="code">{error, reason()}</code>. <code class="code">Location</code> is one of the following:</p> <dl> <dt><strong><code class="code">Offset</code></strong></dt> <dd> <p>The same as <code class="code">{bof, Offset}</code>.</p> </dd> <dt><strong><code class="code">{bof, Offset}</code></strong></dt> <dd> <p>Absolute offset.</p> </dd> <dt><strong><code class="code">{cur, Offset}</code></strong></dt> <dd> <p>Offset from the current position.</p> </dd> <dt><strong><code class="code">{eof, Offset}</code></strong></dt> <dd> <p>Offset from the end of file.</p> </dd> <dt><strong><code class="code">bof | cur | eof</code></strong></dt> <dd> <p>The same as eariler with <code class="code">Offset</code> 0, that is, <code class="code">{bof, 0} | {cur, 0} | {eof, 0}</code>. </p> </dd> </dl> </div></article><article class="func"><h4 id="pread-4" onmouseover="document.getElementById('ghlink-pread-4-idp72').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pread-4-idp72').style.visibility = 'hidden';">  <span class="title-name">pread(ChannelPid, Handle, Position, Len) -&gt;<br> {ok, Data} | eof | Error</span> </h4> <h4 id="pread-5" onmouseover="document.getElementById('ghlink-pread-5-idp73').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pread-5-idp73').style.visibility = 'hidden';">  <span class="title-name">pread(ChannelPid, Handle, Position, Len, Timeout) -&gt;<br> {ok, Data} | eof | Error</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>         <div class="exports-tube"> <p>The <code class="code">pread/3,4</code> function reads from a specified position, combining the <code><a href="#position-3"><span class="code">position/3</span></a></code> and <code><a href="#read-3"><span class="code">read/3,4</span></a></code> functions.</p> </div></article><article class="func"><h4 id="pwrite-4" onmouseover="document.getElementById('ghlink-pwrite-4-idp74').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pwrite-4-idp74').style.visibility = 'hidden';">  <span class="title-name">pwrite(ChannelPid, Handle, Position, Data) -&gt; ok | Error</span> </h4> <h4 id="pwrite-5" onmouseover="document.getElementById('ghlink-pwrite-5-idp75').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pwrite-5-idp75').style.visibility = 'hidden';">  <span class="title-name">pwrite(ChannelPid, Handle, Position, Data, Timeout) -&gt; ok | Error</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>        <div class="exports-tube"> <p>The <code class="code">pwrite/3,4</code> function writes to a specified position, combining the <code><a href="#position-3"><span class="code">position/3</span></a></code> and <code><a href="#write-3"><span class="code">write/3,4</span></a></code> functions.</p> </div></article><article class="func"><h4 id="read-3" onmouseover="document.getElementById('ghlink-read-3-idp76').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-read-3-idp76').style.visibility = 'hidden';">  <span class="title-name">read(ChannelPid, Handle, Len) -&gt; {ok, Data} | eof | Error</span> </h4> <h4 id="read-4" onmouseover="document.getElementById('ghlink-read-4-idp77').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-read-4-idp77').style.visibility = 'hidden';">  <span class="title-name">read(ChannelPid, Handle, Len, Timeout) -&gt; {ok, Data} | eof | Error</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>        <div class="exports-tube"> <p>Reads <code class="code">Len</code> bytes from the file referenced by <code class="code">Handle</code>. Returns <code class="code">{ok, Data}</code>, <code class="code">eof</code>, or <code class="code">{error, reason()}</code>. If the file is opened with <code class="code">binary</code>, <code class="code">Data</code> is a binary, otherwise it is a string.</p> <p>If the file is read past <code class="code">eof</code>, only the remaining bytes are read and returned. If no bytes are read, <code class="code">eof</code> is returned.</p> </div></article><article class="func"><h4 id="read_file-2" onmouseover="document.getElementById('ghlink-read_file-2-idp78').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-read_file-2-idp78').style.visibility = 'hidden';">  <span class="title-name">read_file(ChannelPid, File) -&gt; {ok, Data} | Error</span> </h4> <h4 id="read_file-3" onmouseover="document.getElementById('ghlink-read_file-3-idp79').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-read_file-3-idp79').style.visibility = 'hidden';">  <span class="title-name">read_file(ChannelPid, File, Timeout) -&gt; {ok, Data} | Error</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>       <div class="exports-tube"> <p>Reads a file from the server, and returns the data in a binary.</p> </div></article><article class="func"><h4 id="read_file_info-2" onmouseover="document.getElementById('ghlink-read_file_info-2-idp80').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-read_file_info-2-idp80').style.visibility = 'hidden';">  <span class="title-name">read_file_info(ChannelPid, Name) -&gt; {ok, FileInfo} | Error</span> </h4> <h4 id="read_file_info-3" onmouseover="document.getElementById('ghlink-read_file_info-3-idp81').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-read_file_info-3-idp81').style.visibility = 'hidden';">  <span class="title-name">read_file_info(ChannelPid, Name, Timeout) -&gt;<br> {ok, FileInfo} | Error</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>       <div class="exports-tube"> <p>Returns a <code class="code">file_info</code> record from the file system object specified by <code class="code">Name</code> or <code class="code">Handle</code>. See <code>file:read_file_info/2</code> for information about the record. </p> <p> Depending on the underlying OS:es links might be followed and info on the final file, directory etc is returned. See <code><a href="#read_link_info-2">read_link_info/2</a></code> on how to get information on links instead. </p> </div></article><article class="func"><h4 id="read_link-2" onmouseover="document.getElementById('ghlink-read_link-2-idp82').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-read_link-2-idp82').style.visibility = 'hidden';">  <span class="title-name">read_link(ChannelPid, Name) -&gt; {ok, Target} | Error</span> </h4> <h4 id="read_link-3" onmouseover="document.getElementById('ghlink-read_link-3-idp83').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-read_link-3-idp83').style.visibility = 'hidden';">  <span class="title-name">read_link(ChannelPid, Name, Timeout) -&gt; {ok, Target} | Error</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>       <div class="exports-tube"> <p>Reads the link target from the symbolic link specified by <code class="code">name</code>. </p> </div></article><article class="func"><h4 id="read_link_info-2" onmouseover="document.getElementById('ghlink-read_link_info-2-idp84').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-read_link_info-2-idp84').style.visibility = 'hidden';">  <span class="title-name">read_link_info(ChannelPid, Name) -&gt; {ok, FileInfo} | Error</span> </h4> <h4 id="read_link_info-3" onmouseover="document.getElementById('ghlink-read_link_info-3-idp85').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-read_link_info-3-idp85').style.visibility = 'hidden';">  <span class="title-name">read_link_info(ChannelPid, Name, Timeout) -&gt;<br> {ok, FileInfo} | Error</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>       <div class="exports-tube"> <p>Returns a <code class="code">file_info</code> record from the symbolic link specified by <code class="code">Name</code> or <code class="code">Handle</code>. See <code>file:read_link_info/2</code> for information about the record. </p> </div></article><article class="func"><h4 id="rename-3" onmouseover="document.getElementById('ghlink-rename-3-idp86').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-rename-3-idp86').style.visibility = 'hidden';">  <span class="title-name">rename(ChannelPid, OldName, NewName) -&gt; ok | Error</span> </h4> <h4 id="rename-4" onmouseover="document.getElementById('ghlink-rename-4-idp87').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-rename-4-idp87').style.visibility = 'hidden';">  <span class="title-name">rename(ChannelPid, OldName, NewName, Timeout) -&gt; ok | Error</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>       <div class="exports-tube"> <p>Renames a file named <code class="code">OldName</code> and gives it the name <code class="code">NewName</code>. </p> </div></article><article class="func"><div><h4 id="start_channel-1" class="title-link" onmouseover="document.getElementById('ghlink-start_channel-1-idm4162').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-start_channel-1-idm4162').style.visibility = 'hidden';">  <div class="title-name">start_channel(ConnectionRef) -&gt;</div> </h4></div> <div><h4 id="start_channel-2" class="title-link" onmouseover="document.getElementById('ghlink-start_channel-2-idm4163').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-start_channel-2-idm4163').style.visibility = 'hidden';">  <div class="title-name">start_channel(ConnectionRef, SftpOptions) -&gt; {ok, ChannelPid} | Error</div> </h4></div> <div><h4 id="start_channel-1" class="title-link" onmouseover="document.getElementById('ghlink-start_channel-1-idm4164').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-start_channel-1-idm4164').style.visibility = 'hidden';">  <div class="title-name">start_channel(Host) -&gt;</div> </h4></div> <div><h4 id="start_channel-2" class="title-link" onmouseover="document.getElementById('ghlink-start_channel-2-idm4165').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-start_channel-2-idm4165').style.visibility = 'hidden';">  <div class="title-name">start_channel(Host, Options) -&gt;</div> </h4></div> <div><h4 id="start_channel-3" class="title-link" onmouseover="document.getElementById('ghlink-start_channel-3-idm4166').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-start_channel-3-idm4166').style.visibility = 'hidden';">  <div class="title-name">start_channel(Host, Port, Options) -&gt;</div> </h4></div> <div><h4 id="start_channel-1" class="title-link" onmouseover="document.getElementById('ghlink-start_channel-1-idm4167').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-start_channel-1-idm4167').style.visibility = 'hidden';">  <div class="title-name">start_channel(TcpSocket) -&gt;</div> </h4></div> <div><h4 id="start_channel-2" class="title-link" onmouseover="document.getElementById('ghlink-start_channel-2-idm4168').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-start_channel-2-idm4168').style.visibility = 'hidden';">  <div class="title-name">start_channel(TcpSocket, Options) -&gt; {ok, ChannelPid, ConnectionRef} | Error</div> </h4></div> <div class="exports-tube">  <h2 id="types" class="func-types-title">Types</h2>           <p>If no connection reference is provided, a connection is set up, and the new connection is returned. An SSH channel process is started to handle the communication with the SFTP server. The returned <code class="code">pid</code> for this process is to be used as input to all other API functions in this module.</p> <p>Options:</p> <dl> <dt><strong><code class="code">{timeout, timeout()}</code></strong></dt> <dd> <p>There are two ways to set a timeout for the underlying ssh connection:</p> <ul> <li>If the connection timeout option <code class="code">connect_timeout</code> is set, that value is used also for the negotiation timeout and this option (<code class="code">timeout</code>) is ignored.</li> <li>Otherwise, this option (<code class="code">timeout</code>) is used as the negotiation timeout only and there is no connection timeout set</li> </ul> <p>The value defaults to <code class="code">infinity</code>.</p> </dd> <dt><strong> <code class="code">{sftp_vsn, integer()}</code> </strong></dt> <dd> <p> Desired SFTP protocol version. The actual version is the minimum of the desired version and the maximum supported versions by the SFTP server. </p> </dd> </dl> <p>All other options are directly passed to <code><a href="ssh">ssh:connect/3</a></code> or ignored if a connection is already provided.</p>  </div></article><article class="func"><h4 id="stop_channel-1" onmouseover="document.getElementById('ghlink-stop_channel-1-idp88').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-stop_channel-1-idp88').style.visibility = 'hidden';">  <span class="title-name">stop_channel(ChannelPid) -&gt; ok</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>   <div class="exports-tube"> <p>Stops an SFTP channel. Does not close the SSH connection. Use <code><a href="ssh#close-1">ssh:close/1</a></code> to close it.</p> </div></article><article class="func"><h4 id="write-3" onmouseover="document.getElementById('ghlink-write-3-idp89').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-write-3-idp89').style.visibility = 'hidden';">  <span class="title-name">write(ChannelPid, Handle, Data) -&gt; ok | Error</span> </h4> <h4 id="write-4" onmouseover="document.getElementById('ghlink-write-4-idp90').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-write-4-idp90').style.visibility = 'hidden';">  <span class="title-name">write(ChannelPid, Handle, Data, Timeout) -&gt; ok | Error</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>       <div class="exports-tube"> <p>Writes <code class="code">data</code> to the file referenced by <code class="code">Handle</code>. The file is to be opened with <code class="code">write</code> or <code class="code">append</code> flag. Returns <code class="code">ok</code> if successful or <code class="code">{error, reason()}</code> otherwise.</p> </div></article><article class="func"><h4 id="write_file-3" onmouseover="document.getElementById('ghlink-write_file-3-idp91').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-write_file-3-idp91').style.visibility = 'hidden';">  <span class="title-name">write_file(ChannelPid, File, Data) -&gt; ok | Error</span> </h4> <h4 id="write_file-4" onmouseover="document.getElementById('ghlink-write_file-4-idp92').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-write_file-4-idp92').style.visibility = 'hidden';">  <span class="title-name">write_file(ChannelPid, File, Data, Timeout) -&gt; ok | Error</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>       <div class="exports-tube"> <p>Writes a file to the server. The file is created if it does not exist but overwritten if it exists.</p> </div></article><article class="func"><h4 id="write_file_info-3" onmouseover="document.getElementById('ghlink-write_file_info-3-idp93').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-write_file_info-3-idp93').style.visibility = 'hidden';">  <span class="title-name">write_file_info(ChannelPid, Name, FileInfo) -&gt; ok | Error</span> </h4> <h4 id="write_file_info-4" onmouseover="document.getElementById('ghlink-write_file_info-4-idp94').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-write_file_info-4-idp94').style.visibility = 'hidden';">  <span class="title-name">write_file_info(ChannelPid, Name, FileInfo, Timeout) -&gt; ok | Error</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>       <div class="exports-tube"> <p>Writes file information from a <code class="code">file_info</code> record to the file specified by <code class="code">Name</code>. See <code>file:write_file_info/[2,3]</code> for information about the record. </p> </div></article> </div> <div class="footer"> <hr> <p>Copyright © 2005-2022 Ericsson AB. All Rights Reserved.</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2022 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>
