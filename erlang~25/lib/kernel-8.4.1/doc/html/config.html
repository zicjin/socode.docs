  <div class="innertube"> <h2 id="file" class="title-link" onmouseover="document.getElementById('ghlink-file-idm4521').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-file-idm4521').style.visibility = 'hidden';"> <div class="title-name">File</div>  </h2> <p class="REFBODY file-body">config</p> </div> <div class="innertube"> <h2 id="file-summary" class="title-link" onmouseover="document.getElementById('ghlink-file-summary-idm4522').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-file-summary-idm4522').style.visibility = 'hidden';"> <div class="title-name">File Summary</div>  </h2> <p class="REFBODY file-summary-body">Configuration file.</p> </div> <section class="description"><div class="innertube"> <h2 id="description" class="title-link" onmouseover="document.getElementById('ghlink-description-idm4523').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-description-idm4523').style.visibility = 'hidden';"> <div class="title-name">Description</div>  </h2> 
<p>A <strong>configuration file</strong> contains values for configuration parameters for the applications in the system. The <code class="code">erl</code> command-line argument <code><span class="code">-config Name</span></code> tells the system to use data in the system configuration file <code class="code">Name.config</code>.</p> <p>The erl command-line argument <code><span class="code">-configfd</span></code> works the same way as the <code class="code">-config</code> option but specifies a file descriptor to read configuration data from instead of a file.</p> <p>The configuration data from configuration files and file descriptors are read in the same order as they are given on the command line. For example, <code class="code">erl -config a -configfd 3 -config b -configfd 4</code> would cause the system to read configuration data in the following order <code class="code">a.config</code>, file descriptor <code class="code">3</code>, <code class="code">b.config</code>, and file descriptor <code class="code">4</code>. If a configuration parameter is specified more than once in the given files and file descriptors, the last one overrides the previous ones.</p> <p>Configuration parameter values in a configuration file or file descriptor override the values in the application resource files (see <code><a href="app"><span class="code">app(4)</span></a></code>). The values in the configuration file are always overridden by command-line flags (see <code><span class="code">erts:erl(1)</span></code>).</p> <p>The value of a configuration parameter is retrieved by calling <code class="code">application:get_env/1,2</code>.</p>  </div></section> <section class="innertube"><h2 id="file-syntax" class="title-link" onmouseover="document.getElementById('ghlink-file-syntax-idm4547').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-file-syntax-idm4547').style.visibility = 'hidden';"> <div class="title-name">File Syntax</div>  </h2>  <p>The configuration file is to be called <code class="code">Name.config</code>, where <code class="code">Name</code> is any name.</p> <p>File <code class="code">.config</code> contains a single Erlang term and has the following syntax:</p> <pre data-language="erlang">[{Application1, [{Par11, Val11}, ...]},
 ...
 {ApplicationN, [{ParN1, ValN1}, ...]}].</pre> <dl> <dt><strong><code class="code">Application = atom()</code></strong></dt> <dd><p>Application name.</p></dd> <dt><strong><code class="code">Par = atom()</code></strong></dt> <dd><p>Name of a configuration parameter.</p></dd> <dt><strong><code class="code">Val = term()</code></strong></dt> <dd><p>Value of a configuration parameter.</p></dd> </dl> </section> <section class="innertube"><h2 id="sys.config" class="title-link" onmouseover="document.getElementById('ghlink-sys.config-idm4568').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-sys.config-idm4568').style.visibility = 'hidden';"> <div class="title-name">sys.config</div>  </h2>  <p>When starting Erlang in embedded mode, it is assumed that exactly one system configuration file is used, named <code class="code">sys.config</code>. This file is to be located in <code class="code">$ROOT/releases/Vsn</code>, where <code class="code">$ROOT</code> is the Erlang/OTP root installation directory and <code class="code">Vsn</code> is the release version.</p> <p>Release handling relies on this assumption. When installing a new release version, the new <code class="code">sys.config</code> is read and used to update the application's configurations.</p> <p>This means that specifying another <code class="code">.config</code> file, or more <code class="code">.config</code> files, leads to an inconsistent update of application configurations. There is, however, a way to point out other config files from a <code class="code">sys.config</code>. How to do this is described in the next section.</p> </section> <section class="innertube"><h2 id="including-files-from-sys.config-and--configfd-configurations" class="title-link" onmouseover="document.getElementById('ghlink-including-files-from-sys.config-and--configfd-configurations-idm4581').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-including-files-from-sys.config-and--configfd-configurations-idm4581').style.visibility = 'hidden';"> <div class="title-name">Including Files from sys.config and -configfd Configurations</div>  </h2>  <p>There is a way to include other configuration files from a <code class="code">sys.config</code> file and from a configuration that comes from a file descriptor that has been pointed out with the <code><span class="code">-configfd</span></code> command-line argument.</p> <p>The syntax for including files can be described by the <code>Erlang type language</code> like this:</p> <pre data-language="erlang">[{Application, [{Par, Val}]} | IncludeFile].</pre> <dl> <dt><strong><code class="code">IncludeFile = string()</code></strong></dt> <dd>Name of a <code class="code">.config</code> file. The extension <code class="code">.config</code> can be omitted. It is recommended to use absolute paths. If a relative path is used in a <code class="code">sys.config</code>, <code class="code">IncludeFile</code> is searched, first, relative to the <code class="code">sys.config</code> directory, then relative to the current working directory of the emulator. If a relative path is used in a <code class="code">-configfd</code> configuration, <code class="code">IncludeFile</code> is searched, first, relative to the dictionary containing the <code>boot script</code> (see also the <code><span class="code">-boot</span></code> command-line argument) for the emulator, then relative to the current working directory of the emulator. This makes it possible to use <code class="code">sys.config</code> for pointing out other <code class="code">.config</code> files in a release or in a node started manually using <code class="code">-config</code> or <code class="code">-configfd</code> with the same result whatever the current working directory is. </dd> </dl> <p>When traversing the contents of a <code class="code">sys.config</code> or a <code class="code">-configfd</code> configuration and a filename is encountered, its contents are read and merged with the result so far. When an application configuration tuple <code class="code">{Application, Env}</code> is found, it is merged with the result so far. Merging means that new parameters are added and existing parameter values are overwritten.</p> <p><strong>Example:</strong></p> <pre data-language="erlang">sys.config:

["/home/user/myconfig1"
 {myapp,[{par1,val1},{par2,val2}]},
 "/home/user/myconfig2"].

myconfig1.config:

[{myapp,[{par0,val0},{par1,val0},{par2,val0}]}].

myconfig2.config:

[{myapp,[{par2,val3},{par3,val4}]}].</pre> <p>This yields the following environment for <code class="code">myapp</code>:</p> <pre data-language="erlang">[{par0,val0},{par1,val1},{par2,val3},{par3,val4}]</pre> <p>The run-time system will abort before staring up if an include file specified in <code class="code">sys.config</code> or a <code class="code">-configfd</code> configuration does not exist, or is erroneous. However, installing a new release version will not fail if there is an error while loading an include file, but an error message is returned and the erroneous file is ignored.</p> </section> <section class="innertube"><h2 id="see-also" class="title-link" onmouseover="document.getElementById('ghlink-see-also-idm4621').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-see-also-idm4621').style.visibility = 'hidden';"> <div class="title-name">See Also</div>  </h2>  <p><code><a href="app"><span class="code">app(4)</span></a></code>, <code><span class="code">erts:erl(1)</span></code>, <code>OTP Design Principles</code></p> </section> <div class="footer"> <hr> <p>Copyright Â© 1997-2022 Ericsson AB. All Rights Reserved.</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2022 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>
