  <div class="innertube"> <h2 id="module" class="title-link" onmouseover="document.getElementById('ghlink-module-idm323').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-idm323').style.visibility = 'hidden';"> <div class="title-name">Module</div>  </h2> <p class="REFBODY module-body">disksup</p> </div> <div class="innertube"> <h2 id="module-summary" class="title-link" onmouseover="document.getElementById('ghlink-module-summary-idm324').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-summary-idm324').style.visibility = 'hidden';"> <div class="title-name">Module Summary</div>  </h2> <p class="REFBODY module-summary-body">A Disk Supervisor Process</p> </div> <section class="description"><div class="innertube"> <h2 id="description" class="title-link" onmouseover="document.getElementById('ghlink-description-idm325').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-description-idm325').style.visibility = 'hidden';"> <div class="title-name">Description</div>  </h2> 
<p><code class="code">disksup</code> is a process which supervises the available disk space in the system. It is part of the OS_Mon application, see <code><span>os_mon(6)</span></code>. Available for Unix and Windows.</p> <p>Periodically checks the disks. For each disk or partition which uses more than a certain amount of the available space, the alarm <code class="code">{{disk_almost_full, MountedOn}, []}</code> is set.</p> <dl> <dt><strong>On Unix</strong></dt> <dd> <p>All (locally) mounted disks are checked, including the swap disk if it is present.</p> </dd> <dt><strong>On WIN32</strong></dt> <dd> <p>All logical drives of type "FIXED_DISK" are checked.</p> </dd> </dl> <p>Alarms are reported to the SASL alarm handler, see <code>alarm_handler(3)</code>. To set an alarm, <code class="code">alarm_handler:set_alarm(Alarm)</code> is called where <code class="code">Alarm</code> is the alarm specified above.</p> <p>The alarms are cleared automatically when the alarm cause is no longer valid.</p>  </div></section> <section class="innertube"><h2 id="configuration" class="title-link" onmouseover="document.getElementById('ghlink-configuration-idm343').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-configuration-idm343').style.visibility = 'hidden';"> <div class="title-name">Configuration</div>  </h2>  <p>The following configuration parameters can be used to change the default values for time interval and threshold:</p> <dl> <dt><strong><code class="code">disk_space_check_interval = int()&gt;0</code></strong></dt> <dd> <p>The time interval, in minutes, for the periodic disk space check. The default is 30 minutes.</p> </dd> <dt><strong><code class="code">disk_almost_full_threshold = float()</code></strong></dt> <dd> <p>The threshold, as percentage of total disk space, for how much disk can be utilized before the <code class="code">disk_almost_full</code> alarm is set. The default is 0.80 (80%).</p> </dd> <dt><strong><code class="code">disksup_posix_only = bool()</code></strong></dt> <dd> <p>Specifies whether the <code class="code">disksup</code> helper process should only use POSIX conformant commands (<code class="code">true</code>) or not. The default is <code class="code">false</code>. Setting this parameter to <code class="code">true</code> can be necessary on embedded systems with stripped-down versions of Unix tools like <code class="code">df</code>. The returned disk data and alarms can be different when using this option.</p> <p>The parameter is ignored on platforms that are known to not be POSIX compatible (Windows and SunOS).</p> </dd> </dl> <p>See <code>config(4)</code> for information about how to change the value of configuration parameters.</p> </section> <div class="innertube"><h2 id="export" class="title-link" onmouseover="document.getElementById('ghlink-export-idm369').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-export-idm369').style.visibility = 'hidden';"> <div class="title-name">Exports</div>  </h2></div> <div class="exports-body"> <article class="func"><div><h4 id="get_disk_data-0" class="title-link" onmouseover="document.getElementById('ghlink-get_disk_data-0-idm371').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-get_disk_data-0-idm371').style.visibility = 'hidden';">  <div class="title-name">get_disk_data() -&gt; [DiskData]</div> </h4></div> <div class="exports-tube">  <h2 id="types" class="func-types-title">Types</h2>       <p>Returns the result of the latest disk check. <code class="code">Id</code> is a string that identifies the disk or partition. <code class="code">KByte</code> is the total size of the disk or partition in kbytes. <code class="code">Capacity</code> is the percentage of disk space used.</p> <p>The function is asynchronous in the sense that it does not invoke a disk check, but returns the latest available value.</p> <p>Returns <code class="code">[{"none",0,0}]</code> if <code class="code">disksup</code> is not available.</p>  </div></article><article class="func"><div><h4 id="get_check_interval-0" class="title-link" onmouseover="document.getElementById('ghlink-get_check_interval-0-idm388').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-get_check_interval-0-idm388').style.visibility = 'hidden';">  <div class="title-name">get_check_interval() -&gt; MS</div> </h4></div> <div class="exports-tube">  <h2 id="types" class="func-types-title">Types</h2>    <p>Returns the time interval, in milliseconds, for the periodic disk space check.</p>  </div></article><article class="func"><div><h4 id="set_check_interval-1" class="title-link" onmouseover="document.getElementById('ghlink-set_check_interval-1-idm395').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-set_check_interval-1-idm395').style.visibility = 'hidden';">  <div class="title-name">set_check_interval(Minutes) -&gt; ok</div> </h4></div> <div class="exports-tube">  <h2 id="types" class="func-types-title">Types</h2>    <p>Changes the time interval, given in minutes, for the periodic disk space check.</p> <p>The change will take effect after the next disk space check and is non-persist. That is, in case of a process restart, this value is forgotten and the default value will be used. See <code><a href="#config">Configuration</a></code> above.</p>  </div></article><article class="func"><div><h4 id="get_almost_full_threshold-0" class="title-link" onmouseover="document.getElementById('ghlink-get_almost_full_threshold-0-idm404').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-get_almost_full_threshold-0-idm404').style.visibility = 'hidden';">  <div class="title-name">get_almost_full_threshold() -&gt; Percent</div> </h4></div> <div class="exports-tube">  <h2 id="types" class="func-types-title">Types</h2>    <p>Returns the threshold, in percent, for disk space utilization.</p>  </div></article><article class="func"><div><h4 id="set_almost_full_threshold-1" class="title-link" onmouseover="document.getElementById('ghlink-set_almost_full_threshold-1-idm411').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-set_almost_full_threshold-1-idm411').style.visibility = 'hidden';">  <div class="title-name">set_almost_full_threshold(Float) -&gt; ok</div> </h4></div> <div class="exports-tube">  <h2 id="types" class="func-types-title">Types</h2>    <p>Changes the threshold, given as a float, for disk space utilization.</p> <p>The change will take effect during the next disk space check and is non-persist. That is, in case of a process restart, this value is forgotten and the default value will be used. See <code><a href="#config">Configuration</a></code> above.</p>  </div></article> </div> <section class="innertube"><h2 id="see-also" class="title-link" onmouseover="document.getElementById('ghlink-see-also-idm419').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-see-also-idm419').style.visibility = 'hidden';"> <div class="title-name">See Also</div>  </h2>  <p><code>alarm_handler(3)</code>, <code><span>os_mon(3)</span></code></p> </section> <div class="footer"> <hr> <p>Copyright Â© 1997-2022 Ericsson AB. All Rights Reserved.</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2022 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>
