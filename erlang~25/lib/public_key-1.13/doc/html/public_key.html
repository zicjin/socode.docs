  <div class="innertube"> <h2 id="module" class="title-link" onmouseover="document.getElementById('ghlink-module-idm848').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-idm848').style.visibility = 'hidden';"> <div class="title-name">Module</div>  </h2> <p class="REFBODY module-body">public_key</p> </div> <div class="innertube"> <h2 id="module-summary" class="title-link" onmouseover="document.getElementById('ghlink-module-summary-idm849').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-summary-idm849').style.visibility = 'hidden';"> <div class="title-name">Module Summary</div>  </h2> <p class="REFBODY module-summary-body">API module for public-key infrastructure.</p> </div> <section class="description"><div class="innertube"> <h2 id="description" class="title-link" onmouseover="document.getElementById('ghlink-description-idm850').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-description-idm850').style.visibility = 'hidden';"> <div class="title-name">Description</div>  </h2> 
<p>Provides functions to handle public-key infrastructure, for details see <code><span>public_key(6)</span></code>. </p>  </div></section> <section class="innertube"><h2 id="common-records-and-asn.1-types" class="title-link" onmouseover="document.getElementById('ghlink-common-records-and-asn.1-types-idm853').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-common-records-and-asn.1-types-idm853').style.visibility = 'hidden';"> <div class="title-name">Common Records and ASN.1 Types</div>  </h2>  <div class="note"> <div class="label">Note</div> <div class="content">

<p>All records used in this Reference Manual are generated from ASN.1 specifications and are documented in the User's Guide. See <code><a href="public_key_records">Public-key Records</a></code>. </p>
</div> </div> <p>Use the following include directive to get access to the records and constant macros described here and in the User's Guide:</p> <pre data-language="erlang">-include_lib("public_key/include/public_key.hrl").</pre> </section> <div class="innertube"> <h2 id="data-types" class="title-link" onmouseover="document.getElementById('ghlink-data-types-idm860').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-data-types-idm860').style.visibility = 'hidden';"> <div class="title-name">Data Types</div>  </h2> <article class="data-types-body"><h4 id="type-oid" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-oid').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-oid').style.visibility = 'hidden';">  <div class="title-name"> <code>oid() = <span id="type-oid">tuple()</span></code><br> </div> </h4> <div class="data-type-desc"> <p>Object identifier, a tuple of integers as generated by the <code class="code">ASN.1</code> compiler.</p> </div></article> <article class="data-types-body"><h4 id="type-key_oid_name" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-key_oid_name').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-key_oid_name').style.visibility = 'hidden';">  <div class="title-name"> <code>key_oid_name() = <br id="type-key_oid_name">    rsaEncryption | 'id-RSASSA-PSS' | 'id-ecPublicKey' |<br>    'id-Ed25519' | 'id-Ed448' | 'id-dsa'</code><br> </div> </h4> <div class="data-type-desc"> <p>Macro names for key object identifiers used by prefixing with ?</p> </div></article> <article class="data-types-body"><h4 id="type-der_encoded" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-der_encoded').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-der_encoded').style.visibility = 'hidden';">  <div class="title-name"> <code>der_encoded() = <span id="type-der_encoded">binary()</span></code><br> </div> </h4> </article> <article class="data-types-body"><h4 id="type-pki_asn1_type" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-pki_asn1_type').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-pki_asn1_type').style.visibility = 'hidden';">  <div class="title-name"> <code>pki_asn1_type() = <br id="type-pki_asn1_type">    'Certificate' | 'RSAPrivateKey' | 'RSAPublicKey' |<br>    'DSAPrivateKey' | 'DSAPublicKey' | 'DHParameter' |<br>    'SubjectPublicKeyInfo' | 'PrivateKeyInfo' |<br>    'CertificationRequest' | 'CertificateList' | 'ECPrivateKey' |<br>    'EcpkParameters'</code><br> </div> </h4> </article> <article class="data-types-body"><h4 id="type-asn1_type" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-asn1_type').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-asn1_type').style.visibility = 'hidden';">  <div class="title-name"> <code>asn1_type() = <span id="type-asn1_type">atom()</span></code><br> </div> </h4> <div class="data-type-desc"> <p>ASN.1 type present in the Public Key applications ASN.1 specifications.</p> </div></article> <article class="data-types-body"><h4 id="type-pem_entry" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-pem_entry').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-pem_entry').style.visibility = 'hidden';">  <div class="title-name"> <code>pem_entry() = <br id="type-pem_entry">    {<span><a href="#type-pki_asn1_type">pki_asn1_type()</a></span>,<br>     <span><a href="#type-der_or_encrypted_der">der_or_encrypted_der()</a></span>,<br>     not_encrypted | <span><a href="#type-cipher_info">cipher_info()</a></span>}</code><br> <code>der_or_encrypted_der() = <span id="type-der_or_encrypted_der">binary()</span></code><br> <code>cipher_info() = {<span id="type-cipher_info"><a href="#type-cipher">cipher()</a></span>, <span><a href="#type-cipher_info_params">cipher_info_params()</a></span>}</code><br> <code>cipher() = <span id="type-cipher">string()</span></code><br> <code>salt() = <span id="type-salt">binary()</span></code><br> <code>cipher_info_params() = <br id="type-cipher_info_params">    <span><a href="#type-salt">salt()</a></span> |<br>    {#'PBEParameter'{}, <span><a href="#type-digest_type">digest_type()</a></span>} |<br>    #'PBES2-params'{}</code><br> </div> </h4> <div class="data-type-desc"> <pre data-language="erlang">Cipher = "RC2-CBC" | "DES-CBC" | "DES-EDE3-CBC"</pre> <p><code class="code">Salt</code> could be generated with <code><span class="code">crypto:strong_rand_bytes(8)</span></code>.</p> </div></article> <article class="data-types-body"><h4 id="type-public_key" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-public_key').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-public_key').style.visibility = 'hidden';">  <div class="title-name"> <code>public_key() = <br id="type-public_key">    <span><a href="#type-rsa_public_key">rsa_public_key()</a></span> |<br>    <span><a href="#type-rsa_pss_public_key">rsa_pss_public_key()</a></span> |<br>    <span><a href="#type-dsa_public_key">dsa_public_key()</a></span> |<br>    <span><a href="#type-ec_public_key">ec_public_key()</a></span> |<br>    <span><a href="#type-ed_public_key">ed_public_key()</a></span></code><br> <code id="type-rsa_public_key">rsa_public_key() = #'RSAPublicKey'{}</code><br> <code>dss_public_key() = <span id="type-dss_public_key">integer()</span></code><br> <code>rsa_pss_public_key() = <br id="type-rsa_pss_public_key">    {<span><a href="#type-rsa_pss_public_key">rsa_pss_public_key()</a></span>, #'RSASSA-PSS-params'{}}</code><br> <code>dsa_public_key() = {<span id="type-dsa_public_key"><a href="#type-dss_public_key">dss_public_key()</a></span>, #'Dss-Parms'{}}</code><br> <code>ec_public_key() = {#'ECPoint'{}, <span id="type-ec_public_key"><a href="#type-ecpk_parameters_api">ecpk_parameters_api()</a></span>}</code><br> <code>public_key_params() = <br id="type-public_key_params">    'NULL' |<br>    #'RSASSA-PSS-params'{} |<br>    {namedCurve, <span><a href="#type-oid">oid()</a></span>} |<br>    #'ECParameters'{} |<br>    #'Dss-Parms'{}</code><br> <code>ecpk_parameters() = <br id="type-ecpk_parameters">    {ecParameters, #'ECParameters'{}} |<br>    {namedCurve, Oid :: <span>tuple()</span>}</code><br> <code>ecpk_parameters_api() = <br id="type-ecpk_parameters_api">    <span><a href="#type-ecpk_parameters">ecpk_parameters()</a></span> |<br>    #'ECParameters'{} |<br>    {namedCurve, Name :: <span>crypto:ec_named_curve()</span>}</code><br> <code>public_key_info() = <br id="type-public_key_info">    {<span><a href="#type-key_oid_name">key_oid_name()</a></span>,<br>     <span><a href="#type-rsa_public_key">rsa_public_key()</a></span> | #'ECPoint'{} | <span><a href="#type-dss_public_key">dss_public_key()</a></span>,<br>     <span><a href="#type-public_key_params">public_key_params()</a></span>}</code><br> </div> </h4> </article> <article class="data-types-body"><h4 id="type-ed_public_key" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-ed_public_key').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-ed_public_key').style.visibility = 'hidden';">  <div class="title-name"> <code>ed_public_key() = {#'ECPoint'{}, <span id="type-ed_public_key"><a href="#type-ed_params">ed_params()</a></span>}</code><br> </div> </h4> </article> <article class="data-types-body"><h4 id="type-ed_params" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-ed_params').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-ed_params').style.visibility = 'hidden';">  <div class="title-name"> <code>ed_params() = {namedCurve, <span id="type-ed_params"><a href="#type-ed_oid_name">ed_oid_name()</a></span>}</code><br> </div> </h4> </article> <article class="data-types-body"><h4 id="type-private_key" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-private_key').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-private_key').style.visibility = 'hidden';">  <div class="title-name"> <code>private_key() = <br id="type-private_key">    <span><a href="#type-rsa_private_key">rsa_private_key()</a></span> |<br>    <span><a href="#type-rsa_pss_private_key">rsa_pss_private_key()</a></span> |<br>    <span><a href="#type-dsa_private_key">dsa_private_key()</a></span> |<br>    <span><a href="#type-ec_private_key">ec_private_key()</a></span> |<br>    <span><a href="#type-ed_private_key">ed_private_key()</a></span></code><br> <code id="type-rsa_private_key">rsa_private_key() = #'RSAPrivateKey'{}</code><br> <code>rsa_pss_private_key() = <br id="type-rsa_pss_private_key">    {#'RSAPrivateKey'{}, #'RSASSA-PSS-params'{}}</code><br> <code id="type-dsa_private_key">dsa_private_key() = #'DSAPrivateKey'{}</code><br> <code id="type-ec_private_key">ec_private_key() = #'ECPrivateKey'{}</code><br> </div> </h4> </article> <article class="data-types-body"><h4 id="type-ed_private_key" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-ed_private_key').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-ed_private_key').style.visibility = 'hidden';">  <div class="title-name"> <code>ed_private_key() = #'ECPrivateKey'{parameters = <span id="type-ed_private_key"><a href="#type-ed_params">ed_params()</a></span>}</code><br> </div> </h4> </article> <article class="data-types-body"><h4 id="type-ed_oid_name" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-ed_oid_name').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-ed_oid_name').style.visibility = 'hidden';">  <div class="title-name"> <code id="type-ed_oid_name">ed_oid_name() = 'id-Ed25519' | 'id-Ed448'</code><br> </div> </h4> <div class="data-type-desc"> <p>Macro names for object identifiers for EDDSA curves used by prefixing with ?</p> </div></article> <article class="data-types-body"><h4 id="type-key_params" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-key_params').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-key_params').style.visibility = 'hidden';">  <div class="title-name"> <code>key_params() = <br id="type-key_params">    #'DHParameter'{} |<br>    {namedCurve, <span><a href="#type-oid">oid()</a></span>} |<br>    #'ECParameters'{} |<br>    {rsa, Size :: <span>integer()</span>, PubExp :: <span>integer()</span>}</code><br> </div> </h4> </article> <article class="data-types-body"><h4 id="type-digest_type" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-digest_type').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-digest_type').style.visibility = 'hidden';">  <div class="title-name"> <code>digest_type() = <br id="type-digest_type">    none | sha1 |<br>    <span>crypto:rsa_digest_type()</span> |<br>    <span>crypto:dss_digest_type()</span> |<br>    <span>crypto:ecdsa_digest_type()</span></code><br> </div> </h4> </article> <article class="data-types-body"><h4 id="type-issuer_name" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-issuer_name').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-issuer_name').style.visibility = 'hidden';">  <div class="title-name"> <code id="type-issuer_name">issuer_name() = {rdnSequence, [[#'AttributeTypeAndValue'{}]]}</code><br> </div> </h4> </article> <article class="data-types-body"><h4 id="type-referenceIDs" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-referenceIDs').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-referenceIDs').style.visibility = 'hidden';">  <div class="title-name"> <code>referenceIDs() = [<span id="type-referenceIDs"><a href="#type-referenceID">referenceID()</a></span>]</code><br> </div> </h4> </article> <article class="data-types-body"><h4 id="type-referenceID" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-referenceID').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-referenceID').style.visibility = 'hidden';">  <div class="title-name"> <code>referenceID() = <br id="type-referenceID">    {uri_id | dns_id | ip | srv_id | <span>atom()</span> | <span><a href="#type-oid">oid()</a></span>, <span>string()</span>} |<br>    {ip, <span>inet:ip_address()</span> | <span>string()</span>}</code><br> </div> </h4> </article> <article class="data-types-body"><h4 id="type-cert_id" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-cert_id').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-cert_id').style.visibility = 'hidden';">  <div class="title-name"> <code>cert_id() = {SerialNr :: <span id="type-cert_id">integer()</span>, <span><a href="#type-issuer_name">issuer_name()</a></span>}</code><br> </div> </h4> </article> <article class="data-types-body"><h4 id="type-cert" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-cert').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-cert').style.visibility = 'hidden';">  <div class="title-name"> <code>cert() = <span id="type-cert"><a href="#type-der_cert">der_cert()</a></span> | <span><a href="#type-otp_cert">otp_cert()</a></span></code><br> </div> </h4> </article> <article class="data-types-body"><h4 id="type-otp_cert" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-otp_cert').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-otp_cert').style.visibility = 'hidden';">  <div class="title-name"> <code id="type-otp_cert">otp_cert() = #'OTPCertificate'{}</code><br> </div> </h4> </article> <article class="data-types-body"><h4 id="type-der_cert" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-der_cert').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-der_cert').style.visibility = 'hidden';">  <div class="title-name"> <code>der_cert() = <span id="type-der_cert"><a href="#type-der_encoded">der_encoded()</a></span></code><br> </div> </h4> </article> <article class="data-types-body"><h4 id="type-combined_cert" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-combined_cert').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-combined_cert').style.visibility = 'hidden';">  <div class="title-name"> <code>combined_cert() = <br id="type-combined_cert">    #cert{der = <span><a href="public_key#type-der_encoded">public_key:der_encoded()</a></span>,<br>          otp = #'OTPCertificate'{}}</code><br> </div> </h4> </article> <article class="data-types-body"><h4 id="type-bad_cert_reason" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-bad_cert_reason').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-bad_cert_reason').style.visibility = 'hidden';">  <div class="title-name"> <code>bad_cert_reason() = <br id="type-bad_cert_reason">    cert_expired | invalid_issuer | invalid_signature |<br>    name_not_permitted | missing_basic_constraint |<br>    invalid_key_usage |<br>    {revoked, <span><a href="#type-crl_reason">crl_reason()</a></span>} |<br>    <span>atom()</span></code><br> </div> </h4> </article> <article class="data-types-body"><h4 id="type-crl_reason" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-crl_reason').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-crl_reason').style.visibility = 'hidden';">  <div class="title-name"> <code>crl_reason() = <br id="type-crl_reason">    unspecified | keyCompromise | cACompromise |<br>    affiliationChanged | superseded | cessationOfOperation |<br>    certificateHold | privilegeWithdrawn | aACompromise</code><br> </div> </h4> </article> <article class="data-types-body"><h4 id="type-chain_opts" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-chain_opts').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-chain_opts').style.visibility = 'hidden';">  <div class="title-name"> <code>chain_opts() = <br id="type-chain_opts">    #{<span><a href="#type-chain_end">chain_end()</a></span> := [<span><a href="#type-cert_opt">cert_opt()</a></span>],<br>      intermediates =&gt; [[<span><a href="#type-cert_opt">cert_opt()</a></span>]]}</code><br> </div> </h4> </article> <article class="data-types-body"><h4 id="type-chain_end" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-chain_end').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-chain_end').style.visibility = 'hidden';">  <div class="title-name"> <code id="type-chain_end">chain_end() = root | peer</code><br> </div> </h4> </article> <article class="data-types-body"><h4 id="type-cert_opt" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-cert_opt').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-cert_opt').style.visibility = 'hidden';">  <div class="title-name"> <code>cert_opt() = <br id="type-cert_opt">    {digest, <span><a href="public_key#type-digest_type">public_key:digest_type()</a></span>} |<br>    {key, <span><a href="public_key#type-key_params">public_key:key_params()</a></span> | <span><a href="public_key#type-private_key">public_key:private_key()</a></span>} |<br>    {validity,<br>     {From :: <span>erlang:timestamp()</span>, To :: <span>erlang:timestamp()</span>}} |<br>    {extensions, [#'Extension'{}]}</code><br> </div> </h4> </article> <article class="data-types-body"><h4 id="type-test_root_cert" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-test_root_cert').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-test_root_cert').style.visibility = 'hidden';">  <div class="title-name"> <code>test_root_cert() = <br id="type-test_root_cert">    #{cert := <span><a href="#type-der_encoded">der_encoded()</a></span>, key := <span><a href="public_key#type-private_key">public_key:private_key()</a></span>}</code><br> </div> </h4> </article> <article class="data-types-body"><h4 id="type-test_config" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-test_config').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-test_config').style.visibility = 'hidden';">  <div class="title-name"> <code>test_config() = <br id="type-test_config">    #{server_config := [<span><a href="#type-conf_opt">conf_opt()</a></span>],<br>      client_config := [<span><a href="#type-conf_opt">conf_opt()</a></span>]}</code><br> </div> </h4> </article> <article class="data-types-body"><h4 id="type-conf_opt" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-conf_opt').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-conf_opt').style.visibility = 'hidden';">  <div class="title-name"> <code>conf_opt() = <br id="type-conf_opt">    {cert, <span><a href="public_key#type-der_encoded">public_key:der_encoded()</a></span>} |<br>    {key, <span><a href="public_key#type-private_key">public_key:private_key()</a></span>} |<br>    {cacerts, [<span><a href="public_key#type-der_encoded">public_key:der_encoded()</a></span>]}</code><br> </div> </h4> </article> </div> <div class="innertube"><h2 id="export" class="title-link" onmouseover="document.getElementById('ghlink-export-idm978').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-export-idm978').style.visibility = 'hidden';"> <div class="title-name">Exports</div>  </h2></div> <div class="exports-body"> <article class="func"><h4 id="cacerts_clear-0" onmouseover="document.getElementById('ghlink-cacerts_clear-0-idp1').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-cacerts_clear-0-idp1').style.visibility = 'hidden';">  <span class="title-name">cacerts_clear() -&gt; <code>boolean()</code></span><div class="title-since"><span class="since">OTP 25.0</span></div> </h4> <div class="exports-tube"> <p>Clears any loaded CA certificates, returns true if any was loaded. </p> </div></article><article class="func"><h4 id="cacerts_get-0" onmouseover="document.getElementById('ghlink-cacerts_get-0-idp2').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-cacerts_get-0-idp2').style.visibility = 'hidden';">  <span class="title-name">cacerts_get() -&gt; [<code><a href="#type-combined_cert">combined_cert()</a></code>]</span><div class="title-since"><span class="since">OTP 25.0</span></div> </h4> <div class="exports-tube"> <p>Returns the trusted CA certificates if any are loaded, otherwise uses <code><a href="#cacerts_load-0">cacerts_load/0</a></code> to load them. The function fails if no <code class="code">cacerts</code> could be loaded.</p> </div></article><article class="func"><h4 id="cacerts_load-0" onmouseover="document.getElementById('ghlink-cacerts_load-0-idp3').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-cacerts_load-0-idp3').style.visibility = 'hidden';">  <span class="title-name">cacerts_load() -&gt; ok | {error, Reason :: <code>term()</code>}</span><div class="title-since"><span class="since">OTP 25.0</span></div> </h4> <div class="exports-tube"> <p>Loads the OS supplied trusted CA certificates. </p> </div></article><article class="func"><h4 id="cacerts_load-1" onmouseover="document.getElementById('ghlink-cacerts_load-1-idp4').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-cacerts_load-1-idp4').style.visibility = 'hidden';">  <span class="title-name">cacerts_load(File :: <code>file:filename_all()</code>) -&gt;<br> ok | {error, Reason :: <code>term()</code>}</span><div class="title-since"><span class="since">OTP 25.0</span></div> </h4> <div class="exports-tube"> <p>Loads the trusted CA certificates from a file. </p> </div></article><article class="func"><h4 id="compute_key-2" onmouseover="document.getElementById('ghlink-compute_key-2-idp5').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-compute_key-2-idp5').style.visibility = 'hidden';">  <span class="title-name">compute_key(OthersECDHkey, MyECDHkey) -&gt; SharedSecret</span><div class="title-since"><span class="since">OTP R16B01</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>     <div class="exports-tube"> <p>Computes shared secret.</p> </div></article><article class="func"><h4 id="compute_key-3" onmouseover="document.getElementById('ghlink-compute_key-3-idp6').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-compute_key-3-idp6').style.visibility = 'hidden';">  <span class="title-name">compute_key(OthersDHkey, MyDHkey, DHparms) -&gt; SharedSecret</span><div class="title-since"><span class="since">OTP R16B01</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>      <div class="exports-tube"> <p>Computes shared secret.</p> </div></article><article class="func"><h4 id="decrypt_private-2" onmouseover="document.getElementById('ghlink-decrypt_private-2-idp7').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-decrypt_private-2-idp7').style.visibility = 'hidden';">  <span class="title-name">decrypt_private(CipherText, Key) -&gt; PlainText</span><div class="title-since"><span class="since">OTP R14B</span></div> </h4> <h4 id="decrypt_private-3" onmouseover="document.getElementById('ghlink-decrypt_private-3-idp8').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-decrypt_private-3-idp8').style.visibility = 'hidden';">  <span class="title-name">decrypt_private(CipherText, Key, Options) -&gt; PlainText</span><div class="title-since"><span class="since">OTP R14B</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>      <div class="exports-tube"> <p>Public-key decryption using the private key. See also <code>crypto:private_decrypt/4</code></p> </div></article><article class="func"><h4 id="decrypt_public-2" onmouseover="document.getElementById('ghlink-decrypt_public-2-idp9').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-decrypt_public-2-idp9').style.visibility = 'hidden';">  <span class="title-name">decrypt_public(CipherText, Key) -&gt; PlainText</span><div class="title-since"><span class="since">OTP R14B</span></div> </h4> <h4 id="decrypt_public-3" onmouseover="document.getElementById('ghlink-decrypt_public-3-idp10').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-decrypt_public-3-idp10').style.visibility = 'hidden';">  <span class="title-name">decrypt_public(CipherText, Key, Options) -&gt; PlainText</span><div class="title-since"><span class="since">OTP R14B</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>      <div class="exports-tube"> <p>Public-key decryption using the public key. See also <code>crypto:public_decrypt/4</code></p> </div></article><article class="func"><h4 id="der_decode-2" onmouseover="document.getElementById('ghlink-der_decode-2-idp11').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-der_decode-2-idp11').style.visibility = 'hidden';">  <span class="title-name">der_decode(Asn1Type, Der) -&gt; Entity</span><div class="title-since"><span class="since">OTP R14B</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>     <div class="exports-tube"> <p>Decodes a public-key ASN.1 DER encoded entity.</p> </div></article><article class="func"><h4 id="der_encode-2" onmouseover="document.getElementById('ghlink-der_encode-2-idp12').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-der_encode-2-idp12').style.visibility = 'hidden';">  <span class="title-name">der_encode(Asn1Type, Entity) -&gt; Der</span><div class="title-since"><span class="since">OTP R14B</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>     <div class="exports-tube"> <p>Encodes a public-key entity with ASN.1 DER encoding.</p> </div></article><article class="func"><h4 id="dh_gex_group-4" onmouseover="document.getElementById('ghlink-dh_gex_group-4-idp13').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-dh_gex_group-4-idp13').style.visibility = 'hidden';">  <span class="title-name">dh_gex_group(MinSize, SuggestedSize, MaxSize, Groups) -&gt;<br> {ok, {Size, Group}} | {error, <code>term()</code>}</span><div class="title-since"><span class="since">OTP 18.2</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>          <div class="exports-tube"> <p>Selects a group for Diffie-Hellman key exchange with the key size in the range <code class="code">MinSize...MaxSize</code> and as close to <code class="code">SuggestedSize</code> as possible. If <code class="code">Groups == undefined</code> a default set will be used, otherwise the group is selected from <code class="code">Groups</code>.</p> <p>First a size, as close as possible to SuggestedSize, is selected. Then one group with that key size is randomly selected from the specified set of groups. If no size within the limits of <code class="code">MinSize</code> and <code class="code">MaxSize</code> is available, <code class="code">{error,no_group_found}</code> is returned.</p> <p>The default set of groups is listed in <code class="code">lib/public_key/priv/moduli</code>. This file may be regenerated like this:</p> <pre data-language="erlang">
$&gt; cd $ERL_TOP/lib/public_key/priv/
$&gt; generate
         ---- wait until all background jobs has finished. It may take several days !
$&gt; cat moduli-* &gt; moduli
$&gt; cd ..; make 
      </pre> </div></article><article class="func"><h4 id="encrypt_private-2" onmouseover="document.getElementById('ghlink-encrypt_private-2-idp14').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-encrypt_private-2-idp14').style.visibility = 'hidden';">  <span class="title-name">encrypt_private(PlainText, Key) -&gt; CipherText</span><div class="title-since"><span class="since">OTP R14B</span></div> </h4> <h4 id="encrypt_private-3" onmouseover="document.getElementById('ghlink-encrypt_private-3-idp15').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-encrypt_private-3-idp15').style.visibility = 'hidden';">  <span class="title-name">encrypt_private(PlainText, Key, Options) -&gt; CipherText</span><div class="title-since"><span class="since">OTP 21.1</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>      <div class="exports-tube"> <p>Public-key encryption using the private key. See also <code>crypto:private_encrypt/4</code>.</p> </div></article><article class="func"><h4 id="encrypt_public-2" onmouseover="document.getElementById('ghlink-encrypt_public-2-idp16').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-encrypt_public-2-idp16').style.visibility = 'hidden';">  <span class="title-name">encrypt_public(PlainText, Key) -&gt; CipherText</span><div class="title-since"><span class="since">OTP R14B</span></div> </h4> <h4 id="encrypt_public-3" onmouseover="document.getElementById('ghlink-encrypt_public-3-idp17').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-encrypt_public-3-idp17').style.visibility = 'hidden';">  <span class="title-name">encrypt_public(PlainText, Key, Options) -&gt; CipherText</span><div class="title-since"><span class="since">OTP 21.1</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>      <div class="exports-tube"> <p>Public-key encryption using the public key. See also <code>crypto:public_encrypt/4</code>.</p> </div></article><article class="func"><h4 id="generate_key-1" onmouseover="document.getElementById('ghlink-generate_key-1-idp18').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-generate_key-1-idp18').style.visibility = 'hidden';">  <span class="title-name">generate_key(Params :: DHparams | ECparams | RSAparams) -&gt;<br> DHkeys | ECkey | RSAkey</span><div class="title-since"><span class="since">OTP R16B01</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>          <div class="exports-tube"> <p>Generates a new key pair. Note that except for Diffie-Hellman the public key is included in the private key structure. See also <code>crypto:generate_key/2</code> </p> </div></article><article class="func"><h4 id="pem_decode-1" onmouseover="document.getElementById('ghlink-pem_decode-1-idp19').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pem_decode-1-idp19').style.visibility = 'hidden';">  <span class="title-name">pem_decode(PemBin :: <code>binary()</code>) -&gt; [<code><a href="#type-pem_entry">pem_entry()</a></code>]</span><div class="title-since"><span class="since">OTP R14B</span></div> </h4> <div class="exports-tube"> <p>Decodes PEM binary data and returns entries as ASN.1 DER encoded entities.</p> <p>Example <code class="code">{ok, PemBin} = file:read_file("cert.pem"). PemEntries = public_key:pem_decode(PemBin).</code></p> </div></article><article class="func"><h4 id="pem_encode-1" onmouseover="document.getElementById('ghlink-pem_encode-1-idp20').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pem_encode-1-idp20').style.visibility = 'hidden';">  <span class="title-name">pem_encode(PemEntries :: [<code><a href="#type-pem_entry">pem_entry()</a></code>]) -&gt; <code>binary()</code></span><div class="title-since"><span class="since">OTP R14B</span></div> </h4> <div class="exports-tube"> <p>Creates a PEM binary.</p> </div></article><article class="func"><h4 id="pem_entry_decode-1" onmouseover="document.getElementById('ghlink-pem_entry_decode-1-idp21').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pem_entry_decode-1-idp21').style.visibility = 'hidden';">  <span class="title-name">pem_entry_decode(PemEntry) -&gt; <code>term()</code></span><div class="title-since"><span class="since">OTP R14B</span></div> </h4> <h4 id="pem_entry_decode-2" onmouseover="document.getElementById('ghlink-pem_entry_decode-2-idp22').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pem_entry_decode-2-idp22').style.visibility = 'hidden';">  <span class="title-name">pem_entry_decode(PemEntry, Password) -&gt; <code>term()</code></span><div class="title-since"><span class="since">OTP R14B</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p>Decodes a PEM entry. <code class="code">pem_decode/1</code> returns a list of PEM entries. Notice that if the PEM entry is of type 'SubjectPublickeyInfo', it is further decoded to an <code class="code">rsa_public_key()</code> or <code class="code">dsa_public_key()</code>.</p> <p>Password can be either an octet string or function which returns same type.</p> </div></article><article class="func"><h4 id="pem_entry_encode-2" onmouseover="document.getElementById('ghlink-pem_entry_encode-2-idp23').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pem_entry_encode-2-idp23').style.visibility = 'hidden';">  <span class="title-name">pem_entry_encode(Asn1Type, Entity) -&gt; <code><a href="#type-pem_entry">pem_entry()</a></code></span><div class="title-since"><span class="since">OTP R14B</span></div> </h4> <h4 id="pem_entry_encode-3" onmouseover="document.getElementById('ghlink-pem_entry_encode-3-idp24').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pem_entry_encode-3-idp24').style.visibility = 'hidden';">  <span class="title-name">pem_entry_encode(Asn1Type, Entity, InfoPwd) -&gt; <code><a href="#type-pem_entry">pem_entry()</a></code></span><div class="title-since"><span class="since">OTP R14B</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>       <div class="exports-tube"> <p>Creates a PEM entry that can be feed to <code class="code">pem_encode/1</code>.</p> <p>If <code class="code">Asn1Type</code> is <code class="code">'SubjectPublicKeyInfo'</code>, <code class="code">Entity</code> must be either an <code class="code">rsa_public_key()</code>, <code class="code">dsa_public_key()</code> or an <code class="code">ec_public_key()</code> and this function creates the appropriate <code class="code">'SubjectPublicKeyInfo'</code> entry. </p> </div></article><article class="func"><h4 id="pkix_decode_cert-2" onmouseover="document.getElementById('ghlink-pkix_decode_cert-2-idp25').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pkix_decode_cert-2-idp25').style.visibility = 'hidden';">  <span class="title-name">pkix_decode_cert(Cert, Type) -&gt; #'Certificate'{} | <code><a href="#type-otp_cert">otp_cert()</a></code></span> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p>Decodes an ASN.1 DER-encoded PKIX certificate. Option <code class="code">otp</code> uses the customized ASN.1 specification OTP-PKIX.asn1 for decoding and also recursively decode most of the standard parts.</p> </div></article><article class="func"><h4 id="pkix_encode-3" onmouseover="document.getElementById('ghlink-pkix_encode-3-idp26').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pkix_encode-3-idp26').style.visibility = 'hidden';">  <span class="title-name">pkix_encode(Asn1Type, Entity, Type) -&gt; Der</span><div class="title-since"><span class="since">OTP R14B</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>      <div class="exports-tube"> <p>DER encodes a PKIX x509 certificate or part of such a certificate. This function must be used for encoding certificates or parts of certificates that are decoded/created in the <code class="code">otp</code> format, whereas for the plain format this function directly calls <code class="code">der_encode/2</code>.</p> <div class="note"> <div class="label">Note</div> <div class="content">

<p>Subtle ASN-1 encoding errors in certificates may be worked around when decoding, this may have the affect that the encoding a certificate back to DER may generate different bytes then the supplied original.</p>
</div> </div> </div></article><article class="func"><h4 id="pkix_is_issuer-2" onmouseover="document.getElementById('ghlink-pkix_is_issuer-2-idp27').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pkix_is_issuer-2-idp27').style.visibility = 'hidden';">  <span class="title-name">pkix_is_issuer(CertorCRL, IssuerCert) -&gt; <code>boolean()</code></span><div class="title-since"><span class="since">OTP R14B</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p>Checks if <code class="code">IssuerCert</code> issued <code class="code">Cert</code>.</p> </div></article><article class="func"><h4 id="pkix_is_fixed_dh_cert-1" onmouseover="document.getElementById('ghlink-pkix_is_fixed_dh_cert-1-idp28').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pkix_is_fixed_dh_cert-1-idp28').style.visibility = 'hidden';">  <span class="title-name">pkix_is_fixed_dh_cert(Cert) -&gt; <code>boolean()</code></span><div class="title-since"><span class="since">OTP R14B</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>   <div class="exports-tube"> <p>Checks if a certificate is a fixed Diffie-Hellman certificate.</p> </div></article><article class="func"><h4 id="pkix_is_self_signed-1" onmouseover="document.getElementById('ghlink-pkix_is_self_signed-1-idp29').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pkix_is_self_signed-1-idp29').style.visibility = 'hidden';">  <span class="title-name">pkix_is_self_signed(Cert) -&gt; <code>boolean()</code></span><div class="title-since"><span class="since">OTP R14B</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>   <div class="exports-tube"> <p>Checks if a certificate is self-signed.</p> </div></article><article class="func"><h4 id="pkix_issuer_id-2" onmouseover="document.getElementById('ghlink-pkix_issuer_id-2-idp30').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pkix_issuer_id-2-idp30').style.visibility = 'hidden';">  <span class="title-name">pkix_issuer_id(Cert, IssuedBy) -&gt;<br> {ok, ID :: <code><a href="#type-cert_id">cert_id()</a></code>} | {error, Reason}</span><div class="title-since"><span class="since">OTP R14B</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>     <div class="exports-tube"> <p>Returns the x509 certificate issuer id, if it can be determined.</p> </div></article><article class="func"><h4 id="pkix_normalize_name-1" onmouseover="document.getElementById('ghlink-pkix_normalize_name-1-idp31').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pkix_normalize_name-1-idp31').style.visibility = 'hidden';">  <span class="title-name">pkix_normalize_name(Issuer) -&gt; Normalized</span><div class="title-since"><span class="since">OTP R14B</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p>Normalizes an issuer name so that it can be easily compared to another issuer name.</p> </div></article><article class="func"><h4 id="pkix_path_validation-3" onmouseover="document.getElementById('ghlink-pkix_path_validation-3-idp32').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pkix_path_validation-3-idp32').style.visibility = 'hidden';">  <span class="title-name">pkix_path_validation(Cert, CertChain, Options) -&gt;<br> {ok, {PublicKeyInfo, PolicyTree}} |<br> {error,<br> {bad_cert, Reason :: <code><a href="#type-bad_cert_reason">bad_cert_reason()</a></code>}}</span><div class="title-since"><span class="since">OTP R16B</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>       <div class="exports-tube"> <p> Performs a basic path validation according to <code><a href="http://www.ietf.org/rfc/rfc5280.txt">RFC 5280.</a></code> However, CRL validation is done separately by <code><a href="#pkix_crls_validate-3">pkix_crls_validate/3 </a></code> and is to be called from the supplied <code class="code">verify_fun</code>. The optional policy tree check is currently not implemented but an empty place holder list is returned instead. </p> <p>Available options:</p> <dl> <dt><strong>{verify_fun, {fun(), InitialUserState::term()}</strong></dt> <dd> <p>The fun must be defined as:</p> <pre data-language="erlang">fun(OtpCert :: #'OTPCertificate'{},
    Event :: {bad_cert, Reason :: atom() | {revoked, atom()}} |
             {extension, #'Extension'{}},
    InitialUserState :: term()) -&gt;
	{valid, UserState :: term()} |
	{valid_peer, UserState :: term()} |
	{fail, Reason :: term()} |
	{unknown, UserState :: term()}.</pre> <p>If the verify callback fun returns <code class="code">{fail, Reason}</code>, the verification process is immediately stopped. If the verify callback fun returns <code class="code">{valid, UserState}</code>, the verification process is continued. This can be used to accept specific path validation errors, such as <code class="code">selfsigned_peer</code>, as well as verifying application-specific extensions. If called with an extension unknown to the user application, the return value <code class="code">{unknown, UserState}</code> is to be used.</p> <div class="warning"> <div class="label">Warning</div> <div class="content">

<p> Note that user defined custom <code class="code">verify_fun</code> may alter original path validation error (e.g <code class="code">selfsigned_peer</code>). Use with caution. </p>
</div> </div> </dd> <dt><strong>{max_path_length, integer()}</strong></dt> <dd> The <code class="code">max_path_length</code> is the maximum number of non-self-issued intermediate certificates that can follow the peer certificate in a valid certification path. So, if <code class="code">max_path_length</code> is 0, the PEER must be signed by the trusted ROOT-CA directly, if it is 1, the path can be PEER, CA, ROOT-CA, if it is 2, the path can be PEER, CA, CA, ROOT-CA, and so on. </dd> </dl> <p>Explanations of reasons for a bad certificate: </p> <dl> <dt><strong>cert_expired</strong></dt> <dd><p>Certificate is no longer valid as its expiration date has passed.</p></dd> <dt><strong>invalid_issuer</strong></dt> <dd><p>Certificate issuer name does not match the name of the issuer certificate in the chain.</p></dd> <dt><strong>invalid_signature</strong></dt> <dd><p>Certificate was not signed by its issuer certificate in the chain.</p></dd> <dt><strong>name_not_permitted</strong></dt> <dd><p>Invalid Subject Alternative Name extension.</p></dd> <dt><strong>missing_basic_constraint</strong></dt> <dd><p>Certificate, required to have the basic constraints extension, does not have a basic constraints extension.</p></dd> <dt><strong>invalid_key_usage</strong></dt> <dd><p>Certificate key is used in an invalid way according to the key-usage extension.</p></dd> <dt><strong>{revoked, crl_reason()}</strong></dt> <dd><p>Certificate has been revoked.</p></dd> <dt><strong>atom()</strong></dt> <dd><p>Application-specific error reason that is to be checked by the <code class="code">verify_fun</code>.</p></dd> </dl> </div></article><article class="func"><h4 id="pkix_crl_issuer-1" onmouseover="document.getElementById('ghlink-pkix_crl_issuer-1-idp33').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pkix_crl_issuer-1-idp33').style.visibility = 'hidden';">  <span class="title-name">pkix_crl_issuer(CRL) -&gt; Issuer</span><div class="title-since"><span class="since">OTP 17.5</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p>Returns the issuer of the <code class="code">CRL</code>.</p> </div></article><article class="func"><h4 id="pkix_crls_validate-3" onmouseover="document.getElementById('ghlink-pkix_crls_validate-3-idp34').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pkix_crls_validate-3-idp34').style.visibility = 'hidden';">  <span class="title-name">pkix_crls_validate(OTPcertificate, DPandCRLs, Options) -&gt;<br> CRLstatus</span><div class="title-since"><span class="since">OTP R16B</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>           <div class="exports-tube"> <p>Performs CRL validation. It is intended to be called from the verify fun of <code><a href="#pkix_path_validation-3"> pkix_path_validation/3 </a></code>.</p> <p>Available options:</p> <dl> <dt><strong>{update_crl, fun()}</strong></dt> <dd> <p>The fun has the following type specification:</p> <pre data-language="erlang">fun(#'DistributionPoint'{}, #'CertificateList'{}) -&gt;
       #'CertificateList'{}</pre> <p>The fun uses the information in the distribution point to access the latest possible version of the CRL. If this fun is not specified, Public Key uses the default implementation: </p> <pre data-language="erlang">fun(_DP, CRL) -&gt; CRL end</pre> </dd> <dt><strong>{issuer_fun, fun()}</strong></dt> <dd> <p>The fun has the following type specification:</p> <pre data-language="erlang">fun(#'DistributionPoint'{}, #'CertificateList'{},
    {rdnSequence,[#'AttributeTypeAndValue'{}]}, term()) -&gt;
	{ok, #'OTPCertificate'{}, [der_encoded]}</pre> <p>The fun returns the root certificate and certificate chain that has signed the CRL. </p> <pre data-language="erlang">fun(DP, CRL, Issuer, UserState) -&gt; {ok, RootCert, CertChain}</pre> </dd> <dt><strong>{undetermined_details, boolean()}</strong></dt> <dd> <p>Defaults to false. When revocation status cannot be determined, and this option is set to true, details of why no CRLs where accepted are included in the return value.</p> </dd> </dl> </div></article><article class="func"><h4 id="pkix_crl_verify-2" onmouseover="document.getElementById('ghlink-pkix_crl_verify-2-idp35').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pkix_crl_verify-2-idp35').style.visibility = 'hidden';">  <span class="title-name">pkix_crl_verify(CRL, Cert) -&gt; <code>boolean()</code></span><div class="title-since"><span class="since">OTP 17.5</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p>Verify that <code class="code">Cert</code> is the <code class="code">CRL</code> signer.</p> </div></article><article class="func"><h4 id="pkix_dist_point-1" onmouseover="document.getElementById('ghlink-pkix_dist_point-1-idp36').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pkix_dist_point-1-idp36').style.visibility = 'hidden';">  <span class="title-name">pkix_dist_point(Cert) -&gt; DistPoint</span><div class="title-since"><span class="since">OTP 17.5</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p>Creates a distribution point for CRLs issued by the same issuer as <code class="code">Cert</code>. Can be used as input to <code><a href="#pkix_crls_validate-3">pkix_crls_validate/3 </a></code> </p> </div></article><article class="func"><h4 id="pkix_dist_points-1" onmouseover="document.getElementById('ghlink-pkix_dist_points-1-idp37').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pkix_dist_points-1-idp37').style.visibility = 'hidden';">  <span class="title-name">pkix_dist_points(Cert) -&gt; DistPoints</span><div class="title-since"><span class="since">OTP 17.5</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p> Extracts distribution points from the certificates extensions.</p> </div></article><article class="func"><h4 id="pkix_hash_type-1" onmouseover="document.getElementById('ghlink-pkix_hash_type-1-idp38').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pkix_hash_type-1-idp38').style.visibility = 'hidden';">  <span class="title-name">pkix_hash_type(HashOid :: <code><a href="#type-oid">oid()</a></code>) -&gt;<br> DigestType ::<br> md5 | <code>crypto:sha1()</code> | <code>crypto:sha2()</code></span><div class="title-since"><span class="since">OTP 23.0</span></div> </h4> <div class="exports-tube"> <p>Translates OID to Erlang digest type</p> </div></article><article class="func"><h4 id="pkix_match_dist_point-2" onmouseover="document.getElementById('ghlink-pkix_match_dist_point-2-idp39').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pkix_match_dist_point-2-idp39').style.visibility = 'hidden';">  <span class="title-name">pkix_match_dist_point(CRL, DistPoint) -&gt; <code>boolean()</code></span><div class="title-since"><span class="since">OTP 19.0</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p>Checks whether the given distribution point matches the Issuing Distribution Point of the CRL, as described in RFC 5280. If the CRL doesn't have an Issuing Distribution Point extension, the distribution point always matches.</p> </div></article><article class="func"><h4 id="pkix_sign-2" onmouseover="document.getElementById('ghlink-pkix_sign-2-idp40').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pkix_sign-2-idp40').style.visibility = 'hidden';">  <span class="title-name">pkix_sign(Cert, Key) -&gt; Der</span><div class="title-since"><span class="since">OTP R14B</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>     <div class="exports-tube"> <p>Signs an 'OTPTBSCertificate'. Returns the corresponding DER-encoded certificate.</p> </div></article><article class="func"><h4 id="pkix_sign_types-1" onmouseover="document.getElementById('ghlink-pkix_sign_types-1-idp41').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pkix_sign_types-1-idp41').style.visibility = 'hidden';">  <span class="title-name">pkix_sign_types(AlgorithmId) -&gt; {DigestType, SignatureType}</span><div class="title-since"><span class="since">OTP R16B01</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>     <div class="exports-tube"> <p>Translates signature algorithm OID to Erlang digest and signature types. </p> <p>The <code class="code">AlgorithmId</code> is the signature OID from a certificate or a certificate revocation list.</p> </div></article><article class="func"><h4 id="pkix_test_data-1" onmouseover="document.getElementById('ghlink-pkix_test_data-1-idp42').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pkix_test_data-1-idp42').style.visibility = 'hidden';">  <span class="title-name">pkix_test_data(ChainConf) -&gt; TestConf</span><div class="title-since"><span class="since">OTP 20.1</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p> Creates certificate configuration(s) consisting of certificate and its private key plus CA certificate bundle, for a client and a server, intended to facilitate automated testing of applications using X509-certificates, often through SSL/TLS. The test data can be used when you have control over both the client and the server in a test scenario. </p> <p> When this function is called with a map containing client and server chain specifications; it generates both a client and a server certificate chain where the <code class="code">cacerts</code> returned for the server contains the root cert the server should trust and the intermediate certificates the server should present to connecting clients. The root cert the server should trust is the one used as root of the client certificate chain. Vice versa applies to the <code class="code">cacerts</code> returned for the client. The root cert(s) can either be pre-generated with <code><a href="#pkix_test_root_cert-2"> pkix_test_root_cert/2 </a></code>, or if options are specified; it is (they are) generated. </p> <p> When this function is called with a list of certificate options; it generates a configuration with just one node certificate where <code class="code">cacerts</code> contains the root cert and the intermediate certs that should be presented to a peer. In this case the same root cert must be used for all peers. This is useful in for example an Erlang distributed cluster where any node, towards another node, acts either as a server or as a client depending on who connects to whom. The generated certificate contains a subject altname, which is not needed in a client certificate, but makes the certificate useful for both roles. </p> <p> Explanation of the options used to customize certificates in the generated chains: </p> <dl> <dt><strong> {digest, digest_type()}</strong></dt> <dd><p>Hash algorithm to be used for signing the certificate together with the key option. Defaults to sha that is sha1. </p></dd> <dt><strong> {key, key_params() | private_key()}</strong></dt> <dd><p>Parameters to be used to call public_key:generate_key/1, to generate a key, or an existing key. Defaults to generating an ECDSA key. Note this could fail if Erlang/OTP is compiled with a very old cryptolib.</p></dd> <dt><strong> {validity, {From::erlang:timestamp(), To::erlang:timestamp()}} </strong></dt> <dd><p>The validity period of the certificate.</p></dd> <dt><strong> {extensions, [#'Extension'{}]}</strong></dt> <dd> <p> Extensions to include in the certificate.</p> <p>Default extensions included in CA certificates if not otherwise specified are: </p> <pre data-language="erlang">[#'Extension'{extnID = ?'id-ce-keyUsage',
              extnValue = [keyCertSign, cRLSign],
              critical = false},
#'Extension'{extnID = ?'id-ce-basicConstraints',
             extnValue = #'BasicConstraints'{cA = true},
             critical = true}]</pre> <p>Default extensions included in the server peer cert if not otherwise specified are: </p> <pre data-language="erlang">[#'Extension'{extnID = ?'id-ce-keyUsage',
              extnValue = [digitalSignature, keyAgreement],
              critical = false},
#'Extension'{extnID = ?'id-ce-subjectAltName',
             extnValue = [{dNSName, Hostname}],
             critical = false}]</pre> <p>Hostname is the result of calling net_adm:localhost() in the Erlang node where this function is called. </p> </dd> </dl> <div class="note"> <div class="label">Note</div> <div class="content">

<p> Note that the generated certificates and keys does not provide a formally correct PKIX-trust-chain and they cannot be used to achieve real security. This function is provided for testing purposes only. </p>
</div> </div> </div></article><article class="func"><h4 id="pkix_test_root_cert-2" onmouseover="document.getElementById('ghlink-pkix_test_root_cert-2-idp43').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pkix_test_root_cert-2-idp43').style.visibility = 'hidden';">  <span class="title-name">pkix_test_root_cert(Name, Options) -&gt; RootCert</span><div class="title-since"><span class="since">OTP 20.2</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>     <div class="exports-tube"> <p> Generates a root certificate that can be used in multiple calls to <code><a href="#pkix_test_data-1">pkix_test_data/1</a></code> when you want the same root certificate for several generated certificates. </p> </div></article><article class="func"><h4 id="pkix_subject_id-1" onmouseover="document.getElementById('ghlink-pkix_subject_id-1-idp44').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pkix_subject_id-1-idp44').style.visibility = 'hidden';">  <span class="title-name">pkix_subject_id(Cert) -&gt; ID</span><div class="title-since"><span class="since">OTP 23.1</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p>Returns the X509 certificate subject id.</p> </div></article><article class="func"><h4 id="pkix_verify-2" onmouseover="document.getElementById('ghlink-pkix_verify-2-idp45').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pkix_verify-2-idp45').style.visibility = 'hidden';">  <span class="title-name">pkix_verify(Cert, Key) -&gt; <code>boolean()</code></span><div class="title-since"><span class="since">OTP R14B</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p>Verifies PKIX x.509 certificate signature.</p> </div></article><article class="func"><h4 id="pkix_verify_hostname-2" onmouseover="document.getElementById('ghlink-pkix_verify_hostname-2-idp46').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pkix_verify_hostname-2-idp46').style.visibility = 'hidden';">  <span class="title-name">pkix_verify_hostname(Cert, ReferenceIDs) -&gt; <code>boolean()</code></span><div class="title-since"><span class="since">OTP 19.3</span></div> </h4> <h4 id="pkix_verify_hostname-3" onmouseover="document.getElementById('ghlink-pkix_verify_hostname-3-idp47').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pkix_verify_hostname-3-idp47').style.visibility = 'hidden';">  <span class="title-name">pkix_verify_hostname(Cert, ReferenceIDs, Options) -&gt; <code>boolean()</code></span><div class="title-since"><span class="since">OTP 19.3</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>     <div class="exports-tube"> <p>This function checks that the <i>Presented Identifier</i> (e.g hostname) in a peer certificate is in agreement with at least one of the <i>Reference Identifier</i> that the client expects to be connected to. The function is intended to be added as an extra client check of the peer certificate when performing <code>public_key:pkix_path_validation/3</code> </p> <p>See <code><a href="https://tools.ietf.org/html/rfc6125">RFC 6125</a></code> for detailed information about hostname verification. The <code><a href="using_public_key#verify_hostname">User's Guide</a></code> and <code><a href="using_public_key#verify_hostname_examples">code examples</a></code> describes this function more detailed. </p> <p>The option funs are described here:</p> <dl> <dt><strong><code class="code">match_fun</code></strong></dt> <dd> <pre data-language="erlang">fun(ReferenceId::ReferenceId() | FQDN::string(),
    PresentedId::{dNSName,string()} | {uniformResourceIdentifier,string() |
                 {iPAddress,list(byte())} | {OtherId::atom()|oid(),term()}})</pre> This function replaces the default host name matching rules. The fun should return a boolean to tell if the Reference ID and Presented ID matches or not. The match fun can also return a third value, value, the atom <code class="code">default</code>, if the default matching rules shall apply. This makes it possible to augment the tests with a special case: <pre data-language="erlang">fun(....) -&gt; true;   % My special case
   (_, _) -&gt; default % all others falls back to the inherit tests
end</pre> <br>See <code><a href="#pkix_verify_hostname_match_fun-1">pkix_verify_hostname_match_fun/1</a></code> for a function that takes a protocol name as argument and returns a <code class="code">fun/2</code> suitable for this option and <code><a href="using_public_key#redefining_match_op">Re-defining the match operation</a></code> in the User's Guide for an example. <div class="note"> <div class="label">Note</div> <div class="content">

<p> Reference Id values given as binaries will be converted to strings, and ip references may be given in string format that is "10.0.1.1" or "1234::5678:9012" as well as on the format <code>inet:ip_address()</code></p>
</div> </div> </dd> <dt><strong><code class="code">fail_callback</code></strong></dt> <dd>If a matching fails, there could be circumstances when the certificate should be accepted anyway. Think for example of a web browser where you choose to accept an outdated certificate. This option enables implementation of such an exception but for hostnames. This <code class="code">fun/1</code> is called when no <code class="code">ReferenceID</code> matches. The return value of the fun (a <code class="code">boolean()</code>) decides the outcome. If <code class="code">true</code> the the certificate is accepted otherwise it is rejected. See <code><a href="using_public_key#-pinning--a-certificate">"Pinning" a Certificate</a></code> in the User's Guide. </dd> <dt><strong><code class="code">fqdn_fun</code></strong></dt> <dd>This option augments the host name extraction from URIs and other Reference IDs. It could for example be a very special URI that is not standardised. The fun takes a Reference ID as argument and returns one of: <ul> <li>the hostname</li> <li>the atom <code class="code">default</code>: the default host name extract function will be used</li> <li>the atom <code class="code">undefined</code>: a host name could not be extracted. The pkix_verify_hostname/3 will return <code class="code">false</code>.</li> </ul> <br>For an example, see <code><a href="using_public_key#hostname_extraction">Hostname extraction</a></code> in the User's Guide. </dd> </dl> </div></article><article class="func"><h4 id="pkix_verify_hostname_match_fun-1" onmouseover="document.getElementById('ghlink-pkix_verify_hostname_match_fun-1-idp48').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-pkix_verify_hostname_match_fun-1-idp48').style.visibility = 'hidden';">  <span class="title-name">pkix_verify_hostname_match_fun(Protocol) -&gt; Result</span><div class="title-since"><span class="since">OTP 21.0</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p>The return value of calling this function is intended to be used in the <code class="code">match_fun</code> option in <code><a href="#pkix_verify_hostname-3">pkix_verify_hostname/3</a></code>.</p> <p>The returned fun augments the verify hostname matching according to the specific rules for the protocol in the argument.</p> <div class="note"> <div class="label">Note</div> <div class="content">

<p>Currently supported https fun will allow wildcard certificate matching as specified by the HTTP standard. Note that for instance LDAP have a different set of wildcard matching rules. If you do not want to allow wildcard certificates (recommended from a security perspective) or otherwise customize the hostname match the default match function used by ssl application will be sufficient. </p>
</div> </div> </div></article><article class="func"><h4 id="sign-3" onmouseover="document.getElementById('ghlink-sign-3-idp49').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-sign-3-idp49').style.visibility = 'hidden';">  <span class="title-name">sign(Msg, DigestType, Key) -&gt; Signature</span> </h4> <h4 id="sign-4" onmouseover="document.getElementById('ghlink-sign-4-idp50').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-sign-4-idp50').style.visibility = 'hidden';">  <span class="title-name">sign(Msg, DigestType, Key, Options) -&gt; Signature</span><div class="title-since"><span class="since">OTP 20.1</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>       <div class="exports-tube"> <p>Creates a digital signature.</p> <p>The <code class="code">Msg</code> is either the binary "plain text" data to be signed or it is the hashed value of "plain text", that is, the digest.</p> </div></article><article class="func"><h4 id="verify-4" onmouseover="document.getElementById('ghlink-verify-4-idp51').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-verify-4-idp51').style.visibility = 'hidden';">  <span class="title-name">verify(Msg, DigestType, Signature, Key) -&gt; <code>boolean()</code></span><div class="title-since"><span class="since">OTP R14B</span></div> </h4> <h4 id="verify-5" onmouseover="document.getElementById('ghlink-verify-5-idp52').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-verify-5-idp52').style.visibility = 'hidden';">  <span class="title-name">verify(Msg, DigestType, Signature, Key, Options) -&gt; <code>boolean()</code></span><div class="title-since"><span class="since">OTP 20.1</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>       <div class="exports-tube"> <p>Verifies a digital signature.</p> <p>The <code class="code">Msg</code> is either the binary "plain text" data or it is the hashed value of "plain text", that is, the digest.</p> </div></article><article class="func"><h4 id="short_name_hash-1" onmouseover="document.getElementById('ghlink-short_name_hash-1-idp53').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-short_name_hash-1-idp53').style.visibility = 'hidden';">  <span class="title-name">short_name_hash(Name) -&gt; <code>string()</code></span><div class="title-since"><span class="since">OTP 19.0</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>   <div class="exports-tube"> <p>Generates a short hash of an issuer name. The hash is returned as a string containing eight hexadecimal digits.</p> <p>The return value of this function is the same as the result of the commands <code class="code">openssl crl -hash</code> and <code class="code">openssl x509 -issuer_hash</code>, when passed the issuer name of a CRL or a certificate, respectively. This hash is used by the <code class="code">c_rehash</code> tool to maintain a directory of symlinks to CRL files, in order to facilitate looking up a CRL by its issuer name.</p> </div></article> </div> <div class="footer"> <hr> <p>Copyright © 2008-2022 Ericsson AB, All Rights Reserved</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2022 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>
