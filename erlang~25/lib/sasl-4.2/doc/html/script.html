  <div class="innertube"> <h2 id="file" class="title-link" onmouseover="document.getElementById('ghlink-file-idm2335').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-file-idm2335').style.visibility = 'hidden';"> <div class="title-name">File</div>  </h2> <p class="REFBODY file-body">script</p> </div> <div class="innertube"> <h2 id="file-summary" class="title-link" onmouseover="document.getElementById('ghlink-file-summary-idm2336').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-file-summary-idm2336').style.visibility = 'hidden';"> <div class="title-name">File Summary</div>  </h2> <p class="REFBODY file-summary-body">Boot script</p> </div> <section class="description"><div class="innertube"> <h2 id="description" class="title-link" onmouseover="document.getElementById('ghlink-description-idm2337').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-description-idm2337').style.visibility = 'hidden';"> <div class="title-name">Description</div>  </h2> 
<p>The <strong>boot script</strong> describes how the Erlang runtime system is started. It contains instructions on which code to load and which processes and applications to start.</p> <p>Command <code class="code">erl -boot Name</code> starts the system with a boot file called <code class="code">Name.boot</code>, which is generated from the <code class="code">Name.script</code> file, using <code><a href="systools#script2boot-1"><span class="code">systools:script2boot/1</span></a></code>.</p> <p>The <code class="code">.script</code> file is generated by <code class="code">systools</code> from a <code class="code">.rel</code> file and from <code class="code">.app</code> files.</p>  </div></section> <section class="innertube"><h2 id="file-syntax" class="title-link" onmouseover="document.getElementById('ghlink-file-syntax-idm2351').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-file-syntax-idm2351').style.visibility = 'hidden';"> <div class="title-name">File Syntax</div>  </h2>  <p>The boot script is stored in a file with extension <code class="code">.script</code>. The file has the following syntax:</p> <pre data-language="erlang">{script, {Name, Vsn},
 [
  {progress, loading},
  {preLoaded, [Mod1, Mod2, ...]},
  {path, [Dir1,"$ROOT/Dir",...]}.
  {primLoad, [Mod1, Mod2, ...]},
  ...
  {kernel_load_completed},
  {progress, loaded},
  {kernelProcess, Name, {Mod, Func, Args}},
  ...
  {apply, {Mod, Func, Args}},
  ...
  {progress, started}]}.</pre> <dl> <dt><strong><code class="code">Name = string()</code></strong></dt> <dd><p>Defines the system name.</p></dd> <dt><strong><code class="code">Vsn = string()</code></strong></dt> <dd><p>Defines the system version.</p></dd> <dt><strong><code class="code">{progress, Term}</code></strong></dt> <dd><p>Sets the "progress" of the initialization program. The <code><span class="code">init:get_status/0</span></code> function returns the current value of the progress, which is <code class="code">{InternalStatus,Term}</code>.</p></dd> <dt><strong><code class="code">{path, [Dir]}</code></strong></dt> <dd> <p><code class="code">Dir</code> is a string. This argument sets the load path of the system to <code class="code">[Dir]</code>. The load path used to load modules is obtained from the initial load path, which is given in the script file, together with any path flags that were supplied in the command-line arguments. The command-line arguments modify the path as follows:</p> <ul> <li> <code class="code">-pa Dir1 Dir2 ... DirN</code> adds the directories <code class="code">DirN, DirN-1, ..., Dir2, Dir1</code> to the front of the initial load path.</li> <li> <code class="code">-pz Dir1 Dir2 ... DirN</code> adds the directories <code class="code">Dir1, Dir2, ..., DirN</code> to the end of the initial load path.</li> <li> <p><code class="code">-path Dir1 Dir2 ... DirN</code> defines a set of directories <code class="code">Dir1, Dir2, ..., DirN</code>, which replace the search path given in the script file. Directory names in the path are interpreted as follows:</p> <ul> <li>Directory names starting with <code class="code">/</code> are assumed to be absolute path names.</li> <li>Directory names not starting with <code class="code">/</code> are assumed to be relative the current working directory.</li> <li>The special <code class="code">$ROOT</code> variable can only be used in the script, not as a command-line argument. The given directory is relative the Erlang installation directory.</li> </ul> </li> </ul> </dd> <dt><strong><code class="code">{primLoad, [Mod]}</code></strong></dt> <dd><p>Loads the modules <code class="code">[Mod]</code> from the directories specified in <code class="code">Path</code>. The script interpreter fetches the appropriate module by calling <code> <span class="code">erl_prim_loader:get_file(Mod)</span></code>. A fatal error that terminates the system occurs if the module cannot be located.</p></dd> <dt><strong><code class="code">{kernel_load_completed}</code></strong></dt> <dd><p>Indicates that all modules that <strong>must</strong> be loaded <strong>before</strong> any processes are started are loaded. In interactive mode, all <code class="code">{primLoad,[Mod]}</code> commands interpreted after this command are ignored, and these modules are loaded on demand. In embedded mode, <code class="code">kernel_load_completed</code> is ignored, and all modules are loaded during system start.</p></dd> <dt><strong><code class="code">{kernelProcess, Name, {Mod, Func, Args}}</code></strong></dt> <dd><p>Starts the "kernel process" <code class="code">Name</code> by evaluating <code class="code">apply(Mod, Func, Args)</code>. The start function is to return <code class="code">{ok, Pid}</code> or <code class="code">ignore</code>. The <code class="code">init</code> process monitors the behavior of <code class="code">Pid</code> and terminates the system if <code class="code">Pid</code> dies. Kernel processes are key components of the runtime system. Users do not normally add new kernel processes.</p></dd> <dt><strong><code class="code">{apply, {Mod, Func, Args}}</code>.</strong></dt> <dd><p>The init process evaluates <code class="code">apply(Mod, Func, Args)</code>. The system terminates if this results in an error. The boot procedure hangs if this function never returns.</p></dd> </dl> <div class="note"> <div class="label">Note</div> <div class="content">

<p>In an interactive system, the code loader provides demand-driven code loading, but in an embedded system the code loader loads all code immediately. The same version of <code><span class="code">code</span></code> is used in both cases. The code server calls <code><span class="code">init:get_argument(mode)</span></code> to determine if it is to run in demand mode or non-demand driven mode.</p> </div> </div> </section> <section class="innertube"><h2 id="see-also" class="title-link" onmouseover="document.getElementById('ghlink-see-also-idm2434').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-see-also-idm2434').style.visibility = 'hidden';"> <div class="title-name">See Also</div>  </h2>  <p><code><a href="systools"><span class="code">systools(3)</span></a></code></p> </section> <div class="footer"> <hr> <p>Copyright Â© 1997-2022 Ericsson AB. All Rights Reserved.</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2022 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>
