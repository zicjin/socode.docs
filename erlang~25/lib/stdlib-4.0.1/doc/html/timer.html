  <div class="innertube"> <h2 id="module" class="title-link" onmouseover="document.getElementById('ghlink-module-idm33285').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-idm33285').style.visibility = 'hidden';"> <div class="title-name">Module</div>  </h2> <p class="REFBODY module-body">timer</p> </div> <div class="innertube"> <h2 id="module-summary" class="title-link" onmouseover="document.getElementById('ghlink-module-summary-idm33286').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-summary-idm33286').style.visibility = 'hidden';"> <div class="title-name">Module Summary</div>  </h2> <p class="REFBODY module-summary-body">Timer functions.</p> </div> <section class="description"><div class="innertube"> <h2 id="description" class="title-link" onmouseover="document.getElementById('ghlink-description-idm33287').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-description-idm33287').style.visibility = 'hidden';"> <div class="title-name">Description</div>  </h2> 
<p>This module provides useful functions related to time. Unless otherwise stated, time is always measured in <strong>milliseconds</strong>. All timer functions return immediately, regardless of work done by another process.</p> <p>Successful evaluations of the timer functions give return values containing a timer reference, denoted <code class="code">TRef</code>. By using <code><a href="#cancel-1"><span class="code">cancel/1</span></a></code>, the returned reference can be used to cancel any requested action. A <code class="code">TRef</code> is an Erlang term, which contents must not be changed.</p> <p>The time-outs are not exact, but are <strong>at least</strong> as long as requested.</p> <p>Creating timers using <code>erlang:send_after/3</code> and <code>erlang:start_timer/3</code> is more efficient than using the timers provided by this module. However, the timer module has been improved in OTP 25, making it more efficient and less susceptible to being overloaded. See <code>the Timer Module section in the Efficiency Guide</code>.</p>  </div></section> <div class="innertube"> <h2 id="data-types" class="title-link" onmouseover="document.getElementById('ghlink-data-types-idm33301').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-data-types-idm33301').style.visibility = 'hidden';"> <div class="title-name">Data Types</div>  </h2> <article class="data-types-body"><h4 id="type-time" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-time').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-time').style.visibility = 'hidden';">  <div class="title-name"> <code>time() = <span id="type-time">integer() &gt;= 0</span></code><br> </div> </h4> <div class="data-type-desc"><p>Time in milliseconds.</p></div></article> <article class="data-types-body"><h4 id="type-tref" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-tref').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-tref').style.visibility = 'hidden';">  <div class="title-name"> <code id="type-tref">tref()</code><br> </div> </h4> <div class="data-type-desc"><p>A timer reference.</p></div></article> </div> <div class="innertube"><h2 id="export" class="title-link" onmouseover="document.getElementById('ghlink-export-idm33310').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-export-idm33310').style.visibility = 'hidden';"> <div class="title-name">Exports</div>  </h2></div> <div class="exports-body"> <article class="func"><h4 id="apply_after-4" onmouseover="document.getElementById('ghlink-apply_after-4-idp1356').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-apply_after-4-idp1356').style.visibility = 'hidden';">  <span class="title-name">apply_after(Time, Module, Function, Arguments) -&gt;<br> {ok, TRef} | {error, Reason}</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>        <div class="exports-tube"> <p>Evaluates <code class="code">apply(Module, Function, Arguments)</code> after <code class="code">Time</code> milliseconds.</p> <p>Returns <code class="code">{ok, TRef}</code> or <code class="code">{error, Reason}</code>.</p> </div></article><article class="func"><h4 id="apply_interval-4" onmouseover="document.getElementById('ghlink-apply_interval-4-idp1357').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-apply_interval-4-idp1357').style.visibility = 'hidden';">  <span class="title-name">apply_interval(Time, Module, Function, Arguments) -&gt;<br> {ok, TRef} | {error, Reason}</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>        <div class="exports-tube"> <p>Evaluates <code class="code">apply(Module, Function, Arguments)</code> repeatedly at intervals of <code class="code">Time</code>.</p> <p>Returns <code class="code">{ok, TRef}</code> or <code class="code">{error, Reason}</code>.</p> </div></article><article class="func"><h4 id="cancel-1" onmouseover="document.getElementById('ghlink-cancel-1-idp1358').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-cancel-1-idp1358').style.visibility = 'hidden';">  <span class="title-name">cancel(TRef) -&gt; {ok, cancel} | {error, Reason}</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p>Cancels a previously requested time-out. <code class="code">TRef</code> is a unique timer reference returned by the related timer function.</p> <p>Returns <code class="code">{ok, cancel}</code>, or <code class="code">{error, Reason}</code> when <code class="code">TRef</code> is not a timer reference.</p> </div></article><article class="func"><h4 id="exit_after-2" onmouseover="document.getElementById('ghlink-exit_after-2-idp1359').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-exit_after-2-idp1359').style.visibility = 'hidden';">  <span class="title-name">exit_after(Time, Reason1) -&gt; {ok, TRef} | {error, Reason2}</span> </h4> <h4 id="exit_after-3" onmouseover="document.getElementById('ghlink-exit_after-3-idp1360').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-exit_after-3-idp1360').style.visibility = 'hidden';">  <span class="title-name">exit_after(Time, Target, Reason1) -&gt; {ok, TRef} | {error, Reason2}</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>       <div class="exports-tube"> <p><code class="code">exit_after/2</code> is the same as <code class="code">exit_after(Time, self(), Reason1)</code>.</p> <p><code class="code">exit_after/3</code> sends an exit signal with reason <code class="code">Reason1</code> to <code class="code">Target</code>, which can be a local process identifier or an atom of a registered name. Returns <code class="code">{ok, TRef}</code> or <code class="code">{error, Reason2}</code>.</p> </div></article><article class="func"><h4 id="hms-3" onmouseover="document.getElementById('ghlink-hms-3-idp1361').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-hms-3-idp1361').style.visibility = 'hidden';">  <span class="title-name">hms(Hours, Minutes, Seconds) -&gt; MilliSeconds</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>      <div class="exports-tube"> <p>Returns the number of milliseconds in <code class="code">Hours + Minutes + Seconds</code>.</p> </div></article><article class="func"><h4 id="hours-1" onmouseover="document.getElementById('ghlink-hours-1-idp1362').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-hours-1-idp1362').style.visibility = 'hidden';">  <span class="title-name">hours(Hours) -&gt; MilliSeconds</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p>Returns the number of milliseconds in <code class="code">Hours</code>.</p> </div></article><article class="func"><h4 id="kill_after-1" onmouseover="document.getElementById('ghlink-kill_after-1-idp1363').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-kill_after-1-idp1363').style.visibility = 'hidden';">  <span class="title-name">kill_after(Time) -&gt; {ok, TRef} | {error, Reason2}</span> </h4> <h4 id="kill_after-2" onmouseover="document.getElementById('ghlink-kill_after-2-idp1364').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-kill_after-2-idp1364').style.visibility = 'hidden';">  <span class="title-name">kill_after(Time, Target) -&gt; {ok, TRef} | {error, Reason2}</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>      <div class="exports-tube"> <p><code class="code">kill_after/1</code> is the same as <code class="code">exit_after(Time, self(), kill)</code>.</p> <p><code class="code">kill_after/2</code> is the same as <code class="code">exit_after(Time, Target, kill)</code>.</p> </div></article><article class="func"><h4 id="minutes-1" onmouseover="document.getElementById('ghlink-minutes-1-idp1365').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-minutes-1-idp1365').style.visibility = 'hidden';">  <span class="title-name">minutes(Minutes) -&gt; MilliSeconds</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p>Returns the number of milliseconds in <code class="code">Minutes</code>.</p> </div></article><article class="func"><h4 id="now_diff-2" onmouseover="document.getElementById('ghlink-now_diff-2-idp1366').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-now_diff-2-idp1366').style.visibility = 'hidden';">  <span class="title-name">now_diff(T2, T1) -&gt; Tdiff</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <p class="REFBODY rb-1">In microseconds</p>  <div class="exports-tube"> <p>Calculates the time difference <code class="code">Tdiff = T2 - T1</code> in <strong>microseconds</strong>, where <code class="code">T1</code> and <code class="code">T2</code> are time-stamp tuples on the same format as returned from <code> <span class="code">erlang:timestamp/0</span></code> or <code> <span class="code">os:timestamp/0</span></code>.</p> </div></article><article class="func"><h4 id="seconds-1" onmouseover="document.getElementById('ghlink-seconds-1-idp1367').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-seconds-1-idp1367').style.visibility = 'hidden';">  <span class="title-name">seconds(Seconds) -&gt; MilliSeconds</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p>Returns the number of milliseconds in <code class="code">Seconds</code>.</p> </div></article><article class="func"><h4 id="send_after-2" onmouseover="document.getElementById('ghlink-send_after-2-idp1368').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-send_after-2-idp1368').style.visibility = 'hidden';">  <span class="title-name">send_after(Time, Message) -&gt; {ok, TRef} | {error, Reason}</span> </h4> <h4 id="send_after-3" onmouseover="document.getElementById('ghlink-send_after-3-idp1369').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-send_after-3-idp1369').style.visibility = 'hidden';">  <span class="title-name">send_after(Time, Destination, Message) -&gt;<br> {ok, TRef} | {error, Reason}</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>       <div class="exports-tube"> <dl> <dt><strong><code class="code">send_after/3</code></strong></dt> <dd> <p>Evaluates <code class="code">Destination ! Message</code> after <code class="code">Time</code> milliseconds. (<code class="code">Destination</code> can be a remote or local process identifier, an atom of a registered name or a tuple <code class="code">{RegName, Node}</code> for a registered name at another node.)</p> <p>Returns <code class="code">{ok, TRef}</code> or <code class="code">{error, Reason}</code>.</p> <p>See also <code> the Timer Module section in the Efficiency Guide</code>.</p> </dd> <dt><strong><code class="code">send_after/2</code></strong></dt> <dd> <p>Same as <code class="code">send_after(Time, self(), Message)</code>.</p> </dd> </dl> </div></article><article class="func"><h4 id="send_interval-2" onmouseover="document.getElementById('ghlink-send_interval-2-idp1370').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-send_interval-2-idp1370').style.visibility = 'hidden';">  <span class="title-name">send_interval(Time, Message) -&gt; {ok, TRef} | {error, Reason}</span> </h4> <h4 id="send_interval-3" onmouseover="document.getElementById('ghlink-send_interval-3-idp1371').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-send_interval-3-idp1371').style.visibility = 'hidden';">  <span class="title-name">send_interval(Time, Destination, Message) -&gt;<br> {ok, TRef} | {error, Reason}</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>       <div class="exports-tube"> <dl> <dt><strong><code class="code">send_interval/3</code></strong></dt> <dd> <p>Evaluates <code class="code">Destination ! Message</code> repeatedly after <code class="code">Time</code> milliseconds. (<code class="code">Destination</code> can be a remote or local process identifier, an atom of a registered name or a tuple <code class="code">{RegName, Node}</code> for a registered name at another node.)</p> <p>Returns <code class="code">{ok, TRef}</code> or <code class="code">{error, Reason}</code>.</p> </dd> <dt><strong><code class="code">send_interval/2</code></strong></dt> <dd> <p>Same as <code class="code">send_interval(Time, self(), Message)</code>.</p> </dd> </dl> </div></article><article class="func"><h4 id="sleep-1" onmouseover="document.getElementById('ghlink-sleep-1-idp1372').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-sleep-1-idp1372').style.visibility = 'hidden';">  <span class="title-name">sleep(Time) -&gt; ok</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>   <div class="exports-tube"> <p>Suspends the process calling this function for <code class="code">Time</code> milliseconds and then returns <code class="code">ok</code>, or suspends the process forever if <code class="code">Time</code> is the atom <code class="code">infinity</code>. Naturally, this function does <strong>not</strong> return immediately.</p> <div class="note"> <div class="label">Note</div> <div class="content">

<p>Before OTP 25, <code class="code">timer:sleep/1</code> did not accept integer timeout values greater than <code class="code">16#ffffffff</code>, that is, <code class="code">2^32-1</code>. Since OTP 25, arbitrarily high integer values are accepted.</p> </div> </div> </div></article><article class="func"><h4 id="start-0" onmouseover="document.getElementById('ghlink-start-0-idp1373').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-start-0-idp1373').style.visibility = 'hidden';">  <span class="title-name">start() -&gt; ok</span> </h4> <div class="exports-tube"> <p>Starts the timer server. Normally, the server does not need to be started explicitly. It is started dynamically if it is needed. This is useful during development, but in a target system the server is to be started explicitly. Use configuration parameters for <code>Kernel</code> for this.</p> </div></article><article class="func"><h4 id="tc-1" onmouseover="document.getElementById('ghlink-tc-1-idp1374').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-tc-1-idp1374').style.visibility = 'hidden';">  <span class="title-name">tc(Fun) -&gt; {Time, Value}</span><div class="title-since"><span class="since">OTP R14B03</span></div> </h4> <h4 id="tc-2" onmouseover="document.getElementById('ghlink-tc-2-idp1375').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-tc-2-idp1375').style.visibility = 'hidden';">  <span class="title-name">tc(Fun, Arguments) -&gt; {Time, Value}</span><div class="title-since"><span class="since">OTP R14B</span></div> </h4> <h4 id="tc-3" onmouseover="document.getElementById('ghlink-tc-3-idp1376').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-tc-3-idp1376').style.visibility = 'hidden';">  <span class="title-name">tc(Module, Function, Arguments) -&gt; {Time, Value}</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>     <p class="REFBODY rb-1">In microseconds</p>   <div class="exports-tube"> <dl> <dt><strong><code class="code">tc/3</code></strong></dt> <dd> <p>Evaluates <code class="code">apply(Module, Function, Arguments)</code> and measures the elapsed real time as reported by <code> <span class="code">erlang:monotonic_time/0</span></code>.</p> <p>Returns <code class="code">{Time, Value}</code>, where <code class="code">Time</code> is the elapsed real time in <strong>microseconds</strong>, and <code class="code">Value</code> is what is returned from the apply.</p> </dd> <dt><strong><code class="code">tc/2</code></strong></dt> <dd> <p>Evaluates <code class="code">apply(Fun, Arguments)</code>. Otherwise the same as <code class="code">tc/3</code>.</p> </dd> <dt><strong><code class="code">tc/1</code></strong></dt> <dd> <p>Evaluates <code class="code">Fun()</code>. Otherwise the same as <code class="code">tc/2</code>.</p> </dd> </dl> </div></article> </div> <section class="innertube"><h2 id="examples" class="title-link" onmouseover="document.getElementById('ghlink-examples-idm33594').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-examples-idm33594').style.visibility = 'hidden';"> <div class="title-name">Examples</div>  </h2>  <p><strong>Example 1</strong></p> <p>The following example shows how to print "Hello World!" in 5 seconds:</p> <pre data-language="erlang">
1&gt; timer:apply_after(5000, io, format, ["~nHello World!~n", []]).
{ok,TRef}
Hello World!</pre> <p><strong>Example 2</strong></p> <p>The following example shows a process performing a certain action, and if this action is not completed within a certain limit, the process is killed:</p> <pre data-language="erlang">Pid = spawn(mod, fun, [foo, bar]),
%% If pid is not finished in 10 seconds, kill him
{ok, R} = timer:kill_after(timer:seconds(10), Pid),
...
%% We change our mind...
timer:cancel(R),
...</pre> </section> <section class="innertube"><h2 id="notes" class="title-link" onmouseover="document.getElementById('ghlink-notes-idm33605').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-notes-idm33605').style.visibility = 'hidden';"> <div class="title-name">Notes</div>  </h2>  <p>A timer can always be removed by calling <code><a href="#cancel-1"><span class="code">cancel/1</span></a></code>.</p> <p>An interval timer, that is, a timer created by evaluating any of the functions <code><a href="#apply_interval-4"><span class="code">apply_interval/4</span></a></code>, <code><a href="#send_interval-3"><span class="code">send_interval/3</span></a></code>, and <code><a href="#send_interval-2"><span class="code">send_interval/2</span></a></code> is linked to the process to which the timer performs its task.</p> <p>A one-shot timer, that is, a timer created by evaluating any of the functions <code><a href="#apply_after-4"><span class="code">apply_after/4</span></a></code>, <code><a href="#send_after-3"><span class="code">send_after/3</span></a></code>, <code><a href="#send_after-2"><span class="code">send_after/2</span></a></code>, <code><a href="#exit_after-3"><span class="code">exit_after/3</span></a></code>, <code><a href="#exit_after-2"><span class="code">exit_after/2</span></a></code>, <code><a href="#kill_after-2"><span class="code">kill_after/2</span></a></code>, and <code><a href="#kill_after-1"><span class="code">kill_after/1</span></a></code> is not linked to any process. Hence, such a timer is removed only when it reaches its time-out, or if it is explicitly removed by a call to <code><a href="#cancel-1"><span class="code">cancel/1</span></a></code>.</p> </section> <div class="footer"> <hr> <p>Copyright © 1997-2022 Ericsson AB. All Rights Reserved.</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2022 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>
