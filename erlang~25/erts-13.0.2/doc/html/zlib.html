  <div class="innertube"> <h2 id="module" class="title-link" onmouseover="document.getElementById('ghlink-module-idm30079').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-idm30079').style.visibility = 'hidden';"> <div class="title-name">Module</div>  </h2> <p class="REFBODY module-body">zlib</p> </div> <div class="innertube"> <h2 id="module-summary" class="title-link" onmouseover="document.getElementById('ghlink-module-summary-idm30080').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-summary-idm30080').style.visibility = 'hidden';"> <div class="title-name">Module Summary</div>  </h2> <p class="REFBODY module-summary-body">zlib compression interface.</p> </div> <section class="description"><div class="innertube"> <h2 id="description" class="title-link" onmouseover="document.getElementById('ghlink-description-idm30081').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-description-idm30081').style.visibility = 'hidden';"> <div class="title-name">Description</div>  </h2> 
<p>This module provides an API for the zlib library (<code><a href="http://www.zlib.net">www.zlib.net</a></code>). It is used to compress and decompress data. The data format is described by <code><a href="https://www.ietf.org/rfc/rfc1950.txt">RFC 1950</a></code>, <code><a href="https://www.ietf.org/rfc/rfc1951.txt">RFC 1951</a></code>, and <code><a href="https://www.ietf.org/rfc/rfc1952.txt">RFC 1952</a></code>.</p> <p>A typical (compress) usage is as follows:</p> <pre data-language="erlang">
Z = zlib:open(),
ok = zlib:deflateInit(Z,default),

Compress = fun(end_of_data, _Cont) -&gt; [];
              (Data, Cont) -&gt;
                 [zlib:deflate(Z, Data)|Cont(Read(),Cont)]
           end,
Compressed = Compress(Read(),Compress),
Last = zlib:deflate(Z, [], finish),
ok = zlib:deflateEnd(Z),
zlib:close(Z),
list_to_binary([Compressed|Last])</pre> <p>In all functions errors, <code class="code">{'EXIT',{Reason,Backtrace}}</code>, can be thrown, where <code class="code">Reason</code> describes the error.</p> <p>Typical <code class="code">Reason</code>s:</p> <dl> <dt><strong><code class="code">badarg</code></strong></dt> <dd>Bad argument. </dd> <dt><strong><code class="code">not_initialized</code></strong></dt> <dd>The stream hasn't been initialized, eg. if <code><a href="#inflateInit-1"><span class="code">inflateInit/1</span></a></code> wasn't called prior to a call to <code><a href="#inflate-2"><span class="code">inflate/2</span></a></code>. </dd> <dt><strong><code class="code">not_on_controlling_process</code></strong></dt> <dd>The stream was used by a process that doesn't control it. Use <code><a href="#set_controlling_process-2"> <span class="code">set_controlling_process/2</span></a></code> if you need to transfer a stream to a different process.</dd> <dt><strong><code class="code">data_error</code></strong></dt> <dd>The data contains errors. </dd> <dt><strong><code class="code">stream_error</code></strong></dt> <dd>Inconsistent stream state.</dd> <dt><strong><code class="code">{need_dictionary,Adler32}</code></strong></dt> <dd>See <code><a href="#inflate-2"><span class="code">inflate/2</span></a></code>. </dd> </dl>  </div></section> <div class="innertube"> <h2 id="data-types" class="title-link" onmouseover="document.getElementById('ghlink-data-types-idm30121').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-data-types-idm30121').style.visibility = 'hidden';"> <div class="title-name">Data Types</div>  </h2> <article class="data-types-body"><h4 id="type-zstream" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-zstream').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-zstream').style.visibility = 'hidden';">  <div class="title-name"> <code>zstream() = <span id="type-zstream"><a href="erlang#type-reference">reference()</a></span></code><br> </div> </h4> <div class="data-type-desc"> <p>A zlib stream, see <code><a href="#open-0"><span class="code">open/0</span></a></code>. </p> </div></article> <article class="data-types-body"><h4 id="type-zlevel" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-zlevel').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-zlevel').style.visibility = 'hidden';">  <div class="title-name"> <code>zlevel() = <br id="type-zlevel">    none | default | best_compression | best_speed | 0..9</code><br> </div> </h4> </article> <article class="data-types-body"><h4 id="type-zflush" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-zflush').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-zflush').style.visibility = 'hidden';">  <div class="title-name"> <code id="type-zflush">zflush() = none | sync | full | finish</code><br> </div> </h4> </article> <article class="data-types-body"><h4 id="type-zmemlevel" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-zmemlevel').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-zmemlevel').style.visibility = 'hidden';">  <div class="title-name"> <code id="type-zmemlevel">zmemlevel() = 1..9</code><br> </div> </h4> </article> <article class="data-types-body"><h4 id="type-zmethod" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-zmethod').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-zmethod').style.visibility = 'hidden';">  <div class="title-name"> <code id="type-zmethod">zmethod() = deflated</code><br> </div> </h4> </article> <article class="data-types-body"><h4 id="type-zstrategy" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-zstrategy').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-zstrategy').style.visibility = 'hidden';">  <div class="title-name"> <code id="type-zstrategy">zstrategy() = default | filtered | huffman_only | rle</code><br> </div> </h4> </article> <article class="data-types-body"><h4 id="type-zwindowbits" class="title-link data-type-name" onmouseover="document.getElementById('ghlink-type-zwindowbits').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-type-zwindowbits').style.visibility = 'hidden';">  <div class="title-name"> <code id="type-zwindowbits">zwindowbits() = -15..-8 | 8..47</code><br> </div> </h4> <div class="data-type-desc"> <p>Normally in the range <code class="code">-15..-8 | 8..15</code>.</p> </div></article> </div> <div class="innertube"><h2 id="export" class="title-link" onmouseover="document.getElementById('ghlink-export-idm30143').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-export-idm30143').style.visibility = 'hidden';"> <div class="title-name">Exports</div>  </h2></div> <div class="exports-body"> <article class="func"><h4 id="adler32-2" onmouseover="document.getElementById('ghlink-adler32-2-idp456').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-adler32-2-idp456').style.visibility = 'hidden';">  <span class="title-name">adler32(Z, Data) -&gt; CheckSum</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>     <div class="exports-tube"> <p>Calculates the Adler-32 checksum for <code class="code">Data</code>.</p> <div class="warning"> <div class="label">Warning</div> <div class="content">

<p>This function is deprecated and will be removed in a future release. Use <code> <span class="code">erlang:adler32/1</span></code> instead.</p> </div> </div> </div></article><article class="func"><h4 id="adler32-3" onmouseover="document.getElementById('ghlink-adler32-3-idp457').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-adler32-3-idp457').style.visibility = 'hidden';">  <span class="title-name">adler32(Z, PrevAdler, Data) -&gt; CheckSum</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>      <div class="exports-tube"> <p>Updates a running Adler-32 checksum for <code class="code">Data</code>. If <code class="code">Data</code> is the empty binary or the empty iolist, this function returns the required initial value for the checksum.</p> <p>Example:</p> <pre data-language="erlang">
Crc = lists:foldl(fun(Data,Crc0) -&gt;
                      zlib:adler32(Z, Crc0, Data),
                  end, zlib:adler32(Z,&lt;&lt; &gt;&gt;), Datas)</pre> <div class="warning"> <div class="label">Warning</div> <div class="content">

<p>This function is deprecated and will be removed in a future release. Use <code> <span class="code">erlang:adler32/2</span></code> instead.</p> </div> </div> </div></article><article class="func"><h4 id="adler32_combine-4" onmouseover="document.getElementById('ghlink-adler32_combine-4-idp458').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-adler32_combine-4-idp458').style.visibility = 'hidden';">  <span class="title-name">adler32_combine(Z, Adler1, Adler2, Size2) -&gt; Adler</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>       <div class="exports-tube"> <p>Combines two Adler-32 checksums into one. For two binaries or iolists, <code class="code">Data1</code> and <code class="code">Data2</code> with sizes of <code class="code">Size1</code> and <code class="code">Size2</code>, with Adler-32 checksums <code class="code">Adler1</code> and <code class="code">Adler2</code>.</p> <p>This function returns the <code class="code">Adler</code> checksum of <code class="code">[Data1,Data2]</code>, requiring only <code class="code">Adler1</code>, <code class="code">Adler2</code>, and <code class="code">Size2</code>.</p> <div class="warning"> <div class="label">Warning</div> <div class="content">

<p>This function is deprecated and will be removed in a future release. Use <code> <span class="code">erlang:adler32_combine/3</span></code> instead.</p> </div> </div> </div></article><article class="func"><h4 id="close-1" onmouseover="document.getElementById('ghlink-close-1-idp459').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-close-1-idp459').style.visibility = 'hidden';">  <span class="title-name">close(Z) -&gt; ok</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>   <div class="exports-tube"> <p>Closes the stream referenced by <code class="code">Z</code>.</p> </div></article><article class="func"><h4 id="compress-1" onmouseover="document.getElementById('ghlink-compress-1-idp460').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-compress-1-idp460').style.visibility = 'hidden';">  <span class="title-name">compress(Data) -&gt; Compressed</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p>Compresses data with zlib headers and checksum.</p> </div></article><article class="func"><h4 id="crc32-1" onmouseover="document.getElementById('ghlink-crc32-1-idp461').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-crc32-1-idp461').style.visibility = 'hidden';">  <span class="title-name">crc32(Z) -&gt; CRC</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p>Gets the current calculated CRC checksum.</p> <div class="warning"> <div class="label">Warning</div> <div class="content">

<p>This function is deprecated and will be removed in a future release. Use <code> <span class="code">erlang:crc32/1</span></code> on the uncompressed data instead.</p> </div> </div> </div></article><article class="func"><h4 id="crc32-2" onmouseover="document.getElementById('ghlink-crc32-2-idp462').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-crc32-2-idp462').style.visibility = 'hidden';">  <span class="title-name">crc32(Z, Data) -&gt; CRC</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>     <div class="exports-tube"> <p>Calculates the CRC checksum for <code class="code">Data</code>.</p> <div class="warning"> <div class="label">Warning</div> <div class="content">

<p>This function is deprecated and will be removed in a future release. Use <code> <span class="code">erlang:crc32/1</span></code> instead.</p> </div> </div> </div></article><article class="func"><h4 id="crc32-3" onmouseover="document.getElementById('ghlink-crc32-3-idp463').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-crc32-3-idp463').style.visibility = 'hidden';">  <span class="title-name">crc32(Z, PrevCRC, Data) -&gt; CRC</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>      <div class="exports-tube"> <p>Updates a running CRC checksum for <code class="code">Data</code>. If <code class="code">Data</code> is the empty binary or the empty iolist, this function returns the required initial value for the CRC.</p> <p>Example:</p> <pre data-language="erlang">
Crc = lists:foldl(fun(Data,Crc0) -&gt;
                      zlib:crc32(Z, Crc0, Data),
                  end, zlib:crc32(Z,&lt;&lt; &gt;&gt;), Datas)</pre> <div class="warning"> <div class="label">Warning</div> <div class="content">

<p>This function is deprecated and will be removed in a future release. Use <code> <span class="code">erlang:crc32/2</span></code> instead.</p> </div> </div> </div></article><article class="func"><h4 id="crc32_combine-4" onmouseover="document.getElementById('ghlink-crc32_combine-4-idp464').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-crc32_combine-4-idp464').style.visibility = 'hidden';">  <span class="title-name">crc32_combine(Z, CRC1, CRC2, Size2) -&gt; CRC</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>       <div class="exports-tube"> <p>Combines two CRC checksums into one. For two binaries or iolists, <code class="code">Data1</code> and <code class="code">Data2</code> with sizes of <code class="code">Size1</code> and <code class="code">Size2</code>, with CRC checksums <code class="code">CRC1</code> and <code class="code">CRC2</code>.</p> <p>This function returns the <code class="code">CRC</code> checksum of <code class="code">[Data1,Data2]</code>, requiring only <code class="code">CRC1</code>, <code class="code">CRC2</code>, and <code class="code">Size2</code>.</p> <div class="warning"> <div class="label">Warning</div> <div class="content">

<p>This function is deprecated and will be removed in a future release. Use <code> <span class="code">erlang:crc32_combine/3</span></code> instead.</p> </div> </div> </div></article><article class="func"><h4 id="deflate-2" onmouseover="document.getElementById('ghlink-deflate-2-idp465').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-deflate-2-idp465').style.visibility = 'hidden';">  <span class="title-name">deflate(Z, Data) -&gt; Compressed</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>     <div class="exports-tube"> <p>Same as <code class="code">deflate(Z, Data, none)</code>.</p> </div></article><article class="func"><h4 id="deflate-3" onmouseover="document.getElementById('ghlink-deflate-3-idp466').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-deflate-3-idp466').style.visibility = 'hidden';">  <span class="title-name">deflate(Z, Data, Flush) -&gt; Compressed</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>      <div class="exports-tube"> <p>Compresses as much data as possible, and stops when the input buffer becomes empty. It can introduce some output latency (reading input without producing any output) except when forced to flush.</p> <p>If <code class="code">Flush</code> is set to <code class="code">sync</code>, all pending output is flushed to the output buffer and the output is aligned on a byte boundary, so that the decompressor can get all input data available so far. Flushing can degrade compression for some compression algorithms; thus, use it only when necessary.</p> <p>If <code class="code">Flush</code> is set to <code class="code">full</code>, all output is flushed as with <code class="code">sync</code>, and the compression state is reset so that decompression can restart from this point if previous compressed data has been damaged or if random access is desired. Using <code class="code">full</code> too often can seriously degrade the compression.</p> <p>If <code class="code">Flush</code> is set to <code class="code">finish</code>, pending input is processed, pending output is flushed, and <code class="code">deflate/3</code> returns. Afterwards the only possible operations on the stream are <code><a href="#deflateReset-1"><span class="code">deflateReset/1</span></a></code> or <code><a href="#deflateEnd-1"><span class="code">deflateEnd/1</span></a></code>.</p> <p><code class="code">Flush</code> can be set to <code class="code">finish</code> immediately after <code><a href="#deflateInit-1"><span class="code">deflateInit</span></a></code> if all compression is to be done in one step.</p> <p>Example:</p> <pre data-language="erlang">
zlib:deflateInit(Z),
B1 = zlib:deflate(Z,Data),
B2 = zlib:deflate(Z,&lt;&lt; &gt;&gt;,finish),
zlib:deflateEnd(Z),
list_to_binary([B1,B2])</pre> </div></article><article class="func"><h4 id="deflateEnd-1" onmouseover="document.getElementById('ghlink-deflateEnd-1-idp467').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-deflateEnd-1-idp467').style.visibility = 'hidden';">  <span class="title-name">deflateEnd(Z) -&gt; ok</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>   <div class="exports-tube"> <p>Ends the deflate session and cleans all data used. Notice that this function throws a <code class="code">data_error</code> exception if the last call to <code><a href="#deflate-3"><span class="code">deflate/3</span></a></code> was not called with <code class="code">Flush</code> set to <code class="code">finish</code>.</p> </div></article><article class="func"><h4 id="deflateInit-1" onmouseover="document.getElementById('ghlink-deflateInit-1-idp468').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-deflateInit-1-idp468').style.visibility = 'hidden';">  <span class="title-name">deflateInit(Z) -&gt; ok</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>   <div class="exports-tube"> <p>Same as <code class="code">zlib:deflateInit(Z, default)</code>.</p> </div></article><article class="func"><h4 id="deflateInit-2" onmouseover="document.getElementById('ghlink-deflateInit-2-idp469').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-deflateInit-2-idp469').style.visibility = 'hidden';">  <span class="title-name">deflateInit(Z, Level) -&gt; ok</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p>Initializes a zlib stream for compression.</p> <p><code class="code">Level</code> decides the compression level to be used:</p> <ul> <li> <code class="code">default</code> gives default compromise between speed and compression</li> <li> <code class="code">none</code> (0) gives no compression</li> <li> <code class="code">best_speed</code> (1) gives best speed</li> <li> <code class="code">best_compression</code> (9) gives best compression</li> </ul> </div></article><article class="func"><h4 id="deflateInit-6" onmouseover="document.getElementById('ghlink-deflateInit-6-idp470').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-deflateInit-6-idp470').style.visibility = 'hidden';">  <span class="title-name">deflateInit(Z, Level, Method, WindowBits, MemLevel, Strategy) -&gt;<br> ok</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>        <div class="exports-tube"> <p>Initiates a zlib stream for compression.</p> <dl> <dt><strong><code class="code">Level</code></strong></dt> <dd> <p>Compression level to use:</p> <ul> <li> <code class="code">default</code> gives default compromise between speed and compression</li> <li> <code class="code">none</code> (0) gives no compression</li> <li> <code class="code">best_speed</code> (1) gives best speed</li> <li> <code class="code">best_compression</code> (9) gives best compression</li> </ul> </dd> <dt><strong><code class="code">Method</code></strong></dt> <dd> <p>Compression method to use, currently the only supported method is <code class="code">deflated</code>.</p> </dd> <dt><strong><code class="code">WindowBits</code></strong></dt> <dd> <p>The base two logarithm of the window size (the size of the history buffer). It is to be in the range 8 through 15. Larger values result in better compression at the expense of memory usage. Defaults to 15 if <code><a href="#deflateInit-2"> <span class="code">deflateInit/2</span></a></code> is used. A negative <code class="code">WindowBits</code> value suppresses the zlib header (and checksum) from the stream. Notice that the zlib source mentions this only as a undocumented feature.</p> <div class="warning"> <div class="label">Warning</div> <div class="content">

<p>Due to a known bug in the underlying zlib library, <code class="code">WindowBits</code> values 8 and -8 do not work as expected. In zlib versions before 1.2.9 values 8 and -8 are automatically changed to 9 and -9. <strong>From zlib version 1.2.9 value -8 is rejected</strong> causing <code class="code">zlib:deflateInit/6</code> to fail (8 is still changed to 9). It also seem possible that future versions of zlib may fix this bug and start accepting 8 and -8 as is.</p> <p>Conclusion: Avoid values 8 and -8 unless you know your zlib version supports them.</p> </div> </div> </dd> <dt><strong><code class="code">MemLevel</code></strong></dt> <dd> <p>Specifies how much memory is to be allocated for the internal compression state: <code class="code">MemLevel</code>=1 uses minimum memory but is slow and reduces compression ratio; <code class="code">MemLevel</code>=9 uses maximum memory for optimal speed. Defaults to 8.</p> </dd> <dt><strong><code class="code">Strategy</code></strong></dt> <dd> <p>Tunes the compression algorithm. Use the following values:</p> <ul> <li> <code class="code">default</code> for normal data</li> <li> <code class="code">filtered</code> for data produced by a filter (or predictor)</li> <li> <code class="code">huffman_only</code> to force Huffman encoding only (no string match)</li> <li> <code class="code">rle</code> to limit match distances to one (run-length encoding)</li> </ul> <p>Filtered data consists mostly of small values with a somewhat random distribution. In this case, the compression algorithm is tuned to compress them better. The effect of <code class="code">filtered</code> is to force more Huffman coding and less string matching; it is somewhat intermediate between <code class="code">default</code> and <code class="code">huffman_only</code>. <code class="code">rle</code> is designed to be almost as fast as <code class="code">huffman_only</code>, but gives better compression for PNG image data.</p> <p><code class="code">Strategy</code> affects only the compression ratio, but not the correctness of the compressed output even if it is not set appropriately.</p> </dd> </dl> </div></article><article class="func"><h4 id="deflateParams-3" onmouseover="document.getElementById('ghlink-deflateParams-3-idp471').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-deflateParams-3-idp471').style.visibility = 'hidden';">  <span class="title-name">deflateParams(Z, Level, Strategy) -&gt; ok</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>     <div class="exports-tube"> <p>Dynamically updates the compression level and compression strategy. The interpretation of <code class="code">Level</code> and <code class="code">Strategy</code> is as in <code><a href="#deflateInit-6"><span class="code">deflateInit/6</span></a></code>. This can be used to switch between compression and straight copy of the input data, or to switch to a different kind of input data requiring a different strategy. If the compression level is changed, the input available so far is compressed with the old level (and can be flushed); the new level takes effect only at the next call of <code><a href="#deflate-3"><span class="code">deflate/3</span></a></code>.</p> <p>Before the call of <code class="code">deflateParams</code>, the stream state must be set as for a call of <code class="code">deflate/3</code>, as the currently available input may have to be compressed and flushed.</p> </div></article><article class="func"><h4 id="deflateReset-1" onmouseover="document.getElementById('ghlink-deflateReset-1-idp472').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-deflateReset-1-idp472').style.visibility = 'hidden';">  <span class="title-name">deflateReset(Z) -&gt; ok</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>   <div class="exports-tube"> <p>Equivalent to <code><a href="#deflateEnd-1"><span class="code">deflateEnd/1</span></a></code> followed by <code><a href="#deflateInit-1"><span class="code">deflateInit/1,2,6</span></a></code>, but does not free and reallocate all the internal compression state. The stream keeps the same compression level and any other attributes.</p> </div></article><article class="func"><h4 id="deflateSetDictionary-2" onmouseover="document.getElementById('ghlink-deflateSetDictionary-2-idp473').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-deflateSetDictionary-2-idp473').style.visibility = 'hidden';">  <span class="title-name">deflateSetDictionary(Z, Dictionary) -&gt; Adler32</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>     <div class="exports-tube"> <p>Initializes the compression dictionary from the specified byte sequence without producing any compressed output.</p> <p>This function must be called immediately after <code><a href="#deflateInit-1"><span class="code">deflateInit/1,2,6</span></a></code> or <code><a href="#deflateReset-1"><span class="code">deflateReset/1</span></a></code>, before any call of <code><a href="#deflate-3"><span class="code">deflate/3</span></a></code>.</p> <p>The compressor and decompressor must use the same dictionary (see <code><a href="#inflateSetDictionary-2"> <span class="code">inflateSetDictionary/2</span></a></code>).</p> <p>The Adler checksum of the dictionary is returned.</p> </div></article><article class="func"><h4 id="getBufSize-1" onmouseover="document.getElementById('ghlink-getBufSize-1-idp474').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-getBufSize-1-idp474').style.visibility = 'hidden';">  <span class="title-name">getBufSize(Z) -&gt; <code><a href="erlang#type-non_neg_integer">integer() &gt;= 0</a></code></span> </h4>  <h2 id="types" class="func-types-title">Types</h2>   <div class="exports-tube"> <p>Gets the size of the intermediate buffer.</p> <div class="warning"> <div class="label">Warning</div> <div class="content">

<p>This function is deprecated and will be removed in a future release.</p> </div> </div> </div></article><article class="func"><h4 id="gunzip-1" onmouseover="document.getElementById('ghlink-gunzip-1-idp475').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-gunzip-1-idp475').style.visibility = 'hidden';">  <span class="title-name">gunzip(Data) -&gt; Decompressed</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p>Uncompresses data with gz headers and checksum.</p> </div></article><article class="func"><h4 id="gzip-1" onmouseover="document.getElementById('ghlink-gzip-1-idp476').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-gzip-1-idp476').style.visibility = 'hidden';">  <span class="title-name">gzip(Data) -&gt; Compressed</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p>Compresses data with gz headers and checksum.</p> </div></article><article class="func"><h4 id="inflate-2" onmouseover="document.getElementById('ghlink-inflate-2-idp477').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-inflate-2-idp477').style.visibility = 'hidden';">  <span class="title-name">inflate(Z, Data) -&gt; Decompressed</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>     <div class="exports-tube"> <p>Equivalent to <code><a href="#inflate-3"><span class="code">inflate(Z, Data, [])</span></a></code> </p> </div></article><article class="func"><h4 id="inflate-3" onmouseover="document.getElementById('ghlink-inflate-3-idp478').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-inflate-3-idp478').style.visibility = 'hidden';">  <span class="title-name">inflate(Z, Data, Options) -&gt; Decompressed</span><div class="title-since"><span class="since">OTP 20.1</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>      <div class="exports-tube"> <p>Decompresses as much data as possible. It can introduce some output latency (reading input without producing any output).</p> <p>Currently the only available option is <code class="code">{exception_on_need_dict,boolean()}</code> which controls whether the function should throw an exception when a preset dictionary is required for decompression. When set to false, a <code class="code">need_dictionary</code> tuple will be returned instead. See <code><a href="#inflateSetDictionary-2"> <span class="code">inflateSetDictionary/2</span></a></code> for details.</p> <div class="warning"> <div class="label">Warning</div> <div class="content">

<p>This option defaults to <code class="code">true</code> for backwards compatibility but we intend to remove the exception behavior in a future release. New code that needs to handle dictionaries manually should always specify <code class="code">{exception_on_need_dict,false}</code>.</p> </div> </div> </div></article><article class="func"><h4 id="inflateChunk-1" onmouseover="document.getElementById('ghlink-inflateChunk-1-idp479').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-inflateChunk-1-idp479').style.visibility = 'hidden';">  <span class="title-name">inflateChunk(Z) -&gt; Decompressed | {more, Decompressed}</span><div class="title-since"><span class="since">OTP 18.0</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <div class="warning"> <div class="label">Warning</div> <div class="content">

<p>This function is deprecated and will be removed in a future release. Use <code><a href="#safeInflate-2"><span class="code">safeInflate/2</span> </a></code> instead.</p> </div> </div> <p>Reads the next chunk of uncompressed data, initialized by <code><a href="#inflateChunk-2"><span class="code">inflateChunk/2</span></a></code>.</p> <p>This function is to be repeatedly called, while it returns <code class="code">{more, Decompressed}</code>.</p> </div></article><article class="func"><h4 id="inflateChunk-2" onmouseover="document.getElementById('ghlink-inflateChunk-2-idp480').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-inflateChunk-2-idp480').style.visibility = 'hidden';">  <span class="title-name">inflateChunk(Z, Data) -&gt; Decompressed | {more, Decompressed}</span><div class="title-since"><span class="since">OTP 18.0</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>     <div class="exports-tube"> <div class="warning"> <div class="label">Warning</div> <div class="content">

<p>This function is deprecated and will be removed in a future release. Use <code><a href="#safeInflate-2"><span class="code">safeInflate/2</span> </a></code> instead.</p> </div> </div> <p>Like <code><a href="#inflate-2"><span class="code">inflate/2</span></a></code>, but decompresses no more data than will fit in the buffer configured through <code><a href="#setBufSize-2"><span class="code">setBufSize/2</span> </a></code>. Is is useful when decompressing a stream with a high compression ratio, such that a small amount of compressed input can expand up to 1000 times.</p> <p>This function returns <code class="code">{more, Decompressed}</code>, when there is more output available, and <code><a href="#inflateChunk-1"><span class="code">inflateChunk/1</span></a></code> is to be used to read it.</p> <p>This function can introduce some output latency (reading input without producing any output).</p> <p>An exception will be thrown if a preset dictionary is required for further decompression. See <code><a href="#inflateSetDictionary-2"> <span class="code">inflateSetDictionary/2</span></a></code> for details.</p> <p>Example:</p> <pre data-language="erlang">
walk(Compressed, Handler) -&gt;
    Z = zlib:open(),
    zlib:inflateInit(Z),
    % Limit single uncompressed chunk size to 512kb
    zlib:setBufSize(Z, 512 * 1024),
    loop(Z, Handler, zlib:inflateChunk(Z, Compressed)),
    zlib:inflateEnd(Z),
    zlib:close(Z).

loop(Z, Handler, {more, Uncompressed}) -&gt;
    Handler(Uncompressed),
    loop(Z, Handler, zlib:inflateChunk(Z));
loop(Z, Handler, Uncompressed) -&gt;
    Handler(Uncompressed).</pre> </div></article><article class="func"><h4 id="inflateEnd-1" onmouseover="document.getElementById('ghlink-inflateEnd-1-idp481').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-inflateEnd-1-idp481').style.visibility = 'hidden';">  <span class="title-name">inflateEnd(Z) -&gt; ok</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>   <div class="exports-tube"> <p>Ends the inflate session and cleans all data used. Notice that this function throws a <code class="code">data_error</code> exception if no end of stream was found (meaning that not all data has been uncompressed).</p> </div></article><article class="func"><h4 id="inflateGetDictionary-1" onmouseover="document.getElementById('ghlink-inflateGetDictionary-1-idp482').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-inflateGetDictionary-1-idp482').style.visibility = 'hidden';">  <span class="title-name">inflateGetDictionary(Z) -&gt; Dictionary</span><div class="title-since"><span class="since">OTP 20.0</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p>Returns the decompression dictionary currently in use by the stream. This function must be called between <code><a href="#inflateInit-1"><span class="code">inflateInit/1,2</span></a></code> and <code><a href="#inflateEnd-1"><span class="code">inflateEnd</span></a></code>.</p> <p>Only supported if ERTS was compiled with zlib &gt;= 1.2.8.</p> </div></article><article class="func"><h4 id="inflateInit-1" onmouseover="document.getElementById('ghlink-inflateInit-1-idp483').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-inflateInit-1-idp483').style.visibility = 'hidden';">  <span class="title-name">inflateInit(Z) -&gt; ok</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>   <div class="exports-tube"> <p>Initializes a zlib stream for decompression.</p> </div></article><article class="func"><h4 id="inflateInit-2" onmouseover="document.getElementById('ghlink-inflateInit-2-idp484').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-inflateInit-2-idp484').style.visibility = 'hidden';">  <span class="title-name">inflateInit(Z, WindowBits) -&gt; ok</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p>Initializes a decompression session on zlib stream.</p> <p><code class="code">WindowBits</code> is the base two logarithm of the maximum window size (the size of the history buffer). It is to be in the range 8 through 15. Default to 15 if <code><a href="#inflateInit-1"><span class="code">inflateInit/1</span></a></code> is used.</p> <p>If a compressed stream with a larger window size is specified as input, <code><a href="#inflate-2"><span class="code">inflate/2</span></a></code> throws the <code class="code">data_error</code> exception.</p> <p>A negative <code class="code">WindowBits</code> value makes zlib ignore the zlib header (and checksum) from the stream. Notice that the zlib source mentions this only as a undocumented feature.</p> </div></article><article class="func"><h4 id="inflateReset-1" onmouseover="document.getElementById('ghlink-inflateReset-1-idp485').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-inflateReset-1-idp485').style.visibility = 'hidden';">  <span class="title-name">inflateReset(Z) -&gt; ok</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>   <div class="exports-tube"> <p>Equivalent to <code><a href="#inflateEnd-1"><span class="code">inflateEnd/1</span></a></code> followed by <code><a href="#inflateInit-1"><span class="code">inflateInit/1</span></a></code>, but does not free and reallocate all the internal decompression state. The stream will keep attributes that could have been set by <code class="code">inflateInit/1,2</code>.</p> </div></article><article class="func"><h4 id="inflateSetDictionary-2" onmouseover="document.getElementById('ghlink-inflateSetDictionary-2-idp486').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-inflateSetDictionary-2-idp486').style.visibility = 'hidden';">  <span class="title-name">inflateSetDictionary(Z, Dictionary) -&gt; ok</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p>Initializes the decompression dictionary from the specified uncompressed byte sequence. This function must be called as a response to an inflate operation (eg. <code><a href="#safeInflate-2"><span class="code">safeInflate/2</span></a></code>) returning <code class="code">{need_dictionary,Adler,Output}</code> or in the case of deprecated functions, throwing an <code class="code">{'EXIT',{{need_dictionary,Adler},_StackTrace}}</code> exception.</p> <p>The dictionary chosen by the compressor can be determined from the Adler value returned or thrown by the call to the inflate function. The compressor and decompressor must use the same dictionary (See <code><a href="#deflateSetDictionary-2"> <span class="code">deflateSetDictionary/2</span></a></code>).</p> <p>After setting the dictionary the inflate operation should be retried without new input.</p> <p>Example:</p> <pre data-language="erlang">
deprecated_unpack(Z, Compressed, Dict) -&gt;
     case catch zlib:inflate(Z, Compressed) of
          {'EXIT',{{need_dictionary,_DictID},_}} -&gt;
                 ok = zlib:inflateSetDictionary(Z, Dict),
                 Uncompressed = zlib:inflate(Z, []);
          Uncompressed -&gt;
                 Uncompressed
     end.

new_unpack(Z, Compressed, Dict) -&gt;
    case zlib:inflate(Z, Compressed, [{exception_on_need_dict, false}]) of
        {need_dictionary, _DictId, Output} -&gt;
            ok = zlib:inflateSetDictionary(Z, Dict),
            [Output | zlib:inflate(Z, [])];
        Uncompressed -&gt;
            Uncompressed
    end.</pre> </div></article><article class="func"><h4 id="open-0" onmouseover="document.getElementById('ghlink-open-0-idp487').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-open-0-idp487').style.visibility = 'hidden';">  <span class="title-name">open() -&gt; <code><a href="#type-zstream">zstream()</a></code></span> </h4> <div class="exports-tube"> <p>Opens a zlib stream.</p> </div></article><article class="func"><h4 id="safeInflate-2" onmouseover="document.getElementById('ghlink-safeInflate-2-idp488').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-safeInflate-2-idp488').style.visibility = 'hidden';">  <span class="title-name">safeInflate(Z, Data) -&gt; Result</span><div class="title-since"><span class="since">OTP 20.1</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>     <div class="exports-tube"> <p>Like <code><a href="#inflate-2"><span class="code">inflate/2</span></a></code>, but returns once it has expanded beyond a small implementation-defined threshold. It's useful when decompressing untrusted input which could have been maliciously crafted to expand until the system runs out of memory.</p> <p>This function returns <code class="code">{continue | finished, Output}</code>, where Output is the data that was decompressed in this call. New input can be queued up on each call if desired, and the function will return <code class="code">{finished, Output}</code> once all queued data has been decompressed.</p> <p>This function can introduce some output latency (reading input without producing any output).</p> <p>If a preset dictionary is required for further decompression, this function returns a <code class="code">need_dictionary</code> tuple. See <code><a href="#inflateSetDictionary-2"> <span class="code">inflateSetDictionary/2</span></a></code>) for details.</p> <p>Example:</p> <pre data-language="erlang">
walk(Compressed, Handler) -&gt;
    Z = zlib:open(),
    zlib:inflateInit(Z),
    loop(Z, Handler, zlib:safeInflate(Z, Compressed)),
    zlib:inflateEnd(Z),
    zlib:close(Z).

loop(Z, Handler, {continue, Output}) -&gt;
    Handler(Output),
    loop(Z, Handler, zlib:safeInflate(Z, []));
loop(Z, Handler, {finished, Output}) -&gt;
    Handler(Output).</pre> </div></article><article class="func"><h4 id="setBufSize-2" onmouseover="document.getElementById('ghlink-setBufSize-2-idp489').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-setBufSize-2-idp489').style.visibility = 'hidden';">  <span class="title-name">setBufSize(Z, Size) -&gt; ok</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p>Sets the intermediate buffer size.</p> <div class="warning"> <div class="label">Warning</div> <div class="content">

<p>This function is deprecated and will be removed in a future release.</p> </div> </div> </div></article><article class="func"><h4 id="set_controlling_process-2" onmouseover="document.getElementById('ghlink-set_controlling_process-2-idp490').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-set_controlling_process-2-idp490').style.visibility = 'hidden';">  <span class="title-name">set_controlling_process(Z, Pid) -&gt; ok</span><div class="title-since"><span class="since">OTP 20.1.3</span></div> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p>Changes the controlling process of <code class="code">Z</code> to <code class="code">Pid</code>, which must be a local process.</p> </div></article><article class="func"><h4 id="uncompress-1" onmouseover="document.getElementById('ghlink-uncompress-1-idp491').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-uncompress-1-idp491').style.visibility = 'hidden';">  <span class="title-name">uncompress(Data) -&gt; Decompressed</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p>Uncompresses data with zlib headers and checksum.</p> </div></article><article class="func"><h4 id="unzip-1" onmouseover="document.getElementById('ghlink-unzip-1-idp492').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-unzip-1-idp492').style.visibility = 'hidden';">  <span class="title-name">unzip(Data) -&gt; Decompressed</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p>Uncompresses data without zlib headers and checksum.</p> </div></article><article class="func"><h4 id="zip-1" onmouseover="document.getElementById('ghlink-zip-1-idp493').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-zip-1-idp493').style.visibility = 'hidden';">  <span class="title-name">zip(Data) -&gt; Compressed</span> </h4>  <h2 id="types" class="func-types-title">Types</h2>    <div class="exports-tube"> <p>Compresses data without zlib headers and checksum.</p> </div></article> </div> <div class="footer"> <hr> <p>Copyright © 1997-2022 Ericsson AB. All Rights Reserved.</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2022 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>
