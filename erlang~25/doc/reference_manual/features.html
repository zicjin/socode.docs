<div class="innertube"> <h1 id="Features">13 Features</h1> <p id="features">  Introduced in OTP 25, Erlang has the concept of selectable features. A feature can change, add or remove behaviour of the language and/or runtime system. Examples can include </p> <ul> <li>Adding new syntactical constructs to the language</li> <li>Change the semantics of an existing construct</li> <li>Change the behaviour of some runtime aspect</li> </ul> <p> A feature will start out with a status of experimental part of OTP, making it possible to try out for users and give feedback. The possibility to try out features is enabled by options to the compiler, directives in a module and options to the runtime system. Even when a feature is not experimental it will still be possible to enable or disable it. This makes it possible to adapt a code base at a suitable pace instead of being forced when changing to a new release. </p> <p> The status of a feature will eventually end up as being either a permanent part of OTP or rejected, being removed and no longer selectable. </p> <h2 id="life-cycle-of-features" class="title-link" onmouseover="document.getElementById('ghlink-life-cycle-of-features-idm3309').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-life-cycle-of-features-idm3309').style.visibility = 'hidden';"> <div class="title-name">13.1 Life cycle of features</div>  </h2> <p>A feature is in one of four possible states:</p> <dl> <dt><strong>Experimental</strong></dt> <dd>The initial state, is meant for trying out and collecting feedback. The feature can be enabled but is disabled by default.</dd> <dt><strong>Approved</strong></dt> <dd>The feature has been finalised and is now part of OTP. By default it is enabled, but can be disabled.</dd> <dt><strong>Permanent</strong></dt> <dd>The feature is now a permanent part of OTP. It can no longer be disabled.</dd> <dt><strong>Rejected</strong></dt> <dd>The feature never reached the approved state and will not be part of OTP. It cannot be enabled.</dd> </dl> <p> After leaving the experimental state, a feature can enter any of the other three states, and if the next state is approved, the feature will eventually end up in the permanent state. A feature can change state only in connection with a release. </p> <p> A feature may be in the approved state for several releases. </p> <div class="doc-table-wrapper"> <table class="doc-table"> <tr> <td>State</td> <td>Default</td> <td>Configurable</td> <td>Available</td> </tr> <tr> <td>Experimental</td> <td>disabled</td> <td>yes</td> <td>yes</td> </tr> <tr> <td>Approved</td> <td>enabled</td> <td>yes</td> <td>yes</td> </tr> <tr> <td>Permanent</td> <td>enabled</td> <td>no</td> <td>yes</td> </tr> <tr> <td>Rejected</td> <td>disabled</td> <td>no</td> <td>no</td> </tr> </table> <p class="doc-table-caption">Table 13.1: Feature States</p> </div> <ul> <li>Being configurable means the possibility to enable or disable the feature by means of compiler options and directives in the file being compiled.</li> <li>Being available can be seen using the <code class="code">FEATURE_AVAILABLE</code> macro.</li> </ul> <h2 id="enabling-and-disabling-features" class="title-link" onmouseover="document.getElementById('ghlink-enabling-and-disabling-features-idm3354').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-enabling-and-disabling-features-idm3354').style.visibility = 'hidden';"> <div class="title-name">13.2 Enabling and Disabling Features</div>  </h2> <p>To use a feature that is in the experimental state, it has to be enabled during compilation. This can be done in a number of different ways: </p> <dl> <dt><strong>Options to <code class="code">erlc</code></strong></dt> <dd>Options <code><span class="code">-enable-feature</span></code> and <code><span class="code">-disable-feature</span></code> can be used to enable or disable individal features.</dd> <dt><strong>Compiler options</strong></dt> <dd>The compiler option <code><span class="code">{feature, &lt;feature&gt;, enable|disable}</span></code> can be used either as a <code class="code">+&lt;term&gt;</code> option to <code class="code">erlc</code>, in the options argument to function in the <code class="code">compile</code> module, or in the <code class="code">-compile(..)</code> attribute in a file.</dd> <dt><strong>The feature directive</strong></dt> <dd>Inside a prefix of a module, one can use a <code><span class="code">-feature(&lt;feature&gt;, enable|disable)</span></code> directive. This is the preferred method of enabling and disabling features.</dd> </dl> <p> Note that to load a module compiled with features enabled, the corresponding features must be enabled in the runtime. This is done using options <code><span class="code">-enable-feature</span></code> and <code><span class="code">-disable-feature</span></code> to <code class="code">erl</code>. This is to allow the possibility to prevent the use of experimental features in, e.g., production. This will catch experimental features used in both own and third party components. An active choice to use experimental features must be done. </p> <h2 id="preprocessor-additions" class="title-link" onmouseover="document.getElementById('ghlink-preprocessor-additions-idm3383').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-preprocessor-additions-idm3383').style.visibility = 'hidden';"> <div class="title-name">13.3 Preprocessor Additions</div>  </h2> <p> To allow for conditional compilation during transitioning of a code base and/or trying out experimental features <code>feature</code> <code class="code">predefined macros</code> <code class="code">?FEATURE_AVAILABLE(Feature)</code> and <code class="code">?FEATURE_ENABLED(Feature)</code> are available. </p> <h2 id="information-about-existing-features" class="title-link" onmouseover="document.getElementById('ghlink-information-about-existing-features-idm3390').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-information-about-existing-features-idm3390').style.visibility = 'hidden';"> <div class="title-name">13.4 Information about Existing Features</div>  </h2> <p> The module <code class="code">erl_features</code> <code><span class="code">erl_features</span></code> exports a number of functions that can be used to obtain information about current features as well as the features used when compiling a module. </p> <p>One can also use the <code class="code">erlc</code> options <code><span class="code">-list-features</span></code> and <code><span class="code">-describe-feature &lt;feature&gt;</span></code> to get information about existing features. </p> <p> Additionally, there is the compiler option <code><span class="code">warn_keywords</span></code> that can be used to find atoms in the code base that might collide with keywords in features not yet enabled. </p> <h2 id="existing-features" class="title-link" onmouseover="document.getElementById('ghlink-existing-features-idm3405').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-existing-features-idm3405').style.visibility = 'hidden';"> <div class="title-name">13.5 Existing Features</div>  </h2> <p> The following configurable features exist: </p> <dl> <dt><strong><code class="code">maybe_expr</code> (experimental)</strong></dt> <dd> Implementation of the <code><a href="expressions#maybe"><span class="code">maybe</span></a></code> expression proposed in <code><a href="https://www.erlang.org/eeps/eep-0049">EEP 49</a></code>.</dd> </dl> </div> <div class="footer"> <hr> <p>Copyright Â© 2003-2022 Ericsson AB. All Rights Reserved.</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2022 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>
