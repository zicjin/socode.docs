<h1 class="command">HRANDFIELD</h1>
<pre>HRANDFIELD key [count [WITHVALUES]]</pre>   <div class="metadata"> <p><strong>Available since 6.2.0.</strong></p> <p><strong>Time complexity:</strong> O(N) where N is the number of fields returned</p> </div> <p>When called with just the <code>key</code> argument, return a random field from the hash value stored at <code>key</code>.</p> <p>If the provided <code>count</code> argument is positive, return an array of <strong>distinct fields</strong>. The array's length is either <code>count</code> or the hash's number of fields (<a href="hlen">HLEN</a>), whichever is lower.</p> <p>If called with a negative <code>count</code>, the behavior changes and the command is allowed to return the <strong>same field multiple times</strong>. In this case, the number of returned fields is the absolute value of the specified <code>count</code>.</p> <p>The optional <code>WITHVALUES</code> modifier changes the reply so it includes the respective values of the randomly selected hash fields.</p> <h2>Return value</h2> <p><a href="https://redis.io/topics/protocol#bulk-string-reply">Bulk string reply</a>: without the additional <code>count</code> argument, the command returns a Bulk Reply with the randomly selected field, or <code>nil</code> when <code>key</code> does not exist.</p> <p><a href="https://redis.io/topics/protocol#array-reply">Array reply</a>: when the additional <code>count</code> argument is passed, the command returns an array of fields, or an empty array when <code>key</code> does not exist. If the <code>WITHVALUES</code> modifier is used, the reply is a list fields and their values from the hash.</p> <h2>Examples</h2> <div class="example" data-session="0f843e6b82e08974e583b127d24885cc"> <span class="monospace prompt">redis&gt; </span> <span class="monospace command">HMSET coin heads obverse tails reverse edge null</span> <code>"OK"</code> <span class="monospace prompt">redis&gt; </span> <span class="monospace command">HRANDFIELD coin</span> <code>ERR Unknown or disabled command 'HRANDFIELD'</code> <span class="monospace prompt">redis&gt; </span> <span class="monospace command">HRANDFIELD coin</span> <code>ERR Unknown or disabled command 'HRANDFIELD'</code> <span class="monospace prompt">redis&gt; </span> <span class="monospace command">HRANDFIELD coin -5 WITHVALUES</span> <code>ERR Unknown or disabled command 'HRANDFIELD'</code>
</div> <h2>Specification of the behavior when count is passed</h2> <p>When the <code>count</code> argument is a positive value this command behaves as follows:</p> <ul> <li>No repeated fields are returned.</li> <li>If <code>count</code> is bigger than the number of fields in the hash, the command will only return the whole hash without additional fields.</li> <li>The order of fields in the reply is not truly random, so it is up to the client to shuffle them if needed.</li> </ul> <p>When the <code>count</code> is a negative value, the behavior changes as follows:</p> <ul> <li>Repeating fields are possible.</li> <li>Exactly <code>count</code> fields, or an empty array if the hash is empty (non-existing key), are always returned.</li> <li>The order of fields in the reply is truly random.</li> </ul>  <div class="_attribution">
  <p class="_attribution-p">
    <a href="https://redis.io/commands/hrandfield" class="_attribution-link" target="_blank">https://redis.io/commands/hrandfield</a>
  </p>
</div>
