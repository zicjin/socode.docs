<h1 class="command">GEOSEARCHSTORE</h1>
<pre>GEOSEARCHSTORE destination source [FROMMEMBER member] [FROMLONLAT longitude latitude] [BYRADIUS radius M|KM|FT|MI] [BYBOX width height M|KM|FT|MI] [ASC|DESC] [COUNT count [ANY]] [STOREDIST]</pre>   <div class="metadata"> <p><strong>Available since 6.2.0.</strong></p> <p><strong>Time complexity:</strong> O(N+log(M)) where N is the number of elements in the grid-aligned bounding box area around the shape provided as the filter and M is the number of items inside the shape</p> </div> <p>This command is like <a href="geosearch">GEOSEARCH</a>, but stores the result in destination key.</p> <p>This command comes in place of the now deprecated <a href="georadius">GEORADIUS</a> and <a href="georadiusbymember">GEORADIUSBYMEMBER</a>.</p> <p>By default, it stores the results in the <code>destination</code> sorted set with their geospatial information.</p> <p>When using the <code>STOREDIST</code> option, the command stores the items in a sorted set populated with their distance from the center of the circle or box, as a floating-point number, in the same unit specified for that shape.</p> <h2>Return value</h2> <p><a href="https://redis.io/topics/protocol#integer-reply">Integer reply</a>: the number of elements in the resulting set.</p> <h2>Examples</h2> <div class="example" data-session="b05e4c94062d3914d6d599ac59208734"> <span class="monospace prompt">redis&gt; </span> <span class="monospace command">GEOADD Sicily 13.361389 38.115556 "Palermo" 15.087269 37.502669 "Catania"</span> <code>(integer) 2</code> <span class="monospace prompt">redis&gt; </span> <span class="monospace command">GEOADD Sicily 12.758489 38.788135 "edge1" 17.241510 38.788135 "edge2"</span> <code>(integer) 2</code> <span class="monospace prompt">redis&gt; </span> <span class="monospace command">GEOSEARCHSTORE key1 Sicily FROMLONLAT 15 37 BYBOX 400 400 km ASC COUNT 3</span> <code>(integer) 3</code> <span class="monospace prompt">redis&gt; </span> <span class="monospace command">GEOSEARCH key1 FROMLONLAT 15 37 BYBOX 400 400 km ASC WITHCOORD WITHDIST WITHHASH</span> <code>1) 1) "Catania"
   2) "56.4413"
   3) (integer) 3479447370796909
   4) 1) "15.08726745843887329"
      2) "37.50266842333162032"
2) 1) "Palermo"
   2) "190.4424"
   3) (integer) 3479099956230698
   4) 1) "13.36138933897018433"
      2) "38.11555639549629859"
3) 1) "edge2"
   2) "279.7403"
   3) (integer) 3481342659049484
   4) 1) "17.24151045083999634"
      2) "38.78813451624225195"</code> <span class="monospace prompt">redis&gt; </span> <span class="monospace command">GEOSEARCHSTORE key2 Sicily FROMLONLAT 15 37 BYBOX 400 400 km ASC COUNT 3 STOREDIST</span> <code>(integer) 3</code> <span class="monospace prompt">redis&gt; </span> <span class="monospace command">ZRANGE key2 0 -1 WITHSCORES</span> <code>1) "Catania"
2) "56.441257870158204"
3) "Palermo"
4) "190.44242984775784"
5) "edge2"
6) "279.7403417843143"</code>
</div>  <div class="_attribution">
  <p class="_attribution-p">
    <a href="https://redis.io/commands/geosearchstore" class="_attribution-link" target="_blank">https://redis.io/commands/geosearchstore</a>
  </p>
</div>
