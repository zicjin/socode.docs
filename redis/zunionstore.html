<h1 class="command">ZUNIONSTORE</h1>
<pre>ZUNIONSTORE destination numkeys key [key ...] [WEIGHTS weight [weight ...]] [AGGREGATE SUM|MIN|MAX]</pre>   <div class="metadata"> <p><strong>Available since 2.0.0.</strong></p> <p><strong>Time complexity:</strong> O(N)+O(M log(M)) with N being the sum of the sizes of the input sorted sets, and M being the number of elements in the resulting sorted set.</p> </div> <p>Computes the union of <code>numkeys</code> sorted sets given by the specified keys, and stores the result in <code>destination</code>. It is mandatory to provide the number of input keys (<code>numkeys</code>) before passing the input keys and the other (optional) arguments.</p> <p>By default, the resulting score of an element is the sum of its scores in the sorted sets where it exists.</p> <p>Using the <code>WEIGHTS</code> option, it is possible to specify a multiplication factor for each input sorted set. This means that the score of every element in every input sorted set is multiplied by this factor before being passed to the aggregation function. When <code>WEIGHTS</code> is not given, the multiplication factors default to <code>1</code>.</p> <p>With the <code>AGGREGATE</code> option, it is possible to specify how the results of the union are aggregated. This option defaults to <code>SUM</code>, where the score of an element is summed across the inputs where it exists. When this option is set to either <code>MIN</code> or <code>MAX</code>, the resulting set will contain the minimum or maximum score of an element across the inputs where it exists.</p> <p>If <code>destination</code> already exists, it is overwritten.</p> <h2>Return value</h2> <p><a href="https://redis.io/topics/protocol#integer-reply">Integer reply</a>: the number of elements in the resulting sorted set at <code>destination</code>.</p> <h2>Examples</h2> <div class="example" data-session="f87e8a4560d956d6d7361cc844e48bc1"> <span class="monospace prompt">redis&gt; </span> <span class="monospace command">ZADD zset1 1 "one"</span> <code>(integer) 1</code> <span class="monospace prompt">redis&gt; </span> <span class="monospace command">ZADD zset1 2 "two"</span> <code>(integer) 1</code> <span class="monospace prompt">redis&gt; </span> <span class="monospace command">ZADD zset2 1 "one"</span> <code>(integer) 1</code> <span class="monospace prompt">redis&gt; </span> <span class="monospace command">ZADD zset2 2 "two"</span> <code>(integer) 1</code> <span class="monospace prompt">redis&gt; </span> <span class="monospace command">ZADD zset2 3 "three"</span> <code>(integer) 1</code> <span class="monospace prompt">redis&gt; </span> <span class="monospace command">ZUNIONSTORE out 2 zset1 zset2 WEIGHTS 2 3</span> <code>(integer) 3</code> <span class="monospace prompt">redis&gt; </span> <span class="monospace command">ZRANGE out 0 -1 WITHSCORES</span> <code>1) "one"
2) "5"
3) "three"
4) "9"
5) "two"
6) "10"</code>
</div>  <div class="_attribution">
  <p class="_attribution-p">
    <a href="https://redis.io/commands/zunionstore" class="_attribution-link" target="_blank">https://redis.io/commands/zunionstore</a>
  </p>
</div>
