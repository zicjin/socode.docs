<h1 class="command">CLUSTER</h1>
<pre>CLUSTER SLOTS</pre>   <div class="metadata"> <p><strong>Available since 3.0.0.</strong></p> <p><strong>Time complexity:</strong> O(N) where N is the total number of Cluster nodes</p> </div> <p><a href="cluster-slots">CLUSTER SLOTS</a> returns details about which cluster slots map to which Redis instances. The command is suitable to be used by Redis Cluster client libraries implementations in order to retrieve (or update when a redirection is received) the map associating cluster <em>hash slots</em> with actual nodes network coordinates (composed of an IP address and a TCP port), so that when a command is received, it can be sent to what is likely the right instance for the keys specified in the command.</p> <h2>Nested Result Array</h2> <p>Each nested result is:</p> <ul> <li>Start slot range</li> <li>End slot range</li> <li>Master for slot range represented as nested IP/Port array </li> <li>First replica of master for slot range</li> <li>Second replica</li> <li>...continues until all replicas for this master are returned.</li> </ul> <p>Each result includes all active replicas of the master instance for the listed slot range. Failed replicas are not returned.</p> <p>The third nested reply is guaranteed to be the IP/Port pair of the master instance for the slot range. All IP/Port pairs after the third nested reply are replicas of the master.</p> <p>If a cluster instance has non-contiguous slots (e.g. 1-400,900,1800-6000) then master and replica IP/Port results will be duplicated for each top-level slot range reply.</p> <p><strong>Warning:</strong> Newer versions of Redis Cluster will output, for each Redis instance, not just the IP and port, but also the node ID as third element of the array. In future versions there could be more elements describing the node better. In general a client implementation should just rely on the fact that certain parameters are at fixed positions as specified, but more parameters may follow and should be ignored. Similarly a client library should try if possible to cope with the fact that older versions may just have the IP and port parameter.</p> <h2>Return value</h2> <p><a href="https://redis.io/topics/protocol#array-reply">Array reply</a>: nested list of slot ranges with IP/Port mappings.</p> <h3>Sample Output (old version)</h3> <pre>127.0.0.1:7001&gt; cluster slots
1) 1) (integer) 0
   2) (integer) 4095
   3) 1) "127.0.0.1"
      2) (integer) 7000
   4) 1) "127.0.0.1"
      2) (integer) 7004
2) 1) (integer) 12288
   2) (integer) 16383
   3) 1) "127.0.0.1"
      2) (integer) 7003
   4) 1) "127.0.0.1"
      2) (integer) 7007
3) 1) (integer) 4096
   2) (integer) 8191
   3) 1) "127.0.0.1"
      2) (integer) 7001
   4) 1) "127.0.0.1"
      2) (integer) 7005
4) 1) (integer) 8192
   2) (integer) 12287
   3) 1) "127.0.0.1"
      2) (integer) 7002
   4) 1) "127.0.0.1"
      2) (integer) 7006
</pre> <h3>Sample Output (new version, includes IDs)</h3> <pre>127.0.0.1:30001&gt; cluster slots
1) 1) (integer) 0
   2) (integer) 5460
   3) 1) "127.0.0.1"
      2) (integer) 30001
      3) "09dbe9720cda62f7865eabc5fd8857c5d2678366"
   4) 1) "127.0.0.1"
      2) (integer) 30004
      3) "821d8ca00d7ccf931ed3ffc7e3db0599d2271abf"
2) 1) (integer) 5461
   2) (integer) 10922
   3) 1) "127.0.0.1"
      2) (integer) 30002
      3) "c9d93d9f2c0c524ff34cc11838c2003d8c29e013"
   4) 1) "127.0.0.1"
      2) (integer) 30005
      3) "faadb3eb99009de4ab72ad6b6ed87634c7ee410f"
3) 1) (integer) 10923
   2) (integer) 16383
   3) 1) "127.0.0.1"
      2) (integer) 30003
      3) "044ec91f325b7595e76dbcb18cc688b6a5b434a1"
   4) 1) "127.0.0.1"
      2) (integer) 30006
      3) "58e6e48d41228013e5d9c1c37c5060693925e97e"
</pre>  <div class="_attribution">
  <p class="_attribution-p">
    <a href="https://redis.io/commands/cluster-slots" class="_attribution-link" target="_blank">https://redis.io/commands/cluster-slots</a>
  </p>
</div>
