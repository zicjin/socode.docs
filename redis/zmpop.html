<h1 class="command">ZMPOP</h1>
<pre>ZMPOP numkeys key [key ...] MIN|MAX [COUNT count]</pre>   <div class="metadata"> <p><strong>Available since 7.0.0.</strong></p> <p><strong>Time complexity:</strong> O(K) + O(N*log(M)) where K is the number of provided keys, N being the number of elements in the sorted set, and M being the number of elements popped.</p> </div> <p>Pops one or more elements, that are member-score pairs, from the first non-empty sorted set in the provided list of key names.</p> <p><a href="zmpop">ZMPOP</a> and <a href="bzmpop">BZMPOP</a> are similar to the following, more limited, commands:</p> <ul> <li>
<a href="zpopmin">ZPOPMIN</a> or <a href="zpopmax">ZPOPMAX</a> which take only one key, and can return multiple elements.</li> <li>
<a href="bzpopmin">BZPOPMIN</a> or <a href="bzpopmax">BZPOPMAX</a> which take multiple keys, but return only one element from just one key.</li> </ul> <p>See <a href="bzmpop">BZMPOP</a> for the blocking variant of this command.</p> <p>When the <code>MIN</code> modifier is used, the elements popped are those with the lowest scores from the first non-empty sorted set. The <code>MAX</code> modifier causes elements with the highest scores to be popped. The optional <code>COUNT</code> can be used to specify the number of elements to pop, and is set to 1 by default.</p> <p>The number of popped elements is the minimum from the sorted set's cardinality and <code>COUNT</code>'s value.</p> <h2>Return value</h2> <p><a href="https://redis.io/topics/protocol#array-reply">Array reply</a>: specifically:</p> <ul> <li>A <code>nil</code> when no element could be popped.</li> <li>A two-element array with the first element being the name of the key from which elements were popped, and the second element is an array of the popped elements. Every entry in the elements array is also an array that contains the member and its score.</li> </ul> <h2>Examples</h2> <div class="example" data-session="703753a89ca3e345842dc76cae573f51"> <span class="monospace prompt">redis&gt; </span> <span class="monospace command">ZMPOP 1 notsuchkey MIN</span> <code>ERR Unknown or disabled command 'ZMPOP'</code> <span class="monospace prompt">redis&gt; </span> <span class="monospace command">ZADD myzset 1 "one" 2 "two" 3 "three"</span> <code>(integer) 3</code> <span class="monospace prompt">redis&gt; </span> <span class="monospace command">ZMPOP 1 myzset MIN</span> <code>ERR Unknown or disabled command 'ZMPOP'</code> <span class="monospace prompt">redis&gt; </span> <span class="monospace command">ZRANGE myzset 0 -1 WITHSCORES</span> <code>1) "one"
2) "1"
3) "two"
4) "2"
5) "three"
6) "3"</code> <span class="monospace prompt">redis&gt; </span> <span class="monospace command">ZMPOP 1 myzset MAX COUNT 10</span> <code>ERR Unknown or disabled command 'ZMPOP'</code> <span class="monospace prompt">redis&gt; </span> <span class="monospace command">ZADD myzset2 4 "four" 5 "five" 6 "six"</span> <code>(integer) 3</code> <span class="monospace prompt">redis&gt; </span> <span class="monospace command">ZMPOP 2 myzset myzset2 MIN COUNT 10</span> <code>ERR Unknown or disabled command 'ZMPOP'</code> <span class="monospace prompt">redis&gt; </span> <span class="monospace command">ZRANGE myzset 0 -1 WITHSCORES</span> <code>1) "one"
2) "1"
3) "two"
4) "2"
5) "three"
6) "3"</code> <span class="monospace prompt">redis&gt; </span> <span class="monospace command">ZMPOP 2 myzset myzset2 MAX COUNT 10</span> <code>ERR Unknown or disabled command 'ZMPOP'</code> <span class="monospace prompt">redis&gt; </span> <span class="monospace command">ZRANGE myzset2 0 -1 WITHSCORES</span> <code>1) "four"
2) "4"
3) "five"
4) "5"
5) "six"
6) "6"</code> <span class="monospace prompt">redis&gt; </span> <span class="monospace command">EXISTS myzset myzset2</span> <code>(integer) 2</code>
</div>  <div class="_attribution">
  <p class="_attribution-p">
    <a href="https://redis.io/commands/zmpop" class="_attribution-link" target="_blank">https://redis.io/commands/zmpop</a>
  </p>
</div>
