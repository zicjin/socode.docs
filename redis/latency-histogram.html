<h1 class="command">LATENCY</h1>
<pre>LATENCY HISTOGRAM [command [command ...]]</pre>   <div class="metadata"> <p><strong>Available since 7.0.0.</strong></p> <p><strong>Time complexity:</strong> O(N) where N is the number of commands with latency information being retrieved.</p> </div> <p>The <a href="latency-histogram">LATENCY HISTOGRAM</a> command reports a cumulative distribution of latencies in the format of a histogram for each of the specified command names. If no command names are specified then all commands that contain latency information will be replied.</p> <p>Each reported histogram has the following fields:</p> <ul> <li>Command name.</li> <li>The total calls for that command.</li> <li>A map of time buckets: <ul> <li>Each bucket represents a latency range.</li> <li>Each bucket covers twice the previous bucket's range.</li> <li>Empty buckets are not printed.</li> <li>The tracked latencies are between 1 microsecond and roughly 1 second.</li> <li>Everything above 1 sec is considered +Inf.</li> <li>At max there will be log2(1000000000)=30 buckets.</li> </ul>
</li> </ul> <p>This command requires the extended latency monitoring feature to be enabled (by default it's enabled). If you need to enable it, use <code>CONFIG SET latency-tracking yes</code>.</p> <h2>Examples</h2> <pre>127.0.0.1:6379&gt; LATENCY HISTOGRAM set
1# "set" =&gt;
   1# "calls" =&gt; (integer) 100000
   2# "histogram_usec" =&gt;
      1# (integer) 1 =&gt; (integer) 99583
      2# (integer) 2 =&gt; (integer) 99852
      3# (integer) 4 =&gt; (integer) 99914
      4# (integer) 8 =&gt; (integer) 99940
      5# (integer) 16 =&gt; (integer) 99968
      6# (integer) 33 =&gt; (integer) 100000
</pre> <h2>Return value</h2> <p>map-reply: specifically:</p> <p>The command returns a map where each key is a command name, and each value is a map with the total calls, and an inner map of the histogram time buckets. In RESP 2 replies, the maps are converted to <a href="https://redis.io/topics/protocol#array-reply">arrays</a>.</p>  <div class="_attribution">
  <p class="_attribution-p">
    <a href="https://redis.io/commands/latency-histogram" class="_attribution-link" target="_blank">https://redis.io/commands/latency-histogram</a>
  </p>
</div>
