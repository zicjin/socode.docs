<h1 id="fortinet-fortimanager-fmgr-pkg-firewall-policy-obj-configure-ipv4-policies">fortinet.fortimanager.fmgr_pkg_firewall_policy_obj – Configure IPv4 policies.</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/fortinet/fortimanager">fortinet.fortimanager collection</a> (version 1.0.5).</p> <p>To install it use: <code>ansible-galaxy collection install fortinet.fortimanager</code>.</p> <p>To use it in a playbook, specify: <code>fortinet.fortimanager.fmgr_pkg_firewall_policy_obj</code>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.10: </span>of fortinet.fortimanager</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#parameters" id="id2">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id3">Notes</a></li> <li><a class="reference internal" href="#examples" id="id4">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id5">Return Values</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>This module is able to configure a FortiManager device by allowing the user to [ clone delete get move set update ] the following apis.</li> <li>/pm/config/adom/{adom}/pkg/{pkg}/firewall/policy/{policy}</li> <li>Examples include all parameters and values need to be adjusted to data sources before usage.</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1">  <b>loose_validation</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Do parameter validation in a loose way</div> </td> </tr> <tr> <td colspan="1">  <b>method</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>clone</li> <li>delete</li> <li>get</li> <li>move</li> <li>set</li> <li>update</li> </ul> </td> <td> <div>The method in request</div> </td> </tr> <tr> <td colspan="1">  <b>params</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td> </td> <td> <div>The parameters for each method</div> <div>See full parameters list in https://ansible-galaxy-fortimanager-docs.readthedocs.io/en/latest</div> </td> </tr> <tr> <td colspan="1">  <b>url_params</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>The parameters for each API request URL</div> <div>Also see full URL parameters in https://ansible-galaxy-fortimanager-docs.readthedocs.io/en/latest</div> </td> </tr> <tr> <td colspan="1">  <b>workspace_locking_adom</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>the adom name to lock in case FortiManager running in workspace mode</div> <div>it can be global or any other custom adom names</div> </td> </tr> <tr> <td colspan="1">  <b>workspace_locking_timeout</b>  <div> <span>integer</span> </div> </td> <td> <b>Default:</b><br><div>300</div> </td> <td> <div>the maximum time in seconds to wait for other user to release the workspace lock</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>There are only three top-level parameters where ‘method’ is always required while other two ‘params’ and ‘url_params’ can be optional</li> <li>Due to the complexity of fortimanager api schema, the validation is done out of Ansible native parameter validation procedure.</li> <li>The syntax of OPTIONS doen not comply with the standard Ansible argument specification, but with the structure of fortimanager API schema, we need a trivial transformation when we are filling the ansible playbook</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja">- hosts: fortimanager-inventory
  collections:
    - fortinet.fortimanager
  connection: httpapi
  vars:
     ansible_httpapi_use_ssl: True
     ansible_httpapi_validate_certs: False
     ansible_httpapi_port: 443
  tasks:

   - name: REQUESTING /PM/CONFIG/PKG/{PKG}/FIREWALL/POLICY/{POLICY}
     fmgr_pkg_firewall_policy_obj:
        loose_validation: False
        workspace_locking_adom: &lt;value in [global, custom adom]&gt;
        workspace_locking_timeout: 300
        method: &lt;value in [clone, update]&gt;
        url_params:
           adom: &lt;value in [none, global, custom dom]&gt;
           pkg: &lt;value of string&gt;
           policy: &lt;value of string&gt;
        params:
           -
              data:
                 action: &lt;value in [deny, accept, ipsec, ...]&gt;
                 app-category: &lt;value of string&gt;
                 application:
                   - &lt;value of integer&gt;
                 application-list: &lt;value of string&gt;
                 auth-cert: &lt;value of string&gt;
                 auth-path: &lt;value in [disable, enable]&gt;
                 auth-redirect-addr: &lt;value of string&gt;
                 auto-asic-offload: &lt;value in [disable, enable]&gt;
                 av-profile: &lt;value of string&gt;
                 block-notification: &lt;value in [disable, enable]&gt;
                 captive-portal-exempt: &lt;value in [disable, enable]&gt;
                 capture-packet: &lt;value in [disable, enable]&gt;
                 comments: &lt;value of string&gt;
                 custom-log-fields: &lt;value of string&gt;
                 delay-tcp-npu-session: &lt;value in [disable, enable]&gt;
                 devices: &lt;value of string&gt;
                 diffserv-forward: &lt;value in [disable, enable]&gt;
                 diffserv-reverse: &lt;value in [disable, enable]&gt;
                 diffservcode-forward: &lt;value of string&gt;
                 diffservcode-rev: &lt;value of string&gt;
                 disclaimer: &lt;value in [disable, enable]&gt;
                 dlp-sensor: &lt;value of string&gt;
                 dnsfilter-profile: &lt;value of string&gt;
                 dscp-match: &lt;value in [disable, enable]&gt;
                 dscp-negate: &lt;value in [disable, enable]&gt;
                 dscp-value: &lt;value of string&gt;
                 dsri: &lt;value in [disable, enable]&gt;
                 dstaddr: &lt;value of string&gt;
                 dstaddr-negate: &lt;value in [disable, enable]&gt;
                 dstintf: &lt;value of string&gt;
                 firewall-session-dirty: &lt;value in [check-all, check-new]&gt;
                 fixedport: &lt;value in [disable, enable]&gt;
                 fsso: &lt;value in [disable, enable]&gt;
                 fsso-agent-for-ntlm: &lt;value of string&gt;
                 global-label: &lt;value of string&gt;
                 groups: &lt;value of string&gt;
                 gtp-profile: &lt;value of string&gt;
                 icap-profile: &lt;value of string&gt;
                 identity-based-route: &lt;value of string&gt;
                 inbound: &lt;value in [disable, enable]&gt;
                 internet-service: &lt;value in [disable, enable]&gt;
                 internet-service-custom: &lt;value of string&gt;
                 internet-service-id: &lt;value of string&gt;
                 internet-service-negate: &lt;value in [disable, enable]&gt;
                 ippool: &lt;value in [disable, enable]&gt;
                 ips-sensor: &lt;value of string&gt;
                 label: &lt;value of string&gt;
                 learning-mode: &lt;value in [disable, enable]&gt;
                 logtraffic: &lt;value in [disable, enable, all, ...]&gt;
                 logtraffic-start: &lt;value in [disable, enable]&gt;
                 match-vip: &lt;value in [disable, enable]&gt;
                 mms-profile: &lt;value of string&gt;
                 name: &lt;value of string&gt;
                 nat: &lt;value in [disable, enable]&gt;
                 natinbound: &lt;value in [disable, enable]&gt;
                 natip: &lt;value of string&gt;
                 natoutbound: &lt;value in [disable, enable]&gt;
                 ntlm: &lt;value in [disable, enable]&gt;
                 ntlm-enabled-browsers:
                   - &lt;value of string&gt;
                 ntlm-guest: &lt;value in [disable, enable]&gt;
                 outbound: &lt;value in [disable, enable]&gt;
                 per-ip-shaper: &lt;value of string&gt;
                 permit-any-host: &lt;value in [disable, enable]&gt;
                 permit-stun-host: &lt;value in [disable, enable]&gt;
                 policyid: &lt;value of integer&gt;
                 poolname: &lt;value of string&gt;
                 profile-group: &lt;value of string&gt;
                 profile-protocol-options: &lt;value of string&gt;
                 profile-type: &lt;value in [single, group]&gt;
                 radius-mac-auth-bypass: &lt;value in [disable, enable]&gt;
                 redirect-url: &lt;value of string&gt;
                 replacemsg-override-group: &lt;value of string&gt;
                 rsso: &lt;value in [disable, enable]&gt;
                 rtp-addr: &lt;value of string&gt;
                 rtp-nat: &lt;value in [disable, enable]&gt;
                 scan-botnet-connections: &lt;value in [disable, block, monitor]&gt;
                 schedule: &lt;value of string&gt;
                 schedule-timeout: &lt;value in [disable, enable]&gt;
                 send-deny-packet: &lt;value in [disable, enable]&gt;
                 service: &lt;value of string&gt;
                 service-negate: &lt;value in [disable, enable]&gt;
                 session-ttl: &lt;value of integer&gt;
                 spamfilter-profile: &lt;value of string&gt;
                 srcaddr: &lt;value of string&gt;
                 srcaddr-negate: &lt;value in [disable, enable]&gt;
                 srcintf: &lt;value of string&gt;
                 ssl-mirror: &lt;value in [disable, enable]&gt;
                 ssl-mirror-intf: &lt;value of string&gt;
                 ssl-ssh-profile: &lt;value of string&gt;
                 status: &lt;value in [disable, enable]&gt;
                 tags: &lt;value of string&gt;
                 tcp-mss-receiver: &lt;value of integer&gt;
                 tcp-mss-sender: &lt;value of integer&gt;
                 tcp-session-without-syn: &lt;value in [all, data-only, disable]&gt;
                 timeout-send-rst: &lt;value in [disable, enable]&gt;
                 traffic-shaper: &lt;value of string&gt;
                 traffic-shaper-reverse: &lt;value of string&gt;
                 url-category: &lt;value of string&gt;
                 users: &lt;value of string&gt;
                 utm-status: &lt;value in [disable, enable]&gt;
                 uuid: &lt;value of string&gt;
                 vlan-cos-fwd: &lt;value of integer&gt;
                 vlan-cos-rev: &lt;value of integer&gt;
                 voip-profile: &lt;value of string&gt;
                 vpn_dst_node:
                   -
                       host: &lt;value of string&gt;
                       seq: &lt;value of integer&gt;
                       subnet: &lt;value of string&gt;
                 vpn_src_node:
                   -
                       host: &lt;value of string&gt;
                       seq: &lt;value of integer&gt;
                       subnet: &lt;value of string&gt;
                 vpntunnel: &lt;value of string&gt;
                 waf-profile: &lt;value of string&gt;
                 wanopt: &lt;value in [disable, enable]&gt;
                 wanopt-detection: &lt;value in [active, passive, off]&gt;
                 wanopt-passive-opt: &lt;value in [default, transparent, non-transparent]&gt;
                 wanopt-peer: &lt;value of string&gt;
                 wanopt-profile: &lt;value of string&gt;
                 wccp: &lt;value in [disable, enable]&gt;
                 webcache: &lt;value in [disable, enable]&gt;
                 webcache-https: &lt;value in [disable, ssl-server, any, ...]&gt;
                 webfilter-profile: &lt;value of string&gt;
                 wsso: &lt;value in [disable, enable]&gt;

   - name: REQUESTING /PM/CONFIG/PKG/{PKG}/FIREWALL/POLICY/{POLICY}
     fmgr_pkg_firewall_policy_obj:
        loose_validation: False
        workspace_locking_adom: &lt;value in [global, custom adom]&gt;
        workspace_locking_timeout: 300
        method: &lt;value in [delete]&gt;
        url_params:
           adom: &lt;value in [none, global, custom dom]&gt;
           pkg: &lt;value of string&gt;
           policy: &lt;value of string&gt;
        params:
           -
              data:
                 attr: &lt;value in [label, global-label]&gt;
                 name: &lt;value of string&gt;

   - name: REQUESTING /PM/CONFIG/PKG/{PKG}/FIREWALL/POLICY/{POLICY}
     fmgr_pkg_firewall_policy_obj:
        loose_validation: False
        workspace_locking_adom: &lt;value in [global, custom adom]&gt;
        workspace_locking_timeout: 300
        method: &lt;value in [get]&gt;
        url_params:
           adom: &lt;value in [none, global, custom dom]&gt;
           pkg: &lt;value of string&gt;
           policy: &lt;value of string&gt;
        params:
           -
              option: &lt;value in [object member, chksum, datasrc]&gt;

   - name: REQUESTING /PM/CONFIG/PKG/{PKG}/FIREWALL/POLICY/{POLICY}
     fmgr_pkg_firewall_policy_obj:
        loose_validation: False
        workspace_locking_adom: &lt;value in [global, custom adom]&gt;
        workspace_locking_timeout: 300
        method: &lt;value in [move]&gt;
        url_params:
           adom: &lt;value in [none, global, custom dom]&gt;
           pkg: &lt;value of string&gt;
           policy: &lt;value of string&gt;
        params:
           -
              option: &lt;value in [before, after]&gt;
              target: &lt;value of string&gt;

   - name: REQUESTING /PM/CONFIG/PKG/{PKG}/FIREWALL/POLICY/{POLICY}
     fmgr_pkg_firewall_policy_obj:
        loose_validation: False
        workspace_locking_adom: &lt;value in [global, custom adom]&gt;
        workspace_locking_timeout: 300
        method: &lt;value in [set]&gt;
        url_params:
           adom: &lt;value in [none, global, custom dom]&gt;
           pkg: &lt;value of string&gt;
           policy: &lt;value of string&gt;
        params:
           -
              data:
                 action: &lt;value in [deny, accept, ipsec, ...]&gt;
                 app-category: &lt;value of string&gt;
                 application:
                   - &lt;value of integer&gt;
                 application-list: &lt;value of string&gt;
                 auth-cert: &lt;value of string&gt;
                 auth-path: &lt;value in [disable, enable]&gt;
                 auth-redirect-addr: &lt;value of string&gt;
                 auto-asic-offload: &lt;value in [disable, enable]&gt;
                 av-profile: &lt;value of string&gt;
                 block-notification: &lt;value in [disable, enable]&gt;
                 captive-portal-exempt: &lt;value in [disable, enable]&gt;
                 capture-packet: &lt;value in [disable, enable]&gt;
                 comments: &lt;value of string&gt;
                 custom-log-fields: &lt;value of string&gt;
                 delay-tcp-npu-session: &lt;value in [disable, enable]&gt;
                 devices: &lt;value of string&gt;
                 diffserv-forward: &lt;value in [disable, enable]&gt;
                 diffserv-reverse: &lt;value in [disable, enable]&gt;
                 diffservcode-forward: &lt;value of string&gt;
                 diffservcode-rev: &lt;value of string&gt;
                 disclaimer: &lt;value in [disable, enable]&gt;
                 dlp-sensor: &lt;value of string&gt;
                 dnsfilter-profile: &lt;value of string&gt;
                 dscp-match: &lt;value in [disable, enable]&gt;
                 dscp-negate: &lt;value in [disable, enable]&gt;
                 dscp-value: &lt;value of string&gt;
                 dsri: &lt;value in [disable, enable]&gt;
                 dstaddr: &lt;value of string&gt;
                 dstaddr-negate: &lt;value in [disable, enable]&gt;
                 dstintf: &lt;value of string&gt;
                 firewall-session-dirty: &lt;value in [check-all, check-new]&gt;
                 fixedport: &lt;value in [disable, enable]&gt;
                 fsso: &lt;value in [disable, enable]&gt;
                 fsso-agent-for-ntlm: &lt;value of string&gt;
                 global-label: &lt;value of string&gt;
                 groups: &lt;value of string&gt;
                 gtp-profile: &lt;value of string&gt;
                 icap-profile: &lt;value of string&gt;
                 identity-based-route: &lt;value of string&gt;
                 inbound: &lt;value in [disable, enable]&gt;
                 internet-service: &lt;value in [disable, enable]&gt;
                 internet-service-custom: &lt;value of string&gt;
                 internet-service-id: &lt;value of string&gt;
                 internet-service-negate: &lt;value in [disable, enable]&gt;
                 ippool: &lt;value in [disable, enable]&gt;
                 ips-sensor: &lt;value of string&gt;
                 label: &lt;value of string&gt;
                 learning-mode: &lt;value in [disable, enable]&gt;
                 logtraffic: &lt;value in [disable, enable, all, ...]&gt;
                 logtraffic-start: &lt;value in [disable, enable]&gt;
                 match-vip: &lt;value in [disable, enable]&gt;
                 mms-profile: &lt;value of string&gt;
                 name: &lt;value of string&gt;
                 nat: &lt;value in [disable, enable]&gt;
                 natinbound: &lt;value in [disable, enable]&gt;
                 natip: &lt;value of string&gt;
                 natoutbound: &lt;value in [disable, enable]&gt;
                 ntlm: &lt;value in [disable, enable]&gt;
                 ntlm-enabled-browsers:
                   - &lt;value of string&gt;
                 ntlm-guest: &lt;value in [disable, enable]&gt;
                 outbound: &lt;value in [disable, enable]&gt;
                 per-ip-shaper: &lt;value of string&gt;
                 permit-any-host: &lt;value in [disable, enable]&gt;
                 permit-stun-host: &lt;value in [disable, enable]&gt;
                 policyid: &lt;value of integer&gt;
                 poolname: &lt;value of string&gt;
                 profile-group: &lt;value of string&gt;
                 profile-protocol-options: &lt;value of string&gt;
                 profile-type: &lt;value in [single, group]&gt;
                 radius-mac-auth-bypass: &lt;value in [disable, enable]&gt;
                 redirect-url: &lt;value of string&gt;
                 replacemsg-override-group: &lt;value of string&gt;
                 rsso: &lt;value in [disable, enable]&gt;
                 rtp-addr: &lt;value of string&gt;
                 rtp-nat: &lt;value in [disable, enable]&gt;
                 scan-botnet-connections: &lt;value in [disable, block, monitor]&gt;
                 schedule: &lt;value of string&gt;
                 schedule-timeout: &lt;value in [disable, enable]&gt;
                 send-deny-packet: &lt;value in [disable, enable]&gt;
                 service: &lt;value of string&gt;
                 service-negate: &lt;value in [disable, enable]&gt;
                 session-ttl: &lt;value of integer&gt;
                 spamfilter-profile: &lt;value of string&gt;
                 srcaddr: &lt;value of string&gt;
                 srcaddr-negate: &lt;value in [disable, enable]&gt;
                 srcintf: &lt;value of string&gt;
                 ssl-mirror: &lt;value in [disable, enable]&gt;
                 ssl-mirror-intf: &lt;value of string&gt;
                 ssl-ssh-profile: &lt;value of string&gt;
                 status: &lt;value in [disable, enable]&gt;
                 tags: &lt;value of string&gt;
                 tcp-mss-receiver: &lt;value of integer&gt;
                 tcp-mss-sender: &lt;value of integer&gt;
                 tcp-session-without-syn: &lt;value in [all, data-only, disable]&gt;
                 timeout-send-rst: &lt;value in [disable, enable]&gt;
                 traffic-shaper: &lt;value of string&gt;
                 traffic-shaper-reverse: &lt;value of string&gt;
                 url-category: &lt;value of string&gt;
                 users: &lt;value of string&gt;
                 utm-status: &lt;value in [disable, enable]&gt;
                 uuid: &lt;value of string&gt;
                 vlan-cos-fwd: &lt;value of integer&gt;
                 vlan-cos-rev: &lt;value of integer&gt;
                 voip-profile: &lt;value of string&gt;
                 vpn_dst_node:
                   -
                       host: &lt;value of string&gt;
                       seq: &lt;value of integer&gt;
                       subnet: &lt;value of string&gt;
                 vpn_src_node:
                   -
                       host: &lt;value of string&gt;
                       seq: &lt;value of integer&gt;
                       subnet: &lt;value of string&gt;
                 vpntunnel: &lt;value of string&gt;
                 waf-profile: &lt;value of string&gt;
                 wanopt: &lt;value in [disable, enable]&gt;
                 wanopt-detection: &lt;value in [active, passive, off]&gt;
                 wanopt-passive-opt: &lt;value in [default, transparent, non-transparent]&gt;
                 wanopt-peer: &lt;value of string&gt;
                 wanopt-profile: &lt;value of string&gt;
                 wccp: &lt;value in [disable, enable]&gt;
                 webcache: &lt;value in [disable, enable]&gt;
                 webcache-https: &lt;value in [disable, ssl-server, any, ...]&gt;
                 webfilter-profile: &lt;value of string&gt;
                 wsso: &lt;value in [disable, enable]&gt;

   - name: REQUESTING /PM/CONFIG/PKG/{PKG}/FIREWALL/POLICY/{POLICY}
     fmgr_pkg_firewall_policy_obj:
        loose_validation: False
        workspace_locking_adom: &lt;value in [global, custom adom]&gt;
        workspace_locking_timeout: 300
        method: &lt;value in [set]&gt;
        url_params:
           adom: &lt;value in [none, global, custom dom]&gt;
           pkg: &lt;value of string&gt;
           policy: &lt;value of string&gt;
        params:
           -
              data:
                 attr: &lt;value in [label, global-label]&gt;
                 name: &lt;value of string&gt;
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="1">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="1">  <b>data</b>  <div> <span>dictionary</span> </div> </td> <td>always</td> <td> <div>The payload returned in the request</div> <br> </td> </tr> <tr> <td colspan="1">  <b>status</b>  <div> <span>dictionary</span> </div> </td> <td>always</td> <td> <div>The status of api request</div> <br> </td> </tr> <tr> <td colspan="1">  <b>url</b>  <div> <span>string</span> </div> </td> <td>always</td> <td> <div>The full url requested</div> <br> <div><b>Sample:</b></div> <div>/sys/login/user</div> </td> </tr> </table> <br><br> <h3 id="authors">Authors</h3> <ul class="simple"> <li>Frank Shen (@fshen01)</li> <li>Link Zheng (@zhengl)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://docs.ansible.com/ansible/2.10/collections/fortinet/fortimanager/fmgr_pkg_firewall_policy_obj_module.html" class="_attribution-link" target="_blank">https://docs.ansible.com/ansible/2.10/collections/fortinet/fortimanager/fmgr_pkg_firewall_policy_obj_module.html</a>
  </p>
</div>
