<h1 id="fortinet-fortios-fortios-wireless-controller-vap-configure-virtual-access-points-vaps-in-fortinet-s-fortios-and-fortigate">fortinet.fortios.fortios_wireless_controller_vap – Configure Virtual Access Points (VAPs) in Fortinet’s FortiOS and FortiGate.</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/fortinet/fortios">fortinet.fortios collection</a> (version 1.1.8).</p> <p>To install it use: <code>ansible-galaxy collection install fortinet.fortios</code>.</p> <p>To use it in a playbook, specify: <code>fortinet.fortios.fortios_wireless_controller_vap</code>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.8: </span>of fortinet.fortios</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id6">Return Values</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>This module is able to configure a FortiGate or FortiOS (FOS) device by allowing the user to set and modify wireless_controller feature and vap category. Examples include all parameters and values need to be adjusted to datasources before usage. Tested with FOS v6.0.0</li> </ul>   <h2 id="requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>ansible&gt;=2.9.0</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="3">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="3">  <b>access_token</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Token-based authentication. Generated from GUI of Fortigate.</div> </td> </tr> <tr> <td colspan="3">  <b>state</b>  <div> <span>string</span> </div> <div> added in 2.9 of fortinet.fortios </div> </td> <td> <ul>
<b>Choices:</b> <li>present</li> <li>absent</li> </ul> </td> <td> <div>Indicates whether to create or remove the object. This attribute was present already in previous version in a deeper level. It has been moved out to this outer level.</div> </td> </tr> <tr> <td colspan="3">  <b>vdom</b>  <div> <span>string</span> </div> </td> <td> <b>Default:</b><br><div>"root"</div> </td> <td> <div>Virtual domain, among those defined previously. A vdom is a virtual instance of the FortiGate that can be configured and used as a different unit.</div> </td> </tr> <tr> <td colspan="3">  <b>wireless_controller_vap</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>Configure Virtual Access Points (VAPs).</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>acct_interim_interval</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>WiFi RADIUS accounting interim interval (60 - 86400 sec).</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>alias</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Alias.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>auth</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>psk</li> <li>radius</li> <li>usergroup</li> </ul> </td> <td> <div>Authentication protocol.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>broadcast_ssid</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>enable</li> <li>disable</li> </ul> </td> <td> <div>Enable/disable broadcasting the SSID .</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>broadcast_suppression</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>dhcp-up</li> <li>dhcp-down</li> <li>dhcp-starvation</li> <li>arp-known</li> <li>arp-unknown</li> <li>arp-reply</li> <li>arp-poison</li> <li>arp-proxy</li> <li>netbios-ns</li> <li>netbios-ds</li> <li>ipv6</li> <li>all-other-mc</li> <li>all-other-bc</li> </ul> </td> <td> <div>Optional suppression of broadcast messages. For example, you can keep DHCP messages, ARP broadcasts, and so on off of the wireless network.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>captive_portal_ac_name</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Local-bridging captive portal ac-name.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>captive_portal_macauth_radius_secret</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Secret key to access the macauth RADIUS server.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>captive_portal_macauth_radius_server</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Captive portal external RADIUS server domain name or IP address.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>captive_portal_radius_secret</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Secret key to access the RADIUS server.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>captive_portal_radius_server</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Captive portal RADIUS server domain name or IP address.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>captive_portal_session_timeout_interval</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Session timeout interval (0 - 864000 sec).</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>dhcp_lease_time</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>DHCP lease time in seconds for NAT IP address.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>dhcp_option82_circuit_id_insertion</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>style-1</li> <li>style-2</li> <li>disable</li> </ul> </td> <td> <div>Enable/disable DHCP option 82 circuit-id insert .</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>dhcp_option82_insertion</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>enable</li> <li>disable</li> </ul> </td> <td> <div>Enable/disable DHCP option 82 insert .</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>dhcp_option82_remote_id_insertion</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>style-1</li> <li>disable</li> </ul> </td> <td> <div>Enable/disable DHCP option 82 remote-id insert .</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>dynamic_vlan</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>enable</li> <li>disable</li> </ul> </td> <td> <div>Enable/disable dynamic VLAN assignment.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>eap_reauth</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>enable</li> <li>disable</li> </ul> </td> <td> <div>Enable/disable EAP re-authentication for WPA-Enterprise security.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>eap_reauth_intv</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>EAP re-authentication interval (1800 - 864000 sec).</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>eapol_key_retries</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>disable</li> <li>enable</li> </ul> </td> <td> <div>Enable/disable retransmission of EAPOL-Key frames (message 3/4 and group message 1/2) .</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>encrypt</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>TKIP</li> <li>AES</li> <li>TKIP-AES</li> </ul> </td> <td> <div>Encryption protocol to use (only available when security is set to a WPA type).</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>external_fast_roaming</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>enable</li> <li>disable</li> </ul> </td> <td> <div>Enable/disable fast roaming or pre-authentication with external APs not managed by the FortiGate .</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>external_logout</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>URL of external authentication logout server.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>external_web</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>URL of external authentication web server.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>fast_bss_transition</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>disable</li> <li>enable</li> </ul> </td> <td> <div>Enable/disable 802.11r Fast BSS Transition (FT) .</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>fast_roaming</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>enable</li> <li>disable</li> </ul> </td> <td> <div>Enable/disable fast-roaming, or pre-authentication, where supported by clients .</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>ft_mobility_domain</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Mobility domain identifier in FT (1 - 65535).</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>ft_over_ds</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>disable</li> <li>enable</li> </ul> </td> <td> <div>Enable/disable FT over the Distribution System (DS).</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>ft_r0_key_lifetime</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Lifetime of the PMK-R0 key in FT, 1-65535 minutes.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>gtk_rekey</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>enable</li> <li>disable</li> </ul> </td> <td> <div>Enable/disable GTK rekey for WPA security.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>gtk_rekey_intv</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>GTK rekey interval interval (1800 - 864000 sec).</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>hotspot20_profile</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Hotspot 2.0 profile name.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>intra_vap_privacy</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>enable</li> <li>disable</li> </ul> </td> <td> <div>Enable/disable blocking communication between clients on the same SSID (called intra-SSID privacy) .</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>ip</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>IP address and subnet mask for the local standalone NAT subnet.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>key</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>WEP Key.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>keyindex</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>WEP key index (1 - 4).</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>ldpc</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>disable</li> <li>rx</li> <li>tx</li> <li>rxtx</li> </ul> </td> <td> <div>VAP low-density parity-check (LDPC) coding configuration.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>local_authentication</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>enable</li> <li>disable</li> </ul> </td> <td> <div>Enable/disable AP local authentication.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>local_bridging</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>enable</li> <li>disable</li> </ul> </td> <td> <div>Enable/disable bridging of wireless and Ethernet interfaces on the FortiAP .</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>local_lan</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>allow</li> <li>deny</li> </ul> </td> <td> <div>Allow/deny traffic destined for a Class A, B, or C private IP address .</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>local_standalone</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>enable</li> <li>disable</li> </ul> </td> <td> <div>Enable/disable AP local standalone .</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>local_standalone_nat</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>enable</li> <li>disable</li> </ul> </td> <td> <div>Enable/disable AP local standalone NAT mode.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>mac_auth_bypass</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>enable</li> <li>disable</li> </ul> </td> <td> <div>Enable/disable MAC authentication bypass.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>mac_filter</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>enable</li> <li>disable</li> </ul> </td> <td> <div>Enable/disable MAC filtering to block wireless clients by mac address.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>mac_filter_list</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td> </td> <td> <div>Create a list of MAC addresses for MAC address filtering.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>id</b>  <div> <span>integer</span> / <span>required</span> </div> </td> <td> </td> <td> <div>ID.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>mac</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>MAC address.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>mac_filter_policy</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>allow</li> <li>deny</li> </ul> </td> <td> <div>Deny or allow the client with this MAC address.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>mac_filter_policy_other</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>allow</li> <li>deny</li> </ul> </td> <td> <div>Allow or block clients with MAC addresses that are not in the filter list.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>max_clients</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Maximum number of clients that can connect simultaneously to the VAP .</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>max_clients_ap</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Maximum number of clients that can connect simultaneously to each radio .</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>me_disable_thresh</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Disable multicast enhancement when this many clients are receiving multicast traffic.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>mesh_backhaul</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>enable</li> <li>disable</li> </ul> </td> <td> <div>Enable/disable using this VAP as a WiFi mesh backhaul . This entry is only available when security is set to a WPA type or open.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>mpsk</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>enable</li> <li>disable</li> </ul> </td> <td> <div>Enable/disable multiple pre-shared keys (PSKs.)</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>mpsk_concurrent_clients</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Number of pre-shared keys (PSKs) to allow if multiple pre-shared keys are enabled.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>mpsk_key</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td> </td> <td> <div>Pre-shared keys that can be used to connect to this virtual access point.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>comment</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Comment.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>concurrent_clients</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Number of clients that can connect using this pre-shared key.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>key_name</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Pre-shared key name.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>passphrase</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>WPA Pre-shared key.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>multicast_enhance</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>enable</li> <li>disable</li> </ul> </td> <td> <div>Enable/disable converting multicast to unicast to improve performance .</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>multicast_rate</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>0</li> <li>6000</li> <li>12000</li> <li>24000</li> </ul> </td> <td> <div>Multicast rate (0, 6000, 12000, or 24000 kbps).</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>name</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>Virtual AP name.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>okc</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>disable</li> <li>enable</li> </ul> </td> <td> <div>Enable/disable Opportunistic Key Caching (OKC) .</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>passphrase</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>WPA pre-shard key (PSK) to be used to authenticate WiFi users.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>pmf</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>disable</li> <li>enable</li> <li>optional</li> </ul> </td> <td> <div>Protected Management Frames (PMF) support .</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>pmf_assoc_comeback_timeout</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Protected Management Frames (PMF) comeback maximum timeout (1-20 sec).</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>pmf_sa_query_retry_timeout</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Protected Management Frames (PMF) SA query retry timeout interval (1 - 5 100s of msec).</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>portal_message_override_group</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Replacement message group for this VAP (only available when security is set to a captive portal type).</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>portal_message_overrides</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>Individual message overrides.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>auth_disclaimer_page</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Override auth-disclaimer-page message with message from portal-message-overrides group.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>auth_login_failed_page</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Override auth-login-failed-page message with message from portal-message-overrides group.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>auth_login_page</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Override auth-login-page message with message from portal-message-overrides group.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>auth_reject_page</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Override auth-reject-page message with message from portal-message-overrides group.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>portal_type</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>auth</li> <li>auth+disclaimer</li> <li>disclaimer</li> <li>email-collect</li> <li>cmcc</li> <li>cmcc-macauth</li> </ul> </td> <td> <div>Captive portal functionality. Configure how the captive portal authenticates users and whether it includes a disclaimer.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>probe_resp_suppression</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>enable</li> <li>disable</li> </ul> </td> <td> <div>Enable/disable probe response suppression (to ignore weak signals) .</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>probe_resp_threshold</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Minimum signal level/threshold in dBm required for the AP response to probe requests (-95 to -20).</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>ptk_rekey</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>enable</li> <li>disable</li> </ul> </td> <td> <div>Enable/disable PTK rekey for WPA-Enterprise security.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>ptk_rekey_intv</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>PTK rekey interval interval (1800 - 864000 sec).</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>qos_profile</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Quality of service profile name.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>quarantine</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>enable</li> <li>disable</li> </ul> </td> <td> <div>Enable/disable station quarantine .</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>radius_mac_auth</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>enable</li> <li>disable</li> </ul> </td> <td> <div>Enable/disable RADIUS-based MAC authentication of clients .</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>radius_mac_auth_server</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>RADIUS-based MAC authentication server.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>radius_server</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>RADIUS server to be used to authenticate WiFi users.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>rates_11a</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>1</li> <li>1-basic</li> <li>2</li> <li>2-basic</li> <li>5.5</li> <li>5.5-basic</li> <li>11</li> <li>11-basic</li> <li>6</li> <li>6-basic</li> <li>9</li> <li>9-basic</li> <li>12</li> <li>12-basic</li> <li>18</li> <li>18-basic</li> <li>24</li> <li>24-basic</li> <li>36</li> <li>36-basic</li> <li>48</li> <li>48-basic</li> <li>54</li> <li>54-basic</li> </ul> </td> <td> <div>Allowed data rates for 802.11a.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>rates_11ac_ss12</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>mcs0/1</li> <li>mcs1/1</li> <li>mcs2/1</li> <li>mcs3/1</li> <li>mcs4/1</li> <li>mcs5/1</li> <li>mcs6/1</li> <li>mcs7/1</li> <li>mcs8/1</li> <li>mcs9/1</li> <li>mcs10/1</li> <li>mcs11/1</li> <li>mcs0/2</li> <li>mcs1/2</li> <li>mcs2/2</li> <li>mcs3/2</li> <li>mcs4/2</li> <li>mcs5/2</li> <li>mcs6/2</li> <li>mcs7/2</li> <li>mcs8/2</li> <li>mcs9/2</li> <li>mcs10/2</li> <li>mcs11/2</li> </ul> </td> <td> <div>Allowed data rates for 802.11ac with 1 or 2 spatial streams.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>rates_11ac_ss34</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>mcs0/3</li> <li>mcs1/3</li> <li>mcs2/3</li> <li>mcs3/3</li> <li>mcs4/3</li> <li>mcs5/3</li> <li>mcs6/3</li> <li>mcs7/3</li> <li>mcs8/3</li> <li>mcs9/3</li> <li>mcs10/3</li> <li>mcs11/3</li> <li>mcs0/4</li> <li>mcs1/4</li> <li>mcs2/4</li> <li>mcs3/4</li> <li>mcs4/4</li> <li>mcs5/4</li> <li>mcs6/4</li> <li>mcs7/4</li> <li>mcs8/4</li> <li>mcs9/4</li> <li>mcs10/4</li> <li>mcs11/4</li> </ul> </td> <td> <div>Allowed data rates for 802.11ac with 3 or 4 spatial streams.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>rates_11bg</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>1</li> <li>1-basic</li> <li>2</li> <li>2-basic</li> <li>5.5</li> <li>5.5-basic</li> <li>11</li> <li>11-basic</li> <li>6</li> <li>6-basic</li> <li>9</li> <li>9-basic</li> <li>12</li> <li>12-basic</li> <li>18</li> <li>18-basic</li> <li>24</li> <li>24-basic</li> <li>36</li> <li>36-basic</li> <li>48</li> <li>48-basic</li> <li>54</li> <li>54-basic</li> </ul> </td> <td> <div>Allowed data rates for 802.11b/g.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>rates_11n_ss12</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>mcs0/1</li> <li>mcs1/1</li> <li>mcs2/1</li> <li>mcs3/1</li> <li>mcs4/1</li> <li>mcs5/1</li> <li>mcs6/1</li> <li>mcs7/1</li> <li>mcs8/2</li> <li>mcs9/2</li> <li>mcs10/2</li> <li>mcs11/2</li> <li>mcs12/2</li> <li>mcs13/2</li> <li>mcs14/2</li> <li>mcs15/2</li> </ul> </td> <td> <div>Allowed data rates for 802.11n with 1 or 2 spatial streams.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>rates_11n_ss34</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>mcs16/3</li> <li>mcs17/3</li> <li>mcs18/3</li> <li>mcs19/3</li> <li>mcs20/3</li> <li>mcs21/3</li> <li>mcs22/3</li> <li>mcs23/3</li> <li>mcs24/4</li> <li>mcs25/4</li> <li>mcs26/4</li> <li>mcs27/4</li> <li>mcs28/4</li> <li>mcs29/4</li> <li>mcs30/4</li> <li>mcs31/4</li> </ul> </td> <td> <div>Allowed data rates for 802.11n with 3 or 4 spatial streams.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>schedule</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>VAP schedule name.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>security</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>open</li> <li>captive-portal</li> <li>wep64</li> <li>wep128</li> <li>wpa-personal</li> <li>wpa-personal+captive-portal</li> <li>wpa-enterprise</li> <li>wpa-only-personal</li> <li>wpa-only-personal+captive-portal</li> <li>wpa-only-enterprise</li> <li>wpa2-only-personal</li> <li>wpa2-only-personal+captive-portal</li> <li>wpa2-only-enterprise</li> <li>osen</li> </ul> </td> <td> <div>Security mode for the wireless interface .</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>security_exempt_list</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Optional security exempt list for captive portal authentication.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>security_obsolete_option</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>enable</li> <li>disable</li> </ul> </td> <td> <div>Enable/disable obsolete security options.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>security_redirect_url</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Optional URL for redirecting users after they pass captive portal authentication.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>selected_usergroups</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td> </td> <td> <div>Selective user groups that are permitted to authenticate.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>name</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>User group name.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>split_tunneling</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>enable</li> <li>disable</li> </ul> </td> <td> <div>Enable/disable split tunneling .</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>ssid</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>IEEE 802.11 service set identifier (SSID) for the wireless interface. Users who wish to use the wireless network must configure their computers to access this SSID name.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>state</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>present</li> <li>absent</li> </ul> </td> <td> <div><b>Deprecated</b></div> <div>Starting with Ansible 2.9 we recommend using the top-level 'state' parameter.</div>  <div>Indicates whether to create or remove the object.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>tkip_counter_measure</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>enable</li> <li>disable</li> </ul> </td> <td> <div>Enable/disable TKIP counter measure.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>usergroup</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td> </td> <td> <div>Firewall user group to be used to authenticate WiFi users.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>name</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>User group name.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>utm_profile</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>UTM profile name.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>vdom</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Name of the VDOM that the Virtual AP has been added to. Source system.vdom.name.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>vlan_auto</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>enable</li> <li>disable</li> </ul> </td> <td> <div>Enable/disable automatic management of SSID VLAN interface.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>vlan_pool</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td> </td> <td> <div>VLAN pool.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>id</b>  <div> <span>integer</span> / <span>required</span> </div> </td> <td> </td> <td> <div>ID.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>wtp_group</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>WTP group name.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>vlan_pooling</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>wtp-group</li> <li>round-robin</li> <li>hash</li> <li>disable</li> </ul> </td> <td> <div>Enable/disable VLAN pooling, to allow grouping of multiple wireless controller VLANs into VLAN pools . When set to wtp-group, VLAN pooling occurs with VLAN assignment by wtp-group.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>vlanid</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Optional VLAN ID.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>voice_enterprise</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>disable</li> <li>enable</li> </ul> </td> <td> <div>Enable/disable 802.11k and 802.11v assisted Voice-Enterprise roaming .</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>Legacy fortiosapi has been deprecated, httpapi is the preferred way to run playbooks</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja">- hosts: fortigates
  collections:
    - fortinet.fortios
  connection: httpapi
  vars:
   vdom: "root"
   ansible_httpapi_use_ssl: yes
   ansible_httpapi_validate_certs: no
   ansible_httpapi_port: 443
  tasks:
  - name: Configure Virtual Access Points (VAPs).
    fortios_wireless_controller_vap:
      vdom:  "{{ vdom }}"
      state: "present"
      access_token: "&lt;your_own_value&gt;"
      wireless_controller_vap:
        acct_interim_interval: "3"
        alias: "&lt;your_own_value&gt;"
        auth: "psk"
        broadcast_ssid: "enable"
        broadcast_suppression: "dhcp-up"
        captive_portal_ac_name: "&lt;your_own_value&gt;"
        captive_portal_macauth_radius_secret: "&lt;your_own_value&gt;"
        captive_portal_macauth_radius_server: "&lt;your_own_value&gt;"
        captive_portal_radius_secret: "&lt;your_own_value&gt;"
        captive_portal_radius_server: "&lt;your_own_value&gt;"
        captive_portal_session_timeout_interval: "13"
        dhcp_lease_time: "14"
        dhcp_option82_circuit_id_insertion: "style-1"
        dhcp_option82_insertion: "enable"
        dhcp_option82_remote_id_insertion: "style-1"
        dynamic_vlan: "enable"
        eap_reauth: "enable"
        eap_reauth_intv: "20"
        eapol_key_retries: "disable"
        encrypt: "TKIP"
        external_fast_roaming: "enable"
        external_logout: "&lt;your_own_value&gt;"
        external_web: "&lt;your_own_value&gt;"
        fast_bss_transition: "disable"
        fast_roaming: "enable"
        ft_mobility_domain: "28"
        ft_over_ds: "disable"
        ft_r0_key_lifetime: "30"
        gtk_rekey: "enable"
        gtk_rekey_intv: "32"
        hotspot20_profile: "&lt;your_own_value&gt;"
        intra_vap_privacy: "enable"
        ip: "&lt;your_own_value&gt;"
        key: "&lt;your_own_value&gt;"
        keyindex: "37"
        ldpc: "disable"
        local_authentication: "enable"
        local_bridging: "enable"
        local_lan: "allow"
        local_standalone: "enable"
        local_standalone_nat: "enable"
        mac_auth_bypass: "enable"
        mac_filter: "enable"
        mac_filter_list:
         -
            id:  "47"
            mac: "&lt;your_own_value&gt;"
            mac_filter_policy: "allow"
        mac_filter_policy_other: "allow"
        max_clients: "51"
        max_clients_ap: "52"
        me_disable_thresh: "53"
        mesh_backhaul: "enable"
        mpsk: "enable"
        mpsk_concurrent_clients: "56"
        mpsk_key:
         -
            comment: "Comment."
            concurrent_clients: "&lt;your_own_value&gt;"
            key_name: "&lt;your_own_value&gt;"
            passphrase: "&lt;your_own_value&gt;"
        multicast_enhance: "enable"
        multicast_rate: "0"
        name: "default_name_64"
        okc: "disable"
        passphrase: "&lt;your_own_value&gt;"
        pmf: "disable"
        pmf_assoc_comeback_timeout: "68"
        pmf_sa_query_retry_timeout: "69"
        portal_message_override_group: "&lt;your_own_value&gt;"
        portal_message_overrides:
            auth_disclaimer_page: "&lt;your_own_value&gt;"
            auth_login_failed_page: "&lt;your_own_value&gt;"
            auth_login_page: "&lt;your_own_value&gt;"
            auth_reject_page: "&lt;your_own_value&gt;"
        portal_type: "auth"
        probe_resp_suppression: "enable"
        probe_resp_threshold: "&lt;your_own_value&gt;"
        ptk_rekey: "enable"
        ptk_rekey_intv: "80"
        qos_profile: "&lt;your_own_value&gt;"
        quarantine: "enable"
        radius_mac_auth: "enable"
        radius_mac_auth_server: "&lt;your_own_value&gt;"
        radius_server: "&lt;your_own_value&gt;"
        rates_11a: "1"
        rates_11ac_ss12: "mcs0/1"
        rates_11ac_ss34: "mcs0/3"
        rates_11bg: "1"
        rates_11n_ss12: "mcs0/1"
        rates_11n_ss34: "mcs16/3"
        schedule: "&lt;your_own_value&gt;"
        security: "open"
        security_exempt_list: "&lt;your_own_value&gt;"
        security_obsolete_option: "enable"
        security_redirect_url: "&lt;your_own_value&gt;"
        selected_usergroups:
         -
            name: "default_name_98"
        split_tunneling: "enable"
        ssid: "&lt;your_own_value&gt;"
        tkip_counter_measure: "enable"
        usergroup:
         -
            name: "default_name_103"
        utm_profile: "&lt;your_own_value&gt;"
        vdom: "&lt;your_own_value&gt; (source system.vdom.name)"
        vlan_auto: "enable"
        vlan_pool:
         -
            id:  "108"
            wtp_group: "&lt;your_own_value&gt;"
        vlan_pooling: "wtp-group"
        vlanid: "111"
        voice_enterprise: "disable"
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="1">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="1">  <b>build</b>  <div> <span>string</span> </div> </td> <td>always</td> <td> <div>Build number of the fortigate image</div> <br> <div><b>Sample:</b></div> <div>1547</div> </td> </tr> <tr> <td colspan="1">  <b>http_method</b>  <div> <span>string</span> </div> </td> <td>always</td> <td> <div>Last method used to provision the content into FortiGate</div> <br> <div><b>Sample:</b></div> <div>PUT</div> </td> </tr> <tr> <td colspan="1">  <b>http_status</b>  <div> <span>string</span> </div> </td> <td>always</td> <td> <div>Last result given by FortiGate on last operation applied</div> <br> <div><b>Sample:</b></div> <div>200</div> </td> </tr> <tr> <td colspan="1">  <b>mkey</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>Master key (id) used in the last call to FortiGate</div> <br> <div><b>Sample:</b></div> <div>id</div> </td> </tr> <tr> <td colspan="1">  <b>name</b>  <div> <span>string</span> </div> </td> <td>always</td> <td> <div>Name of the table used to fulfill the request</div> <br> <div><b>Sample:</b></div> <div>urlfilter</div> </td> </tr> <tr> <td colspan="1">  <b>path</b>  <div> <span>string</span> </div> </td> <td>always</td> <td> <div>Path of the table used to fulfill the request</div> <br> <div><b>Sample:</b></div> <div>webfilter</div> </td> </tr> <tr> <td colspan="1">  <b>revision</b>  <div> <span>string</span> </div> </td> <td>always</td> <td> <div>Internal revision number</div> <br> <div><b>Sample:</b></div> <div>17.0.2.10658</div> </td> </tr> <tr> <td colspan="1">  <b>serial</b>  <div> <span>string</span> </div> </td> <td>always</td> <td> <div>Serial number of the unit</div> <br> <div><b>Sample:</b></div> <div>FGVMEVYYQT3AB5352</div> </td> </tr> <tr> <td colspan="1">  <b>status</b>  <div> <span>string</span> </div> </td> <td>always</td> <td> <div>Indication of the operation's result</div> <br> <div><b>Sample:</b></div> <div>success</div> </td> </tr> <tr> <td colspan="1">  <b>vdom</b>  <div> <span>string</span> </div> </td> <td>always</td> <td> <div>Virtual domain used</div> <br> <div><b>Sample:</b></div> <div>root</div> </td> </tr> <tr> <td colspan="1">  <b>version</b>  <div> <span>string</span> </div> </td> <td>always</td> <td> <div>Version of the FortiGate</div> <br> <div><b>Sample:</b></div> <div>v5.6.3</div> </td> </tr> </table> <br><br> <h3 id="authors">Authors</h3> <ul class="simple"> <li>Link Zheng (@chillancezen)</li> <li>Jie Xue (@JieX19)</li> <li>Hongbin Lu (@fgtdev-hblu)</li> <li>Frank Shen (@frankshen01)</li> <li>Miguel Angel Munoz (@mamunozgonzalez)</li> <li>Nicolas Thomas (@thomnico)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://docs.ansible.com/ansible/2.10/collections/fortinet/fortios/fortios_wireless_controller_vap_module.html" class="_attribution-link" target="_blank">https://docs.ansible.com/ansible/2.10/collections/fortinet/fortios/fortios_wireless_controller_vap_module.html</a>
  </p>
</div>
