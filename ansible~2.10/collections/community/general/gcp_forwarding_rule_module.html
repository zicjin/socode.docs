<h1 id="community-general-gcp-forwarding-rule-create-update-or-destroy-a-forwarding-rule">community.general.gcp_forwarding_rule – Create, Update or Destroy a Forwarding_Rule.</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/community/general">community.general collection</a> (version 1.3.6).</p> <p>To install it use: <code>ansible-galaxy collection install community.general</code>.</p> <p>To use it in a playbook, specify: <code>community.general.gcp_forwarding_rule</code>.</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#deprecated" id="id1">DEPRECATED</a></li> <li><a class="reference internal" href="#synopsis" id="id2">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id3">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id4">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id5">Notes</a></li> <li><a class="reference internal" href="#examples" id="id6">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id7">Return Values</a></li> <li><a class="reference internal" href="#status" id="id8">Status</a></li> </ul>   <h2 id="deprecated">DEPRECATED</h2> <dl class="field-list simple"> <dt class="field-odd">Removed in</dt> <dd class="field-odd">
<p>version 2.0.0</p> </dd> <dt class="field-even">Why</dt> <dd class="field-even">
<p>Updated modules released with increased functionality</p> </dd> <dt class="field-odd">Alternative</dt> <dd class="field-odd">
<p>Use <a class="reference internal" href="../../google/cloud/gcp_compute_forwarding_rule_module#ansible-collections-google-cloud-gcp-compute-forwarding-rule-module"><span class="std std-ref">google.cloud.gcp_compute_forwarding_rule</span></a> or <a class="reference internal" href="../../google/cloud/gcp_compute_global_forwarding_rule_module#ansible-collections-google-cloud-gcp-compute-global-forwarding-rule-module"><span class="std std-ref">google.cloud.gcp_compute_global_forwarding_rule</span></a> instead.</p> </dd> </dl>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Create, Update or Destroy a Forwarding_Rule. See <a class="reference external" href="https://cloud.google.com/compute/docs/load-balancing/http/target-proxies">https://cloud.google.com/compute/docs/load-balancing/http/target-proxies</a> for an overview. More details on the Global Forwarding_Rule API can be found at <a class="reference external" href="https://cloud.google.com/compute/docs/reference/latest/globalForwardingRules">https://cloud.google.com/compute/docs/reference/latest/globalForwardingRules</a> More details on the Forwarding Rules API can be found at <a class="reference external" href="https://cloud.google.com/compute/docs/reference/latest/forwardingRules">https://cloud.google.com/compute/docs/reference/latest/forwardingRules</a>
</li> </ul>   <h2 id="requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>python &gt;= 2.6</li> <li>google-api-python-client &gt;= 1.6.2</li> <li>google-auth &gt;= 0.9.0</li> <li>google-auth-httplib2 &gt;= 0.0.2</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1">  <b>address</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>IPv4 or named IP address. Must be of the same scope (regional, global). Reserved addresses can (and probably should) be used for global forwarding rules. You may reserve IPs from the console or via the gce_eip module.</div> </td> </tr> <tr> <td colspan="1">  <b>credentials_file</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The path to the JSON file associated with the service account email.</div> </td> </tr> <tr> <td colspan="1">  <b>forwarding_rule_name</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>Name of the Forwarding_Rule.</div> </td> </tr> <tr> <td colspan="1">  <b>load_balancing_scheme</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>EXTERNAL</b> ←</div></li> </ul> </td> <td> <div>Load balancing scheme. At the moment the only choice is EXTERNAL.</div> </td> </tr> <tr> <td colspan="1">  <b>pem_file</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The path to the PEM file associated with the service account email.</div> <div>This option is deprecated and may be removed in a future release. Use <em>credentials_file</em> instead.</div> </td> </tr> <tr> <td colspan="1">  <b>port_range</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>For global forwarding rules, must be set to 80 or 8080 for TargetHttpProxy, and 443 for TargetHttpsProxy or TargetSslProxy.</div> </td> </tr> <tr> <td colspan="1">  <b>project_id</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The Google Cloud Platform project ID to use.</div> </td> </tr> <tr> <td colspan="1">  <b>protocol</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>TCP</b> ←</div></li> </ul> </td> <td> <div>For global forwarding rules, TCP, UDP, ESP, AH, SCTP or ICMP. Default is TCP.</div> </td> </tr> <tr> <td colspan="1">  <b>region</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>The region for this forwarding rule. Currently, only 'global' is supported.</div> </td> </tr> <tr> <td colspan="1">  <b>service_account_email</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>service account email</div> </td> </tr> <tr> <td colspan="1">  <b>service_account_permissions</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td> </td> <td> <div>service account permissions</div> </td> </tr> <tr> <td colspan="1">  <b>state</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>present</li> <li>absent</li> </ul> </td> <td> <div>The state of the Forwarding Rule. 'present' or 'absent'</div> </td> </tr> <tr> <td colspan="1">  <b>target</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Target resource for forwarding rule. For global proxy, this is a Global TargetProxy resource. Required for external load balancing (including Global load balancing)</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>Currently only supports global forwarding rules. As such, Load Balancing Scheme is always EXTERNAL.</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja">- name: Create Minimum GLOBAL Forwarding_Rule
  community.general.gcp_forwarding_rule:
    service_account_email: "{{ service_account_email }}"
    credentials_file: "{{ credentials_file }}"
    project_id: "{{ project_id }}"
    forwarding_rule_name: my-forwarding_rule
    protocol: TCP
    port_range: 80
    region: global
    target: my-target-proxy
    state: present

- name: Create Forwarding_Rule w/reserved static address
  community.general.gcp_forwarding_rule:
    service_account_email: "{{ service_account_email }}"
    credentials_file: "{{ credentials_file }}"
    project_id: "{{ project_id }}"
    forwarding_rule_name: my-forwarding_rule
    protocol: TCP
    port_range: 80
    address: my-reserved-static-address-name
    region: global
    target: my-target-proxy
    state: present
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="1">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="1">  <b>forwarding_rule</b>  <div> <span>dictionary</span> </div> </td> <td>Always. Refer to GCP documentation for detailed field descriptions.</td> <td> <div>GCP Forwarding_Rule dictionary</div> <br> <div><b>Sample:</b></div> <div>{'name': 'my-forwarding_rule', 'target': '...'}</div> </td> </tr> <tr> <td colspan="1">  <b>forwarding_rule_name</b>  <div> <span>string</span> </div> </td> <td>Always</td> <td> <div>Name of the Forwarding_Rule</div> <br> <div><b>Sample:</b></div> <div>my-target-proxy</div> </td> </tr> <tr> <td colspan="1">  <b>region</b>  <div> <span>boolean</span> </div> </td> <td>Always</td> <td> <div>Region for Forwarding Rule.</div> <br> <div><b>Sample:</b></div> <div>True</div> </td> </tr> <tr> <td colspan="1">  <b>state</b>  <div> <span>string</span> </div> </td> <td>Always.</td> <td> <div>state of the Forwarding_Rule</div> <br> <div><b>Sample:</b></div> <div>present</div> </td> </tr> </table> <br><br>  <h2 id="status">Status</h2> <ul class="simple"> <li>This module will be removed in version 2.0.0. <em>[deprecated]</em>
</li> <li>For more information see <a class="reference internal" href="#deprecated">DEPRECATED</a>.</li> </ul>  <h3 id="authors">Authors</h3> <ul class="simple"> <li>Tom Melendez (@supertom) &lt;<a class="reference external" href="https://docs.ansible.com/cdn-cgi/l/email-protection#86f2e9eba0a5b5b1bda0a5b3b4bda0a5b2bebdf5f3f6e3f4f2e9eba0a5b2b0bde5e9eb">tom<span>@</span>supertom<span>.</span>com</a>&gt;</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://docs.ansible.com/ansible/2.10/collections/community/general/gcp_forwarding_rule_module.html" class="_attribution-link" target="_blank">https://docs.ansible.com/ansible/2.10/collections/community/general/gcp_forwarding_rule_module.html</a>
  </p>
</div>
