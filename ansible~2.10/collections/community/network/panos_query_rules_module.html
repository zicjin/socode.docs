<h1 id="community-network-panos-query-rules-panos-module-that-allows-search-for-security-rules-in-panw-ngfw-devices">community.network.panos_query_rules â€“ PANOS module that allows search for security rules in PANW NGFW devices.</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/community/network">community.network collection</a> (version 1.3.2).</p> <p>To install it use: <code>ansible-galaxy collection install community.network</code>.</p> <p>To use it in a playbook, specify: <code>community.network.panos_query_rules</code>.</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#deprecated" id="id1">DEPRECATED</a></li> <li><a class="reference internal" href="#synopsis" id="id2">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id3">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id4">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id5">Notes</a></li> <li><a class="reference internal" href="#examples" id="id6">Examples</a></li> <li><a class="reference internal" href="#status" id="id7">Status</a></li> </ul>   <h2 id="deprecated">DEPRECATED</h2> <dl class="field-list simple"> <dt class="field-odd">Removed in</dt> <dd class="field-odd">
<p>version 2.0.0</p> </dd> <dt class="field-even">Why</dt> <dd class="field-even">
<p>Consolidating code base.</p> </dd> <dt class="field-odd">Alternative</dt> <dd class="field-odd">
<p>Use <a class="reference external" href="https://galaxy.ansible.com/PaloAltoNetworks/paloaltonetworks">https://galaxy.ansible.com/PaloAltoNetworks/paloaltonetworks</a> instead.</p> </dd> </dl>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>
<ul> <li>Security policies allow you to enforce rules and take action, and can be as general or specific as needed. The policy rules are compared against the incoming traffic in sequence, and because the first rule that matches the traffic is applied, the more specific rules must precede the more general ones.</li> </ul> </li> </ul>   <h2 id="requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>pan-python can be obtained from PyPI <a class="reference external" href="https://pypi.org/project/pan-python/">https://pypi.org/project/pan-python/</a>
</li> <li>pandevice can be obtained from PyPI <a class="reference external" href="https://pypi.org/project/pandevice/">https://pypi.org/project/pandevice/</a>
</li> <li>xmltodict can be obtains from PyPI <a class="reference external" href="https://pypi.org/project/xmltodict/">https://pypi.org/project/xmltodict/</a>
</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1">  <b>api_key</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>API key that can be used instead of <em>username</em>/<em>password</em> credentials.</div> </td> </tr> <tr> <td colspan="1">  <b>application</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Name of the application or application group to be queried.</div> </td> </tr> <tr> <td colspan="1">  <b>destination_ip</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The destination IP address to be queried.</div> </td> </tr> <tr> <td colspan="1">  <b>destination_port</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The destination port to be queried.</div> </td> </tr> <tr> <td colspan="1">  <b>destination_zone</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Name of the destination security zone to be queried.</div> </td> </tr> <tr> <td colspan="1">  <b>devicegroup</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The Panorama device group in which to conduct the query.</div> </td> </tr> <tr> <td colspan="1">  <b>ip_address</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>IP address (or hostname) of PAN-OS firewall or Panorama management console being queried.</div> </td> </tr> <tr> <td colspan="1">  <b>password</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>Password credentials to use for authentication.</div> </td> </tr> <tr> <td colspan="1">  <b>protocol</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>tcp</li> <li>udp</li> </ul> </td> <td> <div>The protocol used to be queried. Must be either <em>tcp</em> or <em>udp</em>.</div> </td> </tr> <tr> <td colspan="1">  <b>source_ip</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The source IP address to be queried.</div> </td> </tr> <tr> <td colspan="1">  <b>source_port</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The source port to be queried.</div> </td> </tr> <tr> <td colspan="1">  <b>source_zone</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Name of the source security zone to be queried.</div> </td> </tr> <tr> <td colspan="1">  <b>tag_name</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Name of the rule tag to be queried.</div> </td> </tr> <tr> <td colspan="1">  <b>username</b>  <div> <span>string</span> </div> </td> <td> <b>Default:</b><br><div>"admin"</div> </td> <td> <div>Username credentials to use for authentication.</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>Checkmode is not supported.</li> <li>Panorama is supported.</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja">- name: Search for rules with tcp/3306
  community.network.panos_query_rules:
    ip_address: '{{ ip_address }}'
    username: '{{ username }}'
    password: '{{ password }}'
    source_zone: 'DevNet'
    destination_zone: 'DevVPC'
    destination_port: '3306'
    protocol: 'tcp'

- name: Search devicegroup for inbound rules to dmz host
  community.network.panos_query_rules:
    ip_address: '{{ ip_address }}'
    api_key: '{{ api_key }}'
    destination_zone: 'DMZ'
    destination_ip: '10.100.42.18'
    address: 'DeviceGroupA'

- name: Search for rules containing a specified rule tag
  community.network.panos_query_rules:
    ip_address: '{{ ip_address }}'
    username: '{{ username }}'
    password: '{{ password }}'
    tag_name: 'ProjectX'
</pre>   <h2 id="status">Status</h2> <ul class="simple"> <li>This module will be removed in version 2.0.0. <em>[deprecated]</em>
</li> <li>For more information see <a class="reference internal" href="#deprecated">DEPRECATED</a>.</li> </ul>  <h3 id="authors">Authors</h3> <ul class="simple"> <li>Bob Hagen (@rnh556)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://docs.ansible.com/ansible/2.10/collections/community/network/panos_query_rules_module.html" class="_attribution-link" target="_blank">https://docs.ansible.com/ansible/2.10/collections/community/network/panos_query_rules_module.html</a>
  </p>
</div>
