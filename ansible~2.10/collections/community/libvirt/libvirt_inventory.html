<h1 id="community-libvirt-libvirt-libvirt-inventory-source">community.libvirt.libvirt – Libvirt inventory source</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/community/libvirt">community.libvirt collection</a> (version 1.0.0).</p> <p>To install it use: <code>ansible-galaxy collection install community.libvirt</code>.</p> <p>To use it in a playbook, specify: <code>community.libvirt.libvirt</code>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.10: </span>of community.libvirt</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#examples" id="id4">Examples</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Get libvirt guests in an inventory source</li> </ul>   <h2 id="requirements">Requirements</h2> <p>The below requirements are needed on the local controller node that executes this inventory.</p> <ul class="simple"> <li>libvirt-python</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th>Configuration</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1">  <b>compose</b>  <div> <span>dictionary</span> </div> </td> <td> <b>Default:</b><br><div>{}</div> </td> <td> </td> <td> <div>Create vars from jinja2 expressions.</div> </td> </tr> <tr> <td colspan="1">  <b>groups</b>  <div> <span>dictionary</span> </div> </td> <td> <b>Default:</b><br><div>{}</div> </td> <td> </td> <td> <div>Add hosts to group based on Jinja2 conditionals.</div> </td> </tr> <tr> <td colspan="1">  <b>inventory_hostname</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>name</b> ←</div></li> <li>uuid</li> </ul> </td> <td> </td> <td> <div>What to register as the inventory hostname. If set to 'uuid' the uuid of the server will be used and a group will be created for the server name. If set to 'name' the name of the server will be used unless there are more than one server with the same name in which case the 'uuid' logic will be used. Default is to do 'name'</div> </td> </tr> <tr> <td colspan="1">  <b>keyed_groups</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td> <b>Default:</b><br><div>[]</div> </td> <td> </td> <td> <div>Add hosts to group based on the values of a variable.</div> </td> </tr> <tr> <td colspan="1">  <b>plugin</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>libvirt</li> </ul> </td> <td> </td> <td> <div>Token that ensures this is a source file for the 'libvirt' plugin.</div> </td> </tr> <tr> <td colspan="1">  <b>strict</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> </td> <td> <div>If <code>yes</code> make invalid entries a fatal error, otherwise skip and continue.</div> <div>Since it is possible to use facts in the expressions they might not always be available and we ignore those errors by default.</div> </td> </tr> <tr> <td colspan="1">  <b>uri</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> </td> <td> <div>Libvirt Connection URI</div> </td> </tr> </table> <br>  <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja"># Connect to lxc host
plugin: community.libvirt.libvirt
uri: 'lxc:///'

# Connect to qemu
plugin: community.libvirt.libvirt
uri: 'qemu:///system'
</pre>  <h3 id="authors">Authors</h3> <ul class="simple"> <li>Dave Olsthoorn &lt;<a class="reference external" href="https://docs.ansible.com/cdn-cgi/l/email-protection#ea8e8b9c8fccc9d9ddd1ccc9dfd8d1ccc9ded2d1888f9d8b8b98ccc9dedcd1878f">dave<span>@</span>bewaar<span>.</span>me</a>&gt;</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://docs.ansible.com/ansible/2.10/collections/community/libvirt/libvirt_inventory.html" class="_attribution-link" target="_blank">https://docs.ansible.com/ansible/2.10/collections/community/libvirt/libvirt_inventory.html</a>
  </p>
</div>
