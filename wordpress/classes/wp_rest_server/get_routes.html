<h1>WP_REST_Server::get_routes( string $namespace = '' )</h1>  <section> <p>Retrieves the route map.</p> </section> <div class="content-toc">  <section> <h2 id="description">Description</h2> <p>The route map is an associative array with path regexes as the keys. The value is an indexed array with the callback function/method as the first item, and a bitmask of HTTP methods as the second item (see the class constants).</p> <p>Each route can be mapped to more than one callback by using an array of the indexed arrays. This allows mapping e.g. GET requests to one callback and POST requests to another.</p> <p>Note that the path regexes (array keys) must have @ escaped, as this is used as the delimiter with preg_match()</p> </section>  <section> <h2 id="parameters">Parameters</h2> <dl> <dt>$namespace</dt> <dd> <p class="desc"> <span class="type">(<span class="string">string</span>)</span> <span class="required">(Optional)</span> <span class="description">y, only return routes in the given namespace.</span> </p> <p class="default">Default value: ''</p> </dd> </dl> </section>  <section> <h2 id="return">Return</h2> <p><span class="return-type">(array)</span> <code>'/path/regex' =&gt; array( $callback, $bitmask )</code> or <code>'/path/regex' =&gt; array( array( $callback, $bitmask ), ...)</code>.</p> </section>  <section> <h2 id="source">Source</h2> <p> File: <a href="https://developer.wordpress.org/reference/files/wp-includes/rest-api/class-wp-rest-server.php/">wp-includes/rest-api/class-wp-rest-server.php</a> </p> <pre data-language="php">public function get_routes( $namespace = '' ) {
		$endpoints = $this-&gt;endpoints;

		if ( $namespace ) {
			$endpoints = wp_list_filter( $endpoints, array( 'namespace' =&gt; $namespace ) );
		}

		/**
		 * Filters the array of available REST API endpoints.
		 *
		 * @since 4.4.0
		 *
		 * @param array $endpoints The available endpoints. An array of matching regex patterns, each mapped
		 *                         to an array of callbacks for the endpoint. These take the format
		 *                         `'/path/regex' =&gt; array( $callback, $bitmask )` or
		 *                         `'/path/regex' =&gt; array( array( $callback, $bitmask ).
		 */
		$endpoints = apply_filters( 'rest_endpoints', $endpoints );

		// Normalize the endpoints.
		$defaults = array(
			'methods'       =&gt; '',
			'accept_json'   =&gt; false,
			'accept_raw'    =&gt; false,
			'show_in_index' =&gt; true,
			'args'          =&gt; array(),
		);

		foreach ( $endpoints as $route =&gt; &amp;$handlers ) {

			if ( isset( $handlers['callback'] ) ) {
				// Single endpoint, add one deeper.
				$handlers = array( $handlers );
			}

			if ( ! isset( $this-&gt;route_options[ $route ] ) ) {
				$this-&gt;route_options[ $route ] = array();
			}

			foreach ( $handlers as $key =&gt; &amp;$handler ) {

				if ( ! is_numeric( $key ) ) {
					// Route option, move it to the options.
					$this-&gt;route_options[ $route ][ $key ] = $handler;
					unset( $handlers[ $key ] );
					continue;
				}

				$handler = wp_parse_args( $handler, $defaults );

				// Allow comma-separated HTTP methods.
				if ( is_string( $handler['methods'] ) ) {
					$methods = explode( ',', $handler['methods'] );
				} elseif ( is_array( $handler['methods'] ) ) {
					$methods = $handler['methods'];
				} else {
					$methods = array();
				}

				$handler['methods'] = array();

				foreach ( $methods as $method ) {
					$method                        = strtoupper( trim( $method ) );
					$handler['methods'][ $method ] = true;
				}
			}
		}

		return $endpoints;
	}</pre>  </section>  <section> <h2 id="related">Related</h2> <article class="uses"> <h3 id="uses">Uses</h3> <table id="uses-table">  <thead> <tr> <th>Uses</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-includes/rest-api/class-wp-rest-server.php:</span> <a href="../../hooks/rest_endpoints">rest_endpoints</a> </td> <td class="related-desc"> <p>Filters the array of available REST API endpoints.</p> </td> </tr> <tr> <td> <span>wp-includes/functions.php:</span> <a href="../../functions/wp_list_filter">wp_list_filter()</a> </td> <td class="related-desc"> <p>Filters a list of objects, based on a set of key =&gt; value arguments.</p> </td> </tr> <tr> <td> <span>wp-includes/functions.php:</span> <a href="../../functions/wp_parse_args">wp_parse_args()</a> </td> <td class="related-desc"> <p>Merges user defined arguments into defaults array.</p> </td> </tr> <tr> <td> <span>wp-includes/plugin.php:</span> <a href="../../functions/apply_filters">apply_filters()</a> </td> <td class="related-desc"> <p>Calls the callback functions that have been added to a filter hook.</p> </td> </tr> </tbody>

</table> </article> <article class="used-by"> <h3 id="used-by">Used By</h3> <table id="used-by-table">  <thead> <tr> <th>Used By</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-includes/rest-api/class-wp-rest-server.php:</span> <a href="match_request_to_handler">WP_REST_Server::match_request_to_handler()</a> </td> <td class="related-desc"> <p>Matches a request object to its handler.</p> </td> </tr> <tr> <td> <span>wp-includes/rest-api/class-wp-rest-server.php:</span> <a href="get_index">WP_REST_Server::get_index()</a> </td> <td class="related-desc"> <p>Retrieves the site index.</p> </td> </tr> <tr> <td> <span>wp-includes/rest-api/class-wp-rest-server.php:</span> <a href="get_namespace_index">WP_REST_Server::get_namespace_index()</a> </td> <td class="related-desc"> <p>Retrieves the index for a namespace.</p> </td> </tr> </tbody>

</table> </article> </section>  <section> <h2 id="changelog">Changelog</h2> <table>  <thead> <tr> <th class="changelog-version">Version</th> <th class="changelog-desc">Description</th> </tr> </thead> <tbody> <tr> <td><a href="https://developer.wordpress.org/reference/since/5.4.0/" alt="WordPress 5.4.0">5.4.0</a></td> <td><span class="since-description">Add $namespace parameter.</span></td> </tr> <tr> <td><a href="https://developer.wordpress.org/reference/since/4.4.0/" alt="WordPress 4.4.0">4.4.0</a></td> <td>Introduced.</td> </tr> </tbody> </table> </section>    </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.wordpress.org/reference/classes/wp_rest_server/get_routes" class="_attribution-link" target="_blank">https://developer.wordpress.org/reference/classes/wp_rest_server/get_routes</a>
  </p>
</div>
