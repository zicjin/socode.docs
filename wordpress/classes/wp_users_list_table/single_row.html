<h1>WP_Users_List_Table::single_row( WP_User $user_object, string $style = '', string $role = '', int $numposts )</h1>  <section> <p>Generate HTML for a single row on the users.php admin panel.</p> </section> <div class="content-toc">  <section> <h2 id="parameters">Parameters</h2> <dl> <dt>$user_object</dt> <dd> <p class="desc"> <span class="type">(<span class="WP_User"><a href="../wp_user">WP_User</a></span>)</span> <span class="required">(Required)</span> <span class="description">The current user object.</span> </p> </dd> <dt>$style</dt> <dd> <p class="desc"> <span class="type">(<span class="string">string</span>)</span> <span class="required">(Optional)</span> <span class="description">Deprecated. Not used.</span> </p> <p class="default">Default value: ''</p> </dd> <dt>$role</dt> <dd> <p class="desc"> <span class="type">(<span class="string">string</span>)</span> <span class="required">(Optional)</span> <span class="description">Deprecated. Not used.</span> </p> <p class="default">Default value: ''</p> </dd> <dt>$numposts</dt> <dd> <p class="desc"> <span class="type">(<span class="int">int</span>)</span> <span class="required">(Optional)</span> <span class="description"> Post count to display for this user. Defaults to zero, as in, a new user has made zero posts.</span> </p> </dd> </dl> </section>  <section> <h2 id="return">Return</h2> <p><span class="return-type">(string)</span> Output for a single row.</p> </section>  <section> <h2 id="source">Source</h2> <p> File: <a href="https://developer.wordpress.org/reference/files/wp-admin/includes/class-wp-users-list-table.php/">wp-admin/includes/class-wp-users-list-table.php</a> </p> <pre data-language="php">public function single_row( $user_object, $style = '', $role = '', $numposts = 0 ) {
		if ( ! ( $user_object instanceof WP_User ) ) {
			$user_object = get_userdata( (int) $user_object );
		}
		$user_object-&gt;filter = 'display';
		$email               = $user_object-&gt;user_email;

		if ( $this-&gt;is_site_users ) {
			$url = "site-users.php?id={$this-&gt;site_id}&amp;amp;";
		} else {
			$url = 'users.php?';
		}

		$user_roles = $this-&gt;get_role_list( $user_object );

		// Set up the hover actions for this user.
		$actions     = array();
		$checkbox    = '';
		$super_admin = '';

		if ( is_multisite() &amp;&amp; current_user_can( 'manage_network_users' ) ) {
			if ( in_array( $user_object-&gt;user_login, get_super_admins(), true ) ) {
				$super_admin = ' &amp;mdash; ' . __( 'Super Admin' );
			}
		}

		// Check if the user for this row is editable.
		if ( current_user_can( 'list_users' ) ) {
			// Set up the user editing link.
			$edit_link = esc_url(
				add_query_arg(
					'wp_http_referer',
					urlencode( wp_unslash( $_SERVER['REQUEST_URI'] ) ),
					get_edit_user_link( $user_object-&gt;ID )
				)
			);

			if ( current_user_can( 'edit_user', $user_object-&gt;ID ) ) {
				$edit            = "&lt;strong&gt;&lt;a href=\"{$edit_link}\"&gt;{$user_object-&gt;user_login}&lt;/a&gt;{$super_admin}&lt;/strong&gt;&lt;br /&gt;";
				$actions['edit'] = '&lt;a href="' . $edit_link . '"&gt;' . __( 'Edit' ) . '&lt;/a&gt;';
			} else {
				$edit = "&lt;strong&gt;{$user_object-&gt;user_login}{$super_admin}&lt;/strong&gt;&lt;br /&gt;";
			}

			if ( ! is_multisite()
				&amp;&amp; get_current_user_id() !== $user_object-&gt;ID
				&amp;&amp; current_user_can( 'delete_user', $user_object-&gt;ID )
			) {
				$actions['delete'] = "&lt;a class='submitdelete' href='" . wp_nonce_url( "users.php?action=delete&amp;amp;user=$user_object-&gt;ID", 'bulk-users' ) . "'&gt;" . __( 'Delete' ) . '&lt;/a&gt;';
			}

			if ( is_multisite()
				&amp;&amp; current_user_can( 'remove_user', $user_object-&gt;ID )
			) {
				$actions['remove'] = "&lt;a class='submitdelete' href='" . wp_nonce_url( $url . "action=remove&amp;amp;user=$user_object-&gt;ID", 'bulk-users' ) . "'&gt;" . __( 'Remove' ) . '&lt;/a&gt;';
			}

			// Add a link to the user's author archive, if not empty.
			$author_posts_url = get_author_posts_url( $user_object-&gt;ID );
			if ( $author_posts_url ) {
				$actions['view'] = sprintf(
					'&lt;a href="%s" aria-label="%s"&gt;%s&lt;/a&gt;',
					esc_url( $author_posts_url ),
					/* translators: %s: Author's display name. */
					esc_attr( sprintf( __( 'View posts by %s' ), $user_object-&gt;display_name ) ),
					__( 'View' )
				);
			}

			// Add a link to send the user a reset password link by email.
			if ( get_current_user_id() !== $user_object-&gt;ID
				&amp;&amp; current_user_can( 'edit_user', $user_object-&gt;ID )
			) {
				$actions['resetpassword'] = "&lt;a class='resetpassword' href='" . wp_nonce_url( "users.php?action=resetpassword&amp;amp;users=$user_object-&gt;ID", 'bulk-users' ) . "'&gt;" . __( 'Send password reset' ) . '&lt;/a&gt;';
			}

			/**
			 * Filters the action links displayed under each user in the Users list table.
			 *
			 * @since 2.8.0
			 *
			 * @param string[] $actions     An array of action links to be displayed.
			 *                              Default 'Edit', 'Delete' for single site, and
			 *                              'Edit', 'Remove' for Multisite.
			 * @param WP_User  $user_object WP_User object for the currently listed user.
			 */
			$actions = apply_filters( 'user_row_actions', $actions, $user_object );

			// Role classes.
			$role_classes = esc_attr( implode( ' ', array_keys( $user_roles ) ) );

			// Set up the checkbox (because the user is editable, otherwise it's empty).
			$checkbox = sprintf(
				'&lt;label class="screen-reader-text" for="user_%1$s"&gt;%2$s&lt;/label&gt;' .
				'&lt;input type="checkbox" name="users[]" id="user_%1$s" class="%3$s" value="%1$s" /&gt;',
				$user_object-&gt;ID,
				/* translators: %s: User login. */
				sprintf( __( 'Select %s' ), $user_object-&gt;user_login ),
				$role_classes
			);

		} else {
			$edit = "&lt;strong&gt;{$user_object-&gt;user_login}{$super_admin}&lt;/strong&gt;";
		}

		$avatar = get_avatar( $user_object-&gt;ID, 32 );

		// Comma-separated list of user roles.
		$roles_list = implode( ', ', $user_roles );

		$r = "&lt;tr id='user-$user_object-&gt;ID'&gt;";

		list( $columns, $hidden, $sortable, $primary ) = $this-&gt;get_column_info();

		foreach ( $columns as $column_name =&gt; $column_display_name ) {
			$classes = "$column_name column-$column_name";
			if ( $primary === $column_name ) {
				$classes .= ' has-row-actions column-primary';
			}
			if ( 'posts' === $column_name ) {
				$classes .= ' num'; // Special case for that column.
			}

			if ( in_array( $column_name, $hidden, true ) ) {
				$classes .= ' hidden';
			}

			$data = 'data-colname="' . esc_attr( wp_strip_all_tags( $column_display_name ) ) . '"';

			$attributes = "class='$classes' $data";

			if ( 'cb' === $column_name ) {
				$r .= "&lt;th scope='row' class='check-column'&gt;$checkbox&lt;/th&gt;";
			} else {
				$r .= "&lt;td $attributes&gt;";
				switch ( $column_name ) {
					case 'username':
						$r .= "$avatar $edit";
						break;
					case 'name':
						if ( $user_object-&gt;first_name &amp;&amp; $user_object-&gt;last_name ) {
							$r .= "$user_object-&gt;first_name $user_object-&gt;last_name";
						} elseif ( $user_object-&gt;first_name ) {
							$r .= $user_object-&gt;first_name;
						} elseif ( $user_object-&gt;last_name ) {
							$r .= $user_object-&gt;last_name;
						} else {
							$r .= sprintf(
								'&lt;span aria-hidden="true"&gt;&amp;#8212;&lt;/span&gt;&lt;span class="screen-reader-text"&gt;%s&lt;/span&gt;',
								_x( 'Unknown', 'name' )
							);
						}
						break;
					case 'email':
						$r .= "&lt;a href='" . esc_url( "mailto:$email" ) . "'&gt;$email&lt;/a&gt;";
						break;
					case 'role':
						$r .= esc_html( $roles_list );
						break;
					case 'posts':
						if ( $numposts &gt; 0 ) {
							$r .= sprintf(
								'&lt;a href="%s" class="edit"&gt;&lt;span aria-hidden="true"&gt;%s&lt;/span&gt;&lt;span class="screen-reader-text"&gt;%s&lt;/span&gt;&lt;/a&gt;',
								"edit.php?author={$user_object-&gt;ID}",
								$numposts,
								sprintf(
									/* translators: %s: Number of posts. */
									_n( '%s post by this author', '%s posts by this author', $numposts ),
									number_format_i18n( $numposts )
								)
							);
						} else {
							$r .= 0;
						}
						break;
					default:
						/**
						 * Filters the display output of custom columns in the Users list table.
						 *
						 * @since 2.8.0
						 *
						 * @param string $output      Custom column output. Default empty.
						 * @param string $column_name Column name.
						 * @param int    $user_id     ID of the currently-listed user.
						 */
						$r .= apply_filters( 'manage_users_custom_column', '', $column_name, $user_object-&gt;ID );
				}

				if ( $primary === $column_name ) {
					$r .= $this-&gt;row_actions( $actions );
				}
				$r .= '&lt;/td&gt;';
			}
		}
		$r .= '&lt;/tr&gt;';

		return $r;
	}</pre>  </section>  <section> <h2 id="related">Related</h2> <article class="uses"> <h3 id="uses">Uses</h3> <table id="uses-table">  <thead> <tr> <th>Uses</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-admin/includes/class-wp-users-list-table.php:</span> <a href="get_role_list">WP_Users_List_Table::get_role_list()</a> </td> <td class="related-desc"> <p>Returns an array of translated user role names for a given user object.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/class-wp-users-list-table.php:</span> <a href="../../hooks/user_row_actions">user_row_actions</a> </td> <td class="related-desc"> <p>Filters the action links displayed under each user in the Users list table.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/class-wp-users-list-table.php:</span> <a href="../../hooks/manage_users_custom_column">manage_users_custom_column</a> </td> <td class="related-desc"> <p>Filters the display output of custom columns in the Users list table.</p> </td> </tr> <tr> <td> <span>wp-includes/capabilities.php:</span> <a href="../../functions/current_user_can">current_user_can()</a> </td> <td class="related-desc"> <p>Returns whether the current user has the specified capability.</p> </td> </tr> <tr> <td> <span>wp-includes/capabilities.php:</span> <a href="../../functions/get_super_admins">get_super_admins()</a> </td> <td class="related-desc"> <p>Retrieves a list of super admins.</p> </td> </tr> <tr> <td> <span>wp-includes/l10n.php:</span> <a href="../../functions/__">__()</a> </td> <td class="related-desc"> <p>Retrieve the translation of $text.</p> </td> </tr> <tr> <td> <span>wp-includes/l10n.php:</span> <a href="../../functions/_x">_x()</a> </td> <td class="related-desc"> <p>Retrieve translated string with gettext context.</p> </td> </tr> <tr> <td> <span>wp-includes/l10n.php:</span> <a href="../../functions/_n">_n()</a> </td> <td class="related-desc"> <p>Translates and retrieves the singular or plural form based on the supplied number.</p> </td> </tr> <tr> <td> <span>wp-includes/formatting.php:</span> <a href="../../functions/wp_unslash">wp_unslash()</a> </td> <td class="related-desc"> <p>Removes slashes from a string or recursively removes slashes from strings within an array.</p> </td> </tr> <tr> <td> <span>wp-includes/formatting.php:</span> <a href="../../functions/wp_strip_all_tags">wp_strip_all_tags()</a> </td> <td class="related-desc"> <p>Properly strips all HTML tags including script and style</p> </td> </tr> <tr> <td> <span>wp-includes/formatting.php:</span> <a href="../../functions/esc_url">esc_url()</a> </td> <td class="related-desc"> <p>Checks and cleans a URL.</p> </td> </tr> <tr> <td> <span>wp-includes/formatting.php:</span> <a href="../../functions/esc_attr">esc_attr()</a> </td> <td class="related-desc"> <p>Escaping for HTML attributes.</p> </td> </tr> <tr> <td> <span>wp-includes/formatting.php:</span> <a href="../../functions/esc_html">esc_html()</a> </td> <td class="related-desc"> <p>Escaping for HTML blocks.</p> </td> </tr> <tr> <td> <span>wp-includes/pluggable.php:</span> <a href="../../functions/get_avatar">get_avatar()</a> </td> <td class="related-desc"> <p>Retrieve the avatar <code>&lt;img&gt;</code> tag for a user, email address, MD5 hash, comment, or post.</p> </td> </tr> <tr> <td> <span>wp-includes/pluggable.php:</span> <a href="../../functions/get_userdata">get_userdata()</a> </td> <td class="related-desc"> <p>Retrieve user info by user ID.</p> </td> </tr> <tr> <td> <span>wp-includes/load.php:</span> <a href="../../functions/is_multisite">is_multisite()</a> </td> <td class="related-desc"> <p>If Multisite is enabled.</p> </td> </tr> <tr> <td> <span>wp-includes/functions.php:</span> <a href="../../functions/wp_nonce_url">wp_nonce_url()</a> </td> <td class="related-desc"> <p>Retrieve URL with nonce added to URL query.</p> </td> </tr> <tr> <td> <span>wp-includes/functions.php:</span> <a href="../../functions/add_query_arg">add_query_arg()</a> </td> <td class="related-desc"> <p>Retrieves a modified URL query string.</p> </td> </tr> <tr> <td> <span>wp-includes/functions.php:</span> <a href="../../functions/number_format_i18n">number_format_i18n()</a> </td> <td class="related-desc"> <p>Convert float number to format based on the locale.</p> </td> </tr> <tr> <td> <span>wp-includes/link-template.php:</span> <a href="../../functions/get_edit_user_link">get_edit_user_link()</a> </td> <td class="related-desc"> <p>Retrieves the edit user link.</p> </td> </tr> <tr> <td> <span>wp-includes/plugin.php:</span> <a href="../../functions/apply_filters">apply_filters()</a> </td> <td class="related-desc"> <p>Calls the callback functions that have been added to a filter hook.</p> </td> </tr> <tr> <td> <span>wp-includes/user.php:</span> <a href="../../functions/get_current_user_id">get_current_user_id()</a> </td> <td class="related-desc"> <p>Gets the current user’s ID.</p> </td> </tr> <tr> <td> <span>wp-includes/author-template.php:</span> <a href="../../functions/get_author_posts_url">get_author_posts_url()</a> </td> <td class="related-desc"> <p>Retrieves the URL to the author page for the user with the ID provided.</p> </td> </tr> </tbody>

</table>   </article>  <article class="used-by"> <h3 id="used-by">Used By</h3> <table id="used-by-table">  <thead> <tr> <th>Used By</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-admin/includes/class-wp-users-list-table.php:</span> <a href="display_rows">WP_Users_List_Table::display_rows()</a> </td> <td class="related-desc"> <p>Generate the list table rows.</p> </td> </tr> </tbody>

</table> </article> </section>  <section> <h2 id="changelog">Changelog</h2> <table>  <thead> <tr> <th class="changelog-version">Version</th> <th class="changelog-desc">Description</th> </tr> </thead> <tbody> <tr> <td><a href="https://developer.wordpress.org/reference/since/4.4.0/" alt="WordPress 4.4.0">4.4.0</a></td> <td><span class="since-description">The <code>$role</code> parameter was deprecated.</span></td> </tr> <tr> <td><a href="https://developer.wordpress.org/reference/since/4.2.0/" alt="WordPress 4.2.0">4.2.0</a></td> <td><span class="since-description">The <code>$style</code> parameter was deprecated.</span></td> </tr> <tr> <td><a href="https://developer.wordpress.org/reference/since/3.1.0/" alt="WordPress 3.1.0">3.1.0</a></td> <td>Introduced.</td> </tr> </tbody> </table> </section>    </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.wordpress.org/reference/classes/wp_users_list_table/single_row" class="_attribution-link" target="_blank">https://developer.wordpress.org/reference/classes/wp_users_list_table/single_row</a>
  </p>
</div>
