<h1>wp_dropdown_users( array|string $args = '' )</h1>  <section> <p>Creates dropdown HTML content of users.</p> </section> <div class="content-toc">  <section> <h2 id="description">Description</h2> <p>The content can either be displayed, which it is by default or retrieved by setting the ‘echo’ argument. The ‘include’ and ‘exclude’ arguments do not need to be used; all users will be displayed in that case. Only one can be used, either ‘include’ or ‘exclude’, but not both.</p> <p>The available arguments are as follows:</p> </section>  <section> <h2 id="parameters">Parameters</h2> <dl> <dt>$args</dt> <dd> <p class="desc"> <span class="type">(<span class="array">array</span>|<span class="string">string</span>)</span> <span class="required">(Optional)</span> <span class="description">Array or string of arguments to generate a drop-down of users. See <a href="../classes/wp_user_query/prepare_query">WP_User_Query::prepare_query()</a> for additional available arguments. <ul class="param-hash">
<li>
<b>'show_option_all'</b><br><i><span class="type">(string)</span></i> Text to show as the drop-down default (all). </li> <li>
<b>'show_option_none'</b><br><i><span class="type">(string)</span></i> Text to show as the drop-down default when no users were found. </li> <li>
<b>'option_none_value'</b><br><i><span class="type">(int|string)</span></i> Value to use for $show_option_non when no users were found. Default -1.</li> <li>
<b>'hide_if_only_one_author'</b><br><i><span class="type">(string)</span></i> Whether to skip generating the drop-down if only one user was found. </li> <li>
<b>'orderby'</b><br><i><span class="type">(string)</span></i> Field to order found users by. Accepts user fields. Default 'display_name'.</li> <li>
<b>'order'</b><br><i><span class="type">(string)</span></i> Whether to order users in ascending or descending order. Accepts 'ASC' (ascending) or 'DESC' (descending). Default 'ASC'.</li> <li>
<b>'include'</b><br><i><span class="type">(int[]|string)</span></i> Array or comma-separated list of user IDs to include. </li> <li>
<b>'exclude'</b><br><i><span class="type">(int[]|string)</span></i> Array or comma-separated list of user IDs to exclude. </li> <li>
<b>'multi'</b><br><i><span class="type">(bool|int)</span></i> Whether to skip the ID attribute on the 'select' element. Accepts 1|true or 0|false. Default 0|false.</li> <li>
<b>'show'</b><br><i><span class="type">(string)</span></i> User data to display. If the selected item is empty then the 'user_login' will be displayed in parentheses. Accepts any user field, or 'display_name_with_login' to show the display name with user_login in parentheses. Default 'display_name'.</li> <li>
<b>'echo'</b><br><i><span class="type">(int|bool)</span></i> Whether to echo or return the drop-down. Accepts 1|true (echo) or 0|false (return). Default 1|true.</li> <li>
<b>'selected'</b><br><i><span class="type">(int)</span></i> Which user ID should be selected. Default 0.</li> <li>
<b>'include_selected'</b><br><i><span class="type">(bool)</span></i> Whether to always include the selected user ID in the drop- down. Default false.</li> <li>
<b>'name'</b><br><i><span class="type">(string)</span></i> Name attribute of select element. Default 'user'.</li> <li>
<b>'id'</b><br><i><span class="type">(string)</span></i> ID attribute of the select element. Default is the value of $name.</li> <li>
<b>'class'</b><br><i><span class="type">(string)</span></i> Class attribute of the select element. </li> <li>
<b>'blog_id'</b><br><i><span class="type">(int)</span></i> ID of blog (Multisite only). Default is ID of the current blog.</li> <li>
<b>'who'</b><br><i><span class="type">(string)</span></i> Which type of users to query. Accepts only an empty string or 'authors'. </li> <li>
<b>'role'</b><br><i><span class="type">(string|array)</span></i> An array or a comma-separated list of role names that users must match to be included in results. Note that this is an inclusive list: users must match *each* role. </li> <li>
<b>'role__in'</b><br><i><span class="type">(string[])</span></i> An array of role names. Matched users must have at least one of these roles. Default empty array.</li> <li>
<b>'role__not_in'</b><br><i><span class="type">(string[])</span></i> An array of role names to exclude. Users matching one or more of these roles will not be included in results. Default empty array.</li> </ul> </span> </p> <p class="default">Default value: ''</p> </dd> </dl> </section>  <section> <h2 id="return">Return</h2> <p><span class="return-type">(string)</span> HTML dropdown list of users.</p> </section>  <section> <h2 id="source">Source</h2> <p> File: <a href="https://developer.wordpress.org/reference/files/wp-includes/user.php/">wp-includes/user.php</a> </p> <pre data-language="php">function wp_dropdown_users( $args = '' ) {
	$defaults = array(
		'show_option_all'         =&gt; '',
		'show_option_none'        =&gt; '',
		'hide_if_only_one_author' =&gt; '',
		'orderby'                 =&gt; 'display_name',
		'order'                   =&gt; 'ASC',
		'include'                 =&gt; '',
		'exclude'                 =&gt; '',
		'multi'                   =&gt; 0,
		'show'                    =&gt; 'display_name',
		'echo'                    =&gt; 1,
		'selected'                =&gt; 0,
		'name'                    =&gt; 'user',
		'class'                   =&gt; '',
		'id'                      =&gt; '',
		'blog_id'                 =&gt; get_current_blog_id(),
		'who'                     =&gt; '',
		'include_selected'        =&gt; false,
		'option_none_value'       =&gt; -1,
		'role'                    =&gt; '',
		'role__in'                =&gt; array(),
		'role__not_in'            =&gt; array(),
		'capability'              =&gt; '',
		'capability__in'          =&gt; array(),
		'capability__not_in'      =&gt; array(),
	);

	$defaults['selected'] = is_author() ? get_query_var( 'author' ) : 0;

	$parsed_args = wp_parse_args( $args, $defaults );

	$query_args = wp_array_slice_assoc(
		$parsed_args,
		array(
			'blog_id',
			'include',
			'exclude',
			'orderby',
			'order',
			'who',
			'role',
			'role__in',
			'role__not_in',
			'capability',
			'capability__in',
			'capability__not_in',
		)
	);

	$fields = array( 'ID', 'user_login' );

	$show = ! empty( $parsed_args['show'] ) ? $parsed_args['show'] : 'display_name';
	if ( 'display_name_with_login' === $show ) {
		$fields[] = 'display_name';
	} else {
		$fields[] = $show;
	}

	$query_args['fields'] = $fields;

	$show_option_all   = $parsed_args['show_option_all'];
	$show_option_none  = $parsed_args['show_option_none'];
	$option_none_value = $parsed_args['option_none_value'];

	/**
	 * Filters the query arguments for the list of users in the dropdown.
	 *
	 * @since 4.4.0
	 *
	 * @param array $query_args  The query arguments for get_users().
	 * @param array $parsed_args The arguments passed to wp_dropdown_users() combined with the defaults.
	 */
	$query_args = apply_filters( 'wp_dropdown_users_args', $query_args, $parsed_args );

	$users = get_users( $query_args );

	$output = '';
	if ( ! empty( $users ) &amp;&amp; ( empty( $parsed_args['hide_if_only_one_author'] ) || count( $users ) &gt; 1 ) ) {
		$name = esc_attr( $parsed_args['name'] );
		if ( $parsed_args['multi'] &amp;&amp; ! $parsed_args['id'] ) {
			$id = '';
		} else {
			$id = $parsed_args['id'] ? " id='" . esc_attr( $parsed_args['id'] ) . "'" : " id='$name'";
		}
		$output = "&lt;select name='{$name}'{$id} class='" . $parsed_args['class'] . "'&gt;\n";

		if ( $show_option_all ) {
			$output .= "\t&lt;option value='0'&gt;$show_option_all&lt;/option&gt;\n";
		}

		if ( $show_option_none ) {
			$_selected = selected( $option_none_value, $parsed_args['selected'], false );
			$output   .= "\t&lt;option value='" . esc_attr( $option_none_value ) . "'$_selected&gt;$show_option_none&lt;/option&gt;\n";
		}

		if ( $parsed_args['include_selected'] &amp;&amp; ( $parsed_args['selected'] &gt; 0 ) ) {
			$found_selected          = false;
			$parsed_args['selected'] = (int) $parsed_args['selected'];

			foreach ( (array) $users as $user ) {
				$user-&gt;ID = (int) $user-&gt;ID;
				if ( $user-&gt;ID === $parsed_args['selected'] ) {
					$found_selected = true;
				}
			}

			if ( ! $found_selected ) {
				$selected_user = get_userdata( $parsed_args['selected'] );
				if ( $selected_user ) {
					$users[] = $selected_user;
				}
			}
		}

		foreach ( (array) $users as $user ) {
			if ( 'display_name_with_login' === $show ) {
				/* translators: 1: User's display name, 2: User login. */
				$display = sprintf( _x( '%1$s (%2$s)', 'user dropdown' ), $user-&gt;display_name, $user-&gt;user_login );
			} elseif ( ! empty( $user-&gt;$show ) ) {
				$display = $user-&gt;$show;
			} else {
				$display = '(' . $user-&gt;user_login . ')';
			}

			$_selected = selected( $user-&gt;ID, $parsed_args['selected'], false );
			$output   .= "\t&lt;option value='$user-&gt;ID'$_selected&gt;" . esc_html( $display ) . "&lt;/option&gt;\n";
		}

		$output .= '&lt;/select&gt;';
	}

	/**
	 * Filters the wp_dropdown_users() HTML output.
	 *
	 * @since 2.3.0
	 *
	 * @param string $output HTML output generated by wp_dropdown_users().
	 */
	$html = apply_filters( 'wp_dropdown_users', $output );

	if ( $parsed_args['echo'] ) {
		echo $html;
	}
	return $html;
}</pre>  </section>  <section> <h2 id="related">Related</h2> <article class="uses"> <h3 id="uses">Uses</h3> <table id="uses-table">  <thead> <tr> <th>Uses</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-includes/user.php:</span> <a href="../hooks/wp_dropdown_users_args">wp_dropdown_users_args</a> </td> <td class="related-desc"> <p>Filters the query arguments for the list of users in the dropdown.</p> </td> </tr> <tr> <td> <span>wp-includes/l10n.php:</span> <a href="_x">_x()</a> </td> <td class="related-desc"> <p>Retrieve translated string with gettext context.</p> </td> </tr> <tr> <td> <span>wp-includes/formatting.php:</span> <a href="esc_attr">esc_attr()</a> </td> <td class="related-desc"> <p>Escaping for HTML attributes.</p> </td> </tr> <tr> <td> <span>wp-includes/formatting.php:</span> <a href="esc_html">esc_html()</a> </td> <td class="related-desc"> <p>Escaping for HTML blocks.</p> </td> </tr> <tr> <td> <span>wp-includes/general-template.php:</span> <a href="selected">selected()</a> </td> <td class="related-desc"> <p>Outputs the HTML selected attribute.</p> </td> </tr> <tr> <td> <span>wp-includes/pluggable.php:</span> <a href="get_userdata">get_userdata()</a> </td> <td class="related-desc"> <p>Retrieve user info by user ID.</p> </td> </tr> <tr> <td> <span>wp-includes/query.php:</span> <a href="is_author">is_author()</a> </td> <td class="related-desc"> <p>Determines whether the query is for an existing author archive page.</p> </td> </tr> <tr> <td> <span>wp-includes/query.php:</span> <a href="get_query_var">get_query_var()</a> </td> <td class="related-desc"> <p>Retrieves the value of a query variable in the <a href="../classes/wp_query">WP_Query</a> class.</p> </td> </tr> <tr> <td> <span>wp-includes/load.php:</span> <a href="get_current_blog_id">get_current_blog_id()</a> </td> <td class="related-desc"> <p>Retrieve the current site ID.</p> </td> </tr> <tr> <td> <span>wp-includes/functions.php:</span> <a href="wp_parse_args">wp_parse_args()</a> </td> <td class="related-desc"> <p>Merges user defined arguments into defaults array.</p> </td> </tr> <tr> <td> <span>wp-includes/functions.php:</span> <a href="wp_array_slice_assoc">wp_array_slice_assoc()</a> </td> <td class="related-desc"> <p>Extract a slice of an array, given a list of keys.</p> </td> </tr> <tr> <td> <span>wp-includes/plugin.php:</span> <a href="apply_filters">apply_filters()</a> </td> <td class="related-desc"> <p>Calls the callback functions that have been added to a filter hook.</p> </td> </tr> <tr> <td> <span>wp-includes/user.php:</span> <a href="get_users">get_users()</a> </td> <td class="related-desc"> <p>Retrieves list of users matching criteria.</p> </td> </tr> <tr> <td> <span>wp-includes/user.php:</span> <a href="../hooks/wp_dropdown_users">wp_dropdown_users</a> </td> <td class="related-desc"> <p>Filters the <a href="wp_dropdown_users">wp_dropdown_users()</a> HTML output.</p> </td> </tr> </tbody>

</table>   </article>  <article class="used-by"> <h3 id="used-by">Used By</h3> <table id="used-by-table">  <thead> <tr> <th>Used By</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-admin/includes/meta-boxes.php:</span> <a href="post_author_meta_box">post_author_meta_box()</a> </td> <td class="related-desc"> <p>Displays form field with list of authors.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/class-wp-posts-list-table.php:</span> <a href="../classes/wp_posts_list_table/inline_edit">WP_Posts_List_Table::inline_edit()</a> </td> <td class="related-desc"> <p>Outputs the hidden row displayed when inline editing</p> </td> </tr> </tbody>

</table> </article> </section>  <section> <h2 id="changelog">Changelog</h2> <table>  <thead> <tr> <th class="changelog-version">Version</th> <th class="changelog-desc">Description</th> </tr> </thead> <tbody> <tr> <td><a href="https://developer.wordpress.org/reference/since/4.7.0/" alt="WordPress 4.7.0">4.7.0</a></td> <td><span class="since-description">Added the <code>$role</code>, <code>$role__in</code>, and <code>$role__not_in</code> parameters.</span></td> </tr> <tr> <td><a href="https://developer.wordpress.org/reference/since/4.5.0/" alt="WordPress 4.5.0">4.5.0</a></td> <td><span class="since-description">Added the 'display_name_with_login' value for 'show'.</span></td> </tr> <tr> <td><a href="https://developer.wordpress.org/reference/since/2.3.0/" alt="WordPress 2.3.0">2.3.0</a></td> <td>Introduced.</td> </tr> </tbody> </table> </section>    </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.wordpress.org/reference/functions/wp_dropdown_users" class="_attribution-link" target="_blank">https://developer.wordpress.org/reference/functions/wp_dropdown_users</a>
  </p>
</div>
