<h1>get_pages( array|string $args = array() )</h1>  <section> <p>Retrieve an array of pages (or hierarchical post type items).</p> </section> <div class="content-toc">  <section> <h2 id="parameters">Parameters</h2> <dl> <dt>$args</dt> <dd> <p class="desc"> <span class="type">(<span class="array">array</span>|<span class="string">string</span>)</span> <span class="required">(Optional)</span> <span class="description">Array or string of arguments to retrieve pages. <ul class="param-hash">
<li>
<b>'child_of'</b><br><i><span class="type">(int)</span></i> Page ID to return child and grandchild pages of. Note: The value of <code>$hierarchical</code> has no bearing on whether <code>$child_of</code> returns hierarchical results. Default 0, or no restriction.</li> <li>
<b>'sort_order'</b><br><i><span class="type">(string)</span></i> How to sort retrieved pages. Accepts 'ASC', 'DESC'. Default 'ASC'.</li> <li>
<b>'sort_column'</b><br><i><span class="type">(string)</span></i> What columns to sort pages by, comma-separated. Accepts 'post_author', 'post_date', 'post_title', 'post_name', 'post_modified', 'menu_order', 'post_modified_gmt', 'post_parent', 'ID', 'rand', 'comment*count'. 'post*' can be omitted for any values that start with it. Default 'post_title'.</li> <li>
<b>'hierarchical'</b><br><i><span class="type">(bool)</span></i> Whether to return pages hierarchically. If false in conjunction with <code>$child_of</code> also being false, both arguments will be disregarded. Default true.</li> <li>
<b>'exclude'</b><br><i><span class="type">(int[])</span></i> Array of page IDs to exclude. </li> <li>
<b>'include'</b><br><i><span class="type">(int[])</span></i> Array of page IDs to include. Cannot be used with <code>$child_of</code>, <code>$parent</code>, <code>$exclude</code>, <code>$meta_key</code>, <code>$meta_value</code>, or <code>$hierarchical</code>. </li> <li>
<b>'meta_key'</b><br><i><span class="type">(string)</span></i> Only include pages with this meta key. </li> <li>
<b>'meta_value'</b><br><i><span class="type">(string)</span></i> Only include pages with this meta value. Requires <code>$meta_key</code>. </li> <li>
<b>'authors'</b><br><i><span class="type">(string)</span></i> A comma-separated list of author IDs. </li> <li>
<b>'parent'</b><br><i><span class="type">(int)</span></i> Page ID to return direct children of. Default -1, or no restriction.</li> <li>
<b>'exclude_tree'</b><br><i><span class="type">(string|int[])</span></i> Comma-separated string or array of page IDs to exclude. </li> <li>
<b>'number'</b><br><i><span class="type">(int)</span></i> The number of pages to return. Default 0, or all pages.</li> <li>
<b>'offset'</b><br><i><span class="type">(int)</span></i> The number of pages to skip before returning. Requires <code>$number</code>. Default 0.</li> <li>
<b>'post_type'</b><br><i><span class="type">(string)</span></i> The post type to query. Default 'page'.</li> <li>
<b>'post_status'</b><br><i><span class="type">(string|array)</span></i> A comma-separated list or array of post statuses to include. Default 'publish'.</li> </ul> </span> </p> <p class="default">Default value: array()</p> </dd> </dl> </section>  <section> <h2 id="return">Return</h2> <p><span class="return-type">(<a href="../classes/wp_post">WP_Post</a>[]|int[]|false)</span> Array of pages (or hierarchical post type items). Boolean false if the specified post type is not hierarchical or the specified status is not supported by the post type.</p> </section>  <section> <h2 id="source">Source</h2> <p> File: <a href="https://developer.wordpress.org/reference/files/wp-includes/post.php/">wp-includes/post.php</a> </p> <pre data-language="php">function get_pages( $args = array() ) {
	global $wpdb;

	$defaults = array(
		'child_of'     =&gt; 0,
		'sort_order'   =&gt; 'ASC',
		'sort_column'  =&gt; 'post_title',
		'hierarchical' =&gt; 1,
		'exclude'      =&gt; array(),
		'include'      =&gt; array(),
		'meta_key'     =&gt; '',
		'meta_value'   =&gt; '',
		'authors'      =&gt; '',
		'parent'       =&gt; -1,
		'exclude_tree' =&gt; array(),
		'number'       =&gt; '',
		'offset'       =&gt; 0,
		'post_type'    =&gt; 'page',
		'post_status'  =&gt; 'publish',
	);

	$parsed_args = wp_parse_args( $args, $defaults );

	$number       = (int) $parsed_args['number'];
	$offset       = (int) $parsed_args['offset'];
	$child_of     = (int) $parsed_args['child_of'];
	$hierarchical = $parsed_args['hierarchical'];
	$exclude      = $parsed_args['exclude'];
	$meta_key     = $parsed_args['meta_key'];
	$meta_value   = $parsed_args['meta_value'];
	$parent       = $parsed_args['parent'];
	$post_status  = $parsed_args['post_status'];

	// Make sure the post type is hierarchical.
	$hierarchical_post_types = get_post_types( array( 'hierarchical' =&gt; true ) );
	if ( ! in_array( $parsed_args['post_type'], $hierarchical_post_types, true ) ) {
		return false;
	}

	if ( $parent &gt; 0 &amp;&amp; ! $child_of ) {
		$hierarchical = false;
	}

	// Make sure we have a valid post status.
	if ( ! is_array( $post_status ) ) {
		$post_status = explode( ',', $post_status );
	}
	if ( array_diff( $post_status, get_post_stati() ) ) {
		return false;
	}

	// $args can be whatever, only use the args defined in defaults to compute the key.
	$key          = md5( serialize( wp_array_slice_assoc( $parsed_args, array_keys( $defaults ) ) ) );
	$last_changed = wp_cache_get_last_changed( 'posts' );

	$cache_key = "get_pages:$key:$last_changed";
	$cache     = wp_cache_get( $cache_key, 'posts' );
	if ( false !== $cache ) {
		_prime_post_caches( $cache, false, false );

		// Convert to WP_Post instances.
		$pages = array_map( 'get_post', $cache );
		/** This filter is documented in wp-includes/post.php */
		$pages = apply_filters( 'get_pages', $pages, $parsed_args );

		return $pages;
	}

	$inclusions = '';
	if ( ! empty( $parsed_args['include'] ) ) {
		$child_of     = 0; // Ignore child_of, parent, exclude, meta_key, and meta_value params if using include.
		$parent       = -1;
		$exclude      = '';
		$meta_key     = '';
		$meta_value   = '';
		$hierarchical = false;
		$incpages     = wp_parse_id_list( $parsed_args['include'] );
		if ( ! empty( $incpages ) ) {
			$inclusions = ' AND ID IN (' . implode( ',', $incpages ) . ')';
		}
	}

	$exclusions = '';
	if ( ! empty( $exclude ) ) {
		$expages = wp_parse_id_list( $exclude );
		if ( ! empty( $expages ) ) {
			$exclusions = ' AND ID NOT IN (' . implode( ',', $expages ) . ')';
		}
	}

	$author_query = '';
	if ( ! empty( $parsed_args['authors'] ) ) {
		$post_authors = wp_parse_list( $parsed_args['authors'] );

		if ( ! empty( $post_authors ) ) {
			foreach ( $post_authors as $post_author ) {
				// Do we have an author id or an author login?
				if ( 0 == (int) $post_author ) {
					$post_author = get_user_by( 'login', $post_author );
					if ( empty( $post_author ) ) {
						continue;
					}
					if ( empty( $post_author-&gt;ID ) ) {
						continue;
					}
					$post_author = $post_author-&gt;ID;
				}

				if ( '' === $author_query ) {
					$author_query = $wpdb-&gt;prepare( ' post_author = %d ', $post_author );
				} else {
					$author_query .= $wpdb-&gt;prepare( ' OR post_author = %d ', $post_author );
				}
			}
			if ( '' !== $author_query ) {
				$author_query = " AND ($author_query)";
			}
		}
	}

	$join  = '';
	$where = "$exclusions $inclusions ";
	if ( '' !== $meta_key || '' !== $meta_value ) {
		$join = " LEFT JOIN $wpdb-&gt;postmeta ON ( $wpdb-&gt;posts.ID = $wpdb-&gt;postmeta.post_id )";

		// meta_key and meta_value might be slashed.
		$meta_key   = wp_unslash( $meta_key );
		$meta_value = wp_unslash( $meta_value );
		if ( '' !== $meta_key ) {
			$where .= $wpdb-&gt;prepare( " AND $wpdb-&gt;postmeta.meta_key = %s", $meta_key );
		}
		if ( '' !== $meta_value ) {
			$where .= $wpdb-&gt;prepare( " AND $wpdb-&gt;postmeta.meta_value = %s", $meta_value );
		}
	}

	if ( is_array( $parent ) ) {
		$post_parent__in = implode( ',', array_map( 'absint', (array) $parent ) );
		if ( ! empty( $post_parent__in ) ) {
			$where .= " AND post_parent IN ($post_parent__in)";
		}
	} elseif ( $parent &gt;= 0 ) {
		$where .= $wpdb-&gt;prepare( ' AND post_parent = %d ', $parent );
	}

	if ( 1 === count( $post_status ) ) {
		$where_post_type = $wpdb-&gt;prepare( 'post_type = %s AND post_status = %s', $parsed_args['post_type'], reset( $post_status ) );
	} else {
		$post_status     = implode( "', '", $post_status );
		$where_post_type = $wpdb-&gt;prepare( "post_type = %s AND post_status IN ('$post_status')", $parsed_args['post_type'] );
	}

	$orderby_array = array();
	$allowed_keys  = array(
		'author',
		'post_author',
		'date',
		'post_date',
		'title',
		'post_title',
		'name',
		'post_name',
		'modified',
		'post_modified',
		'modified_gmt',
		'post_modified_gmt',
		'menu_order',
		'parent',
		'post_parent',
		'ID',
		'rand',
		'comment_count',
	);

	foreach ( explode( ',', $parsed_args['sort_column'] ) as $orderby ) {
		$orderby = trim( $orderby );
		if ( ! in_array( $orderby, $allowed_keys, true ) ) {
			continue;
		}

		switch ( $orderby ) {
			case 'menu_order':
				break;
			case 'ID':
				$orderby = "$wpdb-&gt;posts.ID";
				break;
			case 'rand':
				$orderby = 'RAND()';
				break;
			case 'comment_count':
				$orderby = "$wpdb-&gt;posts.comment_count";
				break;
			default:
				if ( 0 === strpos( $orderby, 'post_' ) ) {
					$orderby = "$wpdb-&gt;posts." . $orderby;
				} else {
					$orderby = "$wpdb-&gt;posts.post_" . $orderby;
				}
		}

		$orderby_array[] = $orderby;

	}
	$sort_column = ! empty( $orderby_array ) ? implode( ',', $orderby_array ) : "$wpdb-&gt;posts.post_title";

	$sort_order = strtoupper( $parsed_args['sort_order'] );
	if ( '' !== $sort_order &amp;&amp; ! in_array( $sort_order, array( 'ASC', 'DESC' ), true ) ) {
		$sort_order = 'ASC';
	}

	$query  = "SELECT * FROM $wpdb-&gt;posts $join WHERE ($where_post_type) $where ";
	$query .= $author_query;
	$query .= ' ORDER BY ' . $sort_column . ' ' . $sort_order;

	if ( ! empty( $number ) ) {
		$query .= ' LIMIT ' . $offset . ',' . $number;
	}

	$pages = $wpdb-&gt;get_results( $query );

	if ( empty( $pages ) ) {
		wp_cache_set( $cache_key, array(), 'posts' );

		/** This filter is documented in wp-includes/post.php */
		$pages = apply_filters( 'get_pages', array(), $parsed_args );

		return $pages;
	}

	// Sanitize before caching so it'll only get done once.
	$num_pages = count( $pages );
	for ( $i = 0; $i &lt; $num_pages; $i++ ) {
		$pages[ $i ] = sanitize_post( $pages[ $i ], 'raw' );
	}

	// Update cache.
	update_post_cache( $pages );

	if ( $child_of || $hierarchical ) {
		$pages = get_page_children( $child_of, $pages );
	}

	if ( ! empty( $parsed_args['exclude_tree'] ) ) {
		$exclude = wp_parse_id_list( $parsed_args['exclude_tree'] );
		foreach ( $exclude as $id ) {
			$children = get_page_children( $id, $pages );
			foreach ( $children as $child ) {
				$exclude[] = $child-&gt;ID;
			}
		}

		$num_pages = count( $pages );
		for ( $i = 0; $i &lt; $num_pages; $i++ ) {
			if ( in_array( $pages[ $i ]-&gt;ID, $exclude, true ) ) {
				unset( $pages[ $i ] );
			}
		}
	}

	$page_structure = array();
	foreach ( $pages as $page ) {
		$page_structure[] = $page-&gt;ID;
	}

	wp_cache_set( $cache_key, $page_structure, 'posts' );

	// Convert to WP_Post instances.
	$pages = array_map( 'get_post', $pages );

	/**
	 * Filters the retrieved list of pages.
	 *
	 * @since 2.1.0
	 *
	 * @param WP_Post[] $pages       Array of page objects.
	 * @param array     $parsed_args Array of get_pages() arguments.
	 */
	return apply_filters( 'get_pages', $pages, $parsed_args );
}</pre>  </section>  <section> <h2 id="related">Related</h2> <article class="uses"> <h3 id="uses">Uses</h3> <table id="uses-table">  <thead> <tr> <th>Uses</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-includes/functions.php:</span> <a href="wp_parse_list">wp_parse_list()</a> </td> <td class="related-desc"> <p>Converts a comma- or space-separated list of scalar values to an array.</p> </td> </tr> <tr> <td> <span>wp-includes/functions.php:</span> <a href="wp_cache_get_last_changed">wp_cache_get_last_changed()</a> </td> <td class="related-desc"> <p>Gets last changed date for the specified cache group.</p> </td> </tr> <tr> <td> <span>wp-includes/cache.php:</span> <a href="wp_cache_get">wp_cache_get()</a> </td> <td class="related-desc"> <p>Retrieves the cache contents from the cache by key and group.</p> </td> </tr> <tr> <td> <span>wp-includes/cache.php:</span> <a href="wp_cache_set">wp_cache_set()</a> </td> <td class="related-desc"> <p>Saves the data to the cache.</p> </td> </tr> <tr> <td> <span>wp-includes/formatting.php:</span> <a href="wp_unslash">wp_unslash()</a> </td> <td class="related-desc"> <p>Removes slashes from a string or recursively removes slashes from strings within an array.</p> </td> </tr> <tr> <td> <span>wp-includes/pluggable.php:</span> <a href="get_user_by">get_user_by()</a> </td> <td class="related-desc"> <p>Retrieve user info by a given field</p> </td> </tr> <tr> <td> <span>wp-includes/functions.php:</span> <a href="wp_parse_args">wp_parse_args()</a> </td> <td class="related-desc"> <p>Merges user defined arguments into defaults array.</p> </td> </tr> <tr> <td> <span>wp-includes/functions.php:</span> <a href="wp_array_slice_assoc">wp_array_slice_assoc()</a> </td> <td class="related-desc"> <p>Extract a slice of an array, given a list of keys.</p> </td> </tr> <tr> <td> <span>wp-includes/functions.php:</span> <a href="wp_parse_id_list">wp_parse_id_list()</a> </td> <td class="related-desc"> <p>Cleans up an array, comma- or space-separated list of IDs.</p> </td> </tr> <tr> <td> <span>wp-includes/plugin.php:</span> <a href="apply_filters">apply_filters()</a> </td> <td class="related-desc"> <p>Calls the callback functions that have been added to a filter hook.</p> </td> </tr> <tr> <td> <span>wp-includes/post.php:</span> <a href="_prime_post_caches">_prime_post_caches()</a> </td> <td class="related-desc"> <p>Adds any posts from the given IDs to the cache that do not already exist in cache.</p> </td> </tr> <tr> <td> <span>wp-includes/post.php:</span> <a href="update_post_cache">update_post_cache()</a> </td> <td class="related-desc"> <p>Updates posts in cache.</p> </td> </tr> <tr> <td> <span>wp-includes/post.php:</span> <a href="get_page_children">get_page_children()</a> </td> <td class="related-desc"> <p>Identify descendants of a given page ID in a list of page objects.</p> </td> </tr> <tr> <td> <span>wp-includes/post.php:</span> <a href="../hooks/get_pages">get_pages</a> </td> <td class="related-desc"> <p>Filters the retrieved list of pages.</p> </td> </tr> <tr> <td> <span>wp-includes/post.php:</span> <a href="sanitize_post">sanitize_post()</a> </td> <td class="related-desc"> <p>Sanitizes every post field.</p> </td> </tr> <tr> <td> <span>wp-includes/post.php:</span> <a href="get_post_types">get_post_types()</a> </td> <td class="related-desc"> <p>Get a list of all registered post type objects.</p> </td> </tr> <tr> <td> <span>wp-includes/post.php:</span> <a href="get_post_stati">get_post_stati()</a> </td> <td class="related-desc"> <p>Get a list of post statuses.</p> </td> </tr> <tr> <td> <span>wp-includes/wp-db.php:</span> <a href="../classes/wpdb/get_results">wpdb::get_results()</a> </td> <td class="related-desc"> <p>Retrieves an entire SQL result set from the database (i.e., many rows).</p> </td> </tr> <tr> <td> <span>wp-includes/wp-db.php:</span> <a href="../classes/wpdb/prepare">wpdb::prepare()</a> </td> <td class="related-desc"> <p>Prepares a SQL query for safe execution.</p> </td> </tr> </tbody>

</table>   </article>  <article class="used-by"> <h3 id="used-by">Used By</h3> <table id="used-by-table">  <thead> <tr> <th>Used By</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-includes/class-wp-customize-manager.php:</span> <a href="../classes/wp_customize_manager/has_published_pages">WP_Customize_Manager::has_published_pages()</a> </td> <td class="related-desc"> <p>Returns whether there are published pages.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/class-wp-posts-list-table.php:</span> <a href="../classes/wp_posts_list_table/_display_rows_hierarchical">WP_Posts_List_Table::_display_rows_hierarchical()</a> </td> <td class="related-desc"> </td> </tr> <tr> <td> <span>wp-includes/post-template.php:</span> <a href="wp_dropdown_pages">wp_dropdown_pages()</a> </td> <td class="related-desc"> <p>Retrieves or displays a list of pages as a dropdown (select list).</p> </td> </tr> <tr> <td> <span>wp-includes/post-template.php:</span> <a href="wp_list_pages">wp_list_pages()</a> </td> <td class="related-desc"> <p>Retrieves or displays a list of pages (or hierarchical post type items) in list (li) format.</p> </td> </tr> <tr> <td> <span>wp-includes/post-template.php:</span> <a href="get_body_class">get_body_class()</a> </td> <td class="related-desc"> <p>Retrieves an array of the class names for the body element.</p> </td> </tr> </tbody>

</table> </article> </section>  <section> <h2 id="changelog">Changelog</h2> <table>  <thead> <tr> <th class="changelog-version">Version</th> <th class="changelog-desc">Description</th> </tr> </thead> <tbody> <tr> <td><a href="https://developer.wordpress.org/reference/since/1.5.0/" alt="WordPress 1.5.0">1.5.0</a></td> <td>Introduced.</td> </tr> </tbody> </table> </section>    </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.wordpress.org/reference/functions/get_pages" class="_attribution-link" target="_blank">https://developer.wordpress.org/reference/functions/get_pages</a>
  </p>
</div>
