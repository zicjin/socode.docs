<h1>wp_kses_bad_protocol( string $string, string[] $allowed_protocols )</h1>  <section> <p>Sanitizes a string and removed disallowed URL protocols.</p> </section> <div class="content-toc">  <section> <h2 id="description">Description</h2> <p>This function removes all non-allowed protocols from the beginning of the string. It ignores whitespace and the case of the letters, and it does understand HTML entities. It does its work recursively, so it wonâ€™t be fooled by a string like <code>javascript:javascript:alert(57)</code>.</p> </section>  <section> <h2 id="parameters">Parameters</h2> <dl> <dt>$string</dt> <dd> <p class="desc"> <span class="type">(<span class="string">string</span>)</span> <span class="required">(Required)</span> <span class="description">Content to filter bad protocols from.</span> </p> </dd> <dt>$allowed_protocols</dt> <dd> <p class="desc"> <span class="type">(<span class="string[]">string[]</span>)</span> <span class="required">(Required)</span> <span class="description">Array of allowed URL protocols.</span> </p> </dd> </dl> </section>  <section> <h2 id="return">Return</h2> <p><span class="return-type">(string)</span> Filtered content.</p> </section>  <section> <h2 id="source">Source</h2> <p> File: <a href="https://developer.wordpress.org/reference/files/wp-includes/kses.php/">wp-includes/kses.php</a> </p> <pre data-language="php">function wp_kses_bad_protocol( $string, $allowed_protocols ) {
	$string     = wp_kses_no_null( $string );
	$iterations = 0;

	do {
		$original_string = $string;
		$string          = wp_kses_bad_protocol_once( $string, $allowed_protocols );
	} while ( $original_string != $string &amp;&amp; ++$iterations &lt; 6 );

	if ( $original_string != $string ) {
		return '';
	}

	return $string;
}</pre>  </section>  <section> <h2 id="related">Related</h2> <article class="uses"> <h3 id="uses">Uses</h3> <table id="uses-table">  <thead> <tr> <th>Uses</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-includes/kses.php:</span> <a href="wp_kses_no_null">wp_kses_no_null()</a> </td> <td class="related-desc"> <p>Removes any invalid control characters in a text string.</p> </td> </tr> <tr> <td> <span>wp-includes/kses.php:</span> <a href="wp_kses_bad_protocol_once">wp_kses_bad_protocol_once()</a> </td> <td class="related-desc"> <p>Sanitizes content from bad protocols and other characters.</p> </td> </tr> </tbody>

</table> </article> <article class="used-by"> <h3 id="used-by">Used By</h3> <table id="used-by-table">  <thead> <tr> <th>Used By</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-includes/kses.php:</span> <a href="wp_kses_one_attr">wp_kses_one_attr()</a> </td> <td class="related-desc"> <p>Filters one HTML attribute and ensures its value is allowed.</p> </td> </tr> <tr> <td> <span>wp-includes/formatting.php:</span> <a href="esc_url">esc_url()</a> </td> <td class="related-desc"> <p>Checks and cleans a URL.</p> </td> </tr> <tr> <td> <span>wp-includes/kses.php:</span> <a href="safecss_filter_attr">safecss_filter_attr()</a> </td> <td class="related-desc"> <p>Filters an inline style attribute and removes disallowed rules.</p> </td> </tr> <tr> <td> <span>wp-includes/kses.php:</span> <a href="wp_kses_hair">wp_kses_hair()</a> </td> <td class="related-desc"> <p>Builds an attribute list from string containing attributes.</p> </td> </tr> <tr> <td> <span>wp-includes/class-wp-http.php:</span> <a href="../classes/wp_http/request">WP_Http::request()</a> </td> <td class="related-desc"> <p>Send an HTTP request to a URI.</p> </td> </tr> <tr> <td> <span>wp-includes/http.php:</span> <a href="wp_http_validate_url">wp_http_validate_url()</a> </td> <td class="related-desc"> <p>Validate a URL for safe use in the HTTP API.</p> </td> </tr> </tbody>

</table>   </article> </section>  <section> <h2 id="changelog">Changelog</h2> <table>  <thead> <tr> <th class="changelog-version">Version</th> <th class="changelog-desc">Description</th> </tr> </thead> <tbody> <tr> <td><a href="https://developer.wordpress.org/reference/since/1.0.0/" alt="WordPress 1.0.0">1.0.0</a></td> <td>Introduced.</td> </tr> </tbody> </table> </section>    </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.wordpress.org/reference/functions/wp_kses_bad_protocol" class="_attribution-link" target="_blank">https://developer.wordpress.org/reference/functions/wp_kses_bad_protocol</a>
  </p>
</div>
