<h1>wp_set_current_user( int|null $id, string $name = '' )</h1>  <section> <p>Changes the current user by ID or name.</p> </section> <div class="content-toc">  <section> <h2 id="description">Description</h2> <p>Set $id to null and specify a name if you do not know a user’s ID.</p> <p>Some WordPress functionality is based on the current user and not based on the signed in user. Therefore, it opens the ability to edit and perform actions on users who aren’t signed in.</p> </section>  <section> <h2 id="parameters">Parameters</h2> <dl> <dt>$id</dt> <dd> <p class="desc"> <span class="type">(<span class="int">int</span>|<span class="null">null</span>)</span> <span class="required">(Required)</span> <span class="description">User ID.</span> </p> </dd> <dt>$name</dt> <dd> <p class="desc"> <span class="type">(<span class="string">string</span>)</span> <span class="required">(Optional)</span> <span class="description">User's username.</span> </p> <p class="default">Default value: ''</p> </dd> </dl> </section>  <section> <h2 id="return">Return</h2> <p><span class="return-type">(<a href="../classes/wp_user">WP_User</a>)</span> Current user User object.</p> </section>  <section> <h2 id="more-information">More Information</h2> <p>This function can be replaced via plugins. If plugins do not redefine these functions, then this will be used instead.</p> </section>  <section> <h2 id="source">Source</h2> <p> File: <a href="https://developer.wordpress.org/reference/files/wp-includes/pluggable.php/">wp-includes/pluggable.php</a> </p> <pre data-language="php">function wp_set_current_user( $id, $name = '' ) {
		global $current_user;

		// If `$id` matches the current user, there is nothing to do.
		if ( isset( $current_user )
		&amp;&amp; ( $current_user instanceof WP_User )
		&amp;&amp; ( $id == $current_user-&gt;ID )
		&amp;&amp; ( null !== $id )
		) {
			return $current_user;
		}

		$current_user = new WP_User( $id, $name );

		setup_userdata( $current_user-&gt;ID );

		/**
		 * Fires after the current user is set.
		 *
		 * @since 2.0.1
		 */
		do_action( 'set_current_user' );

		return $current_user;
	}</pre>  </section>  <section> <h2 id="related">Related</h2> <article class="uses"> <h3 id="uses">Uses</h3> <table id="uses-table">  <thead> <tr> <th>Uses</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-includes/class-wp-user.php:</span> <a href="../classes/wp_user/__construct">WP_User::__construct()</a> </td> <td class="related-desc"> <p>Constructor.</p> </td> </tr> <tr> <td> <span>wp-includes/pluggable.php:</span> <a href="../hooks/set_current_user">set_current_user</a> </td> <td class="related-desc"> <p>Fires after the current user is set.</p> </td> </tr> <tr> <td> <span>wp-includes/plugin.php:</span> <a href="do_action">do_action()</a> </td> <td class="related-desc"> <p>Calls the callback functions that have been added to an action hook.</p> </td> </tr> <tr> <td> <span>wp-includes/user.php:</span> <a href="setup_userdata">setup_userdata()</a> </td> <td class="related-desc"> <p>Sets up global user vars.</p> </td> </tr> </tbody>

</table> </article> <article class="used-by"> <h3 id="used-by">Used By</h3> <table id="used-by-table">  <thead> <tr> <th>Used By</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-includes/class-wp-customize-manager.php:</span> <a href="../classes/wp_customize_manager/_publish_changeset_values">WP_Customize_Manager::_publish_changeset_values()</a> </td> <td class="related-desc"> <p>Publishes the values of a changeset.</p> </td> </tr> <tr> <td> <span>wp-includes/user.php:</span> <a href="_wp_get_current_user">_wp_get_current_user()</a> </td> <td class="related-desc"> <p>Retrieves the current user object.</p> </td> </tr> <tr> <td> <span>wp-includes/rest-api.php:</span> <a href="rest_cookie_check_errors">rest_cookie_check_errors()</a> </td> <td class="related-desc"> <p>Checks for errors when using cookie-based authentication.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/class-wp-importer.php:</span> <a href="../classes/wp_importer/set_user">WP_Importer::set_user()</a> </td> <td class="related-desc"> </td> </tr> <tr> <td> <span>wp-includes/pluggable.php:</span> <a href="wp_logout">wp_logout()</a> </td> <td class="related-desc"> <p>Log the current user out.</p> </td> </tr> <tr> <td> <span>wp-includes/user.php:</span> <a href="clean_user_cache">clean_user_cache()</a> </td> <td class="related-desc"> <p>Cleans all user caches.</p> </td> </tr> <tr> <td> <span>wp-includes/pluggable-deprecated.php:</span> <a href="set_current_user">set_current_user()</a> </td> <td class="related-desc"> <p>Changes the current user by ID or name.</p> </td> </tr> <tr> <td> <span>wp-includes/class-wp-xmlrpc-server.php:</span> <a href="../classes/wp_xmlrpc_server/login">wp_xmlrpc_server::login()</a> </td> <td class="related-desc"> <p>Log user in.</p> </td> </tr> </tbody>

</table>   </article> </section>  <section> <h2 id="changelog">Changelog</h2> <table>  <thead> <tr> <th class="changelog-version">Version</th> <th class="changelog-desc">Description</th> </tr> </thead> <tbody> <tr> <td><a href="https://developer.wordpress.org/reference/since/2.0.3/" alt="WordPress 2.0.3">2.0.3</a></td> <td>Introduced.</td> </tr> </tbody> </table> </section>    </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.wordpress.org/reference/functions/wp_set_current_user" class="_attribution-link" target="_blank">https://developer.wordpress.org/reference/functions/wp_set_current_user</a>
  </p>
</div>
