<h1>wp_get_archives( string|array $args = '' )</h1>  <section> <p>Display archive links based on type and format.</p> </section> <div class="content-toc">  <section> <h2 id="description">Description</h2> <h3 id="see-also">See also</h3> <ul> <li><a href="get_archives_link">get_archives_link()</a></li> </ul> </section>  <section> <h2 id="parameters">Parameters</h2> <dl> <dt>$args</dt> <dd> <p class="desc"> <span class="type">(<span class="string">string</span>|<span class="array">array</span>)</span> <span class="required">(Optional)</span> <span class="description">Default archive links arguments. Optional. <ul class="param-hash">
<li>
<b>'type'</b><br><i><span class="type">(string)</span></i> Type of archive to retrieve. Accepts 'daily', 'weekly', 'monthly', 'yearly', 'postbypost', or 'alpha'. Both 'postbypost' and 'alpha' display the same archive link list as well as post titles instead of displaying dates. The difference between the two is that 'alpha' will order by post title and 'postbypost' will order by post date. Default 'monthly'.</li> <li>
<b>'limit'</b><br><i><span class="type">(string|int)</span></i> Number of links to limit the query to. Default empty (no limit).</li> <li>
<b>'format'</b><br><i><span class="type">(string)</span></i> Format each link should take using the $before and $after args. Accepts 'link' (<code>&lt;link&gt;</code> tag), 'option' (<code>&lt;option&gt;</code> tag), 'html' (<code>&lt;li&gt;</code> tag), or a custom format, which generates a link anchor with $before preceding and $after succeeding. Default 'html'.</li> <li>
<b>'before'</b><br><i><span class="type">(string)</span></i> Markup to prepend to the beginning of each link. </li> <li>
<b>'after'</b><br><i><span class="type">(string)</span></i> Markup to append to the end of each link. </li> <li>
<b>'show_post_count'</b><br><i><span class="type">(bool)</span></i> Whether to display the post count alongside the link. Default false.</li> <li>
<b>'echo'</b><br><i><span class="type">(bool|int)</span></i> Whether to echo or return the links list. Default 1|true to echo.</li> <li>
<b>'order'</b><br><i><span class="type">(string)</span></i> Whether to use ascending or descending order. Accepts 'ASC', or 'DESC'. Default 'DESC'.</li> <li>
<b>'post_type'</b><br><i><span class="type">(string)</span></i> Post type. Default 'post'.</li> <li>
<b>'year'</b><br><i><span class="type">(string)</span></i> Year. Default current year.</li> <li>
<b>'monthnum'</b><br><i><span class="type">(string)</span></i> Month number. Default current month number.</li> <li>
<b>'day'</b><br><i><span class="type">(string)</span></i> Day. Default current day.</li> <li>
<b>'w'</b><br><i><span class="type">(string)</span></i> Week. Default current week.</li> </ul> </span> </p> <p class="default">Default value: ''</p> </dd> </dl> </section>  <section> <h2 id="return">Return</h2> <p><span class="return-type">(void|string)</span> Void if 'echo' argument is true, archive links if 'echo' is false.</p> </section>  <section> <h2 id="source">Source</h2> <p> File: <a href="https://developer.wordpress.org/reference/files/wp-includes/general-template.php/">wp-includes/general-template.php</a> </p> <pre data-language="php">function wp_get_archives( $args = '' ) {
	global $wpdb, $wp_locale;

	$defaults = array(
		'type'            =&gt; 'monthly',
		'limit'           =&gt; '',
		'format'          =&gt; 'html',
		'before'          =&gt; '',
		'after'           =&gt; '',
		'show_post_count' =&gt; false,
		'echo'            =&gt; 1,
		'order'           =&gt; 'DESC',
		'post_type'       =&gt; 'post',
		'year'            =&gt; get_query_var( 'year' ),
		'monthnum'        =&gt; get_query_var( 'monthnum' ),
		'day'             =&gt; get_query_var( 'day' ),
		'w'               =&gt; get_query_var( 'w' ),
	);

	$parsed_args = wp_parse_args( $args, $defaults );

	$post_type_object = get_post_type_object( $parsed_args['post_type'] );
	if ( ! is_post_type_viewable( $post_type_object ) ) {
		return;
	}

	$parsed_args['post_type'] = $post_type_object-&gt;name;

	if ( '' === $parsed_args['type'] ) {
		$parsed_args['type'] = 'monthly';
	}

	if ( ! empty( $parsed_args['limit'] ) ) {
		$parsed_args['limit'] = absint( $parsed_args['limit'] );
		$parsed_args['limit'] = ' LIMIT ' . $parsed_args['limit'];
	}

	$order = strtoupper( $parsed_args['order'] );
	if ( 'ASC' !== $order ) {
		$order = 'DESC';
	}

	// This is what will separate dates on weekly archive links.
	$archive_week_separator = '&amp;#8211;';

	$sql_where = $wpdb-&gt;prepare( "WHERE post_type = %s AND post_status = 'publish'", $parsed_args['post_type'] );

	/**
	 * Filters the SQL WHERE clause for retrieving archives.
	 *
	 * @since 2.2.0
	 *
	 * @param string $sql_where   Portion of SQL query containing the WHERE clause.
	 * @param array  $parsed_args An array of default arguments.
	 */
	$where = apply_filters( 'getarchives_where', $sql_where, $parsed_args );

	/**
	 * Filters the SQL JOIN clause for retrieving archives.
	 *
	 * @since 2.2.0
	 *
	 * @param string $sql_join    Portion of SQL query containing JOIN clause.
	 * @param array  $parsed_args An array of default arguments.
	 */
	$join = apply_filters( 'getarchives_join', '', $parsed_args );

	$output = '';

	$last_changed = wp_cache_get_last_changed( 'posts' );

	$limit = $parsed_args['limit'];

	if ( 'monthly' === $parsed_args['type'] ) {
		$query   = "SELECT YEAR(post_date) AS `year`, MONTH(post_date) AS `month`, count(ID) as posts FROM $wpdb-&gt;posts $join $where GROUP BY YEAR(post_date), MONTH(post_date) ORDER BY post_date $order $limit";
		$key     = md5( $query );
		$key     = "wp_get_archives:$key:$last_changed";
		$results = wp_cache_get( $key, 'posts' );
		if ( ! $results ) {
			$results = $wpdb-&gt;get_results( $query );
			wp_cache_set( $key, $results, 'posts' );
		}
		if ( $results ) {
			$after = $parsed_args['after'];
			foreach ( (array) $results as $result ) {
				$url = get_month_link( $result-&gt;year, $result-&gt;month );
				if ( 'post' !== $parsed_args['post_type'] ) {
					$url = add_query_arg( 'post_type', $parsed_args['post_type'], $url );
				}
				/* translators: 1: Month name, 2: 4-digit year. */
				$text = sprintf( __( '%1$s %2$d' ), $wp_locale-&gt;get_month( $result-&gt;month ), $result-&gt;year );
				if ( $parsed_args['show_post_count'] ) {
					$parsed_args['after'] = '&amp;nbsp;(' . $result-&gt;posts . ')' . $after;
				}
				$selected = is_archive() &amp;&amp; (string) $parsed_args['year'] === $result-&gt;year &amp;&amp; (string) $parsed_args['monthnum'] === $result-&gt;month;
				$output  .= get_archives_link( $url, $text, $parsed_args['format'], $parsed_args['before'], $parsed_args['after'], $selected );
			}
		}
	} elseif ( 'yearly' === $parsed_args['type'] ) {
		$query   = "SELECT YEAR(post_date) AS `year`, count(ID) as posts FROM $wpdb-&gt;posts $join $where GROUP BY YEAR(post_date) ORDER BY post_date $order $limit";
		$key     = md5( $query );
		$key     = "wp_get_archives:$key:$last_changed";
		$results = wp_cache_get( $key, 'posts' );
		if ( ! $results ) {
			$results = $wpdb-&gt;get_results( $query );
			wp_cache_set( $key, $results, 'posts' );
		}
		if ( $results ) {
			$after = $parsed_args['after'];
			foreach ( (array) $results as $result ) {
				$url = get_year_link( $result-&gt;year );
				if ( 'post' !== $parsed_args['post_type'] ) {
					$url = add_query_arg( 'post_type', $parsed_args['post_type'], $url );
				}
				$text = sprintf( '%d', $result-&gt;year );
				if ( $parsed_args['show_post_count'] ) {
					$parsed_args['after'] = '&amp;nbsp;(' . $result-&gt;posts . ')' . $after;
				}
				$selected = is_archive() &amp;&amp; (string) $parsed_args['year'] === $result-&gt;year;
				$output  .= get_archives_link( $url, $text, $parsed_args['format'], $parsed_args['before'], $parsed_args['after'], $selected );
			}
		}
	} elseif ( 'daily' === $parsed_args['type'] ) {
		$query   = "SELECT YEAR(post_date) AS `year`, MONTH(post_date) AS `month`, DAYOFMONTH(post_date) AS `dayofmonth`, count(ID) as posts FROM $wpdb-&gt;posts $join $where GROUP BY YEAR(post_date), MONTH(post_date), DAYOFMONTH(post_date) ORDER BY post_date $order $limit";
		$key     = md5( $query );
		$key     = "wp_get_archives:$key:$last_changed";
		$results = wp_cache_get( $key, 'posts' );
		if ( ! $results ) {
			$results = $wpdb-&gt;get_results( $query );
			wp_cache_set( $key, $results, 'posts' );
		}
		if ( $results ) {
			$after = $parsed_args['after'];
			foreach ( (array) $results as $result ) {
				$url = get_day_link( $result-&gt;year, $result-&gt;month, $result-&gt;dayofmonth );
				if ( 'post' !== $parsed_args['post_type'] ) {
					$url = add_query_arg( 'post_type', $parsed_args['post_type'], $url );
				}
				$date = sprintf( '%1$d-%2$02d-%3$02d 00:00:00', $result-&gt;year, $result-&gt;month, $result-&gt;dayofmonth );
				$text = mysql2date( get_option( 'date_format' ), $date );
				if ( $parsed_args['show_post_count'] ) {
					$parsed_args['after'] = '&amp;nbsp;(' . $result-&gt;posts . ')' . $after;
				}
				$selected = is_archive() &amp;&amp; (string) $parsed_args['year'] === $result-&gt;year &amp;&amp; (string) $parsed_args['monthnum'] === $result-&gt;month &amp;&amp; (string) $parsed_args['day'] === $result-&gt;dayofmonth;
				$output  .= get_archives_link( $url, $text, $parsed_args['format'], $parsed_args['before'], $parsed_args['after'], $selected );
			}
		}
	} elseif ( 'weekly' === $parsed_args['type'] ) {
		$week    = _wp_mysql_week( '`post_date`' );
		$query   = "SELECT DISTINCT $week AS `week`, YEAR( `post_date` ) AS `yr`, DATE_FORMAT( `post_date`, '%Y-%m-%d' ) AS `yyyymmdd`, count( `ID` ) AS `posts` FROM `$wpdb-&gt;posts` $join $where GROUP BY $week, YEAR( `post_date` ) ORDER BY `post_date` $order $limit";
		$key     = md5( $query );
		$key     = "wp_get_archives:$key:$last_changed";
		$results = wp_cache_get( $key, 'posts' );
		if ( ! $results ) {
			$results = $wpdb-&gt;get_results( $query );
			wp_cache_set( $key, $results, 'posts' );
		}
		$arc_w_last = '';
		if ( $results ) {
			$after = $parsed_args['after'];
			foreach ( (array) $results as $result ) {
				if ( $result-&gt;week != $arc_w_last ) {
					$arc_year       = $result-&gt;yr;
					$arc_w_last     = $result-&gt;week;
					$arc_week       = get_weekstartend( $result-&gt;yyyymmdd, get_option( 'start_of_week' ) );
					$arc_week_start = date_i18n( get_option( 'date_format' ), $arc_week['start'] );
					$arc_week_end   = date_i18n( get_option( 'date_format' ), $arc_week['end'] );
					$url            = add_query_arg(
						array(
							'm' =&gt; $arc_year,
							'w' =&gt; $result-&gt;week,
						),
						home_url( '/' )
					);
					if ( 'post' !== $parsed_args['post_type'] ) {
						$url = add_query_arg( 'post_type', $parsed_args['post_type'], $url );
					}
					$text = $arc_week_start . $archive_week_separator . $arc_week_end;
					if ( $parsed_args['show_post_count'] ) {
						$parsed_args['after'] = '&amp;nbsp;(' . $result-&gt;posts . ')' . $after;
					}
					$selected = is_archive() &amp;&amp; (string) $parsed_args['year'] === $result-&gt;yr &amp;&amp; (string) $parsed_args['w'] === $result-&gt;week;
					$output  .= get_archives_link( $url, $text, $parsed_args['format'], $parsed_args['before'], $parsed_args['after'], $selected );
				}
			}
		}
	} elseif ( ( 'postbypost' === $parsed_args['type'] ) || ( 'alpha' === $parsed_args['type'] ) ) {
		$orderby = ( 'alpha' === $parsed_args['type'] ) ? 'post_title ASC ' : 'post_date DESC, ID DESC ';
		$query   = "SELECT * FROM $wpdb-&gt;posts $join $where ORDER BY $orderby $limit";
		$key     = md5( $query );
		$key     = "wp_get_archives:$key:$last_changed";
		$results = wp_cache_get( $key, 'posts' );
		if ( ! $results ) {
			$results = $wpdb-&gt;get_results( $query );
			wp_cache_set( $key, $results, 'posts' );
		}
		if ( $results ) {
			foreach ( (array) $results as $result ) {
				if ( '0000-00-00 00:00:00' !== $result-&gt;post_date ) {
					$url = get_permalink( $result );
					if ( $result-&gt;post_title ) {
						/** This filter is documented in wp-includes/post-template.php */
						$text = strip_tags( apply_filters( 'the_title', $result-&gt;post_title, $result-&gt;ID ) );
					} else {
						$text = $result-&gt;ID;
					}
					$selected = get_the_ID() === $result-&gt;ID;
					$output  .= get_archives_link( $url, $text, $parsed_args['format'], $parsed_args['before'], $parsed_args['after'], $selected );
				}
			}
		}
	}

	if ( $parsed_args['echo'] ) {
		echo $output;
	} else {
		return $output;
	}
}</pre>  </section>  <section> <h2 id="related">Related</h2> <article class="uses"> <h3 id="uses">Uses</h3> <table id="uses-table">  <thead> <tr> <th>Uses</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-includes/functions.php:</span> <a href="wp_cache_get_last_changed">wp_cache_get_last_changed()</a> </td> <td class="related-desc"> <p>Gets last changed date for the specified cache group.</p> </td> </tr> <tr> <td> <span>wp-includes/post.php:</span> <a href="is_post_type_viewable">is_post_type_viewable()</a> </td> <td class="related-desc"> <p>Determines whether a post type is considered “viewable”.</p> </td> </tr> <tr> <td> <span>wp-includes/cache.php:</span> <a href="wp_cache_get">wp_cache_get()</a> </td> <td class="related-desc"> <p>Retrieves the cache contents from the cache by key and group.</p> </td> </tr> <tr> <td> <span>wp-includes/cache.php:</span> <a href="wp_cache_set">wp_cache_set()</a> </td> <td class="related-desc"> <p>Saves the data to the cache.</p> </td> </tr> <tr> <td> <span>wp-includes/l10n.php:</span> <a href="__">__()</a> </td> <td class="related-desc"> <p>Retrieve the translation of $text.</p> </td> </tr> <tr> <td> <span>wp-includes/general-template.php:</span> <a href="get_archives_link">get_archives_link()</a> </td> <td class="related-desc"> <p>Retrieve archive link content based on predefined or custom code.</p> </td> </tr> <tr> <td> <span>wp-includes/general-template.php:</span> <a href="../hooks/getarchives_where">getarchives_where</a> </td> <td class="related-desc"> <p>Filters the SQL WHERE clause for retrieving archives.</p> </td> </tr> <tr> <td> <span>wp-includes/general-template.php:</span> <a href="../hooks/getarchives_join">getarchives_join</a> </td> <td class="related-desc"> <p>Filters the SQL JOIN clause for retrieving archives.</p> </td> </tr> <tr> <td> <span>wp-includes/query.php:</span> <a href="get_query_var">get_query_var()</a> </td> <td class="related-desc"> <p>Retrieves the value of a query variable in the <a href="../classes/wp_query">WP_Query</a> class.</p> </td> </tr> <tr> <td> <span>wp-includes/query.php:</span> <a href="is_archive">is_archive()</a> </td> <td class="related-desc"> <p>Determines whether the query is for an existing archive page.</p> </td> </tr> <tr> <td> <span>wp-includes/functions.php:</span> <a href="wp_parse_args">wp_parse_args()</a> </td> <td class="related-desc"> <p>Merges user defined arguments into defaults array.</p> </td> </tr> <tr> <td> <span>wp-includes/functions.php:</span> <a href="absint">absint()</a> </td> <td class="related-desc"> <p>Convert a value to non-negative integer.</p> </td> </tr> <tr> <td> <span>wp-includes/functions.php:</span> <a href="add_query_arg">add_query_arg()</a> </td> <td class="related-desc"> <p>Retrieves a modified URL query string.</p> </td> </tr> <tr> <td> <span>wp-includes/functions.php:</span> <a href="get_weekstartend">get_weekstartend()</a> </td> <td class="related-desc"> <p>Get the week start and end from the datetime or date string from MySQL.</p> </td> </tr> <tr> <td> <span>wp-includes/functions.php:</span> <a href="date_i18n">date_i18n()</a> </td> <td class="related-desc"> <p>Retrieves the date in localized format, based on a sum of Unix timestamp and timezone offset in seconds.</p> </td> </tr> <tr> <td> <span>wp-includes/functions.php:</span> <a href="mysql2date">mysql2date()</a> </td> <td class="related-desc"> <p>Convert given MySQL date string into a different format.</p> </td> </tr> <tr> <td> <span>wp-includes/class-wp-locale.php:</span> <a href="../classes/wp_locale/get_month">WP_Locale::get_month()</a> </td> <td class="related-desc"> <p>Retrieves the full translated month by month number.</p> </td> </tr> <tr> <td> <span>wp-includes/link-template.php:</span> <a href="home_url">home_url()</a> </td> <td class="related-desc"> <p>Retrieves the URL for the current site where the front end is accessible.</p> </td> </tr> <tr> <td> <span>wp-includes/link-template.php:</span> <a href="get_month_link">get_month_link()</a> </td> <td class="related-desc"> <p>Retrieves the permalink for the month archives with year.</p> </td> </tr> <tr> <td> <span>wp-includes/link-template.php:</span> <a href="get_day_link">get_day_link()</a> </td> <td class="related-desc"> <p>Retrieves the permalink for the day archives with year and month.</p> </td> </tr> <tr> <td> <span>wp-includes/link-template.php:</span> <a href="get_year_link">get_year_link()</a> </td> <td class="related-desc"> <p>Retrieves the permalink for the year archives.</p> </td> </tr> <tr> <td> <span>wp-includes/link-template.php:</span> <a href="get_permalink">get_permalink()</a> </td> <td class="related-desc"> <p>Retrieves the full permalink for the current post or post ID.</p> </td> </tr> <tr> <td> <span>wp-includes/plugin.php:</span> <a href="apply_filters">apply_filters()</a> </td> <td class="related-desc"> <p>Calls the callback functions that have been added to a filter hook.</p> </td> </tr> <tr> <td> <span>wp-includes/option.php:</span> <a href="get_option">get_option()</a> </td> <td class="related-desc"> <p>Retrieves an option value based on an option name.</p> </td> </tr> <tr> <td> <span>wp-includes/post-template.php:</span> <a href="get_the_id">get_the_ID()</a> </td> <td class="related-desc"> <p>Retrieves the ID of the current item in the WordPress Loop.</p> </td> </tr> <tr> <td> <span>wp-includes/post-template.php:</span> <a href="../hooks/the_title">the_title</a> </td> <td class="related-desc"> <p>Filters the post title.</p> </td> </tr> <tr> <td> <span>wp-includes/post.php:</span> <a href="get_post_type_object">get_post_type_object()</a> </td> <td class="related-desc"> <p>Retrieves a post type object by name.</p> </td> </tr> <tr> <td> <span>wp-includes/wp-db.php:</span> <a href="../classes/wpdb/get_results">wpdb::get_results()</a> </td> <td class="related-desc"> <p>Retrieves an entire SQL result set from the database (i.e., many rows).</p> </td> </tr> <tr> <td> <span>wp-includes/wp-db.php:</span> <a href="../classes/wpdb/prepare">wpdb::prepare()</a> </td> <td class="related-desc"> <p>Prepares a SQL query for safe execution.</p> </td> </tr> </tbody>

</table>   </article>  <article class="used-by"> <h3 id="used-by">Used By</h3> <table id="used-by-table">  <thead> <tr> <th>Used By</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-includes/deprecated.php:</span> <a href="get_archives">get_archives()</a> </td> <td class="related-desc"> <p>Retrieves a list of archives.</p> </td> </tr> <tr> <td> <span>wp-includes/widgets/class-wp-widget-archives.php:</span> <a href="../classes/wp_widget_archives/widget">WP_Widget_Archives::widget()</a> </td> <td class="related-desc"> <p>Outputs the content for the current Archives widget instance.</p> </td> </tr> </tbody>

</table> </article> </section>  <section> <h2 id="changelog">Changelog</h2> <table>  <thead> <tr> <th class="changelog-version">Version</th> <th class="changelog-desc">Description</th> </tr> </thead> <tbody> <tr> <td><a href="https://developer.wordpress.org/reference/since/5.2.0/" alt="WordPress 5.2.0">5.2.0</a></td> <td><span class="since-description">The <code>$year</code>, <code>$monthnum</code>, <code>$day</code>, and <code>$w</code> arguments were added.</span></td> </tr> <tr> <td><a href="https://developer.wordpress.org/reference/since/4.4.0/" alt="WordPress 4.4.0">4.4.0</a></td> <td><span class="since-description">The <code>$post_type</code> argument was added.</span></td> </tr> <tr> <td><a href="https://developer.wordpress.org/reference/since/1.2.0/" alt="WordPress 1.2.0">1.2.0</a></td> <td>Introduced.</td> </tr> </tbody> </table> </section>    </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.wordpress.org/reference/functions/wp_get_archives" class="_attribution-link" target="_blank">https://developer.wordpress.org/reference/functions/wp_get_archives</a>
  </p>
</div>
