<h1>has_block( string $block_name, int|string|WP_Post|null $post = null )</h1>  <section> <p>Determines whether a $post or a string contains a specific block type.</p> </section> <div class="content-toc">  <section> <h2 id="description">Description</h2> <p>This test optimizes for performance rather than strict accuracy, detecting whether the block type exists but not validating its structure and not checking reusable blocks. For strict accuracy, you should use the block parser on post content.</p> <h3 id="see-also">See also</h3> <ul> <li><a href="parse_blocks">parse_blocks()</a></li> </ul> </section>  <section> <h2 id="parameters">Parameters</h2> <dl> <dt>$block_name</dt> <dd> <p class="desc"> <span class="type">(<span class="string">string</span>)</span> <span class="required">(Required)</span> <span class="description">Full block type to look for.</span> </p> </dd> <dt>$post</dt> <dd> <p class="desc"> <span class="type">(<span class="int">int</span>|<span class="string">string</span>|<span class="WP_Post"><a href="../classes/wp_post">WP_Post</a></span>|<span class="null">null</span>)</span> <span class="required">(Optional)</span> <span class="description"> Post content, post ID, or post object. Defaults to global $post.</span> </p> <p class="default">Default value: null</p> </dd> </dl> </section>  <section> <h2 id="return">Return</h2> <p><span class="return-type">(bool)</span> Whether the post content contains the specified block.</p> </section>  <section> <h2 id="source">Source</h2> <p> File: <a href="https://developer.wordpress.org/reference/files/wp-includes/blocks.php/">wp-includes/blocks.php</a> </p> <pre data-language="php">function has_block( $block_name, $post = null ) {
	if ( ! has_blocks( $post ) ) {
		return false;
	}

	if ( ! is_string( $post ) ) {
		$wp_post = get_post( $post );
		if ( $wp_post instanceof WP_Post ) {
			$post = $wp_post-&gt;post_content;
		}
	}

	/*
	 * Normalize block name to include namespace, if provided as non-namespaced.
	 * This matches behavior for WordPress 5.0.0 - 5.3.0 in matching blocks by
	 * their serialized names.
	 */
	if ( false === strpos( $block_name, '/' ) ) {
		$block_name = 'core/' . $block_name;
	}

	// Test for existence of block by its fully qualified name.
	$has_block = false !== strpos( $post, '&lt;!-- wp:' . $block_name . ' ' );

	if ( ! $has_block ) {
		/*
		 * If the given block name would serialize to a different name, test for
		 * existence by the serialized form.
		 */
		$serialized_block_name = strip_core_block_namespace( $block_name );
		if ( $serialized_block_name !== $block_name ) {
			$has_block = false !== strpos( $post, '&lt;!-- wp:' . $serialized_block_name . ' ' );
		}
	}

	return $has_block;
}</pre>  </section>  <section> <h2 id="related">Related</h2> <article class="uses"> <h3 id="uses">Uses</h3> <table id="uses-table">  <thead> <tr> <th>Uses</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-includes/blocks.php:</span> <a href="strip_core_block_namespace">strip_core_block_namespace()</a> </td> <td class="related-desc"> <p>Returns the block name to use for serialization. This will remove the default “core/” namespace from a block name.</p> </td> </tr> <tr> <td> <span>wp-includes/blocks.php:</span> <a href="has_blocks">has_blocks()</a> </td> <td class="related-desc"> <p>Determines whether a post or content string has blocks.</p> </td> </tr> <tr> <td> <span>wp-includes/post.php:</span> <a href="get_post">get_post()</a> </td> <td class="related-desc"> <p>Retrieves post data given a post ID or post object.</p> </td> </tr> </tbody>

</table> </article> <article class="used-by"> <h3 id="used-by">Used By</h3> <table id="used-by-table">  <thead> <tr> <th>Used By</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-includes/post-template.php:</span> <a href="get_the_content">get_the_content()</a> </td> <td class="related-desc"> <p>Retrieves the post content.</p> </td> </tr> <tr> <td> <span>wp-includes/media.php:</span> <a href="get_post_galleries">get_post_galleries()</a> </td> <td class="related-desc"> <p>Retrieves galleries from the passed post’s content.</p> </td> </tr> </tbody>

</table> </article> </section>  <section> <h2 id="changelog">Changelog</h2> <table>  <thead> <tr> <th class="changelog-version">Version</th> <th class="changelog-desc">Description</th> </tr> </thead> <tbody> <tr> <td><a href="https://developer.wordpress.org/reference/since/5.0.0/" alt="WordPress 5.0.0">5.0.0</a></td> <td>Introduced.</td> </tr> </tbody> </table> </section>    </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.wordpress.org/reference/functions/has_block" class="_attribution-link" target="_blank">https://developer.wordpress.org/reference/functions/has_block</a>
  </p>
</div>
