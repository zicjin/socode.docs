<h1>wp_filter_comment( array $commentdata )</h1>  <section> <p>Filters and sanitizes comment data.</p> </section> <div class="content-toc">  <section> <h2 id="description">Description</h2> <p>Sets the comment data ‘filtered’ field to true when finished. This can be checked as to whether the comment should be filtered and to keep from filtering the same comment more than once.</p> </section>  <section> <h2 id="parameters">Parameters</h2> <dl> <dt>$commentdata</dt> <dd> <p class="desc"> <span class="type">(<span class="array">array</span>)</span> <span class="required">(Required)</span> <span class="description">Contains information on the comment.</span> </p> </dd> </dl> </section>  <section> <h2 id="return">Return</h2> <p><span class="return-type">(array)</span> Parsed comment information.</p> </section>  <section> <h2 id="source">Source</h2> <p> File: <a href="https://developer.wordpress.org/reference/files/wp-includes/comment.php/">wp-includes/comment.php</a> </p> <pre data-language="php">function wp_filter_comment( $commentdata ) {
	if ( isset( $commentdata['user_ID'] ) ) {
		/**
		 * Filters the comment author's user ID before it is set.
		 *
		 * The first time this filter is evaluated, 'user_ID' is checked
		 * (for back-compat), followed by the standard 'user_id' value.
		 *
		 * @since 1.5.0
		 *
		 * @param int $user_ID The comment author's user ID.
		 */
		$commentdata['user_id'] = apply_filters( 'pre_user_id', $commentdata['user_ID'] );
	} elseif ( isset( $commentdata['user_id'] ) ) {
		/** This filter is documented in wp-includes/comment.php */
		$commentdata['user_id'] = apply_filters( 'pre_user_id', $commentdata['user_id'] );
	}

	/**
	 * Filters the comment author's browser user agent before it is set.
	 *
	 * @since 1.5.0
	 *
	 * @param string $comment_agent The comment author's browser user agent.
	 */
	$commentdata['comment_agent'] = apply_filters( 'pre_comment_user_agent', ( isset( $commentdata['comment_agent'] ) ? $commentdata['comment_agent'] : '' ) );
	/** This filter is documented in wp-includes/comment.php */
	$commentdata['comment_author'] = apply_filters( 'pre_comment_author_name', $commentdata['comment_author'] );
	/**
	 * Filters the comment content before it is set.
	 *
	 * @since 1.5.0
	 *
	 * @param string $comment_content The comment content.
	 */
	$commentdata['comment_content'] = apply_filters( 'pre_comment_content', $commentdata['comment_content'] );
	/**
	 * Filters the comment author's IP address before it is set.
	 *
	 * @since 1.5.0
	 *
	 * @param string $comment_author_ip The comment author's IP address.
	 */
	$commentdata['comment_author_IP'] = apply_filters( 'pre_comment_user_ip', $commentdata['comment_author_IP'] );
	/** This filter is documented in wp-includes/comment.php */
	$commentdata['comment_author_url'] = apply_filters( 'pre_comment_author_url', $commentdata['comment_author_url'] );
	/** This filter is documented in wp-includes/comment.php */
	$commentdata['comment_author_email'] = apply_filters( 'pre_comment_author_email', $commentdata['comment_author_email'] );
	$commentdata['filtered']             = true;
	return $commentdata;
}</pre>  </section>  <section> <h2 id="related">Related</h2> <article class="uses"> <h3 id="uses">Uses</h3> <table id="uses-table">  <thead> <tr> <th>Uses</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-includes/plugin.php:</span> <a href="apply_filters">apply_filters()</a> </td> <td class="related-desc"> <p>Calls the callback functions that have been added to a filter hook.</p> </td> </tr> <tr> <td> <span>wp-includes/comment.php:</span> <a href="../hooks/pre_comment_user_ip">pre_comment_user_ip</a> </td> <td class="related-desc"> <p>Filters the comment author’s IP address before it is set.</p> </td> </tr> <tr> <td> <span>wp-includes/comment.php:</span> <a href="../hooks/pre_user_id">pre_user_id</a> </td> <td class="related-desc"> <p>Filters the comment author’s user ID before it is set.</p> </td> </tr> <tr> <td> <span>wp-includes/comment.php:</span> <a href="../hooks/pre_comment_user_agent">pre_comment_user_agent</a> </td> <td class="related-desc"> <p>Filters the comment author’s browser user agent before it is set.</p> </td> </tr> <tr> <td> <span>wp-includes/comment.php:</span> <a href="../hooks/pre_comment_content">pre_comment_content</a> </td> <td class="related-desc"> <p>Filters the comment content before it is set.</p> </td> </tr> <tr> <td> <span>wp-includes/comment.php:</span> <a href="../hooks/pre_comment_author_name">pre_comment_author_name</a> </td> <td class="related-desc"> <p>Filters the comment author’s name cookie before it is set.</p> </td> </tr> <tr> <td> <span>wp-includes/comment.php:</span> <a href="../hooks/pre_comment_author_url">pre_comment_author_url</a> </td> <td class="related-desc"> <p>Filters the comment author’s URL cookie before it is set.</p> </td> </tr> <tr> <td> <span>wp-includes/comment.php:</span> <a href="../hooks/pre_comment_author_email">pre_comment_author_email</a> </td> <td class="related-desc"> <p>Filters the comment author’s email cookie before it is set.</p> </td> </tr> </tbody>

</table>   </article>  <article class="used-by"> <h3 id="used-by">Used By</h3> <table id="used-by-table">  <thead> <tr> <th>Used By</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-includes/rest-api/endpoints/class-wp-rest-comments-controller.php:</span> <a href="../classes/wp_rest_comments_controller/create_item">WP_REST_Comments_Controller::create_item()</a> </td> <td class="related-desc"> <p>Creates a comment.</p> </td> </tr> <tr> <td> <span>wp-includes/comment.php:</span> <a href="wp_new_comment">wp_new_comment()</a> </td> <td class="related-desc"> <p>Adds a new comment to the database.</p> </td> </tr> <tr> <td> <span>wp-includes/comment.php:</span> <a href="wp_update_comment">wp_update_comment()</a> </td> <td class="related-desc"> <p>Updates an existing comment in the database.</p> </td> </tr> </tbody>

</table> </article> </section>  <section> <h2 id="changelog">Changelog</h2> <table>  <thead> <tr> <th class="changelog-version">Version</th> <th class="changelog-desc">Description</th> </tr> </thead> <tbody> <tr> <td><a href="https://developer.wordpress.org/reference/since/2.0.0/" alt="WordPress 2.0.0">2.0.0</a></td> <td>Introduced.</td> </tr> </tbody> </table> </section>    </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.wordpress.org/reference/functions/wp_filter_comment" class="_attribution-link" target="_blank">https://developer.wordpress.org/reference/functions/wp_filter_comment</a>
  </p>
</div>
