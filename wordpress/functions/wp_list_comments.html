<h1>wp_list_comments( string|array $args = array(), WP_Comment[] $comments = null )</h1>  <section> <p>Displays a list of comments.</p> </section> <div class="content-toc">  <section> <h2 id="description">Description</h2> <p>Used in the comments.php template to list comments for a particular post.</p> <h3 id="see-also">See also</h3> <ul> <li>
<a href="../classes/wp_query">WP_Query</a>-&gt;comments</li> </ul> </section>  <section> <h2 id="parameters">Parameters</h2> <dl> <dt>$args</dt> <dd> <p class="desc"> <span class="type">(<span class="string">string</span>|<span class="array">array</span>)</span> <span class="required">(Optional)</span> <span class="description">Formatting options. <ul class="param-hash">
<li>
<b>'walker'</b><br><i><span class="type">(object)</span></i> Instance of a <a href="../classes/walker">Walker</a> class to list comments. Default null.</li> <li>
<b>'max_depth'</b><br><i><span class="type">(int)</span></i> The maximum comments depth. </li> <li>
<b>'style'</b><br><i><span class="type">(string)</span></i> The style of list ordering. Accepts 'ul', 'ol', or 'div'. 'div' will result in no additional list markup. Default 'ul'.</li> <li>
<b>'callback'</b><br><i><span class="type">(callable)</span></i> Callback function to use. Default null.</li> <li>
<b>'end-callback'</b><br><i><span class="type">(callable)</span></i> Callback function to use at the end. Default null.</li> <li>
<b>'type'</b><br><i><span class="type">(string)</span></i> Type of comments to list. Accepts 'all', 'comment', 'pingback', 'trackback', 'pings'. Default 'all'.</li> <li>
<b>'page'</b><br><i><span class="type">(int)</span></i> Page ID to list comments for. </li> <li>
<b>'per_page'</b><br><i><span class="type">(int)</span></i> Number of comments to list per page. </li> <li>
<b>'avatar_size'</b><br><i><span class="type">(int)</span></i> Height and width dimensions of the avatar size. Default 32.</li> <li>
<b>'reverse_top_level'</b><br><i><span class="type">(bool)</span></i> Ordering of the listed comments. If true, will display newest comments first. Default null.</li> <li>
<b>'reverse_children'</b><br><i><span class="type">(bool)</span></i> Whether to reverse child comments in the list. Default null.</li> <li>
<b>'format'</b><br><i><span class="type">(string)</span></i> How to format the comments list. Accepts 'html5', 'xhtml'. Default 'html5' if the theme supports it.</li> <li>
<b>'short_ping'</b><br><i><span class="type">(bool)</span></i> Whether to output short pings. Default false.</li> <li>
<b>'echo'</b><br><i><span class="type">(bool)</span></i> Whether to echo the output or return it. Default true.</li> </ul> </span> </p> <p class="default">Default value: array()</p> </dd> <dt>$comments</dt> <dd> <p class="desc"> <span class="type">(<span class="WP_Comment[]"><a href="../classes/wp_comment">WP_Comment</a>[]</span>)</span> <span class="required">(Optional)</span> <span class="description"> Array of <a href="../classes/wp_comment">WP_Comment</a> objects.</span> </p> <p class="default">Default value: null</p> </dd> </dl> </section>  <section> <h2 id="return">Return</h2> <p><span class="return-type">(void|string)</span> Void if 'echo' argument is true, or no comments to list. Otherwise, HTML list of comments.</p> </section>  <section> <h2 id="more-information">More Information</h2> <p>Default options for $args</p> <section> <pre data-language="php">$args = array(
	'walker'            =&gt; null,
	'max_depth'         =&gt; '',
	'style'             =&gt; 'ul',
	'callback'          =&gt; null,
	'end-callback'      =&gt; null,
	'type'              =&gt; 'all',
	'page'              =&gt; '',
	'per_page'          =&gt; '',
	'avatar_size'       =&gt; 32,
	'reverse_top_level' =&gt; null,
	'reverse_children'  =&gt; '',
	'format'            =&gt; 'html5', // or 'xhtml' if no 'HTML5' theme support
	'short_ping'        =&gt; false,   // @since 3.6
	'echo'              =&gt; true     // boolean, default is true
);</pre>  </section> <p>The ‘<code>max_depth</code>‘, ‘<code>per_page</code>‘, and ‘<code>reverse_top_level</code>‘ parameters can be more easily controlled through the <a href="https://wordpress.org/support/article/settings-discussion-screen/">Discussion Settings</a> Administration Panel but a theme can override those settings.</p> </section>  <section> <h2 id="source">Source</h2> <p> File: <a href="https://developer.wordpress.org/reference/files/wp-includes/comment-template.php/">wp-includes/comment-template.php</a> </p> <pre data-language="php">function wp_list_comments( $args = array(), $comments = null ) {
	global $wp_query, $comment_alt, $comment_depth, $comment_thread_alt, $overridden_cpage, $in_comment_loop;

	$in_comment_loop = true;

	$comment_alt        = 0;
	$comment_thread_alt = 0;
	$comment_depth      = 1;

	$defaults = array(
		'walker'            =&gt; null,
		'max_depth'         =&gt; '',
		'style'             =&gt; 'ul',
		'callback'          =&gt; null,
		'end-callback'      =&gt; null,
		'type'              =&gt; 'all',
		'page'              =&gt; '',
		'per_page'          =&gt; '',
		'avatar_size'       =&gt; 32,
		'reverse_top_level' =&gt; null,
		'reverse_children'  =&gt; '',
		'format'            =&gt; current_theme_supports( 'html5', 'comment-list' ) ? 'html5' : 'xhtml',
		'short_ping'        =&gt; false,
		'echo'              =&gt; true,
	);

	$parsed_args = wp_parse_args( $args, $defaults );

	/**
	 * Filters the arguments used in retrieving the comment list.
	 *
	 * @since 4.0.0
	 *
	 * @see wp_list_comments()
	 *
	 * @param array $parsed_args An array of arguments for displaying comments.
	 */
	$parsed_args = apply_filters( 'wp_list_comments_args', $parsed_args );

	// Figure out what comments we'll be looping through ($_comments).
	if ( null !== $comments ) {
		$comments = (array) $comments;
		if ( empty( $comments ) ) {
			return;
		}
		if ( 'all' !== $parsed_args['type'] ) {
			$comments_by_type = separate_comments( $comments );
			if ( empty( $comments_by_type[ $parsed_args['type'] ] ) ) {
				return;
			}
			$_comments = $comments_by_type[ $parsed_args['type'] ];
		} else {
			$_comments = $comments;
		}
	} else {
		/*
		 * If 'page' or 'per_page' has been passed, and does not match what's in $wp_query,
		 * perform a separate comment query and allow Walker_Comment to paginate.
		 */
		if ( $parsed_args['page'] || $parsed_args['per_page'] ) {
			$current_cpage = get_query_var( 'cpage' );
			if ( ! $current_cpage ) {
				$current_cpage = 'newest' === get_option( 'default_comments_page' ) ? 1 : $wp_query-&gt;max_num_comment_pages;
			}

			$current_per_page = get_query_var( 'comments_per_page' );
			if ( $parsed_args['page'] != $current_cpage || $parsed_args['per_page'] != $current_per_page ) {
				$comment_args = array(
					'post_id' =&gt; get_the_ID(),
					'orderby' =&gt; 'comment_date_gmt',
					'order'   =&gt; 'ASC',
					'status'  =&gt; 'approve',
				);

				if ( is_user_logged_in() ) {
					$comment_args['include_unapproved'] = array( get_current_user_id() );
				} else {
					$unapproved_email = wp_get_unapproved_comment_author_email();

					if ( $unapproved_email ) {
						$comment_args['include_unapproved'] = array( $unapproved_email );
					}
				}

				$comments = get_comments( $comment_args );

				if ( 'all' !== $parsed_args['type'] ) {
					$comments_by_type = separate_comments( $comments );
					if ( empty( $comments_by_type[ $parsed_args['type'] ] ) ) {
						return;
					}

					$_comments = $comments_by_type[ $parsed_args['type'] ];
				} else {
					$_comments = $comments;
				}
			}

			// Otherwise, fall back on the comments from `$wp_query-&gt;comments`.
		} else {
			if ( empty( $wp_query-&gt;comments ) ) {
				return;
			}
			if ( 'all' !== $parsed_args['type'] ) {
				if ( empty( $wp_query-&gt;comments_by_type ) ) {
					$wp_query-&gt;comments_by_type = separate_comments( $wp_query-&gt;comments );
				}
				if ( empty( $wp_query-&gt;comments_by_type[ $parsed_args['type'] ] ) ) {
					return;
				}
				$_comments = $wp_query-&gt;comments_by_type[ $parsed_args['type'] ];
			} else {
				$_comments = $wp_query-&gt;comments;
			}

			if ( $wp_query-&gt;max_num_comment_pages ) {
				$default_comments_page = get_option( 'default_comments_page' );
				$cpage                 = get_query_var( 'cpage' );
				if ( 'newest' === $default_comments_page ) {
					$parsed_args['cpage'] = $cpage;

					/*
					* When first page shows oldest comments, post permalink is the same as
					* the comment permalink.
					*/
				} elseif ( 1 == $cpage ) {
					$parsed_args['cpage'] = '';
				} else {
					$parsed_args['cpage'] = $cpage;
				}

				$parsed_args['page']     = 0;
				$parsed_args['per_page'] = 0;
			}
		}
	}

	if ( '' === $parsed_args['per_page'] &amp;&amp; get_option( 'page_comments' ) ) {
		$parsed_args['per_page'] = get_query_var( 'comments_per_page' );
	}

	if ( empty( $parsed_args['per_page'] ) ) {
		$parsed_args['per_page'] = 0;
		$parsed_args['page']     = 0;
	}

	if ( '' === $parsed_args['max_depth'] ) {
		if ( get_option( 'thread_comments' ) ) {
			$parsed_args['max_depth'] = get_option( 'thread_comments_depth' );
		} else {
			$parsed_args['max_depth'] = -1;
		}
	}

	if ( '' === $parsed_args['page'] ) {
		if ( empty( $overridden_cpage ) ) {
			$parsed_args['page'] = get_query_var( 'cpage' );
		} else {
			$threaded            = ( -1 != $parsed_args['max_depth'] );
			$parsed_args['page'] = ( 'newest' === get_option( 'default_comments_page' ) ) ? get_comment_pages_count( $_comments, $parsed_args['per_page'], $threaded ) : 1;
			set_query_var( 'cpage', $parsed_args['page'] );
		}
	}
	// Validation check.
	$parsed_args['page'] = (int) $parsed_args['page'];
	if ( 0 == $parsed_args['page'] &amp;&amp; 0 != $parsed_args['per_page'] ) {
		$parsed_args['page'] = 1;
	}

	if ( null === $parsed_args['reverse_top_level'] ) {
		$parsed_args['reverse_top_level'] = ( 'desc' === get_option( 'comment_order' ) );
	}

	wp_queue_comments_for_comment_meta_lazyload( $_comments );

	if ( empty( $parsed_args['walker'] ) ) {
		$walker = new Walker_Comment;
	} else {
		$walker = $parsed_args['walker'];
	}

	$output = $walker-&gt;paged_walk( $_comments, $parsed_args['max_depth'], $parsed_args['page'], $parsed_args['per_page'], $parsed_args );

	$in_comment_loop = false;

	if ( $parsed_args['echo'] ) {
		echo $output;
	} else {
		return $output;
	}
}</pre>  </section>  <section> <h2 id="related">Related</h2> <article class="uses"> <h3 id="uses">Uses</h3> <table id="uses-table">  <thead> <tr> <th>Uses</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-includes/comment.php:</span> <a href="wp_get_unapproved_comment_author_email">wp_get_unapproved_comment_author_email()</a> </td> <td class="related-desc"> <p>Gets unapproved comment author’s email.</p> </td> </tr> <tr> <td> <span>wp-includes/comment.php:</span> <a href="wp_queue_comments_for_comment_meta_lazyload">wp_queue_comments_for_comment_meta_lazyload()</a> </td> <td class="related-desc"> <p>Queues comments for metadata lazy-loading.</p> </td> </tr> <tr> <td> <span>wp-includes/comment-template.php:</span> <a href="../hooks/wp_list_comments_args">wp_list_comments_args</a> </td> <td class="related-desc"> <p>Filters the arguments used in retrieving the comment list.</p> </td> </tr> <tr> <td> <span>wp-includes/theme.php:</span> <a href="current_theme_supports">current_theme_supports()</a> </td> <td class="related-desc"> <p>Checks a theme’s support for a given feature.</p> </td> </tr> <tr> <td> <span>wp-includes/pluggable.php:</span> <a href="is_user_logged_in">is_user_logged_in()</a> </td> <td class="related-desc"> <p>Determines whether the current visitor is a logged in user.</p> </td> </tr> <tr> <td> <span>wp-includes/query.php:</span> <a href="get_query_var">get_query_var()</a> </td> <td class="related-desc"> <p>Retrieves the value of a query variable in the <a href="../classes/wp_query">WP_Query</a> class.</p> </td> </tr> <tr> <td> <span>wp-includes/query.php:</span> <a href="set_query_var">set_query_var()</a> </td> <td class="related-desc"> <p>Sets the value of a query variable in the <a href="../classes/wp_query">WP_Query</a> class.</p> </td> </tr> <tr> <td> <span>wp-includes/functions.php:</span> <a href="wp_parse_args">wp_parse_args()</a> </td> <td class="related-desc"> <p>Merges user defined arguments into defaults array.</p> </td> </tr> <tr> <td> <span>wp-includes/class-wp-walker.php:</span> <a href="../classes/walker/paged_walk">Walker::paged_walk()</a> </td> <td class="related-desc"> <p>Produces a page of nested elements.</p> </td> </tr> <tr> <td> <span>wp-includes/plugin.php:</span> <a href="apply_filters">apply_filters()</a> </td> <td class="related-desc"> <p>Calls the callback functions that have been added to a filter hook.</p> </td> </tr> <tr> <td> <span>wp-includes/option.php:</span> <a href="get_option">get_option()</a> </td> <td class="related-desc"> <p>Retrieves an option value based on an option name.</p> </td> </tr> <tr> <td> <span>wp-includes/user.php:</span> <a href="get_current_user_id">get_current_user_id()</a> </td> <td class="related-desc"> <p>Gets the current user’s ID.</p> </td> </tr> <tr> <td> <span>wp-includes/post-template.php:</span> <a href="get_the_id">get_the_ID()</a> </td> <td class="related-desc"> <p>Retrieves the ID of the current item in the WordPress Loop.</p> </td> </tr> <tr> <td> <span>wp-includes/comment.php:</span> <a href="separate_comments">separate_comments()</a> </td> <td class="related-desc"> <p>Separates an array of comments into an array keyed by comment_type.</p> </td> </tr> <tr> <td> <span>wp-includes/comment.php:</span> <a href="get_comment_pages_count">get_comment_pages_count()</a> </td> <td class="related-desc"> <p>Calculates the total number of comment pages.</p> </td> </tr> <tr> <td> <span>wp-includes/comment.php:</span> <a href="get_comments">get_comments()</a> </td> <td class="related-desc"> <p>Retrieves a list of comments.</p> </td> </tr> </tbody>

</table>   </article> </section>  <section> <h2 id="changelog">Changelog</h2> <table>  <thead> <tr> <th class="changelog-version">Version</th> <th class="changelog-desc">Description</th> </tr> </thead> <tbody> <tr> <td><a href="https://developer.wordpress.org/reference/since/2.7.0/" alt="WordPress 2.7.0">2.7.0</a></td> <td>Introduced.</td> </tr> </tbody> </table> </section>    </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.wordpress.org/reference/functions/wp_list_comments" class="_attribution-link" target="_blank">https://developer.wordpress.org/reference/functions/wp_list_comments</a>
  </p>
</div>
