<h1>_wp_to_kebab_case( string $string )</h1>  <section> <p>This function is trying to replicate what lodash’s kebabCase (JS library) does in the client.</p> </section> <div class="content-toc">  <section> <h2 id="description">Description</h2> <p>The reason we need this function is that we do some processing in both the client and the server (e.g.: we generate preset classes from preset slugs) that needs to create the same output.</p> <p>We can’t remove or update the client’s library due to backward compatibility (some of the output of lodash’s kebabCase is saved in the post content). We have to make the server behave like the client.</p> <p>Changes to this function should follow updates in the client with the same logic.</p> </section>  <section> <h2 id="parameters">Parameters</h2> <dl> <dt>$string</dt> <dd> <p class="desc"> <span class="type">(<span class="string">string</span>)</span> <span class="required">(Required)</span> <span class="description">The string to kebab-case.</span> </p> </dd> </dl> </section>  <section> <h2 id="return">Return</h2> <p><span class="return-type">(string)</span> kebab-cased-string.</p> </section>  <section> <h2 id="source">Source</h2> <p> File: <a href="https://developer.wordpress.org/reference/files/wp-includes/functions.php/">wp-includes/functions.php</a> </p> <pre data-language="php">function _wp_to_kebab_case( $string ) {
	//phpcs:disable WordPress.NamingConventions.ValidVariableName.VariableNotSnakeCase
	// ignore the camelCase names for variables so the names are the same as lodash
	// so comparing and porting new changes is easier.

	/*
	 * Some notable things we've removed compared to the lodash version are:
	 *
	 * - non-alphanumeric characters: rsAstralRange, rsEmoji, etc
	 * - the groups that processed the apostrophe, as it's removed before passing the string to preg_match: rsApos, rsOptContrLower, and rsOptContrUpper
	 *
	 */

	/** Used to compose unicode character classes. */
	$rsLowerRange       = 'a-z\\xdf-\\xf6\\xf8-\\xff';
	$rsNonCharRange     = '\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf';
	$rsPunctuationRange = '\\x{2000}-\\x{206f}';
	$rsSpaceRange       = ' \\t\\x0b\\f\\xa0\\x{feff}\\n\\r\\x{2028}\\x{2029}\\x{1680}\\x{180e}\\x{2000}\\x{2001}\\x{2002}\\x{2003}\\x{2004}\\x{2005}\\x{2006}\\x{2007}\\x{2008}\\x{2009}\\x{200a}\\x{202f}\\x{205f}\\x{3000}';
	$rsUpperRange       = 'A-Z\\xc0-\\xd6\\xd8-\\xde';
	$rsBreakRange       = $rsNonCharRange . $rsPunctuationRange . $rsSpaceRange;

	/** Used to compose unicode capture groups. */
	$rsBreak  = '[' . $rsBreakRange . ']';
	$rsDigits = '\\d+'; // The last lodash version in GitHub uses a single digit here and expands it when in use.
	$rsLower  = '[' . $rsLowerRange . ']';
	$rsMisc   = '[^' . $rsBreakRange . $rsDigits . $rsLowerRange . $rsUpperRange . ']';
	$rsUpper  = '[' . $rsUpperRange . ']';

	/** Used to compose unicode regexes. */
	$rsMiscLower = '(?:' . $rsLower . '|' . $rsMisc . ')';
	$rsMiscUpper = '(?:' . $rsUpper . '|' . $rsMisc . ')';
	$rsOrdLower  = '\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])';
	$rsOrdUpper  = '\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])';

	$regexp = '/' . implode(
		'|',
		array(
			$rsUpper . '?' . $rsLower . '+' . '(?=' . implode( '|', array( $rsBreak, $rsUpper, '$' ) ) . ')',
			$rsMiscUpper . '+' . '(?=' . implode( '|', array( $rsBreak, $rsUpper . $rsMiscLower, '$' ) ) . ')',
			$rsUpper . '?' . $rsMiscLower . '+',
			$rsUpper . '+',
			$rsOrdUpper,
			$rsOrdLower,
			$rsDigits,
		)
	) . '/u';

	preg_match_all( $regexp, str_replace( "'", '', $string ), $matches );
	return strtolower( implode( '-', $matches[0] ) );
	//phpcs:enable WordPress.NamingConventions.ValidVariableName.VariableNotSnakeCase
}</pre>  </section>  <section> <h2 id="related">Related</h2> <article class="used-by"> <h3 id="used-by">Used By</h3> <table id="used-by-table">  <thead> <tr> <th>Used By</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-includes/script-loader.php:</span> <a href="_wp_theme_json_webfonts_handler">_wp_theme_json_webfonts_handler()</a> </td> <td class="related-desc"> <p>Runs the theme.json webfonts handler.</p> </td> </tr> <tr> <td> <span>wp-includes/class-wp-theme-json.php:</span> <a href="../classes/wp_theme_json/get_settings_values_by_slug">WP_Theme_JSON::get_settings_values_by_slug()</a> </td> <td class="related-desc"> <p>Gets preset values keyed by slugs based on settings and metadata.</p> </td> </tr> <tr> <td> <span>wp-includes/class-wp-theme-json.php:</span> <a href="../classes/wp_theme_json/get_settings_slugs">WP_Theme_JSON::get_settings_slugs()</a> </td> <td class="related-desc"> <p>Similar to get_settings_values_by_slug, but doesn’t compute the value.</p> </td> </tr> <tr> <td> <span>wp-includes/class-wp-theme-json.php:</span> <a href="../classes/wp_theme_json/flatten_tree">WP_Theme_JSON::flatten_tree()</a> </td> <td class="related-desc"> <p>Given a tree, it creates a flattened one by merging the keys and binding the leaf values to the new keys.</p> </td> </tr> </tbody>

</table> </article> </section>    </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.wordpress.org/reference/functions/_wp_to_kebab_case" class="_attribution-link" target="_blank">https://developer.wordpress.org/reference/functions/_wp_to_kebab_case</a>
  </p>
</div>
