<h1>wp_update_post( array|object $postarr = array(), bool $wp_error = false, bool $fire_after_hooks = true )</h1>  <section> <p>Update a post with new post data.</p> </section> <div class="content-toc">  <section> <h2 id="description">Description</h2> <p>The date does not have to be set for drafts. You can set the date and it will not be overridden.</p> </section>  <section> <h2 id="parameters">Parameters</h2> <dl> <dt>$postarr</dt> <dd> <p class="desc"> <span class="type">(<span class="array">array</span>|<span class="object">object</span>)</span> <span class="required">(Optional)</span> <span class="description"> Post data. Arrays are expected to be escaped, objects are not. See <a href="wp_insert_post">wp_insert_post()</a> for accepted arguments. Default array.</span> </p> <p class="default">Default value: array()</p> </dd> <dt>$wp_error</dt> <dd> <p class="desc"> <span class="type">(<span class="bool">bool</span>)</span> <span class="required">(Optional)</span> <span class="description"> Whether to return a <a href="../classes/wp_error">WP_Error</a> on failure. </span> </p> <p class="default">Default value: false</p> </dd> <dt>$fire_after_hooks</dt> <dd> <p class="desc"> <span class="type">(<span class="bool">bool</span>)</span> <span class="required">(Optional)</span> <span class="description"> Whether to fire the after insert hooks. </span> </p> <p class="default">Default value: true</p> </dd> </dl> </section>  <section> <h2 id="return">Return</h2> <p><span class="return-type">(int|<a href="../classes/wp_error">WP_Error</a>)</span> The post ID on success. The value 0 or <a href="../classes/wp_error">WP_Error</a> on failure.</p> </section>  <section> <h2 id="source">Source</h2> <p> File: <a href="https://developer.wordpress.org/reference/files/wp-includes/post.php/">wp-includes/post.php</a> </p> <pre data-language="php">function wp_update_post( $postarr = array(), $wp_error = false, $fire_after_hooks = true ) {
	if ( is_object( $postarr ) ) {
		// Non-escaped post was passed.
		$postarr = get_object_vars( $postarr );
		$postarr = wp_slash( $postarr );
	}

	// First, get all of the original fields.
	$post = get_post( $postarr['ID'], ARRAY_A );

	if ( is_null( $post ) ) {
		if ( $wp_error ) {
			return new WP_Error( 'invalid_post', __( 'Invalid post ID.' ) );
		}
		return 0;
	}

	// Escape data pulled from DB.
	$post = wp_slash( $post );

	// Passed post category list overwrites existing category list if not empty.
	if ( isset( $postarr['post_category'] ) &amp;&amp; is_array( $postarr['post_category'] )
		&amp;&amp; count( $postarr['post_category'] ) &gt; 0
	) {
		$post_cats = $postarr['post_category'];
	} else {
		$post_cats = $post['post_category'];
	}

	// Drafts shouldn't be assigned a date unless explicitly done so by the user.
	if ( isset( $post['post_status'] )
		&amp;&amp; in_array( $post['post_status'], array( 'draft', 'pending', 'auto-draft' ), true )
		&amp;&amp; empty( $postarr['edit_date'] ) &amp;&amp; ( '0000-00-00 00:00:00' === $post['post_date_gmt'] )
	) {
		$clear_date = true;
	} else {
		$clear_date = false;
	}

	// Merge old and new fields with new fields overwriting old ones.
	$postarr                  = array_merge( $post, $postarr );
	$postarr['post_category'] = $post_cats;
	if ( $clear_date ) {
		$postarr['post_date']     = current_time( 'mysql' );
		$postarr['post_date_gmt'] = '';
	}

	if ( 'attachment' === $postarr['post_type'] ) {
		return wp_insert_attachment( $postarr, false, 0, $wp_error );
	}

	// Discard 'tags_input' parameter if it's the same as existing post tags.
	if ( isset( $postarr['tags_input'] ) &amp;&amp; is_object_in_taxonomy( $postarr['post_type'], 'post_tag' ) ) {
		$tags      = get_the_terms( $postarr['ID'], 'post_tag' );
		$tag_names = array();

		if ( $tags &amp;&amp; ! is_wp_error( $tags ) ) {
			$tag_names = wp_list_pluck( $tags, 'name' );
		}

		if ( $postarr['tags_input'] === $tag_names ) {
			unset( $postarr['tags_input'] );
		}
	}

	return wp_insert_post( $postarr, $wp_error, $fire_after_hooks );
}</pre>  </section>  <section> <h2 id="related">Related</h2> <article class="uses"> <h3 id="uses">Uses</h3> <table id="uses-table">  <thead> <tr> <th>Uses</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-includes/category-template.php:</span> <a href="get_the_terms">get_the_terms()</a> </td> <td class="related-desc"> <p>Retrieves the terms of the taxonomy that are attached to the post.</p> </td> </tr> <tr> <td> <span>wp-includes/l10n.php:</span> <a href="__">__()</a> </td> <td class="related-desc"> <p>Retrieve the translation of $text.</p> </td> </tr> <tr> <td> <span>wp-includes/formatting.php:</span> <a href="wp_slash">wp_slash()</a> </td> <td class="related-desc"> <p>Adds slashes to a string or recursively adds slashes to strings within an array.</p> </td> </tr> <tr> <td> <span>wp-includes/functions.php:</span> <a href="wp_list_pluck">wp_list_pluck()</a> </td> <td class="related-desc"> <p>Plucks a certain field out of each object or array in an array.</p> </td> </tr> <tr> <td> <span>wp-includes/functions.php:</span> <a href="current_time">current_time()</a> </td> <td class="related-desc"> <p>Retrieves the current time based on specified type.</p> </td> </tr> <tr> <td> <span>wp-includes/taxonomy.php:</span> <a href="is_object_in_taxonomy">is_object_in_taxonomy()</a> </td> <td class="related-desc"> <p>Determines if the given object type is associated with the given taxonomy.</p> </td> </tr> <tr> <td> <span>wp-includes/post.php:</span> <a href="wp_insert_attachment">wp_insert_attachment()</a> </td> <td class="related-desc"> <p>Insert an attachment.</p> </td> </tr> <tr> <td> <span>wp-includes/post.php:</span> <a href="wp_insert_post">wp_insert_post()</a> </td> <td class="related-desc"> <p>Insert or update a post.</p> </td> </tr> <tr> <td> <span>wp-includes/post.php:</span> <a href="get_post">get_post()</a> </td> <td class="related-desc"> <p>Retrieves post data given a post ID or post object.</p> </td> </tr> <tr> <td> <span>wp-includes/load.php:</span> <a href="is_wp_error">is_wp_error()</a> </td> <td class="related-desc"> <p>Checks whether the given variable is a WordPress Error.</p> </td> </tr> <tr> <td> <span>wp-includes/class-wp-error.php:</span> <a href="../classes/wp_error/__construct">WP_Error::__construct()</a> </td> <td class="related-desc"> <p>Initializes the error.</p> </td> </tr> </tbody>

</table>   </article>  <article class="used-by"> <h3 id="used-by">Used By</h3> <table id="used-by-table">  <thead> <tr> <th>Used By</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-includes/rest-api/endpoints/class-wp-rest-global-styles-controller.php:</span> <a href="../classes/wp_rest_global_styles_controller/update_item">WP_REST_Global_Styles_Controller::update_item()</a> </td> <td class="related-desc"> <p>Updates a single global style config.</p> </td> </tr> <tr> <td> <span>wp-includes/theme-templates.php:</span> <a href="wp_set_unique_slug_on_create_template_part">wp_set_unique_slug_on_create_template_part()</a> </td> <td class="related-desc"> <p>Sets a custom slug when creating auto-draft template parts.</p> </td> </tr> <tr> <td> <span>wp-includes/rest-api/endpoints/class-wp-rest-templates-controller.php:</span> <a href="../classes/wp_rest_templates_controller/update_item">WP_REST_Templates_Controller::update_item()</a> </td> <td class="related-desc"> <p>Updates a single template.</p> </td> </tr> <tr> <td> <span>wp-includes/rest-api/endpoints/class-wp-rest-autosaves-controller.php:</span> <a href="../classes/wp_rest_autosaves_controller/create_item">WP_REST_Autosaves_Controller::create_item()</a> </td> <td class="related-desc"> <p>Creates, updates or deletes an autosave revision.</p> </td> </tr> <tr> <td> <span>wp-includes/rest-api/endpoints/class-wp-rest-autosaves-controller.php:</span> <a href="../classes/wp_rest_autosaves_controller/create_post_autosave">WP_REST_Autosaves_Controller::create_post_autosave()</a> </td> <td class="related-desc"> <p>Creates autosave for the specified post.</p> </td> </tr> <tr> <td> <span>wp-includes/user.php:</span> <a href="wp_generate_user_request_key">wp_generate_user_request_key()</a> </td> <td class="related-desc"> <p>Returns a confirmation key for a user action and stores the hashed version for future comparison.</p> </td> </tr> <tr> <td> <span>wp-includes/user.php:</span> <a href="_wp_privacy_account_request_confirmed">_wp_privacy_account_request_confirmed()</a> </td> <td class="related-desc"> <p>Updates log when privacy request is confirmed.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/privacy-tools.php:</span> <a href="_wp_privacy_completed_request">_wp_privacy_completed_request()</a> </td> <td class="related-desc"> <p>Marks a request as completed by the admin and logs the current timestamp.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/privacy-tools.php:</span> <a href="_wp_personal_data_cleanup_requests">_wp_personal_data_cleanup_requests()</a> </td> <td class="related-desc"> <p>Cleans up failed and expired requests before displaying the list table.</p> </td> </tr> <tr> <td> <span>wp-includes/class-wp-customize-manager.php:</span> <a href="../classes/wp_customize_manager/save_changeset_post">WP_Customize_Manager::save_changeset_post()</a> </td> <td class="related-desc"> <p>Saves the post for the loaded changeset.</p> </td> </tr> <tr> <td> <span>wp-includes/theme.php:</span> <a href="wp_update_custom_css_post">wp_update_custom_css_post()</a> </td> <td class="related-desc"> <p>Updates the <code>custom_css</code> post for a given theme.</p> </td> </tr> <tr> <td> <span>wp-includes/rest-api/endpoints/class-wp-rest-posts-controller.php:</span> <a href="../classes/wp_rest_posts_controller/update_item">WP_REST_Posts_Controller::update_item()</a> </td> <td class="related-desc"> <p>Updates a single post.</p> </td> </tr> <tr> <td> <span>wp-includes/class-wp-customize-nav-menus.php:</span> <a href="../classes/wp_customize_nav_menus/save_nav_menus_created_posts">WP_Customize_Nav_Menus::save_nav_menus_created_posts()</a> </td> <td class="related-desc"> <p>Publishes the auto-draft posts that were created for nav menu items.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/media.php:</span> <a href="media_upload_form_handler">media_upload_form_handler()</a> </td> <td class="related-desc"> <p>Handles form submissions for the legacy media uploader.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/post.php:</span> <a href="wp_create_post_autosave">wp_create_post_autosave()</a> </td> <td class="related-desc"> <p>Creates autosave data for the specified post from <code>$_POST</code> data.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/post.php:</span> <a href="_fix_attachment_links">_fix_attachment_links()</a> </td> <td class="related-desc"> <p>Replaces hrefs of attachment anchors with up-to-date permalinks.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/post.php:</span> <a href="edit_post">edit_post()</a> </td> <td class="related-desc"> <p>Updates an existing post with values provided in <code>$_POST</code>.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/post.php:</span> <a href="bulk_edit_posts">bulk_edit_posts()</a> </td> <td class="related-desc"> <p>Processes the post data for the bulk editing of posts.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/ajax-actions.php:</span> <a href="wp_ajax_save_attachment_order">wp_ajax_save_attachment_order()</a> </td> <td class="related-desc"> <p>Ajax handler for saving the attachment order.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/ajax-actions.php:</span> <a href="wp_ajax_send_attachment_to_editor">wp_ajax_send_attachment_to_editor()</a> </td> <td class="related-desc"> <p>Ajax handler for sending an attachment to the editor.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/ajax-actions.php:</span> <a href="wp_ajax_save_attachment">wp_ajax_save_attachment()</a> </td> <td class="related-desc"> <p>Ajax handler for updating attachment attributes.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/ajax-actions.php:</span> <a href="wp_ajax_save_attachment_compat">wp_ajax_save_attachment_compat()</a> </td> <td class="related-desc"> <p>Ajax handler for saving backward compatible attachment attributes.</p> </td> </tr> <tr> <td> <span>wp-includes/class-wp-embed.php:</span> <a href="../classes/wp_embed/shortcode">WP_Embed::shortcode()</a> </td> <td class="related-desc"> <p>The <a href="do_shortcode">do_shortcode()</a> callback function.</p> </td> </tr> <tr> <td> <span>wp-includes/post.php:</span> <a href="wp_check_post_hierarchy_for_loops">wp_check_post_hierarchy_for_loops()</a> </td> <td class="related-desc"> <p>Check the given subset of the post hierarchy for hierarchy loops.</p> </td> </tr> <tr> <td> <span>wp-includes/post.php:</span> <a href="wp_trash_post">wp_trash_post()</a> </td> <td class="related-desc"> <p>Move a post or page to the Trash</p> </td> </tr> <tr> <td> <span>wp-includes/post.php:</span> <a href="wp_untrash_post">wp_untrash_post()</a> </td> <td class="related-desc"> <p>Restores a post from the Trash.</p> </td> </tr> <tr> <td> <span>wp-includes/revision.php:</span> <a href="wp_restore_post_revision">wp_restore_post_revision()</a> </td> <td class="related-desc"> <p>Restores a post to the specified revision.</p> </td> </tr> <tr> <td> <span>wp-includes/nav-menu.php:</span> <a href="wp_update_nav_menu_item">wp_update_nav_menu_item()</a> </td> <td class="related-desc"> <p>Saves the properties of a menu item or create a new one.</p> </td> </tr> <tr> <td> <span>wp-includes/class-wp-xmlrpc-server.php:</span> <a href="../classes/wp_xmlrpc_server/mt_publishpost">wp_xmlrpc_server::mt_publishPost()</a> </td> <td class="related-desc"> <p>Sets a post’s publish status to ‘publish’.</p> </td> </tr> <tr> <td> <span>wp-includes/class-wp-xmlrpc-server.php:</span> <a href="../classes/wp_xmlrpc_server/mw_editpost">wp_xmlrpc_server::mw_editPost()</a> </td> <td class="related-desc"> <p>Edit a post.</p> </td> </tr> <tr> <td> <span>wp-includes/class-wp-xmlrpc-server.php:</span> <a href="../classes/wp_xmlrpc_server/blogger_editpost">wp_xmlrpc_server::blogger_editPost()</a> </td> <td class="related-desc"> <p>Edit a post.</p> </td> </tr> <tr> <td> <span>wp-includes/class-wp-xmlrpc-server.php:</span> <a href="../classes/wp_xmlrpc_server/_insert_post">wp_xmlrpc_server::_insert_post()</a> </td> <td class="related-desc"> <p>Helper method for wp_newPost() and wp_editPost(), containing shared logic.</p> </td> </tr> </tbody>

</table>   </article> </section>  <section> <h2 id="changelog">Changelog</h2> <table>  <thead> <tr> <th class="changelog-version">Version</th> <th class="changelog-desc">Description</th> </tr> </thead> <tbody> <tr> <td><a href="https://developer.wordpress.org/reference/since/5.6.0/" alt="WordPress 5.6.0">5.6.0</a></td> <td><span class="since-description">Added the <code>$fire_after_hooks</code> parameter.</span></td> </tr> <tr> <td><a href="https://developer.wordpress.org/reference/since/3.5.0/" alt="WordPress 3.5.0">3.5.0</a></td> <td><span class="since-description">Added the <code>$wp_error</code> parameter to allow a <a href="../classes/wp_error">WP_Error</a> to be returned on failure.</span></td> </tr> <tr> <td><a href="https://developer.wordpress.org/reference/since/1.0.0/" alt="WordPress 1.0.0">1.0.0</a></td> <td>Introduced.</td> </tr> </tbody> </table> </section>    </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.wordpress.org/reference/functions/wp_update_post" class="_attribution-link" target="_blank">https://developer.wordpress.org/reference/functions/wp_update_post</a>
  </p>
</div>
