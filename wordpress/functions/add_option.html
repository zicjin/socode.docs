<h1>add_option( string $option, mixed $value = '', string $deprecated = '', string|bool $autoload = 'yes' )</h1>  <section> <p>Adds a new option.</p> </section> <div class="content-toc">  <section> <h2 id="description">Description</h2> <p>You do not need to serialize values. If the value needs to be serialized, then it will be serialized before it is inserted into the database. Remember, resources cannot be serialized or added as an option.</p> <p>You can create options without values and then update the values later. Existing options will not be updated and checks are performed to ensure that you aren’t adding a protected WordPress option. Care should be taken to not name options the same as the ones which are protected.</p> </section>  <section> <h2 id="parameters">Parameters</h2> <dl> <dt>$option</dt> <dd> <p class="desc"> <span class="type">(<span class="string">string</span>)</span> <span class="required">(Required)</span> <span class="description">Name of the option to add. Expected to not be SQL-escaped.</span> </p> </dd> <dt>$value</dt> <dd> <p class="desc"> <span class="type">(<span class="mixed">mixed</span>)</span> <span class="required">(Optional)</span> <span class="description"> Option value. Must be serializable if non-scalar. Expected to not be SQL-escaped.</span> </p> <p class="default">Default value: ''</p> </dd> <dt>$deprecated</dt> <dd> <p class="desc"> <span class="type">(<span class="string">string</span>)</span> <span class="required">(Optional)</span> <span class="description"> Description. Not used anymore.</span> </p> <p class="default">Default value: ''</p> </dd> <dt>$autoload</dt> <dd> <p class="desc"> <span class="type">(<span class="string">string</span>|<span class="bool">bool</span>)</span> <span class="required">(Optional)</span> <span class="description"> Whether to load the option when WordPress starts up. Default is enabled. Accepts 'no' to disable for legacy reasons.</span> </p> <p class="default">Default value: 'yes'</p> </dd> </dl> </section>  <section> <h2 id="return">Return</h2> <p><span class="return-type">(bool)</span> True if the option was added, false otherwise.</p> </section>  <section> <h2 id="source">Source</h2> <p> File: <a href="https://developer.wordpress.org/reference/files/wp-includes/option.php/">wp-includes/option.php</a> </p> <pre data-language="php">function add_option( $option, $value = '', $deprecated = '', $autoload = 'yes' ) {
	global $wpdb;

	if ( ! empty( $deprecated ) ) {
		_deprecated_argument( __FUNCTION__, '2.3.0' );
	}

	if ( is_scalar( $option ) ) {
		$option = trim( $option );
	}

	if ( empty( $option ) ) {
		return false;
	}

	/*
	 * Until a proper _deprecated_option() function can be introduced,
	 * redirect requests to deprecated keys to the new, correct ones.
	 */
	$deprecated_keys = array(
		'blacklist_keys'    =&gt; 'disallowed_keys',
		'comment_whitelist' =&gt; 'comment_previously_approved',
	);

	if ( ! wp_installing() &amp;&amp; isset( $deprecated_keys[ $option ] ) ) {
		_deprecated_argument(
			__FUNCTION__,
			'5.5.0',
			sprintf(
				/* translators: 1: Deprecated option key, 2: New option key. */
				__( 'The "%1$s" option key has been renamed to "%2$s".' ),
				$option,
				$deprecated_keys[ $option ]
			)
		);
		return add_option( $deprecated_keys[ $option ], $value, $deprecated, $autoload );
	}

	wp_protect_special_option( $option );

	if ( is_object( $value ) ) {
		$value = clone $value;
	}

	$value = sanitize_option( $option, $value );

	// Make sure the option doesn't already exist.
	// We can check the 'notoptions' cache before we ask for a DB query.
	$notoptions = wp_cache_get( 'notoptions', 'options' );

	if ( ! is_array( $notoptions ) || ! isset( $notoptions[ $option ] ) ) {
		/** This filter is documented in wp-includes/option.php */
		if ( apply_filters( "default_option_{$option}", false, $option, false ) !== get_option( $option ) ) {
			return false;
		}
	}

	$serialized_value = maybe_serialize( $value );
	$autoload         = ( 'no' === $autoload || false === $autoload ) ? 'no' : 'yes';

	/**
	 * Fires before an option is added.
	 *
	 * @since 2.9.0
	 *
	 * @param string $option Name of the option to add.
	 * @param mixed  $value  Value of the option.
	 */
	do_action( 'add_option', $option, $value );

	$result = $wpdb-&gt;query( $wpdb-&gt;prepare( "INSERT INTO `$wpdb-&gt;options` (`option_name`, `option_value`, `autoload`) VALUES (%s, %s, %s) ON DUPLICATE KEY UPDATE `option_name` = VALUES(`option_name`), `option_value` = VALUES(`option_value`), `autoload` = VALUES(`autoload`)", $option, $serialized_value, $autoload ) );
	if ( ! $result ) {
		return false;
	}

	if ( ! wp_installing() ) {
		if ( 'yes' === $autoload ) {
			$alloptions            = wp_load_alloptions( true );
			$alloptions[ $option ] = $serialized_value;
			wp_cache_set( 'alloptions', $alloptions, 'options' );
		} else {
			wp_cache_set( $option, $serialized_value, 'options' );
		}
	}

	// This option exists now.
	$notoptions = wp_cache_get( 'notoptions', 'options' ); // Yes, again... we need it to be fresh.

	if ( is_array( $notoptions ) &amp;&amp; isset( $notoptions[ $option ] ) ) {
		unset( $notoptions[ $option ] );
		wp_cache_set( 'notoptions', $notoptions, 'options' );
	}

	/**
	 * Fires after a specific option has been added.
	 *
	 * The dynamic portion of the hook name, `$option`, refers to the option name.
	 *
	 * @since 2.5.0 As "add_option_{$name}"
	 * @since 3.0.0
	 *
	 * @param string $option Name of the option to add.
	 * @param mixed  $value  Value of the option.
	 */
	do_action( "add_option_{$option}", $option, $value );

	/**
	 * Fires after an option has been added.
	 *
	 * @since 2.9.0
	 *
	 * @param string $option Name of the added option.
	 * @param mixed  $value  Value of the option.
	 */
	do_action( 'added_option', $option, $value );

	return true;
}</pre>  </section>  <section> <h2 id="related">Related</h2> <article class="uses"> <h3 id="uses">Uses</h3> <table id="uses-table">  <thead> <tr> <th>Uses</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-includes/load.php:</span> <a href="wp_installing">wp_installing()</a> </td> <td class="related-desc"> <p>Check or set whether WordPress is in “installation” mode.</p> </td> </tr> <tr> <td> <span>wp-includes/cache.php:</span> <a href="wp_cache_get">wp_cache_get()</a> </td> <td class="related-desc"> <p>Retrieves the cache contents from the cache by key and group.</p> </td> </tr> <tr> <td> <span>wp-includes/cache.php:</span> <a href="wp_cache_set">wp_cache_set()</a> </td> <td class="related-desc"> <p>Saves the data to the cache.</p> </td> </tr> <tr> <td> <span>wp-includes/l10n.php:</span> <a href="__">__()</a> </td> <td class="related-desc"> <p>Retrieve the translation of $text.</p> </td> </tr> <tr> <td> <span>wp-includes/formatting.php:</span> <a href="sanitize_option">sanitize_option()</a> </td> <td class="related-desc"> <p>Sanitizes various option values based on the nature of the option.</p> </td> </tr> <tr> <td> <span>wp-includes/functions.php:</span> <a href="_deprecated_argument">_deprecated_argument()</a> </td> <td class="related-desc"> <p>Mark a function argument as deprecated and inform when it has been used.</p> </td> </tr> <tr> <td> <span>wp-includes/functions.php:</span> <a href="maybe_serialize">maybe_serialize()</a> </td> <td class="related-desc"> <p>Serialize data, if needed.</p> </td> </tr> <tr> <td> <span>wp-includes/plugin.php:</span> <a href="apply_filters">apply_filters()</a> </td> <td class="related-desc"> <p>Calls the callback functions that have been added to a filter hook.</p> </td> </tr> <tr> <td> <span>wp-includes/plugin.php:</span> <a href="do_action">do_action()</a> </td> <td class="related-desc"> <p>Calls the callback functions that have been added to an action hook.</p> </td> </tr> <tr> <td> <span>wp-includes/option.php:</span> <a href="add_option">add_option()</a> </td> <td class="related-desc"> <p>Adds a new option.</p> </td> </tr> <tr> <td> <span>wp-includes/option.php:</span> <a href="wp_load_alloptions">wp_load_alloptions()</a> </td> <td class="related-desc"> <p>Loads and caches all autoloaded options, if available or all options.</p> </td> </tr> <tr> <td> <span>wp-includes/option.php:</span> <a href="../hooks/add_option">add_option</a> </td> <td class="related-desc"> <p>Fires before an option is added.</p> </td> </tr> <tr> <td> <span>wp-includes/option.php:</span> <a href="../hooks/add_option_option">add_option_{$option}</a> </td> <td class="related-desc"> <p>Fires after a specific option has been added.</p> </td> </tr> <tr> <td> <span>wp-includes/option.php:</span> <a href="../hooks/added_option">added_option</a> </td> <td class="related-desc"> <p>Fires after an option has been added.</p> </td> </tr> <tr> <td> <span>wp-includes/option.php:</span> <a href="wp_protect_special_option">wp_protect_special_option()</a> </td> <td class="related-desc"> <p>Protects WordPress special option from being modified.</p> </td> </tr> <tr> <td> <span>wp-includes/option.php:</span> <a href="../hooks/default_option_option">default_option_{$option}</a> </td> <td class="related-desc"> <p>Filters the default value for an option.</p> </td> </tr> <tr> <td> <span>wp-includes/option.php:</span> <a href="get_option">get_option()</a> </td> <td class="related-desc"> <p>Retrieves an option value based on an option name.</p> </td> </tr> <tr> <td> <span>wp-includes/wp-db.php:</span> <a href="../classes/wpdb/query">wpdb::query()</a> </td> <td class="related-desc"> <p>Performs a database query, using current database connection.</p> </td> </tr> <tr> <td> <span>wp-includes/wp-db.php:</span> <a href="../classes/wpdb/prepare">wpdb::prepare()</a> </td> <td class="related-desc"> <p>Prepares a SQL query for safe execution.</p> </td> </tr> </tbody>

</table>   </article>  <article class="used-by"> <h3 id="used-by">Used By</h3> <table id="used-by-table">  <thead> <tr> <th>Used By</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-includes/option.php:</span> <a href="add_network_option">add_network_option()</a> </td> <td class="related-desc"> <p>Adds a new network option.</p> </td> </tr> <tr> <td> <span>wp-includes/theme.php:</span> <a href="switch_theme">switch_theme()</a> </td> <td class="related-desc"> <p>Switches the theme.</p> </td> </tr> <tr> <td> <span>wp-includes/option.php:</span> <a href="set_transient">set_transient()</a> </td> <td class="related-desc"> <p>Sets/updates the value of a transient.</p> </td> </tr> <tr> <td> <span>wp-includes/option.php:</span> <a href="update_option">update_option()</a> </td> <td class="related-desc"> <p>Updates the value of an option that was already added.</p> </td> </tr> <tr> <td> <span>wp-includes/option.php:</span> <a href="add_option">add_option()</a> </td> <td class="related-desc"> <p>Adds a new option.</p> </td> </tr> <tr> <td> <span>wp-includes/ms-blogs.php:</span> <a href="add_blog_option">add_blog_option()</a> </td> <td class="related-desc"> <p>Add a new option for a given blog ID.</p> </td> </tr> </tbody>

</table>   </article> </section>  <section> <h2 id="changelog">Changelog</h2> <table>  <thead> <tr> <th class="changelog-version">Version</th> <th class="changelog-desc">Description</th> </tr> </thead> <tbody> <tr> <td><a href="https://developer.wordpress.org/reference/since/1.0.0/" alt="WordPress 1.0.0">1.0.0</a></td> <td>Introduced.</td> </tr> </tbody> </table> </section>    </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.wordpress.org/reference/functions/add_option" class="_attribution-link" target="_blank">https://developer.wordpress.org/reference/functions/add_option</a>
  </p>
</div>
