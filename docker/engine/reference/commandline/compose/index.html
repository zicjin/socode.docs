<h1>docker compose</h1>
   <p><br></p> <p>Docker Compose</p> <h2 id="usage">Usage</h2> <div class="highlight"><pre class="highlight" data-language="">$ docker compose COMMAND
</pre></div> <p>Refer to the <a href="#options">options section</a> for an overview of available <a href="#options"><code class="language-plaintext highlighter-rouge">OPTIONS</code></a> for this command.</p> <h2 id="description">Description</h2> <p name="extended-description">You can use compose subcommand, <code class="language-plaintext highlighter-rouge">docker compose [-f &lt;arg&gt;...] [options] [COMMAND] [ARGS...]</code>, to build and manage multiple services in Docker containers.</p> <h3 id="use--f-to-specify-name-and-path-of-one-or-more-compose-files">Use <code class="language-plaintext highlighter-rouge">-f</code> to specify name and path of one or more Compose files</h3> <p>Use the <code class="language-plaintext highlighter-rouge">-f</code> flag to specify the location of a Compose configuration file.</p> <h4 id="specifying-multiple-compose-files">Specifying multiple Compose files</h4> <p>You can supply multiple <code class="language-plaintext highlighter-rouge">-f</code> configuration files. When you supply multiple files, Compose combines them into a single configuration. Compose builds the configuration in the order you supply the files. Subsequent files override and add to their predecessors.</p> <p>For example, consider this command line:</p> <div class="highlight"><pre class="highlight" data-language="">$ docker compose -f docker-compose.yml -f docker-compose.admin.yml run backup_db
</pre></div> <p>The <code class="language-plaintext highlighter-rouge">docker-compose.yml</code> file might specify a <code class="language-plaintext highlighter-rouge">webapp</code> service.</p> <div class="highlight"><pre class="highlight" data-language="">services:
  webapp:
    image: examples/web
    ports:
      - "8000:8000"
    volumes:
      - "/data"
</pre></div> <p>If the <code class="language-plaintext highlighter-rouge">docker-compose.admin.yml</code> also specifies this same service, any matching fields override the previous file. New values, add to the <code class="language-plaintext highlighter-rouge">webapp</code> service configuration.</p> <div class="highlight"><pre class="highlight" data-language="">services:
  webapp:
    build: .
    environment:
      - DEBUG=1
</pre></div> <p>When you use multiple Compose files, all paths in the files are relative to the first configuration file specified with <code class="language-plaintext highlighter-rouge">-f</code>. You can use the <code class="language-plaintext highlighter-rouge">--project-directory</code> option to override this base path.</p> <p>Use a <code class="language-plaintext highlighter-rouge">-f</code> with <code class="language-plaintext highlighter-rouge">-</code> (dash) as the filename to read the configuration from stdin. When stdin is used all paths in the configuration are relative to the current working directory.</p> <p>The <code class="language-plaintext highlighter-rouge">-f</code> flag is optional. If you don’t provide this flag on the command line, Compose traverses the working directory and its parent directories looking for a <code class="language-plaintext highlighter-rouge">compose.yaml</code> or <code class="language-plaintext highlighter-rouge">docker-compose.yaml</code> file.</p> <h4 id="specifying-a-path-to-a-single-compose-file">Specifying a path to a single Compose file</h4> <p>You can use the <code class="language-plaintext highlighter-rouge">-f</code> flag to specify a path to a Compose file that is not located in the current directory, either from the command line or by setting up a <code class="language-plaintext highlighter-rouge">COMPOSE_FILE</code> environment variable in your shell or in an environment file.</p> <p>For an example of using the <code class="language-plaintext highlighter-rouge">-f</code> option at the command line, suppose you are running the Compose Rails sample, and have a <code class="language-plaintext highlighter-rouge">compose.yaml</code> file in a directory called <code class="language-plaintext highlighter-rouge">sandbox/rails</code>. You can use a command like <code class="language-plaintext highlighter-rouge">docker compose pull</code> to get the postgres image for the db service from anywhere by using the <code class="language-plaintext highlighter-rouge">-f</code> flag as follows:</p> <div class="highlight"><pre class="highlight" data-language="">$ docker compose -f ~/sandbox/rails/compose.yaml pull db
</pre></div> <h3 id="use--p-to-specify-a-project-name">Use <code class="language-plaintext highlighter-rouge">-p</code> to specify a project name</h3> <p>Each configuration has a project name. If you supply a <code class="language-plaintext highlighter-rouge">-p</code> flag, you can specify a project name. If you don’t specify the flag, Compose uses the current directory name. Project name can also be set by <code class="language-plaintext highlighter-rouge">COMPOSE_PROJECT_NAME</code> environment variable.</p> <p>Most compose subcommand can be ran without a compose file, just passing project name to retrieve the relevant resources.</p> <div class="highlight"><pre class="highlight" data-language="">$ docker compose -p my_project ps -a
NAME                 SERVICE    STATUS     PORTS
my_project_demo_1    demo       running

$ docker compose -p my_project logs
demo_1  | PING localhost (127.0.0.1): 56 data bytes
demo_1  | 64 bytes from 127.0.0.1: seq=0 ttl=64 time=0.095 ms
</pre></div> <h3 id="use-profiles-to-enable-optional-services">Use profiles to enable optional services</h3> <p>Use <code class="language-plaintext highlighter-rouge">--profile</code> to specify one or more active profiles Calling <code class="language-plaintext highlighter-rouge">docker compose --profile frontend up</code> will start the services with the profile <code class="language-plaintext highlighter-rouge">frontend</code> and services without any specified profiles. You can also enable multiple profiles, e.g. with <code class="language-plaintext highlighter-rouge">docker compose --profile frontend --profile debug up</code> the profiles <code class="language-plaintext highlighter-rouge">frontend</code> and <code class="language-plaintext highlighter-rouge">debug</code> will be enabled.</p> <p>Profiles can also be set by <code class="language-plaintext highlighter-rouge">COMPOSE_PROFILES</code> environment variable.</p> <h3 id="set-up-environment-variables">Set up environment variables</h3> <p>You can set environment variables for various docker compose options, including the <code class="language-plaintext highlighter-rouge">-f</code>, <code class="language-plaintext highlighter-rouge">-p</code> and <code class="language-plaintext highlighter-rouge">--profiles</code> flags.</p> <p>Setting the <code class="language-plaintext highlighter-rouge">COMPOSE_FILE</code> environment variable is equivalent to passing the <code class="language-plaintext highlighter-rouge">-f</code> flag, <code class="language-plaintext highlighter-rouge">COMPOSE_PROJECT_NAME</code> environment variable does the same for to the <code class="language-plaintext highlighter-rouge">-p</code> flag, and so does <code class="language-plaintext highlighter-rouge">COMPOSE_PROFILES</code> environment variable for to the <code class="language-plaintext highlighter-rouge">--profiles</code> flag.</p> <p>If flags are explicitly set on command line, associated environment variable is ignored</p> <p>Setting the <code class="language-plaintext highlighter-rouge">COMPOSE_IGNORE_ORPHANS</code> environment variable to <code class="language-plaintext highlighter-rouge">true</code> will stop docker compose from detecting orphaned containers for the project.</p> <h2 id="options">Options</h2> <table> <thead> <tr> <td>Name, shorthand</td> <td>Default</td> <td>Description</td> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">--ansi</code></td> <td><code class="language-plaintext highlighter-rouge">auto</code></td> <td>Control when to print ANSI control characters ("never"|"always"|"auto")</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">--compatibility</code></td> <td></td> <td>Run compose in backward compatibility mode</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">--env-file</code></td> <td></td> <td>Specify an alternate environment file.</td> </tr> <tr> <td>
<code class="language-plaintext highlighter-rouge">--file</code> , <code class="language-plaintext highlighter-rouge">-f</code>
</td> <td></td> <td>Compose configuration files</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">--no-ansi</code></td> <td></td> <td>Do not print ANSI control characters (DEPRECATED)</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">--profile</code></td> <td></td> <td>Specify a profile to enable</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">--project-directory</code></td> <td></td> <td>Specify an alternate working directory (default: the path of the, first specified, Compose file)</td> </tr> <tr> <td>
<code class="language-plaintext highlighter-rouge">--project-name</code> , <code class="language-plaintext highlighter-rouge">-p</code>
</td> <td></td> <td>Project name</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">--verbose</code></td> <td></td> <td>Show more output</td> </tr> <tr> <td>
<code class="language-plaintext highlighter-rouge">--version</code> , <code class="language-plaintext highlighter-rouge">-v</code>
</td> <td></td> <td>Show the Docker Compose version information</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">--workdir</code></td> <td></td> <td>DEPRECATED! USE --project-directory INSTEAD. Specify an alternate working directory (default: the path of the, first specified, Compose file)</td> </tr>  </tbody> </table>  <h2 id="child-commands">Child commands</h2> <table> <thead> <tr> <td>Command</td> <td>Description</td> </tr> </thead> <tbody> <tr> <td><a href="../compose_build/index">docker compose build</a></td> <td>Build or rebuild services</td> </tr> <tr> <td><a href="../compose_convert/index">docker compose convert</a></td> <td>Converts the compose file to platform’s canonical format</td> </tr> <tr> <td><a href="../compose_cp/index">docker compose cp</a></td> <td>Copy files/folders between a service container and the local filesystem</td> </tr> <tr> <td><a href="../compose_create/index">docker compose create</a></td> <td>Creates containers for a service.</td> </tr> <tr> <td><a href="../compose_down/index">docker compose down</a></td> <td>Stop and remove containers, networks</td> </tr> <tr> <td><a href="../compose_events/index">docker compose events</a></td> <td>Receive real time events from containers.</td> </tr> <tr> <td><a href="../compose_exec/index">docker compose exec</a></td> <td>Execute a command in a running container.</td> </tr> <tr> <td><a href="../compose_images/index">docker compose images</a></td> <td>List images used by the created containers</td> </tr> <tr> <td><a href="../compose_kill/index">docker compose kill</a></td> <td>Force stop service containers.</td> </tr> <tr> <td><a href="../compose_logs/index">docker compose logs</a></td> <td>View output from containers</td> </tr> <tr> <td><a href="../compose_ls/index">docker compose ls</a></td> <td>List running compose projects</td> </tr> <tr> <td><a href="../compose_pause/index">docker compose pause</a></td> <td>Pause services</td> </tr> <tr> <td><a href="../compose_port/index">docker compose port</a></td> <td>Print the public port for a port binding.</td> </tr> <tr> <td><a href="../compose_ps/index">docker compose ps</a></td> <td>List containers</td> </tr> <tr> <td><a href="../compose_pull/index">docker compose pull</a></td> <td>Pull service images</td> </tr> <tr> <td><a href="../compose_push/index">docker compose push</a></td> <td>Push service images</td> </tr> <tr> <td><a href="../compose_restart/index">docker compose restart</a></td> <td>Restart containers</td> </tr> <tr> <td><a href="../compose_rm/index">docker compose rm</a></td> <td>Removes stopped service containers</td> </tr> <tr> <td><a href="../compose_run/index">docker compose run</a></td> <td>Run a one-off command on a service.</td> </tr> <tr> <td><a href="../compose_start/index">docker compose start</a></td> <td>Start services</td> </tr> <tr> <td><a href="../compose_stop/index">docker compose stop</a></td> <td>Stop services</td> </tr> <tr> <td><a href="../compose_top/index">docker compose top</a></td> <td>Display the running processes</td> </tr> <tr> <td><a href="../compose_unpause/index">docker compose unpause</a></td> <td>Unpause services</td> </tr> <tr> <td><a href="../compose_up/index">docker compose up</a></td> <td>Create and start containers</td> </tr> <tr> <td><a href="../compose_version/index">docker compose version</a></td> <td>Show the Docker Compose version information</td> </tr> </tbody> </table> <div class="_attribution">
  <p class="_attribution-p">
    <a href="https://docs.docker.com/engine/reference/commandline/compose/" class="_attribution-link" target="_blank">https://docs.docker.com/engine/reference/commandline/compose/</a>
  </p>
</div>
