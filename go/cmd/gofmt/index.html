<h1> Command gofmt  </h1>  <p> Gofmt formats Go programs. It uses tabs for indentation and blanks for alignment. Alignment assumes that an editor is using a fixed-width font. </p> <p> Without an explicit path, it processes the standard input. Given a file, it operates on that file; given a directory, it operates on all .go files in that directory, recursively. (Files starting with a period are ignored.) By default, gofmt prints the reformatted sources to standard output. </p> <p> Usage: </p> <pre data-language="go">gofmt [flags] [path ...]
</pre> <p> The flags are: </p> <pre data-language="go">-d
	Do not print reformatted sources to standard output.
	If a file's formatting is different than gofmt's, print diffs
	to standard output.
-e
	Print all (including spurious) errors.
-l
	Do not print reformatted sources to standard output.
	If a file's formatting is different from gofmt's, print its name
	to standard output.
-r rule
	Apply the rewrite rule to the source before reformatting.
-s
	Try to simplify code (after applying the rewrite rule, if any).
-w
	Do not print reformatted sources to standard output.
	If a file's formatting is different from gofmt's, overwrite it
	with gofmt's version. If an error occurred during overwriting,
	the original file is restored from an automatic backup.
</pre> <p> Debugging support: </p> <pre data-language="go">-cpuprofile filename
	Write cpu profile to the specified file.
</pre> <p> The rewrite rule specified with the -r flag must be a string of the form: </p> <pre data-language="go">pattern -&gt; replacement
</pre> <p> Both pattern and replacement must be valid Go expressions. In the pattern, single-character lowercase identifiers serve as wildcards matching arbitrary sub-expressions; those expressions will be substituted for the same identifiers in the replacement. </p> <p> When gofmt reads from standard input, it accepts either a full Go program or a program fragment. A program fragment must be a syntactically valid declaration list, statement list, or expression. When formatting such a fragment, gofmt preserves leading indentation as well as leading and trailing spaces, so that individual sections of a Go program can be formatted by piping them through gofmt. </p> <h3 id="hdr-Examples">Examples</h3> <p> To check files for unnecessary parentheses: </p> <pre data-language="go">gofmt -r '(a) -&gt; a' -l *.go
</pre> <p> To remove the parentheses: </p> <pre data-language="go">gofmt -r '(a) -&gt; a' -w *.go
</pre> <p> To convert the package tree from explicit slice upper bounds to implicit ones: </p> <pre data-language="go">gofmt -r 'α[β:len(α)] -&gt; α[β:]' -w $GOROOT/src
</pre> <h3 id="hdr-The_simplify_command">The simplify command</h3> <p> When invoked with -s gofmt will make the following source transformations where possible. </p> <pre data-language="go">An array, slice, or map composite literal of the form:
	[]T{T{}, T{}}
will be simplified to:
	[]T{{}, {}}

A slice expression of the form:
	s[a:len(s)]
will be simplified to:
	s[a:]

A range of the form:
	for x, _ = range v {...}
will be simplified to:
	for x = range v {...}

A range of the form:
	for _ = range v {...}
will be simplified to:
	for range v {...}
</pre> <p> This may result in changes that are incompatible with earlier versions of Go. </p> <h2 id="pkg-note-BUG">Bugs</h2> <ul> <li>
<a href="https://golang.org/src/cmd/gofmt/doc.go?s=3079:3131#L92" style="float: left;">☞</a> <p> The implementation of -r is a bit slow. </p> </li> <li>
<a href="https://golang.org/src/cmd/gofmt/doc.go?s=3132:3238#L93" style="float: left;">☞</a> <p> If -w fails, the restored original file may not have some of the original file attributes. </p> </li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://golang.org/pkg/cmd/gofmt/" class="_attribution-link" target="_blank">https://golang.org/pkg/cmd/gofmt/</a>
  </p>
</div>
