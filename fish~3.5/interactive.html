<h1 id="interactive">Interactive use</h1> <p>Fish prides itself on being really nice to use interactively. That’s down to a few features we’ll explain in the next few sections.</p> <p>Fish is used by giving commands in the fish language, see <a class="reference internal" href="language#language"><span class="std std-ref">The Fish Language</span></a> for information on that.</p> <section id="help"> <h2>Help</h2> <p>Fish has an extensive help system. Use the <a class="reference internal" href="cmds/help#cmd-help"><span class="std std-ref">help</span></a> command to obtain help on a specific subject or command. For instance, writing <code>help syntax</code> displays the <a class="reference internal" href="language#syntax"><span class="std std-ref">syntax section</span></a> of this documentation.</p> <p>Fish also has man pages for its commands, and translates the help pages to man pages. For example, <code>man set</code> will show the documentation for <code>set</code> as a man page.</p> <p>Help on a specific builtin can also be obtained with the <code>-h</code> parameter. For instance, to obtain help on the <a class="reference internal" href="cmds/fg#cmd-fg"><span class="std std-ref">fg</span></a> builtin, either type <code>fg -h</code> or <code>help fg</code>.</p> <p>The main page can be viewed via <code>help index</code> (or just <code>help</code>) or <code>man fish-doc</code>. The tutorial can be viewed with <code>help tutorial</code> or <code>man fish-tutorial</code>.</p> </section> <section id="autosuggestions"> <h2 id="id1">Autosuggestions</h2> <p>fish suggests commands as you type, based on <a class="reference internal" href="#history-search"><span class="std std-ref">command history</span></a>, completions, and valid file paths. As you type commands, you will see a suggestion offered after the cursor, in a muted gray color (which can be changed with the <code>fish_color_autosuggestion</code> variable).</p> <p>To accept the autosuggestion (replacing the command line contents), press <kbd class="kbd docutils literal notranslate">→</kbd> or <kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">F</kbd>. To accept the first suggested word, press <kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">→</kbd> or <kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">F</kbd>. If the autosuggestion is not what you want, just ignore it: it won’t execute unless you accept it.</p> <p>Autosuggestions are a powerful way to quickly summon frequently entered commands, by typing the first few characters. They are also an efficient technique for navigating through directory hierarchies.</p> <p>If you don’t like autosuggestions, you can disable them by setting <code>$fish_autosuggestion_enabled</code> to 0:</p> <pre data-language="shell">set -g fish_autosuggestion_enabled 0
</pre> </section> <section id="tab-completion"> <h2 id="id2">Tab Completion</h2> <p>Tab completion is a time saving feature of any modern shell. When you type <kbd class="kbd docutils literal notranslate">Tab</kbd>, fish tries to guess the rest of the word under the cursor. If it finds just one possibility, it inserts it. If it finds more, it inserts the longest unambiguous part and then opens a menu (the “pager”) that you can navigate to find what you’re looking for.</p> <p>The pager can be navigated with the arrow keys, <kbd class="kbd docutils literal notranslate">Page Up</kbd> / <kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Page</kbd> <kbd class="kbd docutils literal notranslate">Down</kbd></kbd>, <kbd class="kbd docutils literal notranslate">Tab</kbd> or <kbd class="kbd docutils literal notranslate">Shift</kbd>+<kbd class="kbd docutils literal notranslate">Tab</kbd>. Pressing <kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">S</kbd> (the <code>pager-toggle-search</code> binding - <kbd class="kbd docutils literal notranslate">/</kbd> in vi-mode) opens up a search menu that you can use to filter the list.</p> <p>Fish provides some general purpose completions:</p> <ul class="simple"> <li>Commands (builtins, functions and regular programs).</li> <li>Shell variable names.</li> <li>Usernames for tilde expansion.</li> <li>Filenames, even on strings with wildcards such as <code>*</code> and <code>**</code>.</li> </ul> <p>It also provides a large number of program specific scripted completions. Most of these completions are simple options like the <code>-l</code> option for <code>ls</code>, but some are more advanced. For example:</p> <ul class="simple"> <li>The programs <code>man</code> and <code>whatis</code> show all installed manual pages as completions.</li> <li>The <code>make</code> program uses all targets in the Makefile in the current directory as completions.</li> <li>The <code>mount</code> command uses all mount points specified in fstab as completions.</li> <li>The <code>ssh</code> command uses all hosts that are stored in the known_hosts file as completions. (See the ssh documentation for more information)</li> <li>The <code>su</code> command shows the users on the system</li> <li>The <code>apt-get</code>, <code>rpm</code> and <code>yum</code> commands show installed or installable packages</li> </ul> <p>You can also write your own completions or install some you got from someone else. For that, see <a class="reference internal" href="completions#completion-own"><span class="std std-ref">Writing your own completions</span></a>.</p> </section> <section id="syntax-highlighting"> <h2 id="color">Syntax highlighting</h2> <p>Fish interprets the command line as it is typed and uses syntax highlighting to provide feedback. The most important feedback is the detection of potential errors. By default, errors are marked red.</p> <p>Detected errors include:</p> <ul class="simple"> <li>Non existing commands.</li> <li>Reading from or appending to a non existing file.</li> <li>Incorrect use of output redirects</li> <li>Mismatched parenthesis</li> </ul> <p>To customize the syntax highlighting, you can set the environment variables listed in the <a class="reference internal" href="#variables-color"><span class="std std-ref">Variables for changing highlighting colors</span></a> section.</p> <p>Fish also provides pre-made color themes you can pick with <a class="reference internal" href="cmds/fish_config#cmd-fish-config"><span class="std std-ref">fish_config</span></a>. Running just <code>fish_config</code> opens a browser interface, or you can use <code>fish_config theme</code> in the terminal.</p> <p>For example, to disable nearly all coloring:</p> <pre data-language="shell">fish_config theme choose none
</pre> <p>Or, to see all themes, right in your terminal:</p> <pre data-language="shell">fish_config theme show
</pre> <section id="syntax-highlighting-variables"> <h3 id="variables-color">Syntax highlighting variables</h3> <p>The colors used by fish for syntax highlighting can be configured by changing the values of a various variables. The value of these variables can be one of the colors accepted by the <a class="reference internal" href="cmds/set_color#cmd-set-color"><span class="std std-ref">set_color</span></a> command. The modifier switches accepted by <code>set_color</code> like <code>--bold</code>, <code>--dim</code>, <code>--italics</code>, <code>--reverse</code> and <code>--underline</code> are also accepted.</p> <p>Example: to make errors highlighted and red, use:</p> <pre data-language="shell">set fish_color_error red --bold
</pre> <p>The following variables are available to change the highlighting colors in fish:</p> <table class="docutils align-default"> <thead> <tr>
<th class="head"><p>Variable</p></th> <th class="head"><p>Meaning</p></th> </tr> </thead>  <tr>
<td><p><code>fish_color_normal</code></p></td> <td><p>default color</p></td> </tr> <tr>
<td><p><code>fish_color_command</code></p></td> <td><p>commands like echo</p></td> </tr> <tr>
<td><p><code>fish_color_keyword</code></p></td> <td><p>keywords like if - this falls back on the command color if unset</p></td> </tr> <tr>
<td><p><code>fish_color_quote</code></p></td> <td><p>quoted text like <code>"abc"</code></p></td> </tr> <tr>
<td><p><code>fish_color_redirection</code></p></td> <td><p>IO redirections like &gt;/dev/null</p></td> </tr> <tr>
<td><p><code>fish_color_end</code></p></td> <td><p>process separators like <code>;</code> and <code>&amp;</code></p></td> </tr> <tr>
<td><p><code>fish_color_error</code></p></td> <td><p>syntax errors</p></td> </tr> <tr>
<td><p><code>fish_color_param</code></p></td> <td><p>ordinary command parameters</p></td> </tr> <tr>
<td><p><code>fish_color_valid_path</code></p></td> <td><p>parameters that are filenames (if the file exists)</p></td> </tr> <tr>
<td><p><code>fish_color_option</code></p></td> <td><p>options starting with “-”, up to the first “--” parameter</p></td> </tr> <tr>
<td><p><code>fish_color_comment</code></p></td> <td><p>comments like ‘# important’</p></td> </tr> <tr>
<td><p><code>fish_color_selection</code></p></td> <td><p>selected text in vi visual mode</p></td> </tr> <tr>
<td><p><code>fish_color_operator</code></p></td> <td><p>parameter expansion operators like <code>*</code> and <code>~</code></p></td> </tr> <tr>
<td><p><code>fish_color_escape</code></p></td> <td><p>character escapes like <code>\n</code> and <code>\x70</code></p></td> </tr> <tr>
<td><p><code>fish_color_autosuggestion</code></p></td> <td><p>autosuggestions (the proposed rest of a command)</p></td> </tr> <tr>
<td><p><code>fish_color_cwd</code></p></td> <td><p>the current working directory in the default prompt</p></td> </tr> <tr>
<td><p><code>fish_color_cwd_root</code></p></td> <td><p>the current working directory in the default prompt for the root user</p></td> </tr> <tr>
<td><p><code>fish_color_user</code></p></td> <td><p>the username in the default prompt</p></td> </tr> <tr>
<td><p><code>fish_color_host</code></p></td> <td><p>the hostname in the default prompt</p></td> </tr> <tr>
<td><p><code>fish_color_host_remote</code></p></td> <td><p>the hostname in the default prompt for remote sessions (like ssh)</p></td> </tr> <tr>
<td><p><code>fish_color_status</code></p></td> <td><p>the last command’s nonzero exit code in the default prompt</p></td> </tr> <tr>
<td><p><code>fish_color_cancel</code></p></td> <td><p>the ‘^C’ indicator on a canceled command</p></td> </tr> <tr>
<td><p><code>fish_color_search_match</code></p></td> <td><p>history search matches and selected pager items (background only)</p></td> </tr>  </table> <p>If a variable isn’t set or is empty, fish usually tries <code>$fish_color_normal</code>, except for:</p> <ul class="simple"> <li>
<code>$fish_color_keyword</code>, where it tries <code>$fish_color_command</code> first.</li> <li>
<code>$fish_color_option</code>, where it tries <code>$fish_color_param</code> first.</li> </ul> </section> <section id="pager-color-variables"> <h3 id="variables-color-pager">Pager color variables</h3> <p>fish will sometimes present a list of choices in a table, called the pager.</p> <p>Example: to set the background of each pager row, use:</p> <pre data-language="shell">set fish_pager_color_background --background=white
</pre> <p>To have black text on alternating white and gray backgrounds:</p> <pre data-language="shell">set fish_pager_color_prefix black
set fish_pager_color_completion black
set fish_pager_color_description black
set fish_pager_color_background --background=white
set fish_pager_color_secondary_background --background=brwhite
</pre> <p>Variables affecting the pager colors:</p> <table class="docutils align-default"> <thead> <tr>
<th class="head"><p>Variable</p></th> <th class="head"><p>Meaning</p></th> </tr> </thead>  <tr>
<td><p><code>fish_pager_color_progress</code></p></td> <td><p>the progress bar at the bottom left corner</p></td> </tr> <tr>
<td><p><code>fish_pager_color_background</code></p></td> <td><p>the background color of a line</p></td> </tr> <tr>
<td><p><code>fish_pager_color_prefix</code></p></td> <td><p>the prefix string, i.e. the string that is to be completed</p></td> </tr> <tr>
<td><p><code>fish_pager_color_completion</code></p></td> <td><p>the completion itself, i.e. the proposed rest of the string</p></td> </tr> <tr>
<td><p><code>fish_pager_color_description</code></p></td> <td><p>the completion description</p></td> </tr> <tr>
<td><p><code>fish_pager_color_selected_background</code></p></td> <td><p>background of the selected completion</p></td> </tr> <tr>
<td><p><code>fish_pager_color_selected_prefix</code></p></td> <td><p>prefix of the selected completion</p></td> </tr> <tr>
<td><p><code>fish_pager_color_selected_completion</code></p></td> <td><p>suffix of the selected completion</p></td> </tr> <tr>
<td><p><code>fish_pager_color_selected_description</code></p></td> <td><p>description of the selected completion</p></td> </tr> <tr>
<td><p><code>fish_pager_color_secondary_background</code></p></td> <td><p>background of every second unselected completion</p></td> </tr> <tr>
<td><p><code>fish_pager_color_secondary_prefix</code></p></td> <td><p>prefix of every second unselected completion</p></td> </tr> <tr>
<td><p><code>fish_pager_color_secondary_completion</code></p></td> <td><p>suffix of every second unselected completion</p></td> </tr> <tr>
<td><p><code>fish_pager_color_secondary_description</code></p></td> <td><p>description of every second unselected completion</p></td> </tr>  </table> <p>When the secondary or selected variables aren’t set or are empty, the normal variables are used, except for <code>$fish_pager_color_selected_background</code>, where the background of <code>$fish_color_search_match</code> is tried first.</p> </section> </section> <section id="abbreviations"> <h2 id="id3">Abbreviations</h2> <p>To avoid needless typing, a frequently-run command like <code>git checkout</code> can be abbreviated to <code>gco</code> using the <a class="reference internal" href="cmds/abbr#cmd-abbr"><span class="std std-ref">abbr</span></a> command.</p> <pre data-language="shell">abbr -a gco git checkout
</pre> <p>After entering <code>gco</code> and pressing <kbd class="kbd docutils literal notranslate">Space</kbd> or <kbd class="kbd docutils literal notranslate">Enter</kbd>, the full text <code>git checkout</code> will appear in the command line.</p> <p>This is an alternative to aliases, and has the advantage that you see the actual command before using it, and the actual command will be stored in history.</p> </section> <section id="programmable-title"> <h2 id="title">Programmable title</h2> <p>When using most virtual terminals, it is possible to set the message displayed in the titlebar of the terminal window. This can be done automatically in fish by defining the <a class="reference internal" href="cmds/fish_title#cmd-fish-title"><span class="std std-ref">fish_title</span></a> function. The <a class="reference internal" href="cmds/fish_title#cmd-fish-title"><span class="std std-ref">fish_title</span></a> function is executed before and after a new command is executed or put into the foreground and the output is used as a titlebar message. The <a class="reference internal" href="cmds/status#cmd-status"><span class="std std-ref">status current-command</span></a> builtin will always return the name of the job to be put into the foreground (or <code>fish</code> if control is returning to the shell) when the <a class="reference internal" href="cmds/fish_prompt#cmd-fish-prompt"><span class="std std-ref">fish_prompt</span></a> function is called. The first argument to fish_title will contain the most recently executed foreground command as a string.</p> <p>The default fish title shows the hostname if connected via ssh, the currently running command (unless it is fish) and the current working directory. All of this is shortened to not make the tab too wide.</p> <p>Examples:</p> <p>To show the last command and working directory in the title:</p> <pre data-language="shell">function fish_title
    # `prompt_pwd` shortens the title. This helps prevent tabs from becoming very wide.
    echo $argv[1] (prompt_pwd)
    pwd
end
</pre> </section> <section id="programmable-prompt"> <h2 id="prompt">Programmable prompt</h2> <p>When it is fish’s turn to ask for input (like after it started or the command ended), it will show a prompt. It does this by running the <a class="reference internal" href="cmds/fish_prompt#cmd-fish-prompt"><span class="std std-ref">fish_prompt</span></a> and <a class="reference internal" href="cmds/fish_right_prompt#cmd-fish-right-prompt"><span class="std std-ref">fish_right_prompt</span></a> functions.</p> <p>The output of the former is displayed on the left and the latter’s output on the right side of the terminal. The output of <a class="reference internal" href="cmds/fish_mode_prompt#cmd-fish-mode-prompt"><span class="std std-ref">fish_mode_prompt</span></a> will be prepended on the left, though the default function only does this when in <a class="reference internal" href="#vi-mode"><span class="std std-ref">vi-mode</span></a>.</p> </section> <section id="configurable-greeting"> <h2 id="greeting">Configurable greeting</h2> <p>When it is started interactively, fish tries to run the <a class="reference internal" href="cmds/fish_greeting#cmd-fish-greeting"><span class="std std-ref">fish_greeting</span></a> function. The default fish_greeting prints a simple greeting. You can change its text by changing the <code>$fish_greeting</code> variable.</p> </section> <section id="private-mode"> <h2 id="id4">Private mode</h2> <p>If <code>$fish_private_mode</code> is set to a non-empty value, commands will not be written to the history file on disk.</p> <p>You can also launch with <code>fish --private</code> (or <code>fish -P</code> for short). This both hides old history and prevents writing history to disk. This is useful to avoid leaking personal information (e.g. for screencasts) or when dealing with sensitive information.</p> <p>You can query the variable <code>fish_private_mode</code> (<code>if test -n "$fish_private_mode" ...</code>) if you would like to respect the user’s wish for privacy and alter the behavior of your own fish scripts.</p> </section> <section id="command-line-editor"> <h2 id="editor">Command line editor</h2> <p>The fish editor features copy and paste, a <a class="reference internal" href="#history-search"><span class="std std-ref">searchable history</span></a> and many editor functions that can be bound to special keyboard shortcuts.</p> <p>Like bash and other shells, fish includes two sets of keyboard shortcuts (or key bindings): one inspired by the Emacs text editor, and one by the Vi text editor. The default editing mode is Emacs. You can switch to Vi mode by running <code>fish_vi_key_bindings</code> and switch back with <code>fish_default_key_bindings</code>. You can also make your own key bindings by creating a function and setting the <code>fish_key_bindings</code> variable to its name. For example:</p> <pre data-language="shell">function fish_hybrid_key_bindings --description \
"Vi-style bindings that inherit emacs-style bindings in all modes"
    for mode in default insert visual
        fish_default_key_bindings -M $mode
    end
    fish_vi_key_bindings --no-erase
end
set -g fish_key_bindings fish_hybrid_key_bindings
</pre> <p>While the key bindings included with fish include many of the shortcuts popular from the respective text editors, they are not a complete implementation. They include a shortcut to open the current command line in your preferred editor (<kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">E</kbd> by default) if you need the full power of your editor.</p> </section> <section id="shared-bindings"> <h2 id="shared-binds">Shared bindings</h2> <p>Some bindings are common across Emacs and Vi mode, because they aren’t text editing bindings, or because what Vi/Vim does for a particular key doesn’t make sense for a shell.</p> <ul class="simple"> <li>
<kbd class="kbd docutils literal notranslate">Tab</kbd> <a class="reference internal" href="#tab-completion"><span class="std std-ref">completes</span></a> the current token. <kbd class="kbd docutils literal notranslate">Shift</kbd>+<kbd class="kbd docutils literal notranslate">Tab</kbd> completes the current token and starts the pager’s search mode.</li> <li>
<kbd class="kbd docutils literal notranslate">←</kbd> (Left) and <kbd class="kbd docutils literal notranslate">→</kbd> (Right) move the cursor left or right by one character. If the cursor is already at the end of the line, and an autosuggestion is available, <kbd class="kbd docutils literal notranslate">→</kbd> accepts the autosuggestion.</li> <li>
<kbd class="kbd docutils literal notranslate">Enter</kbd> executes the current commandline or inserts a newline if it’s not complete yet (e.g. a <code>)</code> or <code>end</code> is missing).</li> <li>
<kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">Enter</kbd> inserts a newline at the cursor position.</li> <li>
<kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">←</kbd> and <kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">→</kbd> move the cursor one word left or right (to the next space or punctuation mark), or moves forward/backward in the directory history if the command line is empty. If the cursor is already at the end of the line, and an autosuggestion is available, <kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">→</kbd> (or <kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">F</kbd>) accepts the first word in the suggestion.</li> <li>
<kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">←</kbd> and <kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">→</kbd> move the cursor one word left or right. These accept one word of the autosuggestion - the part they’d move over.</li> <li>
<kbd class="kbd docutils literal notranslate">Shift</kbd>+<kbd class="kbd docutils literal notranslate">←</kbd> and <kbd class="kbd docutils literal notranslate">Shift</kbd>+<kbd class="kbd docutils literal notranslate">→</kbd> move the cursor one word left or right, without stopping on punctuation. These accept one big word of the autosuggestion.</li> <li>
<kbd class="kbd docutils literal notranslate">↑</kbd> (Up) and <kbd class="kbd docutils literal notranslate">↓</kbd> (Down) (or <kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">P</kbd> and <kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">N</kbd> for emacs aficionados) search the command history for the previous/next command containing the string that was specified on the commandline before the search was started. If the commandline was empty when the search started, all commands match. See the <a class="reference internal" href="#history-search"><span class="std std-ref">history</span></a> section for more information on history searching.</li> <li>
<kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">↑</kbd> and <kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">↓</kbd> search the command history for the previous/next token containing the token under the cursor before the search was started. If the commandline was not on a token when the search started, all tokens match. See the <a class="reference internal" href="#history-search"><span class="std std-ref">history</span></a> section for more information on history searching.</li> <li>
<kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">C</kbd> cancels the entire line.</li> <li>
<kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">D</kbd> delete one character to the right of the cursor. If the command line is empty, <kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">D</kbd> will exit fish.</li> <li>
<kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">U</kbd> moves contents from the beginning of line to the cursor to the <a class="reference internal" href="#killring"><span class="std std-ref">killring</span></a>.</li> <li>
<kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">L</kbd> clears and repaints the screen.</li> <li>
<kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">R</kbd> searches the history if there is something in the commandline. This is mainly to ease the transition from other shells, where ctrl+r initiates the history search.</li> <li>
<kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">W</kbd> moves the previous path component (everything up to the previous “/”, “:” or “@”) to the <a class="reference internal" href="#killring"><span class="std std-ref">Copy and paste (Kill Ring)</span></a>.</li> <li>
<kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">X</kbd> copies the current buffer to the system’s clipboard, <kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">V</kbd> inserts the clipboard contents.</li> <li>
<kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">D</kbd> moves the next word to the <a class="reference internal" href="#killring"><span class="std std-ref">Copy and paste (Kill Ring)</span></a>.</li> <li>
<kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">H</kbd> (or <kbd class="kbd docutils literal notranslate">F1</kbd>) shows the manual page for the current command, if one exists.</li> <li>
<kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">L</kbd> lists the contents of the current directory, unless the cursor is over a directory argument, in which case the contents of that directory will be listed.</li> <li>
<kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">O</kbd> opens the file at the cursor in a pager.</li> <li>
<kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">P</kbd> adds the string <code>&amp;| less;</code> to the end of the job under the cursor. The result is that the output of the command will be paged.</li> <li>
<kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">W</kbd> prints a short description of the command under the cursor.</li> <li>
<kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">E</kbd> edit the current command line in an external editor. The editor is chosen from the first available of the <code>$VISUAL</code> or <code>$EDITOR</code> variables.</li> <li>
<kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">V</kbd> Same as <kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">E</kbd>.</li> <li>
<kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">S</kbd> Prepends <code>sudo</code> to the current commandline. If the commandline is empty, prepend <code>sudo</code> to the last commandline.</li> <li>
<kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">Space</kbd> Inserts a space without expanding an <a class="reference internal" href="#abbreviations"><span class="std std-ref">abbreviation</span></a>. For vi-mode this only applies to insert-mode.</li> </ul> </section> <section id="emacs-mode-commands"> <h2 id="emacs-mode">Emacs mode commands</h2> <p>To enable emacs mode, use <code>fish_default_key_bindings</code>. This is also the default.</p> <ul class="simple"> <li>
<kbd class="kbd docutils literal notranslate">Home</kbd> or <kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">A</kbd> moves the cursor to the beginning of the line.</li> <li>
<kbd class="kbd docutils literal notranslate">End</kbd> or <kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">E</kbd> moves to the end of line. If the cursor is already at the end of the line, and an autosuggestion is available, <kbd class="kbd docutils literal notranslate">End</kbd> or <kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">E</kbd> accepts the autosuggestion.</li> <li>
<kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">B</kbd>, <kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">F</kbd> move the cursor one character left or right or accept the autosuggestion just like the <kbd class="kbd docutils literal notranslate">←</kbd> (Left) and <kbd class="kbd docutils literal notranslate">→</kbd> (Right) shared bindings (which are available as well).</li> <li>
<kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">N</kbd>, <kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">P</kbd> move the cursor up/down or through history, like the up and down arrow shared bindings.</li> <li>
<kbd class="kbd docutils literal notranslate">Delete</kbd> or <kbd class="kbd docutils literal notranslate">Backspace</kbd> removes one character forwards or backwards respectively.</li> <li>
<kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">K</kbd> moves contents from the cursor to the end of line to the <a class="reference internal" href="#killring"><span class="std std-ref">Copy and paste (Kill Ring)</span></a>.</li> <li>
<kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">C</kbd> capitalizes the current word.</li> <li>
<kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">U</kbd> makes the current word uppercase.</li> <li>
<kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">T</kbd> transposes the last two characters.</li> <li>
<kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">T</kbd> transposes the last two words.</li> <li>
<kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">Z</kbd>, <kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">_</kbd> (<kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">/</kbd> on some terminals) undo the most recent edit of the line.</li> <li>
<kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">/</kbd> reverts the most recent undo.</li> </ul> <p>You can change these key bindings using the <a class="reference internal" href="cmds/bind#cmd-bind"><span class="std std-ref">bind</span></a> builtin.</p> </section> <section id="vi-mode-commands"> <h2 id="vi-mode">Vi mode commands</h2> <p>Vi mode allows for the use of Vi-like commands at the prompt. Initially, <a class="reference internal" href="#vi-mode-insert"><span class="std std-ref">insert mode</span></a> is active. <kbd class="kbd docutils literal notranslate">Escape</kbd> enters <a class="reference internal" href="#vi-mode-command"><span class="std std-ref">command mode</span></a>. The commands available in command, insert and visual mode are described below. Vi mode shares <a class="reference internal" href="#shared-binds"><span class="std std-ref">some bindings</span></a> with <a class="reference internal" href="#emacs-mode"><span class="std std-ref">Emacs mode</span></a>.</p> <p>To enable vi mode, use <code>fish_vi_key_bindings</code>.</p> <p>It is also possible to add all emacs-mode bindings to vi-mode by using something like:</p> <pre data-language="shell">function fish_user_key_bindings
    # Execute this once per mode that emacs bindings should be used in
    fish_default_key_bindings -M insert

    # Then execute the vi-bindings so they take precedence when there's a conflict.
    # Without --no-erase fish_vi_key_bindings will default to
    # resetting all bindings.
    # The argument specifies the initial mode (insert, "default" or visual).
    fish_vi_key_bindings --no-erase insert
end
</pre> <p>When in vi-mode, the <a class="reference internal" href="cmds/fish_mode_prompt#cmd-fish-mode-prompt"><span class="std std-ref">fish_mode_prompt</span></a> function will display a mode indicator to the left of the prompt. To disable this feature, override it with an empty function. To display the mode elsewhere (like in your right prompt), use the output of the <code>fish_default_mode_prompt</code> function.</p> <p>When a binding switches the mode, it will repaint the mode-prompt if it exists, and the rest of the prompt only if it doesn’t. So if you want a mode-indicator in your <code>fish_prompt</code>, you need to erase <code>fish_mode_prompt</code> e.g. by adding an empty file at <code>~/.config/fish/functions/fish_mode_prompt.fish</code>. (Bindings that change the mode are supposed to call the <code>repaint-mode</code> bind function, see <a class="reference internal" href="cmds/bind#cmd-bind"><span class="std std-ref">bind</span></a>)</p> <p>The <code>fish_vi_cursor</code> function will be used to change the cursor’s shape depending on the mode in supported terminals. The following snippet can be used to manually configure cursors after enabling vi-mode:</p> <pre data-language="shell"># Emulates vim's cursor shape behavior
# Set the normal and visual mode cursors to a block
set fish_cursor_default block
# Set the insert mode cursor to a line
set fish_cursor_insert line
# Set the replace mode cursor to an underscore
set fish_cursor_replace_one underscore
# The following variable can be used to configure cursor shape in
# visual mode, but due to fish_cursor_default, is redundant here
set fish_cursor_visual block
</pre> <p>Additionally, <code>blink</code> can be added after each of the cursor shape parameters to set a blinking cursor in the specified shape.</p> <p>If the cursor shape does not appear to be changing after setting the above variables, it’s likely your terminal emulator does not support the capabilities necessary to do this. It may also be the case, however, that <code>fish_vi_cursor</code> has not detected your terminal’s features correctly (for example, if you are using <code>tmux</code>). If this is the case, you can force <code>fish_vi_cursor</code> to set the cursor shape by setting <code>$fish_vi_force_cursor</code> in <code>config.fish</code>. You’ll have to restart fish for any changes to take effect. If cursor shape setting remains broken after this, it’s almost certainly an issue with your terminal emulator, and not fish.</p> <section id="command-mode"> <h3 id="vi-mode-command">Command mode</h3> <p>Command mode is also known as normal mode.</p> <ul class="simple"> <li>
<kbd class="kbd docutils literal notranslate">H</kbd> moves the cursor left.</li> <li>
<kbd class="kbd docutils literal notranslate">L</kbd> moves the cursor right.</li> <li>
<kbd class="kbd docutils literal notranslate">I</kbd> enters <a class="reference internal" href="#vi-mode-insert"><span class="std std-ref">insert mode</span></a> at the current cursor position.</li> <li>
<kbd class="kbd docutils literal notranslate">V</kbd> enters <a class="reference internal" href="#vi-mode-visual"><span class="std std-ref">visual mode</span></a> at the current cursor position.</li> <li>
<kbd class="kbd docutils literal notranslate">A</kbd> enters <a class="reference internal" href="#vi-mode-insert"><span class="std std-ref">insert mode</span></a> after the current cursor position.</li> <li>
<kbd class="kbd docutils literal notranslate">Shift</kbd>+<kbd class="kbd docutils literal notranslate">A</kbd> enters <a class="reference internal" href="#vi-mode-insert"><span class="std std-ref">insert mode</span></a> at the end of the line.</li> <li>
<kbd class="kbd docutils literal notranslate">0</kbd> (zero) moves the cursor to beginning of line (remaining in command mode).</li> <li>
<kbd class="kbd docutils literal notranslate">D</kbd>+<kbd class="kbd docutils literal notranslate">D</kbd> deletes the current line and moves it to the <a class="reference internal" href="#killring"><span class="std std-ref">Copy and paste (Kill Ring)</span></a>.</li> <li>
<kbd class="kbd docutils literal notranslate">Shift</kbd>+<kbd class="kbd docutils literal notranslate">D</kbd> deletes text after the current cursor position and moves it to the <a class="reference internal" href="#killring"><span class="std std-ref">Copy and paste (Kill Ring)</span></a>.</li> <li>
<kbd class="kbd docutils literal notranslate">P</kbd> pastes text from the <a class="reference internal" href="#killring"><span class="std std-ref">Copy and paste (Kill Ring)</span></a>.</li> <li>
<kbd class="kbd docutils literal notranslate">U</kbd> search history backwards.</li> <li>
<kbd class="kbd docutils literal notranslate">[</kbd> and <kbd class="kbd docutils literal notranslate">]</kbd> search the command history for the previous/next token containing the token under the cursor before the search was started. See the <a class="reference internal" href="#history-search"><span class="std std-ref">history</span></a> section for more information on history searching.</li> <li>
<kbd class="kbd docutils literal notranslate">Backspace</kbd> moves the cursor left.</li> </ul> </section> <section id="insert-mode"> <h3 id="vi-mode-insert">Insert mode</h3> <ul class="simple"> <li>
<kbd class="kbd docutils literal notranslate">Escape</kbd> enters <a class="reference internal" href="#vi-mode-command"><span class="std std-ref">command mode</span></a>.</li> <li>
<kbd class="kbd docutils literal notranslate">Backspace</kbd> removes one character to the left.</li> </ul> </section> <section id="visual-mode"> <h3 id="vi-mode-visual">Visual mode</h3> <ul class="simple"> <li>
<kbd class="kbd docutils literal notranslate">←</kbd> (Left) and <kbd class="kbd docutils literal notranslate">→</kbd> (Right) extend the selection backward/forward by one character.</li> <li>
<kbd class="kbd docutils literal notranslate">B</kbd> and <kbd class="kbd docutils literal notranslate">W</kbd> extend the selection backward/forward by one word.</li> <li>
<kbd class="kbd docutils literal notranslate">D</kbd> and <kbd class="kbd docutils literal notranslate">X</kbd> move the selection to the <a class="reference internal" href="#killring"><span class="std std-ref">Copy and paste (Kill Ring)</span></a> and enter <a class="reference internal" href="#vi-mode-command"><span class="std std-ref">command mode</span></a>.</li> <li>
<kbd class="kbd docutils literal notranslate">Escape</kbd> and <kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">C</kbd> enter <a class="reference internal" href="#vi-mode-command"><span class="std std-ref">command mode</span></a>.</li> <li>
<kbd class="kbd docutils literal notranslate">c</kbd> and <kbd class="kbd docutils literal notranslate">s</kbd> remove the selection and switch to insert mode</li> <li>
<kbd class="kbd docutils literal notranslate">d</kbd> and <kbd class="kbd docutils literal notranslate">x</kbd> remove the selection and switch to normal mode</li> <li>
<kbd class="kbd docutils literal notranslate">X</kbd> removes the entire line and switches to normal mode</li> <li>
<kbd class="kbd docutils literal notranslate">y</kbd> copies the selection and switches to normal mode</li> <li>
<kbd class="kbd docutils literal notranslate">~</kbd> toggles the case (upper/lower) on the selection and switches to normal mode</li> <li>
<kbd class="kbd docutils literal notranslate">"*y</kbd> copies the selection to the clipboard and switches to normal mode</li> </ul> </section> </section> <section id="custom-bindings"> <h2 id="custom-binds">Custom bindings</h2> <p>In addition to the standard bindings listed here, you can also define your own with <a class="reference internal" href="cmds/bind#cmd-bind"><span class="std std-ref">bind</span></a>:</p> <pre data-language="shell"># Just clear the commandline on control-c
bind \cc 'commandline -r ""'
</pre> <p>Put <code>bind</code> statements into <a class="reference internal" href="language#configuration"><span class="std std-ref">config.fish</span></a> or a function called <code>fish_user_key_bindings</code>.</p> <p>The key sequence (the <code>\cc</code>) here depends on your setup, in particular the terminal. To find out what the terminal sends use <a class="reference internal" href="cmds/fish_key_reader#cmd-fish-key-reader"><span class="std std-ref">fish_key_reader</span></a>:</p> <pre data-language="shell">&gt; fish_key_reader # pressing control-c
Press a key:
Press [ctrl-C] again to exit
bind \cC 'do something'

&gt; fish_key_reader # pressing the right-arrow
Press a key:
bind \e\[C 'do something'
</pre> <p>Note that some key combinations are indistinguishable or unbindable. For instance control-i <em>is the same</em> as the tab key. This is a terminal limitation that fish can’t do anything about.</p> <p>Also, <kbd class="kbd docutils literal notranslate">Escape</kbd> is the same thing as <kbd class="kbd docutils literal notranslate">Alt</kbd> in a terminal. To distinguish between pressing <kbd class="kbd docutils literal notranslate">Escape</kbd> and then another key, and pressing <kbd class="kbd docutils literal notranslate">Alt</kbd> and that key (or an escape sequence the key sends), fish waits for a certain time after seeing an escape character. This is configurable via the <code>fish_escape_delay_ms</code> variable.</p> <p>If you want to be able to press <kbd class="kbd docutils literal notranslate">Escape</kbd> and then a character and have it count as <kbd class="kbd docutils literal notranslate">Alt</kbd>+that character, set it to a higher value, e.g.:</p> <pre data-language="shell">set -g fish_escape_delay_ms 100
</pre> </section> <section id="copy-and-paste-kill-ring"> <h2 id="killring">Copy and paste (Kill Ring)</h2> <p>Fish uses an Emacs-style kill ring for copy and paste functionality. For example, use <kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">K</kbd> (<code>kill-line</code>) to cut from the current cursor position to the end of the line. The string that is cut (a.k.a. killed in emacs-ese) is inserted into a list of kills, called the kill ring. To paste the latest value from the kill ring (emacs calls this “yanking”) use <kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">Y</kbd> (the <code>yank</code> input function). After pasting, use <kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">Y</kbd> (<code>yank-pop</code>) to rotate to the previous kill.</p> <p>Copy and paste from outside are also supported, both via the <kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">X</kbd> / <kbd class="kbd docutils literal notranslate">Control</kbd>+<kbd class="kbd docutils literal notranslate">V</kbd> bindings (the <code>fish_clipboard_copy</code> and <code>fish_clipboard_paste</code> functions <a class="footnote-reference brackets" href="#id6" id="id5" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>) and via the terminal’s paste function, for which fish enables “Bracketed Paste Mode”, so it can tell a paste from manually entered text. In addition, when pasting inside single quotes, pasted single quotes and backslashes are automatically escaped so that the result can be used as a single token simply by closing the quote after. Kill ring entries are stored in <code>fish_killring</code> variable.</p> <aside class="footnote-list brackets"> <aside class="footnote brackets" id="id6" role="note"> <span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id5">1</a><span class="fn-bracket">]</span></span> <p>These rely on external tools. Currently xsel, xclip, wl-copy/wl-paste and pbcopy/pbpaste are supported.</p> </aside> </aside> </section> <section id="multiline-editing"> <h2 id="multiline">Multiline editing</h2> <p>The fish commandline editor can be used to work on commands that are several lines long. There are three ways to make a command span more than a single line:</p> <ul class="simple"> <li>Pressing the <kbd class="kbd docutils literal notranslate">Enter</kbd> key while a block of commands is unclosed, such as when one or more block commands such as <code>for</code>, <code>begin</code> or <code>if</code> do not have a corresponding <a class="reference internal" href="cmds/end#cmd-end"><span class="std std-ref">end</span></a> command.</li> <li>Pressing <kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">Enter</kbd> instead of pressing the <kbd class="kbd docutils literal notranslate">Enter</kbd> key.</li> <li>By inserting a backslash (<code>\</code>) character before pressing the <kbd class="kbd docutils literal notranslate">Enter</kbd> key, escaping the newline.</li> </ul> <p>The fish commandline editor works exactly the same in single line mode and in multiline mode. To move between lines use the left and right arrow keys and other such keyboard shortcuts.</p> </section> <section id="searchable-command-history"> <h2 id="history-search">Searchable command history</h2> <p>After a command has been executed, it is remembered in the history list. Any duplicate history items are automatically removed. By pressing the up and down keys, you can search forwards and backwards in the history. If the current command line is not empty when starting a history search, only the commands containing the string entered into the command line are shown.</p> <p>By pressing <kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">↑</kbd> and <kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">↓</kbd>, a history search is also performed, but instead of searching for a complete commandline, each commandline is broken into separate elements just like it would be before execution, and the history is searched for an element matching that under the cursor.</p> <p>History searches are case-insensitive unless the search string contains an uppercase character. You can stop a search to edit your search string by pressing <kbd class="kbd docutils literal notranslate">Esc</kbd> or <kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Page</kbd> <kbd class="kbd docutils literal notranslate">Down</kbd></kbd>.</p> <p>Prefixing the commandline with a space will prevent the entire line from being stored in the history. It will still be available for recall until the next command is executed, but will not be stored on disk. This is to allow you to fix misspellings and such.</p> <p>The command history is stored in the file <code>~/.local/share/fish/fish_history</code> (or <code>$XDG_DATA_HOME/fish/fish_history</code> if that variable is set) by default. However, you can set the <code>fish_history</code> environment variable to change the name of the history session (resulting in a <code>&lt;session&gt;_history</code> file); both before starting the shell and while the shell is running.</p> <p>See the <a class="reference internal" href="cmds/history#cmd-history"><span class="std std-ref">history</span></a> command for other manipulations.</p> <p>Examples:</p> <p>To search for previous entries containing the word ‘make’, type <code>make</code> in the console and press the up key.</p> <p>If the commandline reads <code>cd m</code>, place the cursor over the <code>m</code> character and press <kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">↑</kbd> to search for previously typed words containing ‘m’.</p> </section> <section id="navigating-directories"> <h2>Navigating directories</h2> <p id="directory-history">Navigating directories is usually done with the <a class="reference internal" href="cmds/cd#cmd-cd"><span class="std std-ref">cd</span></a> command, but fish offers some advanced features as well.</p> <p>The current working directory can be displayed with the <a class="reference internal" href="cmds/pwd#cmd-pwd"><span class="std std-ref">pwd</span></a> command, or the <code>$PWD</code> <a class="reference internal" href="language#variables-special"><span class="std std-ref">special variable</span></a>. Usually your prompt already does this.</p> <section id="id7"> <h3>Directory history</h3> <p>Fish automatically keeps a trail of the recent visited directories with <a class="reference internal" href="cmds/cd#cmd-cd"><span class="std std-ref">cd</span></a> by storing this history in the <code>dirprev</code> and <code>dirnext</code> variables.</p> <p>Several commands are provided to interact with this directory history:</p> <ul class="simple"> <li>
<a class="reference internal" href="cmds/dirh#cmd-dirh"><span class="std std-ref">dirh</span></a> prints the history</li> <li>
<a class="reference internal" href="cmds/cdh#cmd-cdh"><span class="std std-ref">cdh</span></a> displays a prompt to quickly navigate the history</li> <li>
<a class="reference internal" href="cmds/prevd#cmd-prevd"><span class="std std-ref">prevd</span></a> moves backward through the history. It is bound to <kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">←</kbd>
</li> <li>
<a class="reference internal" href="cmds/nextd#cmd-nextd"><span class="std std-ref">nextd</span></a> moves forward through the history. It is bound to <kbd class="kbd docutils literal notranslate">Alt</kbd>+<kbd class="kbd docutils literal notranslate">→</kbd>
</li> </ul> </section> <section id="directory-stack"> <h3 id="id8">Directory stack</h3> <p>Another set of commands, usually also available in other shells like bash, deal with the directory stack. Stack handling is not automatic and needs explicit calls of the following commands:</p> <ul class="simple"> <li>
<a class="reference internal" href="cmds/dirs#cmd-dirs"><span class="std std-ref">dirs</span></a> prints the stack</li> <li>
<a class="reference internal" href="cmds/pushd#cmd-pushd"><span class="std std-ref">pushd</span></a> adds a directory on top of the stack and makes it the current working directory</li> <li>
<a class="reference internal" href="cmds/popd#cmd-popd"><span class="std std-ref">popd</span></a> removes the directory on top of the stack and changes the current working directory</li> </ul> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://fishshell.com/docs/3.5/interactive.html" class="_attribution-link" target="_blank">https://fishshell.com/docs/3.5/interactive.html</a>
  </p>
</div>
