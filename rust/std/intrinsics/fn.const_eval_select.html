<h1 class="fqn">Function std::intrinsics::const_eval_select</h1>
<pre class="rust fn" data-language="rust">pub unsafe fn const_eval_select&lt;ARG, F, G, RET&gt;(Â Â Â Â arg: ARG, Â Â Â Â _called_in_const: F, Â Â Â Â called_at_rt: G) -&gt; RET whereÂ Â Â Â F: FnOnce&lt;ARG, Output = RET&gt;,Â Â Â Â G: FnOnce&lt;ARG, Output = RET&gt; + Drop,Â </pre>
<div class="item-info"><div class="stab unstable">
<span class="emoji">ðŸ”¬</span> This is a nightly-only experimental API. (<code>const_eval_select</code>)</div></div>
<p>Selects which function to call depending on the context.</p> <p>If this function is evaluated at compile-time, then a call to this intrinsic will be replaced with a call to <code>called_in_const</code>. It gets replaced with a call to <code>called_at_rt</code> otherwise.</p> <h3 id="type-requirements" class="section-header">Type Requirements</h3> <p>The two functions must be both function items. They cannot be function pointers or closures.</p> <p><code>arg</code> will be the arguments that will be passed to either one of the two functions, therefore, both functions must accept the same type of arguments. Both functions must return RET.</p> <h3 id="safety" class="section-header">Safety</h3> <p>This intrinsic allows breaking <a href="https://en.wikipedia.org/wiki/Referential_transparency">referential transparency</a> in <code>const fn</code> and is therefore <code>unsafe</code>.</p> <p>Code that uses this intrinsic must be extremely careful to ensure that <code>const fn</code>s remain referentially-transparent independently of when they are evaluated.</p> <p>The Rust compiler assumes that it is sound to replace a call to a <code>const fn</code> with the result produced by evaluating it at compile-time. If evaluating the function at run-time were to produce a different result, or have any other observable side-effects, the behavior is undefined.</p><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://doc.rust-lang.org/std/intrinsics/fn.const_eval_select.html" class="_attribution-link" target="_blank">https://doc.rust-lang.org/std/intrinsics/fn.const_eval_select.html</a>
  </p>
</div>
