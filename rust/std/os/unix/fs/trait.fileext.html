<h1 class="main-heading">Trait std::os::unix::fs::FileExt</h1>
<pre class="rust trait" data-language="rust">pub trait FileExt {
    fn read_at(&amp;self, buf: &amp;mut [u8], offset: u64) -&gt; Result&lt;usize&gt;;
    fn write_at(&amp;self, buf: &amp;[u8], offset: u64) -&gt; Result&lt;usize&gt;;

    fn read_exact_at(&amp;self, buf: &amp;mut [u8], offset: u64) -&gt; Result&lt;()&gt; { ... }
    fn write_all_at(&amp;self, buf: &amp;[u8], offset: u64) -&gt; Result&lt;()&gt; { ... }
}</pre>
<span class="item-info"><div class="stab portability">Available on <strong>Unix</strong> only.</div></span><p>Unix-specific extensions to <a href="../../../fs/struct.file" title="fs::File"><code>fs::File</code></a>.</p> <h2 id="required-methods" class="small-section-header">Required Methods</h2>
<div class="methods">
<summary><div id="tymethod.read_at" class="method has-srclink">
<div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/src/std/os/unix/fs.rs.html#55">source</a></div>
<h4 class="code-header">fn read_at(&amp;self, buf: &amp;mut [u8], offset: u64) -&gt; Result&lt;usize&gt;</h4>
</div></summary><div class="docblock">
<p>Reads a number of bytes starting from a given offset.</p> <p>Returns the number of bytes read.</p> <p>The offset is relative to the start of the file and thus independent from the current cursor.</p> <p>The current file cursor is not affected by this function.</p> <p>Note that similar to <a href="../../../fs/struct.file#method.read"><code>File::read</code></a>, it is not an error to return with a short read.</p> <h5 id="examples">Examples</h5> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">use std::io;
use std::fs::File;
use std::os::unix::prelude::FileExt;

fn main() -&gt; io::Result&lt;()&gt; {
    let mut buf = [0u8; 8];
    let file = File::open("foo.txt")?;

    // We now read 8 bytes from the offset 10.
    let num_bytes_read = file.read_at(&amp;mut buf, 10)?;
    println!("read {num_bytes_read} bytes: {buf:?}");
    Ok(())
}</pre></div> </div>
<summary><div id="tymethod.write_at" class="method has-srclink">
<div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/src/std/os/unix/fs.rs.html#156">source</a></div>
<h4 class="code-header">fn write_at(&amp;self, buf: &amp;[u8], offset: u64) -&gt; Result&lt;usize&gt;</h4>
</div></summary><div class="docblock">
<p>Writes a number of bytes starting from a given offset.</p> <p>Returns the number of bytes written.</p> <p>The offset is relative to the start of the file and thus independent from the current cursor.</p> <p>The current file cursor is not affected by this function.</p> <p>When writing beyond the end of the file, the file is appropriately extended and the intermediate bytes are initialized with the value 0.</p> <p>Note that similar to <a href="../../../fs/struct.file#method.write"><code>File::write</code></a>, it is not an error to return a short write.</p> <h5 id="examples-1">Examples</h5> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">use std::fs::File;
use std::io;
use std::os::unix::prelude::FileExt;

fn main() -&gt; io::Result&lt;()&gt; {
    let file = File::open("foo.txt")?;

    // We now write at the offset 10.
    file.write_at(b"sushi", 10)?;
    Ok(())
}</pre></div> </div>
</div>
<h2 id="provided-methods" class="small-section-header">Provided Methods</h2>
<div class="methods">
<summary><div id="method.read_exact_at" class="method has-srclink">
<div class="rightside">
<a class="srclink" href="https://doc.rust-lang.org/src/std/os/unix/fs.rs.html#103-121">source</a><span class="since" title="Stable since Rust version 1.33.0">1.33.0</span> · </div>
<h4 class="code-header">fn read_exact_at(&amp;self, buf: &amp;mut [u8], offset: u64) -&gt; Result&lt;()&gt;</h4>
</div></summary><div class="docblock">
<p>Reads the exact number of byte required to fill <code>buf</code> from the given offset.</p> <p>The offset is relative to the start of the file and thus independent from the current cursor.</p> <p>The current file cursor is not affected by this function.</p> <p>Similar to <a href="../../../io/trait.read#method.read_exact" title="io::Read::read_exact"><code>io::Read::read_exact</code></a> but uses <a href="trait.fileext#tymethod.read_at"><code>read_at</code></a> instead of <code>read</code>.</p> <h5 id="errors">Errors</h5> <p>If this function encounters an error of the kind <a href="../../../io/enum.errorkind#variant.Interrupted" title="io::ErrorKind::Interrupted"><code>io::ErrorKind::Interrupted</code></a> then the error is ignored and the operation will continue.</p> <p>If this function encounters an “end of file” before completely filling the buffer, it returns an error of the kind <a href="../../../io/enum.errorkind#variant.UnexpectedEof" title="io::ErrorKind::UnexpectedEof"><code>io::ErrorKind::UnexpectedEof</code></a>. The contents of <code>buf</code> are unspecified in this case.</p> <p>If any other read error is encountered then this function immediately returns. The contents of <code>buf</code> are unspecified in this case.</p> <p>If this function returns an error, it is unspecified how many bytes it has read, but it will never read more than would be necessary to completely fill the buffer.</p> <h5 id="examples-2">Examples</h5> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">use std::io;
use std::fs::File;
use std::os::unix::prelude::FileExt;

fn main() -&gt; io::Result&lt;()&gt; {
    let mut buf = [0u8; 8];
    let file = File::open("foo.txt")?;

    // We now read exactly 8 bytes from the offset 10.
    file.read_exact_at(&amp;mut buf, 10)?;
    println!("read {} bytes: {:?}", buf.len(), buf);
    Ok(())
}</pre></div> </div>
<summary><div id="method.write_all_at" class="method has-srclink">
<div class="rightside">
<a class="srclink" href="https://doc.rust-lang.org/src/std/os/unix/fs.rs.html#195-213">source</a><span class="since" title="Stable since Rust version 1.33.0">1.33.0</span> · </div>
<h4 class="code-header">fn write_all_at(&amp;self, buf: &amp;[u8], offset: u64) -&gt; Result&lt;()&gt;</h4>
</div></summary><div class="docblock">
<p>Attempts to write an entire buffer starting from a given offset.</p> <p>The offset is relative to the start of the file and thus independent from the current cursor.</p> <p>The current file cursor is not affected by this function.</p> <p>This method will continuously call <a href="trait.fileext#tymethod.write_at"><code>write_at</code></a> until there is no more data to be written or an error of non-<a href="../../../io/enum.errorkind#variant.Interrupted" title="io::ErrorKind::Interrupted"><code>io::ErrorKind::Interrupted</code></a> kind is returned. This method will not return until the entire buffer has been successfully written or such an error occurs. The first error that is not of <a href="../../../io/enum.errorkind#variant.Interrupted" title="io::ErrorKind::Interrupted"><code>io::ErrorKind::Interrupted</code></a> kind generated from this method will be returned.</p> <h5 id="errors-1">Errors</h5> <p>This function will return the first error of non-<a href="../../../io/enum.errorkind#variant.Interrupted" title="io::ErrorKind::Interrupted"><code>io::ErrorKind::Interrupted</code></a> kind that <a href="trait.fileext#tymethod.write_at"><code>write_at</code></a> returns.</p> <h5 id="examples-3">Examples</h5> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">use std::fs::File;
use std::io;
use std::os::unix::prelude::FileExt;

fn main() -&gt; io::Result&lt;()&gt; {
    let file = File::open("foo.txt")?;

    // We now write at the offset 10.
    file.write_all_at(b"sushi", 10)?;
    Ok(())
}</pre></div> </div>
</div>
<h2 id="implementors" class="small-section-header">Implementors</h2>
<div class="item-list" id="implementors-list"><section id="impl-FileExt" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/src/std/os/unix/fs.rs.html#217-224">source</a></span><h3 class="code-header in-band">impl FileExt for File</h3></section></div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://doc.rust-lang.org/std/os/unix/fs/trait.FileExt.html" class="_attribution-link" target="_blank">https://doc.rust-lang.org/std/os/unix/fs/trait.FileExt.html</a>
  </p>
</div>
