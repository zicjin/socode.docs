<h1 class="fqn">Function std::thread::available_concurrency</h1>
<pre class="rust fn" data-language="rust">pub fn available_concurrency() -&gt; Result&lt;NonZeroUsize&gt;</pre>
<div class="item-info"><div class="stab unstable">
<span class="emoji">ðŸ”¬</span> This is a nightly-only experimental API. (<code>available_concurrency</code> <a href="https://github.com/rust-lang/rust/issues/74479">#74479</a>)</div></div>
<details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock">
<p>Returns the number of hardware threads available to the program.</p> <p>This value should be considered only a hint.</p> <h2 id="platform-specific-behavior" class="section-header">Platform-specific behavior</h2> <p>If interpreted as the number of actual hardware threads, it may undercount on Windows systems with more than 64 hardware threads. If interpreted as the available concurrency for that process, it may overcount on Windows systems when limited by a process wide affinity mask or job object limitations, and it may overcount on Linux systems when limited by a process wide affinity mask or affected by cgroups limits.</p> <h2 id="errors" class="section-header">Errors</h2> <p>This function will return an error in the following situations, but is not limited to just these cases:</p> <ul> <li>If the number of hardware threads is not known for the target platform.</li> <li>The process lacks permissions to view the number of hardware threads available.</li> </ul> <h2 id="examples" class="section-header">Examples</h2> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">
#![feature(available_concurrency)]
use std::thread;

let count = thread::available_concurrency().map(|n| n.get()).unwrap_or(1);</pre></div> </div></details><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://doc.rust-lang.org/std/thread/fn.available_concurrency.html" class="_attribution-link" target="_blank">https://doc.rust-lang.org/std/thread/fn.available_concurrency.html</a>
  </p>
</div>
