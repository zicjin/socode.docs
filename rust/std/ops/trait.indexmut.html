<h1 class="fqn">Trait std::ops::IndexMut</h1>
<pre class="rust trait" data-language="rust">pub trait IndexMut&lt;Idx&gt;: Index&lt;Idx&gt; where    Idx: ?Sized, {
    fn index_mut(&amp;mut self, index: Idx) -&gt; &amp;mut Self::Output;
}</pre>
<details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock">
<p>Used for indexing operations (<code>container[index]</code>) in mutable contexts.</p> <p><code>container[index]</code> is actually syntactic sugar for <code>*container.index_mut(index)</code>, but only when used as a mutable value. If an immutable value is requested, the <a href="trait.index" title="Index"><code>Index</code></a> trait is used instead. This allows nice things such as <code>v[index] = value</code>.</p> <h2 id="examples" class="section-header">Examples</h2> <p>A very simple implementation of a <code>Balance</code> struct that has two sides, where each can be indexed mutably and immutably.</p> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">
use std::ops::{Index, IndexMut};

#[derive(Debug)]
enum Side {
    Left,
    Right,
}

#[derive(Debug, PartialEq)]
enum Weight {
    Kilogram(f32),
    Pound(f32),
}

struct Balance {
    pub left: Weight,
    pub right: Weight,
}

impl Index&lt;Side&gt; for Balance {
    type Output = Weight;

    fn index(&amp;self, index: Side) -&gt; &amp;Self::Output {
        println!("Accessing {:?}-side of balance immutably", index);
        match index {
            Side::Left =&gt; &amp;self.left,
            Side::Right =&gt; &amp;self.right,
        }
    }
}

impl IndexMut&lt;Side&gt; for Balance {
    fn index_mut(&amp;mut self, index: Side) -&gt; &amp;mut Self::Output {
        println!("Accessing {:?}-side of balance mutably", index);
        match index {
            Side::Left =&gt; &amp;mut self.left,
            Side::Right =&gt; &amp;mut self.right,
        }
    }
}

let mut balance = Balance {
    right: Weight::Kilogram(2.5),
    left: Weight::Pound(1.5),
};

// In this case, `balance[Side::Right]` is sugar for
// `*balance.index(Side::Right)`, since we are only *reading*
// `balance[Side::Right]`, not writing it.
assert_eq!(balance[Side::Right], Weight::Kilogram(2.5));

// However, in this case `balance[Side::Left]` is sugar for
// `*balance.index_mut(Side::Left)`, since we are writing
// `balance[Side::Left]`.
balance[Side::Left] = Weight::Kilogram(3.0);</pre></div> </div></details><h2 id="required-methods" class="small-section-header">Required methods</h2>
<div class="methods"><details class="rustdoc-toggle" open><summary><div id="tymethod.index_mut" class="method has-srclink">
<h4 class="code-header">fn index_mut(&amp;mut self, index: Idx) -&gt; &amp;mut Self::Output</h4>
<a class="srclink" href="https://doc.rust-lang.org/src/core/ops/index.rs.html#174" title="goto source code">[src]</a>
</div></summary><div class="docblock">
<p>Performs the mutable indexing (<code>container[index]</code>) operation.</p> <h2 id="panics" class="section-header">Panics</h2> <p>May panic if the index is out of bounds.</p> </div></details></div>
<h2 id="implementors" class="small-section-header">Implementors</h2>
<div class="item-list" id="implementors-list">
<details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-IndexMut%3CRange%3Cusize%3E%3E" class="impl has-srclink">
<h3 class="code-header in-band">impl IndexMut&lt;Range&lt;usize&gt;&gt; for String</h3>
<a class="srclink" href="https://doc.rust-lang.org/src/alloc/string.rs.html#2258-2263" title="goto source code">[src]</a><span class="since" title="Stable since Rust version 1.3.0">1.3.0</span>
</div></summary><div class="impl-items"><div id="method.index_mut" class="method trait-impl has-srclink">
<h4 class="code-header">pub fn index_mut(&amp;mut self, index: Range&lt;usize&gt;) -&gt; &amp;mut str</h4>
<a class="srclink" href="https://doc.rust-lang.org/src/alloc/string.rs.html#2260" title="goto source code">[src]</a>
</div></div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-IndexMut%3CRangeFrom%3Cusize%3E%3E" class="impl has-srclink">
<h3 class="code-header in-band">impl IndexMut&lt;RangeFrom&lt;usize&gt;&gt; for String</h3>
<a class="srclink" href="https://doc.rust-lang.org/src/alloc/string.rs.html#2272-2277" title="goto source code">[src]</a><span class="since" title="Stable since Rust version 1.3.0">1.3.0</span>
</div></summary><div class="impl-items"><div id="method.index_mut-1" class="method trait-impl has-srclink">
<h4 class="code-header">pub fn index_mut(&amp;mut self, index: RangeFrom&lt;usize&gt;) -&gt; &amp;mut str</h4>
<a class="srclink" href="https://doc.rust-lang.org/src/alloc/string.rs.html#2274" title="goto source code">[src]</a>
</div></div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-IndexMut%3CRangeFull%3E" class="impl has-srclink">
<h3 class="code-header in-band">impl IndexMut&lt;RangeFull&gt; for OsString</h3>
<a class="srclink" href="https://doc.rust-lang.org/src/std/ffi/os_str.rs.html#388-393" title="goto source code">[src]</a><span class="since" title="Stable since Rust version 1.44.0">1.44.0</span>
</div></summary><div class="impl-items"><div id="method.index_mut-2" class="method trait-impl has-srclink">
<h4 class="code-header">fn index_mut(&amp;mut self, _index: RangeFull) -&gt; &amp;mut OsStr</h4>
<a class="srclink" href="https://doc.rust-lang.org/src/std/ffi/os_str.rs.html#390-392" title="goto source code">[src]</a>
</div></div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-IndexMut%3CRangeFull%3E-1" class="impl has-srclink">
<h3 class="code-header in-band">impl IndexMut&lt;RangeFull&gt; for String</h3>
<a class="srclink" href="https://doc.rust-lang.org/src/alloc/string.rs.html#2279-2284" title="goto source code">[src]</a><span class="since" title="Stable since Rust version 1.3.0">1.3.0</span>
</div></summary><div class="impl-items"><div id="method.index_mut-3" class="method trait-impl has-srclink">
<h4 class="code-header">pub fn index_mut(&amp;mut self, _index: RangeFull) -&gt; &amp;mut str</h4>
<a class="srclink" href="https://doc.rust-lang.org/src/alloc/string.rs.html#2281" title="goto source code">[src]</a>
</div></div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-IndexMut%3CRangeInclusive%3Cusize%3E%3E" class="impl has-srclink">
<h3 class="code-header in-band">impl IndexMut&lt;RangeInclusive&lt;usize&gt;&gt; for String</h3>
<a class="srclink" href="https://doc.rust-lang.org/src/alloc/string.rs.html#2286-2291" title="goto source code">[src]</a><span class="since" title="Stable since Rust version 1.26.0">1.26.0</span>
</div></summary><div class="impl-items"><div id="method.index_mut-4" class="method trait-impl has-srclink">
<h4 class="code-header">pub fn index_mut(&amp;mut self, index: RangeInclusive&lt;usize&gt;) -&gt; &amp;mut str</h4>
<a class="srclink" href="https://doc.rust-lang.org/src/alloc/string.rs.html#2288" title="goto source code">[src]</a>
</div></div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-IndexMut%3CRangeTo%3Cusize%3E%3E" class="impl has-srclink">
<h3 class="code-header in-band">impl IndexMut&lt;RangeTo&lt;usize&gt;&gt; for String</h3>
<a class="srclink" href="https://doc.rust-lang.org/src/alloc/string.rs.html#2265-2270" title="goto source code">[src]</a><span class="since" title="Stable since Rust version 1.3.0">1.3.0</span>
</div></summary><div class="impl-items"><div id="method.index_mut-5" class="method trait-impl has-srclink">
<h4 class="code-header">pub fn index_mut(&amp;mut self, index: RangeTo&lt;usize&gt;) -&gt; &amp;mut str</h4>
<a class="srclink" href="https://doc.rust-lang.org/src/alloc/string.rs.html#2267" title="goto source code">[src]</a>
</div></div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-IndexMut%3CRangeToInclusive%3Cusize%3E%3E" class="impl has-srclink">
<h3 class="code-header in-band">impl IndexMut&lt;RangeToInclusive&lt;usize&gt;&gt; for String</h3>
<a class="srclink" href="https://doc.rust-lang.org/src/alloc/string.rs.html#2293-2298" title="goto source code">[src]</a><span class="since" title="Stable since Rust version 1.26.0">1.26.0</span>
</div></summary><div class="impl-items"><div id="method.index_mut-6" class="method trait-impl has-srclink">
<h4 class="code-header">pub fn index_mut(&amp;mut self, index: RangeToInclusive&lt;usize&gt;) -&gt; &amp;mut str</h4>
<a class="srclink" href="https://doc.rust-lang.org/src/alloc/string.rs.html#2295" title="goto source code">[src]</a>
</div></div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-IndexMut%3Cusize%3E" class="impl has-srclink">
<h3 class="code-header in-band">impl&lt;A&gt; IndexMut&lt;usize&gt; for VecDeque&lt;A&gt;</h3>
<a class="srclink" href="https://doc.rust-lang.org/src/alloc/collections/vec_deque/mod.rs.html#2729-2734" title="goto source code">[src]</a>
</div></summary><div class="impl-items"><div id="method.index_mut-7" class="method trait-impl has-srclink">
<h4 class="code-header">pub fn index_mut(&amp;mut self, index: usize) -&gt; &amp;mut A</h4>
<a class="srclink" href="https://doc.rust-lang.org/src/alloc/collections/vec_deque/mod.rs.html#2731" title="goto source code">[src]</a>
</div></div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-IndexMut%3CI%3E" class="impl has-srclink">
<h3 class="code-header in-band">impl&lt;I&gt; IndexMut&lt;I&gt; for str <span class="where fmt-newline">where<br> I: <a class="trait" href="../slice/trait.sliceindex" title="trait std::slice::SliceIndex">SliceIndex</a>&lt;<a class="primitive" href="../primitive.str">str</a>&gt;, </span>
</h3>
<a class="srclink" href="https://doc.rust-lang.org/src/core/str/traits.rs.html#69-77" title="goto source code">[src]</a>
</div></summary><div class="impl-items"><div id="method.index_mut-8" class="method trait-impl has-srclink">
<h4 class="code-header">pub fn index_mut(&amp;mut self, index: I) -&gt; &amp;mut &lt;I as SliceIndex&lt;str&gt;&gt;::Output</h4>
<a class="srclink" href="https://doc.rust-lang.org/src/core/str/traits.rs.html#74" title="goto source code">[src]</a>
</div></div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-IndexMut%3CI%3E-1" class="impl has-srclink">
<h3 class="code-header in-band">impl&lt;T, I&gt; IndexMut&lt;I&gt; for [T] <span class="where fmt-newline">where<br> I: <a class="trait" href="../slice/trait.sliceindex" title="trait std::slice::SliceIndex">SliceIndex</a>&lt;<a class="primitive" href="../primitive.slice">[</a>T<a class="primitive" href="../primitive.slice">]</a>&gt;, </span>
</h3>
<a class="srclink" href="https://doc.rust-lang.org/src/core/slice/index.rs.html#20-28" title="goto source code">[src]</a>
</div></summary><div class="impl-items"><div id="method.index_mut-9" class="method trait-impl has-srclink">
<h4 class="code-header">pub fn index_mut(&amp;mut self, index: I) -&gt; &amp;mut &lt;I as SliceIndex&lt;[T]&gt;&gt;::Output</h4>
<a class="srclink" href="https://doc.rust-lang.org/src/core/slice/index.rs.html#25" title="goto source code">[src]</a>
</div></div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-IndexMut%3CI%3E-2" class="impl has-srclink">
<h3 class="code-header in-band">impl&lt;T, I, A&gt; IndexMut&lt;I&gt; for Vec&lt;T, A&gt; <span class="where fmt-newline">where<br> I: <a class="trait" href="../slice/trait.sliceindex" title="trait std::slice::SliceIndex">SliceIndex</a>&lt;<a class="primitive" href="../primitive.slice">[</a>T<a class="primitive" href="../primitive.slice">]</a>&gt;,<br> A: <a class="trait" href="../alloc/trait.allocator" title="trait std::alloc::Allocator">Allocator</a>, </span>
</h3>
<a class="srclink" href="https://doc.rust-lang.org/src/alloc/vec/mod.rs.html#2437-2442" title="goto source code">[src]</a>
</div></summary><div class="impl-items">
<div id="method.index_mut-10" class="method trait-impl has-srclink">
<h4 class="code-header">pub fn index_mut(&amp;mut self, index: I) -&gt; &amp;mut &lt;Vec&lt;T, A&gt; as Index&lt;I&gt;&gt;::Output</h4>
<a class="srclink" href="https://doc.rust-lang.org/src/alloc/vec/mod.rs.html#2439" title="goto source code">[src]</a>
</div>
<span class="notable-traits"><div class="notable-traits-tooltiptext"><span class="docblock"><div class="notable">Notable traits for <a class="struct" href="../vec/struct.vec" title="struct std::vec::Vec">Vec</a>&lt;<a class="primitive" href="../primitive.u8">u8</a>, A&gt;</div>
<pre class="content">impl&lt;A: Allocator&gt; Write for Vec&lt;u8, A&gt;
</pre></span></div></span>
</div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-IndexMut%3CI%3E-3" class="impl has-srclink">
<h3 class="code-header in-band">impl&lt;T, I, const N: usize&gt; IndexMut&lt;I&gt; for [T; N] <span class="where fmt-newline">where<br> <a class="primitive" href="../primitive.slice">[</a>T<a class="primitive" href="../primitive.slice">]</a>: <a class="trait" href="trait.indexmut" title="trait std::ops::IndexMut">IndexMut</a>&lt;I&gt;, </span>
</h3>
<a class="srclink" href="https://doc.rust-lang.org/src/core/array/mod.rs.html#211-219" title="goto source code">[src]</a><span class="since" title="Stable since Rust version 1.50.0">1.50.0</span>
</div></summary><div class="impl-items"><div id="method.index_mut-11" class="method trait-impl has-srclink">
<h4 class="code-header">pub fn index_mut(&amp;mut self, index: I) -&gt; &amp;mut &lt;[T; N] as Index&lt;I&gt;&gt;::Output</h4>
<a class="srclink" href="https://doc.rust-lang.org/src/core/array/mod.rs.html#216" title="goto source code">[src]</a>
</div></div></details>
</div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://doc.rust-lang.org/std/ops/trait.IndexMut.html" class="_attribution-link" target="_blank">https://doc.rust-lang.org/std/ops/trait.IndexMut.html</a>
  </p>
</div>
