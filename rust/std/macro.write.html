<h1 class="fqn">Macro std::write</h1>
<div class="example-wrap"><pre class="rust macro" data-language="rust">macro_rules! write {
    ($dst : expr, $($arg : tt) *) =&gt; { ... };
}</pre></div> <p>Writes formatted data into a buffer.</p> <p>This macro accepts a ‘writer’, a format string, and a list of arguments. Arguments will be formatted according to the specified format string and the result will be passed to the writer. The writer may be any value with a <code>write_fmt</code> method; generally this comes from an implementation of either the <a href="fmt/trait.write"><code>fmt::Write</code></a> or the <a href="io/trait.write"><code>io::Write</code></a> trait. The macro returns whatever the <code>write_fmt</code> method returns; commonly a <a href="fmt/type.result"><code>fmt::Result</code></a>, or an <a href="io/type.result"><code>io::Result</code></a>.</p> <p>See <a href="fmt/index"><code>std::fmt</code></a> for more information on the format string syntax.</p> <h3 id="examples" class="section-header">Examples</h3> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">use std::io::Write;

fn main() -&gt; std::io::Result&lt;()&gt; {
    let mut w = Vec::new();
    write!(&amp;mut w, "test")?;
    write!(&amp;mut w, "formatted {}", "arguments")?;

    assert_eq!(w, b"testformatted arguments");
    Ok(())
}</pre></div> <p>A module can import both <code>std::fmt::Write</code> and <code>std::io::Write</code> and call <code>write!</code> on objects implementing either, as objects do not typically implement both. However, the module must import the traits qualified so their names do not conflict:</p> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">use std::fmt::Write as FmtWrite;
use std::io::Write as IoWrite;

fn main() -&gt; Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt; {
    let mut s = String::new();
    let mut v = Vec::new();

    write!(&amp;mut s, "{} {}", "abc", 123)?; // uses fmt::Write::write_fmt
    write!(&amp;mut v, "s = {:?}", s)?; // uses io::Write::write_fmt
    assert_eq!(v, b"s = \"abc 123\"");
    Ok(())
}</pre></div> <p>Note: This macro can be used in <code>no_std</code> setups as well. In a <code>no_std</code> setup you are responsible for the implementation details of the components.</p> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">use core::fmt::Write;

struct Example;

impl Write for Example {
    fn write_str(&amp;mut self, _s: &amp;str) -&gt; core::fmt::Result {
         unimplemented!();
    }
}

let mut m = Example{};
write!(&amp;mut m, "Hello World").expect("Not written");</pre></div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://doc.rust-lang.org/std/macro.write.html" class="_attribution-link" target="_blank">https://doc.rust-lang.org/std/macro.write.html</a>
  </p>
</div>
