<h1 class="fqn">Function std::panic::set_hook</h1>
<pre class="rust fn" data-language="rust">pub fn set_hook(hook: Box&lt;dyn Fn(&amp;PanicInfo&lt;'_&gt;) + Sync + Send + 'static&gt;)</pre>
<p>Registers a custom panic hook, replacing any that was previously registered.</p> <p>The panic hook is invoked when a thread panics, but before the panic runtime is invoked. As such, the hook will run with both the aborting and unwinding runtimes. The default hook prints a message to standard error and generates a backtrace if requested, but this behavior can be customized with the <code>set_hook</code> and <a href="fn.take_hook"><code>take_hook</code></a> functions.</p> <p>The hook is provided with a <code>PanicInfo</code> struct which contains information about the origin of the panic, including the payload passed to <code>panic!</code> and the source code location from which the panic originated.</p> <p>The panic hook is a global resource.</p> <h3 id="panics" class="section-header">Panics</h3> <p>Panics if called from a panicking thread.</p> <h3 id="examples" class="section-header">Examples</h3> <p>The following will print “Custom panic hook”:</p> <div class="information">ⓘ This example panics</div>
<div class="example-wrap"><pre class="rust rust-example-rendered should_panic" data-language="rust">use std::panic;

panic::set_hook(Box::new(|_| {
    println!("Custom panic hook");
}));

panic!("Normal panic");</pre></div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://doc.rust-lang.org/std/panic/fn.set_hook.html" class="_attribution-link" target="_blank">https://doc.rust-lang.org/std/panic/fn.set_hook.html</a>
  </p>
</div>
