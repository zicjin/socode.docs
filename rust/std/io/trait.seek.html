<h1 class="main-heading">Trait std::io::Seek</h1>
<pre class="rust trait" data-language="rust">pub trait Seek {
    fn seek(&amp;mut self, pos: SeekFrom) -&gt; Result&lt;u64&gt;;

    fn rewind(&amp;mut self) -&gt; Result&lt;()&gt; { ... }
    fn stream_len(&amp;mut self) -&gt; Result&lt;u64&gt; { ... }
    fn stream_position(&amp;mut self) -&gt; Result&lt;u64&gt; { ... }
}</pre>
<p>The <code>Seek</code> trait provides a cursor which can be moved within a stream of bytes.</p> <p>The stream typically has a fixed size, allowing seeking relative to either end or the current offset.</p> <h2 id="examples">Examples</h2> <p><a href="../fs/struct.file"><code>File</code></a>s implement <code>Seek</code>:</p> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">use std::io;
use std::io::prelude::*;
use std::fs::File;
use std::io::SeekFrom;

fn main() -&gt; io::Result&lt;()&gt; {
    let mut f = File::open("foo.txt")?;

    // move the cursor 42 bytes from the start of the file
    f.seek(SeekFrom::Start(42))?;
    Ok(())
}</pre></div> <h2 id="required-methods" class="small-section-header">Required Methods</h2>
<div class="methods">
<summary><div id="tymethod.seek" class="method has-srclink">
<div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/src/std/io/mod.rs.html#1740">source</a></div>
<h4 class="code-header">fn seek(&amp;mut self, pos: SeekFrom) -&gt; Result&lt;u64&gt;</h4>
</div></summary><div class="docblock">
<p>Seek to an offset, in bytes, in a stream.</p> <p>A seek beyond the end of a stream is allowed, but behavior is defined by the implementation.</p> <p>If the seek operation completed successfully, this method returns the new position from the start of the stream. That position can be used later with <a href="enum.seekfrom#variant.Start" title="SeekFrom::Start"><code>SeekFrom::Start</code></a>.</p> <h5 id="errors">Errors</h5> <p>Seeking can fail, for example because it might involve flushing a buffer.</p> <p>Seeking to a negative offset is considered an error.</p> </div>
</div>
<h2 id="provided-methods" class="small-section-header">Provided Methods</h2>
<div class="methods">
<summary><div id="method.rewind" class="method has-srclink">
<div class="rightside">
<a class="srclink" href="https://doc.rust-lang.org/src/std/io/mod.rs.html#1771-1774">source</a><span class="since" title="Stable since Rust version 1.55.0">1.55.0</span> Â· </div>
<h4 class="code-header">fn rewind(&amp;mut self) -&gt; Result&lt;()&gt;</h4>
</div></summary><div class="docblock">
<p>Rewind to the beginning of a stream.</p> <p>This is a convenience method, equivalent to <code>seek(SeekFrom::Start(0))</code>.</p> <h5 id="errors-1">Errors</h5> <p>Rewinding can fail, for example because it might involve flushing a buffer.</p> <h5 id="example">Example</h5> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">use std::io::{Read, Seek, Write};
use std::fs::OpenOptions;

let mut f = OpenOptions::new()
    .write(true)
    .read(true)
    .create(true)
    .open("foo.txt").unwrap();

let hello = "Hello!\n";
write!(f, "{hello}").unwrap();
f.rewind().unwrap();

let mut buf = String::new();
f.read_to_string(&amp;mut buf).unwrap();
assert_eq!(&amp;buf, hello);</pre></div> </div>
<summary><div id="method.stream_len" class="method has-srclink">
<div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/src/std/io/mod.rs.html#1811-1822">source</a></div>
<h4 class="code-header">fn stream_len(&amp;mut self) -&gt; Result&lt;u64&gt;</h4>
</div></summary><span class="item-info"><div class="stab unstable">
<span class="emoji">ðŸ”¬</span> This is a nightly-only experimental API. (<code>seek_stream_len</code> <a href="https://github.com/rust-lang/rust/issues/59359">#59359</a>)</div></span><div class="docblock">
<p>Returns the length of this stream (in bytes).</p> <p>This method is implemented using up to three seek operations. If this method returns successfully, the seek position is unchanged (i.e. the position before calling this method is the same as afterwards). However, if this method returns an error, the seek position is unspecified.</p> <p>If you need to obtain the length of <em>many</em> streams and you donâ€™t care about the seek position afterwards, you can reduce the number of seek operations by simply calling <code>seek(SeekFrom::End(0))</code> and using its return value (it is also the stream length).</p> <p>Note that length of a stream can change over time (for example, when data is appended to a file). So calling this method multiple times does not necessarily return the same length each time.</p> <h5 id="example-1">Example</h5> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">#![feature(seek_stream_len)]
use std::{
    io::{self, Seek},
    fs::File,
};

fn main() -&gt; io::Result&lt;()&gt; {
    let mut f = File::open("foo.txt")?;

    let len = f.stream_len()?;
    println!("The file is currently {len} bytes long");
    Ok(())
}</pre></div> </div>
<summary><div id="method.stream_position" class="method has-srclink">
<div class="rightside">
<a class="srclink" href="https://doc.rust-lang.org/src/std/io/mod.rs.html#1848-1850">source</a><span class="since" title="Stable since Rust version 1.51.0">1.51.0</span> Â· </div>
<h4 class="code-header">fn stream_position(&amp;mut self) -&gt; Result&lt;u64&gt;</h4>
</div></summary><div class="docblock">
<p>Returns the current seek position from the start of the stream.</p> <p>This is equivalent to <code>self.seek(SeekFrom::Current(0))</code>.</p> <h5 id="example-2">Example</h5> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">use std::{
    io::{self, BufRead, BufReader, Seek},
    fs::File,
};

fn main() -&gt; io::Result&lt;()&gt; {
    let mut f = BufReader::new(File::open("foo.txt")?);

    let before = f.stream_position()?;
    f.read_line(&amp;mut String::new())?;
    let after = f.stream_position()?;

    println!("The first line was {} bytes long", after - before);
    Ok(())
}</pre></div> </div>
</div>
<h2 id="implementors" class="small-section-header">Implementors</h2>
<div class="item-list" id="implementors-list">
<section id="impl-Seek" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/src/std/fs.rs.html#740-744">source</a></span><h3 class="code-header in-band">impl Seek for &amp;File</h3></section><section id="impl-Seek-1" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/src/std/fs.rs.html#684-688">source</a></span><h3 class="code-header in-band">impl Seek for File</h3></section><section id="impl-Seek-2" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/src/std/io/util.rs.html#65-77">source</a><span class="since" title="Stable since Rust version 1.51.0">1.51.0</span> Â· </span><h3 class="code-header in-band">impl Seek for Empty</h3></section><section id="impl-Seek-3" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/src/std/io/buffered/bufreader.rs.html#418-509">source</a></span><h3 class="code-header in-band">impl&lt;R: Seek&gt; Seek for BufReader&lt;R&gt;</h3></section><section id="impl-Seek-4" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/src/std/io/impls.rs.html#85-95">source</a></span><h3 class="code-header in-band">impl&lt;S: Seek + ?Sized&gt; Seek for &amp;mut S</h3></section><section id="impl-Seek-5" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/src/std/io/impls.rs.html#189-199">source</a></span><h3 class="code-header in-band">impl&lt;S: Seek + ?Sized&gt; Seek for Box&lt;S&gt;</h3></section><section id="impl-Seek-6" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/src/std/io/cursor.rs.html#281-313">source</a></span><h3 class="code-header in-band">impl&lt;T&gt; Seek for Cursor&lt;T&gt; <span class="where fmt-newline">where<br> T: <a class="trait" href="../convert/trait.asref" title="trait std::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="../primitive.slice">[</a><a class="primitive" href="../primitive.u8">u8</a><a class="primitive" href="../primitive.slice">]</a>&gt;, </span>
</h3></section><section id="impl-Seek-7" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/src/std/io/buffered/bufwriter.rs.html#656-664">source</a></span><h3 class="code-header in-band">impl&lt;W: Write + Seek&gt; Seek for BufWriter&lt;W&gt;</h3></section>
</div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://doc.rust-lang.org/std/io/trait.Seek.html" class="_attribution-link" target="_blank">https://doc.rust-lang.org/std/io/trait.Seek.html</a>
  </p>
</div>
