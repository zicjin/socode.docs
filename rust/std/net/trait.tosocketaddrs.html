<h1 class="fqn">Trait std::net::ToSocketAddrs</h1>
<pre class="rust trait" data-language="rust">pub trait ToSocketAddrs {
    type Iter: Iterator&lt;Item = SocketAddr&gt;;
    fn to_socket_addrs(&amp;self) -&gt; Result&lt;Self::Iter&gt;;
}</pre>
<details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock">
<p>A trait for objects which can be converted or resolved to one or more <a href="enum.socketaddr" title="SocketAddr"><code>SocketAddr</code></a> values.</p> <p>This trait is used for generic address resolution when constructing network objects. By default it is implemented for the following types:</p> <ul> <li> <p><a href="enum.socketaddr" title="SocketAddr"><code>SocketAddr</code></a>: <a href="trait.tosocketaddrs#tymethod.to_socket_addrs"><code>to_socket_addrs</code></a> is the identity function.</p> </li> <li> <p><a href="struct.socketaddrv4" title="SocketAddrV4"><code>SocketAddrV4</code></a>, <a href="struct.socketaddrv6" title="SocketAddrV6"><code>SocketAddrV6</code></a>, <code>(</code><a href="enum.ipaddr" title="IpAddr"><code>IpAddr</code></a><code>, </code><a href="https://doc.rust-lang.org/1.54.0/std/primitive.u16.html" title="u16"><code>u16</code></a><code>)</code>, <code>(</code><a href="struct.ipv4addr" title="Ipv4Addr"><code>Ipv4Addr</code></a><code>, </code><a href="https://doc.rust-lang.org/1.54.0/std/primitive.u16.html" title="u16"><code>u16</code></a><code>)</code>, <code>(</code><a href="struct.ipv6addr" title="Ipv6Addr"><code>Ipv6Addr</code></a><code>, </code><a href="https://doc.rust-lang.org/1.54.0/std/primitive.u16.html" title="u16"><code>u16</code></a><code>)</code>: <a href="trait.tosocketaddrs#tymethod.to_socket_addrs"><code>to_socket_addrs</code></a> constructs a <a href="enum.socketaddr" title="SocketAddr"><code>SocketAddr</code></a> trivially.</p> </li> <li> <p><code>(</code><a href="https://doc.rust-lang.org/1.54.0/std/primitive.str.html"><code>&amp;str</code></a><code>, </code><a href="https://doc.rust-lang.org/1.54.0/std/primitive.u16.html" title="u16"><code>u16</code></a><code>)</code>: <a href="https://doc.rust-lang.org/1.54.0/std/primitive.str.html"><code>&amp;str</code></a> should be either a string representation of an <a href="enum.ipaddr" title="IpAddr"><code>IpAddr</code></a> address as expected by <a href="../str/trait.fromstr"><code>FromStr</code></a> implementation or a host name. <a href="https://doc.rust-lang.org/1.54.0/std/primitive.u16.html" title="u16"><code>u16</code></a> is the port number.</p> </li> <li> <p><a href="https://doc.rust-lang.org/1.54.0/std/primitive.str.html"><code>&amp;str</code></a>: the string should be either a string representation of a <a href="enum.socketaddr" title="SocketAddr"><code>SocketAddr</code></a> as expected by its <a href="../str/trait.fromstr"><code>FromStr</code></a> implementation or a string like <code>&lt;host_name&gt;:&lt;port&gt;</code> pair where <code>&lt;port&gt;</code> is a <a href="https://doc.rust-lang.org/1.54.0/std/primitive.u16.html" title="u16"><code>u16</code></a> value.</p> </li> </ul> <p>This trait allows constructing network objects like <a href="struct.tcpstream"><code>TcpStream</code></a> or <a href="struct.udpsocket"><code>UdpSocket</code></a> easily with values of various types for the bind/connection address. It is needed because sometimes one type is more appropriate than the other: for simple uses a string like <code>"localhost:12345"</code> is much nicer than manual construction of the corresponding <a href="enum.socketaddr" title="SocketAddr"><code>SocketAddr</code></a>, but sometimes <a href="enum.socketaddr" title="SocketAddr"><code>SocketAddr</code></a> value is <em>the</em> main source of the address, and converting it to some other type (e.g., a string) just for it to be converted back to <a href="enum.socketaddr" title="SocketAddr"><code>SocketAddr</code></a> in constructor methods is pointless.</p> <p>Addresses returned by the operating system that are not IP addresses are silently ignored.</p> <h2 id="examples" class="section-header">Examples</h2> <p>Creating a <a href="enum.socketaddr" title="SocketAddr"><code>SocketAddr</code></a> iterator that yields one item:</p> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">
use std::net::{ToSocketAddrs, SocketAddr};

let addr = SocketAddr::from(([127, 0, 0, 1], 443));
let mut addrs_iter = addr.to_socket_addrs().unwrap();

assert_eq!(Some(addr), addrs_iter.next());
assert!(addrs_iter.next().is_none());</pre></div> <p>Creating a <a href="enum.socketaddr" title="SocketAddr"><code>SocketAddr</code></a> iterator from a hostname:</p> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">
use std::net::{SocketAddr, ToSocketAddrs};

// assuming 'localhost' resolves to 127.0.0.1
let mut addrs_iter = "localhost:443".to_socket_addrs().unwrap();
assert_eq!(addrs_iter.next(), Some(SocketAddr::from(([127, 0, 0, 1], 443))));
assert!(addrs_iter.next().is_none());

// assuming 'foo' does not resolve
assert!("foo:443".to_socket_addrs().is_err());</pre></div> <p>Creating a <a href="enum.socketaddr" title="SocketAddr"><code>SocketAddr</code></a> iterator that yields multiple items:</p> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">
use std::net::{SocketAddr, ToSocketAddrs};

let addr1 = SocketAddr::from(([0, 0, 0, 0], 80));
let addr2 = SocketAddr::from(([127, 0, 0, 1], 443));
let addrs = vec![addr1, addr2];

let mut addrs_iter = (&amp;addrs[..]).to_socket_addrs().unwrap();

assert_eq!(Some(addr1), addrs_iter.next());
assert_eq!(Some(addr2), addrs_iter.next());
assert!(addrs_iter.next().is_none());</pre></div> <p>Attempting to create a <a href="enum.socketaddr" title="SocketAddr"><code>SocketAddr</code></a> iterator from an improperly formatted socket address <code>&amp;str</code> (missing the port):</p> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">
use std::io;
use std::net::ToSocketAddrs;

let err = "127.0.0.1".to_socket_addrs().unwrap_err();
assert_eq!(err.kind(), io::ErrorKind::InvalidInput);</pre></div> <p><a href="struct.tcpstream#method.connect"><code>TcpStream::connect</code></a> is an example of an function that utilizes <code>ToSocketAddrs</code> as a trait bound on its parameter in order to accept different types:</p> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">
use std::net::{TcpStream, Ipv4Addr};

let stream = TcpStream::connect(("127.0.0.1", 443));
// or
let stream = TcpStream::connect("127.0.0.1:443");
// or
let stream = TcpStream::connect((Ipv4Addr::new(127, 0, 0, 1), 443));</pre></div> </div></details><h2 id="associated-types" class="small-section-header">Associated Types</h2>
<div class="methods"><details class="rustdoc-toggle" open><summary><div id="associatedtype.Iter" class="method has-srclink">
<h4 class="code-header">type Iter: Iterator&lt;Item = SocketAddr&gt;</h4>
<a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#873" title="goto source code">[src]</a>
</div></summary><div class="docblock">
<p>Returned iterator over socket addresses which this type may correspond to.</p> </div></details></div>
<h2 id="required-methods" class="small-section-header">Required methods</h2>
<div class="methods"><details class="rustdoc-toggle" open><summary><div id="tymethod.to_socket_addrs" class="method has-srclink">
<h4 class="code-header">fn to_socket_addrs(&amp;self) -&gt; Result&lt;Self::Iter&gt;</h4>
<a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#883" title="goto source code">[src]</a>
</div></summary><div class="docblock">
<p>Converts this object to an iterator of resolved <code>SocketAddr</code>s.</p> <p>The returned iterator may not actually yield any values depending on the outcome of any resolution performed.</p> <p>Note that this function may block the current thread while resolution is performed.</p> </div></details></div>
<h2 id="implementors" class="small-section-header">Implementors</h2>
<div class="item-list" id="implementors-list">
<details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-ToSocketAddrs" class="impl has-srclink">
<h3 class="code-header in-band">impl ToSocketAddrs for SocketAddr</h3>
<a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#887-892" title="goto source code">[src]</a>
</div></summary><div class="impl-items">
<div id="associatedtype.Iter-1" class="type trait-impl has-srclink">
<h4 class="code-header">type Iter = IntoIter&lt;SocketAddr&gt;</h4>

</div>
<div id="method.to_socket_addrs" class="method trait-impl has-srclink">
<h4 class="code-header">fn to_socket_addrs(&amp;self) -&gt; Result&lt;IntoIter&lt;SocketAddr&gt;&gt;</h4>
<a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#889-891" title="goto source code">[src]</a>
</div>
</div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-ToSocketAddrs-1" class="impl has-srclink">
<h3 class="code-header in-band">impl ToSocketAddrs for str</h3>
<a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#981-991" title="goto source code">[src]</a>
</div></summary><div class="impl-items">
<div id="associatedtype.Iter-2" class="type trait-impl has-srclink">
<h4 class="code-header">type Iter = IntoIter&lt;SocketAddr&gt;</h4>

</div>
<div id="method.to_socket_addrs-1" class="method trait-impl has-srclink">
<h4 class="code-header">fn to_socket_addrs(&amp;self) -&gt; Result&lt;IntoIter&lt;SocketAddr&gt;&gt;</h4>
<a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#983-990" title="goto source code">[src]</a>
</div>
</div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-ToSocketAddrs-2" class="impl has-srclink">
<h3 class="code-header in-band">impl ToSocketAddrs for (&amp;str, u16)</h3>
<a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#952-969" title="goto source code">[src]</a>
</div></summary><div class="impl-items">
<div id="associatedtype.Iter-3" class="type trait-impl has-srclink">
<h4 class="code-header">type Iter = IntoIter&lt;SocketAddr&gt;</h4>

</div>
<div id="method.to_socket_addrs-2" class="method trait-impl has-srclink">
<h4 class="code-header">fn to_socket_addrs(&amp;self) -&gt; Result&lt;IntoIter&lt;SocketAddr&gt;&gt;</h4>
<a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#954-968" title="goto source code">[src]</a>
</div>
</div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-ToSocketAddrs-3" class="impl has-srclink">
<h3 class="code-header in-band">impl ToSocketAddrs for (IpAddr, u16)</h3>
<a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#911-920" title="goto source code">[src]</a>
</div></summary><div class="impl-items">
<div id="associatedtype.Iter-4" class="type trait-impl has-srclink">
<h4 class="code-header">type Iter = IntoIter&lt;SocketAddr&gt;</h4>

</div>
<div id="method.to_socket_addrs-3" class="method trait-impl has-srclink">
<h4 class="code-header">fn to_socket_addrs(&amp;self) -&gt; Result&lt;IntoIter&lt;SocketAddr&gt;&gt;</h4>
<a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#913-919" title="goto source code">[src]</a>
</div>
</div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-ToSocketAddrs-4" class="impl has-srclink">
<h3 class="code-header in-band">impl ToSocketAddrs for (String, u16)</h3>
<a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#972-977" title="goto source code">[src]</a><span class="since" title="Stable since Rust version 1.46.0">1.46.0</span>
</div></summary><div class="impl-items">
<div id="associatedtype.Iter-5" class="type trait-impl has-srclink">
<h4 class="code-header">type Iter = IntoIter&lt;SocketAddr&gt;</h4>

</div>
<div id="method.to_socket_addrs-4" class="method trait-impl has-srclink">
<h4 class="code-header">fn to_socket_addrs(&amp;self) -&gt; Result&lt;IntoIter&lt;SocketAddr&gt;&gt;</h4>
<a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#974-976" title="goto source code">[src]</a>
</div>
</div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-ToSocketAddrs-5" class="impl has-srclink">
<h3 class="code-header in-band">impl ToSocketAddrs for (Ipv4Addr, u16)</h3>
<a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#923-929" title="goto source code">[src]</a>
</div></summary><div class="impl-items">
<div id="associatedtype.Iter-6" class="type trait-impl has-srclink">
<h4 class="code-header">type Iter = IntoIter&lt;SocketAddr&gt;</h4>

</div>
<div id="method.to_socket_addrs-5" class="method trait-impl has-srclink">
<h4 class="code-header">fn to_socket_addrs(&amp;self) -&gt; Result&lt;IntoIter&lt;SocketAddr&gt;&gt;</h4>
<a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#925-928" title="goto source code">[src]</a>
</div>
</div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-ToSocketAddrs-6" class="impl has-srclink">
<h3 class="code-header in-band">impl ToSocketAddrs for (Ipv6Addr, u16)</h3>
<a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#932-938" title="goto source code">[src]</a>
</div></summary><div class="impl-items">
<div id="associatedtype.Iter-7" class="type trait-impl has-srclink">
<h4 class="code-header">type Iter = IntoIter&lt;SocketAddr&gt;</h4>

</div>
<div id="method.to_socket_addrs-6" class="method trait-impl has-srclink">
<h4 class="code-header">fn to_socket_addrs(&amp;self) -&gt; Result&lt;IntoIter&lt;SocketAddr&gt;&gt;</h4>
<a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#934-937" title="goto source code">[src]</a>
</div>
</div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-ToSocketAddrs-7" class="impl has-srclink">
<h3 class="code-header in-band">impl ToSocketAddrs for String</h3>
<a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#1011-1016" title="goto source code">[src]</a><span class="since" title="Stable since Rust version 1.16.0">1.16.0</span>
</div></summary><div class="impl-items">
<div id="associatedtype.Iter-8" class="type trait-impl has-srclink">
<h4 class="code-header">type Iter = IntoIter&lt;SocketAddr&gt;</h4>

</div>
<div id="method.to_socket_addrs-7" class="method trait-impl has-srclink">
<h4 class="code-header">fn to_socket_addrs(&amp;self) -&gt; Result&lt;IntoIter&lt;SocketAddr&gt;&gt;</h4>
<a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#1013-1015" title="goto source code">[src]</a>
</div>
</div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-ToSocketAddrs-8" class="impl has-srclink">
<h3 class="code-header in-band">impl ToSocketAddrs for SocketAddrV4</h3>
<a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#895-900" title="goto source code">[src]</a>
</div></summary><div class="impl-items">
<div id="associatedtype.Iter-9" class="type trait-impl has-srclink">
<h4 class="code-header">type Iter = IntoIter&lt;SocketAddr&gt;</h4>

</div>
<div id="method.to_socket_addrs-8" class="method trait-impl has-srclink">
<h4 class="code-header">fn to_socket_addrs(&amp;self) -&gt; Result&lt;IntoIter&lt;SocketAddr&gt;&gt;</h4>
<a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#897-899" title="goto source code">[src]</a>
</div>
</div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-ToSocketAddrs-9" class="impl has-srclink">
<h3 class="code-header in-band">impl ToSocketAddrs for SocketAddrV6</h3>
<a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#903-908" title="goto source code">[src]</a>
</div></summary><div class="impl-items">
<div id="associatedtype.Iter-10" class="type trait-impl has-srclink">
<h4 class="code-header">type Iter = IntoIter&lt;SocketAddr&gt;</h4>

</div>
<div id="method.to_socket_addrs-9" class="method trait-impl has-srclink">
<h4 class="code-header">fn to_socket_addrs(&amp;self) -&gt; Result&lt;IntoIter&lt;SocketAddr&gt;&gt;</h4>
<a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#905-907" title="goto source code">[src]</a>
</div>
</div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-ToSocketAddrs-10" class="impl has-srclink">
<h3 class="code-header in-band">impl&lt;'a&gt; ToSocketAddrs for &amp;'a [SocketAddr]</h3>
<a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#994-1000" title="goto source code">[src]</a><span class="since" title="Stable since Rust version 1.8.0">1.8.0</span>
</div></summary><div class="impl-items">
<div id="associatedtype.Iter-11" class="type trait-impl has-srclink">
<h4 class="code-header">type Iter = Cloned&lt;Iter&lt;'a, SocketAddr&gt;&gt;</h4>

</div>
<div id="method.to_socket_addrs-10" class="method trait-impl has-srclink">
<h4 class="code-header">fn to_socket_addrs(&amp;self) -&gt; Result&lt;Self::Iter&gt;</h4>
<a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#997-999" title="goto source code">[src]</a>
</div>
</div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-ToSocketAddrs-11" class="impl has-srclink">
<h3 class="code-header in-band">impl&lt;T: ToSocketAddrs + ?Sized&gt; ToSocketAddrs for &amp;T</h3>
<a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#1003-1008" title="goto source code">[src]</a>
</div></summary><div class="impl-items">
<div id="associatedtype.Iter-12" class="type trait-impl has-srclink">
<h4 class="code-header">type Iter = T::Iter</h4>

</div>
<div id="method.to_socket_addrs-11" class="method trait-impl has-srclink">
<h4 class="code-header">fn to_socket_addrs(&amp;self) -&gt; Result&lt;T::Iter&gt;</h4>
<a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#1005-1007" title="goto source code">[src]</a>
</div>
</div></details>
</div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://doc.rust-lang.org/std/net/trait.ToSocketAddrs.html" class="_attribution-link" target="_blank">https://doc.rust-lang.org/std/net/trait.ToSocketAddrs.html</a>
  </p>
</div>
