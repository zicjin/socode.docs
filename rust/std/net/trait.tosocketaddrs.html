<h1 class="main-heading">Trait std::net::ToSocketAddrs</h1>
<pre class="rust trait" data-language="rust">pub trait ToSocketAddrs {
    type Iter: Iterator&lt;Item = SocketAddr&gt;;

    fn to_socket_addrs(&amp;self) -&gt; Result&lt;Self::Iter&gt;;
}</pre>
<p>A trait for objects which can be converted or resolved to one or more <a href="enum.socketaddr" title="SocketAddr"><code>SocketAddr</code></a> values.</p> <p>This trait is used for generic address resolution when constructing network objects. By default it is implemented for the following types:</p> <ul> <li> <p><a href="enum.socketaddr" title="SocketAddr"><code>SocketAddr</code></a>: <a href="trait.tosocketaddrs#tymethod.to_socket_addrs"><code>to_socket_addrs</code></a> is the identity function.</p> </li> <li> <p><a href="struct.socketaddrv4" title="SocketAddrV4"><code>SocketAddrV4</code></a>, <a href="struct.socketaddrv6" title="SocketAddrV6"><code>SocketAddrV6</code></a>, <code>(<a href="enum.ipaddr" title="IpAddr">IpAddr</a>, <a href="../primitive.u16" title="u16">u16</a>)</code>, <code>(<a href="struct.ipv4addr" title="Ipv4Addr">Ipv4Addr</a>, <a href="../primitive.u16" title="u16">u16</a>)</code>, <code>(<a href="struct.ipv6addr" title="Ipv6Addr">Ipv6Addr</a>, <a href="../primitive.u16" title="u16">u16</a>)</code>: <a href="trait.tosocketaddrs#tymethod.to_socket_addrs"><code>to_socket_addrs</code></a> constructs a <a href="enum.socketaddr" title="SocketAddr"><code>SocketAddr</code></a> trivially.</p> </li> <li> <p><code>(&amp;<a href="../primitive.str" title="str">str</a>, <a href="../primitive.u16" title="u16">u16</a>)</code>: <code>&amp;<a href="../primitive.str" title="str">str</a></code> should be either a string representation of an <a href="enum.ipaddr" title="IpAddr"><code>IpAddr</code></a> address as expected by <a href="../str/trait.fromstr" title="std::str::FromStr"><code>FromStr</code></a> implementation or a host name. <a href="../primitive.u16" title="u16"><code>u16</code></a> is the port number.</p> </li> <li> <p><code>&amp;<a href="../primitive.str" title="str">str</a></code>: the string should be either a string representation of a <a href="enum.socketaddr" title="SocketAddr"><code>SocketAddr</code></a> as expected by its <a href="../str/trait.fromstr" title="std::str::FromStr"><code>FromStr</code></a> implementation or a string like <code>&lt;host_name&gt;:&lt;port&gt;</code> pair where <code>&lt;port&gt;</code> is a <a href="../primitive.u16" title="u16"><code>u16</code></a> value.</p> </li> </ul> <p>This trait allows constructing network objects like <a href="struct.tcpstream" title="net::TcpStream"><code>TcpStream</code></a> or <a href="struct.udpsocket" title="net::UdpSocket"><code>UdpSocket</code></a> easily with values of various types for the bind/connection address. It is needed because sometimes one type is more appropriate than the other: for simple uses a string like <code>"localhost:12345"</code> is much nicer than manual construction of the corresponding <a href="enum.socketaddr" title="SocketAddr"><code>SocketAddr</code></a>, but sometimes <a href="enum.socketaddr" title="SocketAddr"><code>SocketAddr</code></a> value is <em>the</em> main source of the address, and converting it to some other type (e.g., a string) just for it to be converted back to <a href="enum.socketaddr" title="SocketAddr"><code>SocketAddr</code></a> in constructor methods is pointless.</p> <p>Addresses returned by the operating system that are not IP addresses are silently ignored.</p> <h2 id="examples">Examples</h2> <p>Creating a <a href="enum.socketaddr" title="SocketAddr"><code>SocketAddr</code></a> iterator that yields one item:</p> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">use std::net::{ToSocketAddrs, SocketAddr};

let addr = SocketAddr::from(([127, 0, 0, 1], 443));
let mut addrs_iter = addr.to_socket_addrs().unwrap();

assert_eq!(Some(addr), addrs_iter.next());
assert!(addrs_iter.next().is_none());</pre></div> <p>Creating a <a href="enum.socketaddr" title="SocketAddr"><code>SocketAddr</code></a> iterator from a hostname:</p> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">use std::net::{SocketAddr, ToSocketAddrs};

// assuming 'localhost' resolves to 127.0.0.1
let mut addrs_iter = "localhost:443".to_socket_addrs().unwrap();
assert_eq!(addrs_iter.next(), Some(SocketAddr::from(([127, 0, 0, 1], 443))));
assert!(addrs_iter.next().is_none());

// assuming 'foo' does not resolve
assert!("foo:443".to_socket_addrs().is_err());</pre></div> <p>Creating a <a href="enum.socketaddr" title="SocketAddr"><code>SocketAddr</code></a> iterator that yields multiple items:</p> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">use std::net::{SocketAddr, ToSocketAddrs};

let addr1 = SocketAddr::from(([0, 0, 0, 0], 80));
let addr2 = SocketAddr::from(([127, 0, 0, 1], 443));
let addrs = vec![addr1, addr2];

let mut addrs_iter = (&amp;addrs[..]).to_socket_addrs().unwrap();

assert_eq!(Some(addr1), addrs_iter.next());
assert_eq!(Some(addr2), addrs_iter.next());
assert!(addrs_iter.next().is_none());</pre></div> <p>Attempting to create a <a href="enum.socketaddr" title="SocketAddr"><code>SocketAddr</code></a> iterator from an improperly formatted socket address <code>&amp;str</code> (missing the port):</p> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">use std::io;
use std::net::ToSocketAddrs;

let err = "127.0.0.1".to_socket_addrs().unwrap_err();
assert_eq!(err.kind(), io::ErrorKind::InvalidInput);</pre></div> <p><a href="struct.tcpstream#method.connect"><code>TcpStream::connect</code></a> is an example of an function that utilizes <code>ToSocketAddrs</code> as a trait bound on its parameter in order to accept different types:</p> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">use std::net::{TcpStream, Ipv4Addr};

let stream = TcpStream::connect(("127.0.0.1", 443));
// or
let stream = TcpStream::connect("127.0.0.1:443");
// or
let stream = TcpStream::connect((Ipv4Addr::new(127, 0, 0, 1), 443));</pre></div> <h2 id="required-associated-types" class="small-section-header">Required Associated Types</h2>
<div class="methods">
<summary><div id="associatedtype.Iter" class="method has-srclink">
<div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#884">source</a></div>
<h4 class="code-header">type Iter: Iterator&lt;Item = SocketAddr&gt;</h4>
</div></summary><div class="docblock">
<p>Returned iterator over socket addresses which this type may correspond to.</p> </div>
</div>
<h2 id="required-methods" class="small-section-header">Required Methods</h2>
<div class="methods">
<summary><div id="tymethod.to_socket_addrs" class="method has-srclink">
<div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#894">source</a></div>
<h4 class="code-header">fn to_socket_addrs(&amp;self) -&gt; Result&lt;Self::Iter&gt;</h4>
</div></summary><div class="docblock">
<p>Converts this object to an iterator of resolved <a href="enum.socketaddr" title="SocketAddr"><code>SocketAddr</code></a>s.</p> <p>The returned iterator might not actually yield any values depending on the outcome of any resolution performed.</p> <p>Note that this function may block the current thread while resolution is performed.</p> </div>
</div>
<h2 id="implementors" class="small-section-header">Implementors</h2>
<div class="item-list" id="implementors-list">
<summary><section id="impl-ToSocketAddrs" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#898-903">source</a></span><h3 class="code-header in-band">impl ToSocketAddrs for SocketAddr</h3></section></summary><div class="impl-items"><section id="associatedtype.Iter-1" class="associatedtype trait-impl has-srclink"><h4 class="code-header">type Iter = IntoIter&lt;SocketAddr&gt;</h4></section></div>
<summary><section id="impl-ToSocketAddrs-1" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#992-1002">source</a></span><h3 class="code-header in-band">impl ToSocketAddrs for str</h3></section></summary><div class="impl-items"><section id="associatedtype.Iter-2" class="associatedtype trait-impl has-srclink"><h4 class="code-header">type Iter = IntoIter&lt;SocketAddr, Global&gt;</h4></section></div>
<summary><section id="impl-ToSocketAddrs-2" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#963-980">source</a></span><h3 class="code-header in-band">impl ToSocketAddrs for (&amp;str, u16)</h3></section></summary><div class="impl-items"><section id="associatedtype.Iter-3" class="associatedtype trait-impl has-srclink"><h4 class="code-header">type Iter = IntoIter&lt;SocketAddr, Global&gt;</h4></section></div>
<summary><section id="impl-ToSocketAddrs-3" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#922-931">source</a></span><h3 class="code-header in-band">impl ToSocketAddrs for (IpAddr, u16)</h3></section></summary><div class="impl-items"><section id="associatedtype.Iter-4" class="associatedtype trait-impl has-srclink"><h4 class="code-header">type Iter = IntoIter&lt;SocketAddr&gt;</h4></section></div>
<summary><section id="impl-ToSocketAddrs-4" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#983-988">source</a><span class="since" title="Stable since Rust version 1.46.0">1.46.0</span> · </span><h3 class="code-header in-band">impl ToSocketAddrs for (String, u16)</h3></section></summary><div class="impl-items"><section id="associatedtype.Iter-5" class="associatedtype trait-impl has-srclink"><h4 class="code-header">type Iter = IntoIter&lt;SocketAddr, Global&gt;</h4></section></div>
<summary><section id="impl-ToSocketAddrs-5" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#934-940">source</a></span><h3 class="code-header in-band">impl ToSocketAddrs for (Ipv4Addr, u16)</h3></section></summary><div class="impl-items"><section id="associatedtype.Iter-6" class="associatedtype trait-impl has-srclink"><h4 class="code-header">type Iter = IntoIter&lt;SocketAddr&gt;</h4></section></div>
<summary><section id="impl-ToSocketAddrs-6" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#943-949">source</a></span><h3 class="code-header in-band">impl ToSocketAddrs for (Ipv6Addr, u16)</h3></section></summary><div class="impl-items"><section id="associatedtype.Iter-7" class="associatedtype trait-impl has-srclink"><h4 class="code-header">type Iter = IntoIter&lt;SocketAddr&gt;</h4></section></div>
<summary><section id="impl-ToSocketAddrs-7" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#1022-1027">source</a><span class="since" title="Stable since Rust version 1.16.0">1.16.0</span> · </span><h3 class="code-header in-band">impl ToSocketAddrs for String</h3></section></summary><div class="impl-items"><section id="associatedtype.Iter-8" class="associatedtype trait-impl has-srclink"><h4 class="code-header">type Iter = IntoIter&lt;SocketAddr, Global&gt;</h4></section></div>
<summary><section id="impl-ToSocketAddrs-8" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#906-911">source</a></span><h3 class="code-header in-band">impl ToSocketAddrs for SocketAddrV4</h3></section></summary><div class="impl-items"><section id="associatedtype.Iter-9" class="associatedtype trait-impl has-srclink"><h4 class="code-header">type Iter = IntoIter&lt;SocketAddr&gt;</h4></section></div>
<summary><section id="impl-ToSocketAddrs-9" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#914-919">source</a></span><h3 class="code-header in-band">impl ToSocketAddrs for SocketAddrV6</h3></section></summary><div class="impl-items"><section id="associatedtype.Iter-10" class="associatedtype trait-impl has-srclink"><h4 class="code-header">type Iter = IntoIter&lt;SocketAddr&gt;</h4></section></div>
<summary><section id="impl-ToSocketAddrs-10" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#1005-1011">source</a><span class="since" title="Stable since Rust version 1.8.0">1.8.0</span> · </span><h3 class="code-header in-band">impl&lt;'a&gt; ToSocketAddrs for &amp;'a [SocketAddr]</h3></section></summary><div class="impl-items"><section id="associatedtype.Iter-11" class="associatedtype trait-impl has-srclink"><h4 class="code-header">type Iter = Cloned&lt;Iter&lt;'a, SocketAddr&gt;&gt;</h4></section></div>
<summary><section id="impl-ToSocketAddrs-11" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/src/std/net/addr.rs.html#1014-1019">source</a></span><h3 class="code-header in-band">impl&lt;T: ToSocketAddrs + ?Sized&gt; ToSocketAddrs for &amp;T</h3></section></summary><div class="impl-items"><section id="associatedtype.Iter-12" class="associatedtype trait-impl has-srclink"><h4 class="code-header">type Iter = &lt;T as ToSocketAddrs&gt;::Iter</h4></section></div>
</div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://doc.rust-lang.org/std/net/trait.ToSocketAddrs.html" class="_attribution-link" target="_blank">https://doc.rust-lang.org/std/net/trait.ToSocketAddrs.html</a>
  </p>
</div>
