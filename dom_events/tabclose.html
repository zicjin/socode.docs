<h1>TabClose</h1><div class="blockIndicator nonStandard nonStandardHeader"> <p><strong> Non-standard</strong><br> This feature is non-standard and is not on a standards track. Do not use it on production sites facing the Web: it will not work for every user. There may also be large incompatibilities between implementations and the behavior may change in the future.</p> </div><div class="blockIndicator deprecated deprecatedHeader"> <p><strong> Deprecated since Gecko 57 (Firefox 57 / Thunderbird 57 / SeaMonkey 2.54)</strong><br>This feature has been removed from the Web standards. Though some browsers may still support it, it is in the process of being dropped. Avoid using it and update existing code if possible; see the <a href="#Browser_compatibility">compatibility table</a> at the bottom of this page to guide your decision. Be aware that this feature may cease to work at any time.</p> </div> <p>The non-standard, Firefox-only, <code>TabClose</code> event is sent by Firefox when a <a href="https://developer.mozilla.org/en-US/docs/XUL/tab"><code>tab</code></a> is closed.</p> <p>Only Firefox itself and Firefox XPCOM-based add-ons can receive this event. XPCOM add-ons have been obsoleted by <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions">WebExtensions</a>. If you're writing an add-on, please use <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/onRemoved"><code>tabs.onRemoved</code></a> to detect when a tab is removed.</p> <p>If you're writing code for the Web, you can't specifically determine when a tab is closed; however, you can detect when the current document closes by watching for an <code><a href="unload">unload</a></code> event.</p> <h2 id="General_info">General info</h2> <div class="_table"><table class="properties"> <tbody> <tr> <th>Specification</th> <td><em>Firefox add-ons specific</em></td> </tr> <tr> <th>Interface</th> <td>Event</td> </tr> <tr> <th>Bubbles</th> <td>Yes</td> </tr> <tr> <th>Cancelable</th> <td>No</td> </tr> <tr> <th>Target</th> <td><code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/tab">tab</a></code></td> </tr> <tr> <th>Default Action</th> <td>None</td> </tr> </tbody> </table></div> <h2 id="Properties">Properties</h2> <div class="_table"><table class="standard-table"> <thead> <tr> <th scope="col">Property</th> <th scope="col">Type</th> <th scope="col">Description</th> </tr> </thead> <tbody> <tr> <td>
<code>target</code><span class="inlineIndicator readOnly readOnlyInline">Read only </span>
</td> <td><a href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget"><code>EventTarget</code></a></td> <td>The event target (the topmost target in the DOM tree).</td> </tr> <tr> <td>
<code>type</code><span class="inlineIndicator readOnly readOnlyInline">Read only </span>
</td> <td><a href="https://developer.mozilla.org/en-US/docs/Web/API/DOMString"><code>DOMString</code></a></td> <td>The type of event.</td> </tr> <tr> <td>
<code>bubbles</code><span class="inlineIndicator readOnly readOnlyInline">Read only </span>
</td> <td><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><code>Boolean</code></a></td> <td>Whether the event normally bubbles or not.</td> </tr> <tr> <td>
<code>cancelable</code><span class="inlineIndicator readOnly readOnlyInline">Read only </span>
</td> <td><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><code>Boolean</code></a></td> <td>Whether the event is cancellable or not.</td> </tr> </tbody> </table></div> <p>The target element can also be used as a DOM <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window"><code>Window</code></a>.</p> <h2 id="Example">Example</h2> <p>This example listens for the <code>TabClose</code> event and, when it occurs, looks in the closing tab for a <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea"><code>&lt;textarea&gt;</code></a> element with the ID <code>"myEditor"</code>; if it's found, the element's text is sent to a function called <code>saveDocument()</code> for processing.</p> <pre data-language="js">window.addEventListener("TabClose", function(event) {
  var editor = event.target.document.getElementById("myEditor");

  if (editor) {
    saveDocument(editor.value);
  }
}, false);</pre> <h2 id="See_also">See also</h2> <ul> <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs"><code>tabs</code></a></li> <li>The <code><a href="unload">unload</a></code> event</li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/close"><code>window.close()</code></a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/Events/TabClose$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2018 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/Events/TabClose" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/Events/TabClose</a>
  </p>
</div>
