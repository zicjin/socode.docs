<h1>Action View Helpers</h1>
<div class="_simple"> <p>After reading this guide, you will know:</p> <ul> <li>How to format dates, strings and numbers</li> <li>How to link to images, videos, stylesheets, etc...</li> <li>How to sanitize content</li> <li>How to localize content</li> </ul>  <h2 class="chapter">Chapters</h2> <ol class="chapters"> <li> <a href="#overview-of-helpers-provided-by-action-view">Overview of helpers provided by Action View</a> <ul> <li><a href="#assettaghelper">AssetTagHelper</a></li> <li><a href="#atomfeedhelper">AtomFeedHelper</a></li> <li><a href="#benchmarkhelper">BenchmarkHelper</a></li> <li><a href="#cachehelper">CacheHelper</a></li> <li><a href="#capturehelper">CaptureHelper</a></li> <li><a href="#datehelper">DateHelper</a></li> <li><a href="#debughelper">DebugHelper</a></li> <li><a href="#formhelper">FormHelper</a></li> <li><a href="#javascripthelper">JavaScriptHelper</a></li> <li><a href="#numberhelper">NumberHelper</a></li> <li><a href="#sanitizehelper">SanitizeHelper</a></li> <li><a href="#urlhelper">UrlHelper</a></li> <li><a href="#csrfhelper">CsrfHelper</a></li> </ul> </li> </ol>   <h2 id="overview-of-helpers-provided-by-action-view"><a class="anchorlink" href="#overview-of-helpers-provided-by-action-view">1 Overview of helpers provided by Action View</a></h2>
<p>WIP: Not all the helpers are listed here. For a full list see the <a href="https://edgeapi.rubyonrails.org/classes/ActionView/Helpers.html">API documentation</a></p>
<p>The following is only a brief overview summary of the helpers available in Action View. It's recommended that you review the <a href="https://edgeapi.rubyonrails.org/classes/ActionView/Helpers.html">API Documentation</a>, which covers all of the helpers in more detail, but this should serve as a good starting point.</p>
<h3 id="assettaghelper"><a class="anchorlink" href="#assettaghelper">1.1 AssetTagHelper</a></h3>
<p>This module provides methods for generating HTML that links views to assets such as images, JavaScript files, stylesheets, and feeds.</p>
<p>By default, Rails links to these assets on the current host in the public folder, but you can direct Rails to link to assets from a dedicated assets server by setting <code>config.asset_host</code> in the application configuration, typically in <code>config/environments/production.rb</code>. For example, let's say your asset host is <code>assets.example.com</code>:</p> <pre data-language="ruby">config.asset_host = "assets.example.com"
image_tag("rails.png")
# =&gt; &lt;img src="http://assets.example.com/images/rails.png" /&gt;</pre> <textarea class="clipboard-content" id="clipboard-4fa59de8c70be78809126fbb6efaecb5">config.asset_host = "assets.example.com" image_tag("rails.png") # =&gt; &lt;img src="http://assets.example.com/images/rails.png" /&gt; </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-4fa59de8c70be78809126fbb6efaecb5">Copy</button>  <h4 id="auto-discovery-link-tag"><a class="anchorlink" href="#auto-discovery-link-tag">1.1.1 auto_discovery_link_tag</a></h4>
<p>Returns a link tag that browsers and feed readers can use to auto-detect an RSS, Atom, or JSON feed.</p> <pre data-language="ruby">auto_discovery_link_tag(:rss, "http://www.example.com/feed.rss", { title: "RSS Feed" })
# =&gt; &lt;link rel="alternate" type="application/rss+xml" title="RSS Feed" href="http://www.example.com/feed.rss" /&gt;</pre> <textarea class="clipboard-content" id="clipboard-137c8dadeb15d55b8bbcf605954fc4e6">auto_discovery_link_tag(:rss, "http://www.example.com/feed.rss", { title: "RSS Feed" }) # =&gt; &lt;link rel="alternate" type="application/rss+xml" title="RSS Feed" href="http://www.example.com/feed.rss" /&gt; </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-137c8dadeb15d55b8bbcf605954fc4e6">Copy</button>  <h4 id="image-path"><a class="anchorlink" href="#image-path">1.1.2 image_path</a></h4>
<p>Computes the path to an image asset in the <code>app/assets/images</code> directory. Full paths from the document root will be passed through. Used internally by <code>image_tag</code> to build the image path.</p> <pre data-language="ruby">image_path("edit.png") # =&gt; /assets/edit.png</pre> <textarea class="clipboard-content" id="clipboard-3f6931ec7fbb0f2e25cf6c20ecb94f04">image_path("edit.png") # =&gt; /assets/edit.png </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-3f6931ec7fbb0f2e25cf6c20ecb94f04">Copy</button>  <p>Fingerprint will be added to the filename if config.assets.digest is set to true.</p> <pre data-language="ruby">image_path("edit.png")
# =&gt; /assets/edit-2d1a2db63fc738690021fedb5a65b68e.png</pre> <textarea class="clipboard-content" id="clipboard-c6bf892a06743a57d712cf58e7982ad6">image_path("edit.png") # =&gt; /assets/edit-2d1a2db63fc738690021fedb5a65b68e.png </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-c6bf892a06743a57d712cf58e7982ad6">Copy</button>  <h4 id="image-url"><a class="anchorlink" href="#image-url">1.1.3 image_url</a></h4>
<p>Computes the URL to an image asset in the <code>app/assets/images</code> directory. This will call <code>image_path</code> internally and merge with your current host or your asset host.</p> <pre data-language="ruby">image_url("edit.png") # =&gt; http://www.example.com/assets/edit.png</pre> <textarea class="clipboard-content" id="clipboard-3dff96e75be54845461a354813e4638b">image_url("edit.png") # =&gt; http://www.example.com/assets/edit.png </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-3dff96e75be54845461a354813e4638b">Copy</button>  <h4 id="image-tag"><a class="anchorlink" href="#image-tag">1.1.4 image_tag</a></h4>
<p>Returns an HTML image tag for the source. The source can be a full path or a file that exists in your <code>app/assets/images</code> directory.</p> <pre data-language="ruby">image_tag("icon.png") # =&gt; &lt;img src="/assets/icon.png" /&gt;</pre> <textarea class="clipboard-content" id="clipboard-f18ebbfdc484b3c4ba40dc48ed0073d4">image_tag("icon.png") # =&gt; &lt;img src="/assets/icon.png" /&gt; </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-f18ebbfdc484b3c4ba40dc48ed0073d4">Copy</button>  <h4 id="javascript-include-tag"><a class="anchorlink" href="#javascript-include-tag">1.1.5 javascript_include_tag</a></h4>
<p>Returns an HTML script tag for each of the sources provided. You can pass in the filename (<code>.js</code> extension is optional) of JavaScript files that exist in your <code>app/assets/javascripts</code> directory for inclusion into the current page or you can pass the full path relative to your document root.</p> <pre data-language="ruby">javascript_include_tag "common"
# =&gt; &lt;script src="/assets/common.js"&gt;&lt;/script&gt;</pre> <textarea class="clipboard-content" id="clipboard-b4cc52824ebc476bbe07a91e661b3e79">javascript_include_tag "common" # =&gt; &lt;script src="/assets/common.js"&gt;&lt;/script&gt; </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-b4cc52824ebc476bbe07a91e661b3e79">Copy</button>  <h4 id="javascript-path"><a class="anchorlink" href="#javascript-path">1.1.6 javascript_path</a></h4>
<p>Computes the path to a JavaScript asset in the <code>app/assets/javascripts</code> directory. If the source filename has no extension, <code>.js</code> will be appended. Full paths from the document root will be passed through. Used internally by <code>javascript_include_tag</code> to build the script path.</p> <pre data-language="ruby">javascript_path "common" # =&gt; /assets/common.js</pre> <textarea class="clipboard-content" id="clipboard-196914167501d1104277f16dcb3e7b52">javascript_path "common" # =&gt; /assets/common.js </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-196914167501d1104277f16dcb3e7b52">Copy</button>  <h4 id="javascript-url"><a class="anchorlink" href="#javascript-url">1.1.7 javascript_url</a></h4>
<p>Computes the URL to a JavaScript asset in the <code>app/assets/javascripts</code> directory. This will call <code>javascript_path</code> internally and merge with your current host or your asset host.</p> <pre data-language="ruby">javascript_url "common"
# =&gt; http://www.example.com/assets/common.js</pre> <textarea class="clipboard-content" id="clipboard-e0e2a0a785f04005fe367df244966185">javascript_url "common" # =&gt; http://www.example.com/assets/common.js </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-e0e2a0a785f04005fe367df244966185">Copy</button>  <h4 id="stylesheet-link-tag"><a class="anchorlink" href="#stylesheet-link-tag">1.1.8 stylesheet_link_tag</a></h4>
<p>Returns a stylesheet link tag for the sources specified as arguments. If you don't specify an extension, <code>.css</code> will be appended automatically.</p> <pre data-language="ruby">stylesheet_link_tag "application"
# =&gt; &lt;link href="/assets/application.css" media="screen" rel="stylesheet" /&gt;</pre> <textarea class="clipboard-content" id="clipboard-379f0aff3f884f644c8a4c013799c6b0">stylesheet_link_tag "application" # =&gt; &lt;link href="/assets/application.css" media="screen" rel="stylesheet" /&gt; </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-379f0aff3f884f644c8a4c013799c6b0">Copy</button>  <h4 id="stylesheet-path"><a class="anchorlink" href="#stylesheet-path">1.1.9 stylesheet_path</a></h4>
<p>Computes the path to a stylesheet asset in the <code>app/assets/stylesheets</code> directory. If the source filename has no extension, <code>.css</code> will be appended. Full paths from the document root will be passed through. Used internally by <code>stylesheet_link_tag</code> to build the stylesheet path.</p> <pre data-language="ruby">stylesheet_path "application" # =&gt; /assets/application.css</pre> <textarea class="clipboard-content" id="clipboard-d6fe1be967e4f97b6320ddba3825af71">stylesheet_path "application" # =&gt; /assets/application.css </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-d6fe1be967e4f97b6320ddba3825af71">Copy</button>  <h4 id="stylesheet-url"><a class="anchorlink" href="#stylesheet-url">1.1.10 stylesheet_url</a></h4>
<p>Computes the URL to a stylesheet asset in the <code>app/assets/stylesheets</code> directory. This will call <code>stylesheet_path</code> internally and merge with your current host or your asset host.</p> <pre data-language="ruby">stylesheet_url "application"
# =&gt; http://www.example.com/assets/application.css</pre> <textarea class="clipboard-content" id="clipboard-e89119ff572281e257da4977464e7b47">stylesheet_url "application" # =&gt; http://www.example.com/assets/application.css </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-e89119ff572281e257da4977464e7b47">Copy</button>  <h3 id="atomfeedhelper"><a class="anchorlink" href="#atomfeedhelper">1.2 AtomFeedHelper</a></h3>
<h4 id="atom-feed"><a class="anchorlink" href="#atom-feed">1.2.1 atom_feed</a></h4>
<p>This helper makes building an Atom feed easy. Here's a full usage example:</p>
<p><strong>config/routes.rb</strong></p> <pre data-language="ruby">resources :articles</pre> <textarea class="clipboard-content" id="clipboard-d051930898f94001580d73f41ec25469">resources :articles </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-d051930898f94001580d73f41ec25469">Copy</button>  <p><strong>app/controllers/articles_controller.rb</strong></p> <pre data-language="ruby">def index
  @articles = Article.all

  respond_to do |format|
    format.html
    format.atom
  end
end</pre> <textarea class="clipboard-content" id="clipboard-f6a845db1e32f1177aba0fcdb0ce4f8a">def index @articles = Article.all respond_to do |format| format.html format.atom end end </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-f6a845db1e32f1177aba0fcdb0ce4f8a">Copy</button>  <p><strong>app/views/articles/index.atom.builder</strong></p> <pre data-language="ruby">atom_feed do |feed|
  feed.title("Articles Index")
  feed.updated(@articles.first.created_at)

  @articles.each do |article|
    feed.entry(article) do |entry|
      entry.title(article.title)
      entry.content(article.body, type: 'html')

      entry.author do |author|
        author.name(article.author_name)
      end
    end
  end
end</pre> <textarea class="clipboard-content" id="clipboard-11c394d656b9eadfd172efa3ee72557e">atom_feed do |feed| feed.title("Articles Index") feed.updated(@articles.first.created_at) @articles.each do |article| feed.entry(article) do |entry| entry.title(article.title) entry.content(article.body, type: 'html') entry.author do |author| author.name(article.author_name) end end end end </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-11c394d656b9eadfd172efa3ee72557e">Copy</button>  <h3 id="benchmarkhelper"><a class="anchorlink" href="#benchmarkhelper">1.3 BenchmarkHelper</a></h3>
<h4 id="benchmark"><a class="anchorlink" href="#benchmark">1.3.1 benchmark</a></h4>
<p>Allows you to measure the execution time of a block in a template and records the result to the log. Wrap this block around expensive operations or possible bottlenecks to get a time reading for the operation.</p> <pre data-language="erb">&lt;% benchmark "Process data files" do %&gt;
  &lt;%= expensive_files_operation %&gt;
&lt;% end %&gt;</pre> <textarea class="clipboard-content" id="clipboard-936f0a315cbc52ec1ef6279ac26b8512">&lt;% benchmark "Process data files" do %&gt; &lt;%= expensive_files_operation %&gt; &lt;% end %&gt; </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-936f0a315cbc52ec1ef6279ac26b8512">Copy</button>  <p>This would add something like "Process data files (0.34523)" to the log, which you can then use to compare timings when optimizing your code.</p>
<h3 id="cachehelper"><a class="anchorlink" href="#cachehelper">1.4 CacheHelper</a></h3>
<h4 id="cache"><a class="anchorlink" href="#cache">1.4.1 cache</a></h4>
<p>A method for caching fragments of a view rather than an entire action or page. This technique is useful for caching pieces like menus, lists of news topics, static HTML fragments, and so on. This method takes a block that contains the content you wish to cache. See <code>AbstractController::Caching::Fragments</code> for more information.</p> <pre data-language="erb">&lt;% cache do %&gt;
  &lt;%= render "shared/footer" %&gt;
&lt;% end %&gt;</pre> <textarea class="clipboard-content" id="clipboard-2e7617d7533d74653fa97fee7c971bae">&lt;% cache do %&gt; &lt;%= render "shared/footer" %&gt; &lt;% end %&gt; </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-2e7617d7533d74653fa97fee7c971bae">Copy</button>  <h3 id="capturehelper"><a class="anchorlink" href="#capturehelper">1.5 CaptureHelper</a></h3>
<h4 id="capture"><a class="anchorlink" href="#capture">1.5.1 capture</a></h4>
<p>The <code>capture</code> method allows you to extract part of a template into a variable. You can then use this variable anywhere in your templates or layout.</p> <pre data-language="erb">&lt;% @greeting = capture do %&gt;
  &lt;p&gt;Welcome! The date and time is &lt;%= Time.now %&gt;&lt;/p&gt;
&lt;% end %&gt;</pre> <textarea class="clipboard-content" id="clipboard-1b1213ae391e60530ddf4d2b0327cd40">&lt;% @greeting = capture do %&gt; &lt;p&gt;Welcome! The date and time is &lt;%= Time.now %&gt;&lt;/p&gt; &lt;% end %&gt; </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-1b1213ae391e60530ddf4d2b0327cd40">Copy</button>  <p>The captured variable can then be used anywhere else.</p> <pre data-language="erb">&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Welcome!&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;%= @greeting %&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre> <textarea class="clipboard-content" id="clipboard-a68973fca6603d0092895022d43f55be">&lt;html&gt; &lt;head&gt; &lt;title&gt;Welcome!&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;%= @greeting %&gt; &lt;/body&gt; &lt;/html&gt; </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-a68973fca6603d0092895022d43f55be">Copy</button>  <h4 id="content-for"><a class="anchorlink" href="#content-for">1.5.2 content_for</a></h4>
<p>Calling <code>content_for</code> stores a block of markup in an identifier for later use. You can make subsequent calls to the stored content in other templates or the layout by passing the identifier as an argument to <code>yield</code>.</p>
<p>For example, let's say we have a standard application layout, but also a special page that requires certain JavaScript that the rest of the site doesn't need. We can use <code>content_for</code> to include this JavaScript on our special page without fattening up the rest of the site.</p>
<p><strong>app/views/layouts/application.html.erb</strong></p> <pre data-language="erb">&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Welcome!&lt;/title&gt;
    &lt;%= yield :special_script %&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p&gt;Welcome! The date and time is &lt;%= Time.now %&gt;&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre> <textarea class="clipboard-content" id="clipboard-9060b689aa409164f0616f0e83b5a593">&lt;html&gt; &lt;head&gt; &lt;title&gt;Welcome!&lt;/title&gt; &lt;%= yield :special_script %&gt; &lt;/head&gt; &lt;body&gt; &lt;p&gt;Welcome! The date and time is &lt;%= Time.now %&gt;&lt;/p&gt; &lt;/body&gt; &lt;/html&gt; </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-9060b689aa409164f0616f0e83b5a593">Copy</button>  <p><strong>app/views/articles/special.html.erb</strong></p> <pre data-language="erb">&lt;p&gt;This is a special page.&lt;/p&gt;

&lt;% content_for :special_script do %&gt;
  &lt;script&gt;alert('Hello!')&lt;/script&gt;
&lt;% end %&gt;</pre> <textarea class="clipboard-content" id="clipboard-5c296f14bf61ed3767d86ebd45a9d3e1">&lt;p&gt;This is a special page.&lt;/p&gt; &lt;% content_for :special_script do %&gt; &lt;script&gt;alert('Hello!')&lt;/script&gt; &lt;% end %&gt; </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-5c296f14bf61ed3767d86ebd45a9d3e1">Copy</button>  <h3 id="datehelper"><a class="anchorlink" href="#datehelper">1.6 DateHelper</a></h3>
<h4 id="distance-of-time-in-words"><a class="anchorlink" href="#distance-of-time-in-words">1.6.1 distance_of_time_in_words</a></h4>
<p>Reports the approximate distance in time between two Time or Date objects or integers as seconds. Set <code>include_seconds</code> to true if you want more detailed approximations.</p> <pre data-language="ruby">distance_of_time_in_words(Time.now, Time.now + 15.seconds)
# =&gt; less than a minute
distance_of_time_in_words(Time.now, Time.now + 15.seconds, include_seconds: true)
# =&gt; less than 20 seconds</pre> <textarea class="clipboard-content" id="clipboard-db2d7e898bada35680594ae602328695">distance_of_time_in_words(Time.now, Time.now + 15.seconds) # =&gt; less than a minute distance_of_time_in_words(Time.now, Time.now + 15.seconds, include_seconds: true) # =&gt; less than 20 seconds </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-db2d7e898bada35680594ae602328695">Copy</button>  <h4 id="time-ago-in-words"><a class="anchorlink" href="#time-ago-in-words">1.6.2 time_ago_in_words</a></h4>
<p>Like <code>distance_of_time_in_words</code>, but where <code>to_time</code> is fixed to <code>Time.now</code>.</p> <pre data-language="ruby">time_ago_in_words(3.minutes.from_now) # =&gt; 3 minutes</pre> <textarea class="clipboard-content" id="clipboard-b7c0da5045a8618fb8b89195ab701cc8">time_ago_in_words(3.minutes.from_now) # =&gt; 3 minutes </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-b7c0da5045a8618fb8b89195ab701cc8">Copy</button>  <h3 id="debughelper"><a class="anchorlink" href="#debughelper">1.7 DebugHelper</a></h3>
<p>Returns a <code>pre</code> tag that has object dumped by YAML. This creates a very readable way to inspect an object.</p> <pre data-language="ruby">my_hash = { 'first' =&gt; 1, 'second' =&gt; 'two', 'third' =&gt; [1,2,3] }
debug(my_hash)</pre> <textarea class="clipboard-content" id="clipboard-4c06f25047bc3a7fd1081a8c718727a7">my_hash = { 'first' =&gt; 1, 'second' =&gt; 'two', 'third' =&gt; [1,2,3] } debug(my_hash) </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-4c06f25047bc3a7fd1081a8c718727a7">Copy</button>   <pre data-language="html">&lt;pre class='debug_dump'&gt;---
first: 1
second: two
third:
- 1
- 2
- 3
&lt;/pre&gt;</pre> <textarea class="clipboard-content" id="clipboard-dc66fab448662f6b8bdcb58c937de6bb">&lt;pre class='debug_dump'&gt;--- first: 1 second: two third: - 1 - 2 - 3 &lt;/pre&gt; </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-dc66fab448662f6b8bdcb58c937de6bb">Copy</button>  <h3 id="formhelper"><a class="anchorlink" href="#formhelper">1.8 FormHelper</a></h3>
<p>Form helpers are designed to make working with models much easier compared to using just standard HTML elements by providing a set of methods for creating forms based on your models. This helper generates the HTML for forms, providing a method for each sort of input (e.g., text, password, select, and so on). When the form is submitted (i.e., when the user hits the submit button or form.submit is called via JavaScript), the form inputs will be bundled into the params object and passed back to the controller.</p>
<p>You can learn more about form helpers in the <a href="form_helpers">Action View Form Helpers Guide</a>.</p>
<h3 id="javascripthelper"><a class="anchorlink" href="#javascripthelper">1.9 JavaScriptHelper</a></h3>
<p>Provides functionality for working with JavaScript in your views.</p>
<h4 id="escape-javascript"><a class="anchorlink" href="#escape-javascript">1.9.1 escape_javascript</a></h4>
<p>Escape carrier returns and single and double quotes for JavaScript segments.</p>
<h4 id="javascript-tag"><a class="anchorlink" href="#javascript-tag">1.9.2 javascript_tag</a></h4>
<p>Returns a JavaScript tag wrapping the provided code.</p> <pre data-language="ruby">javascript_tag "alert('All is good')"</pre> <textarea class="clipboard-content" id="clipboard-09fb0c689bbbbd139e365ccef77f691e">javascript_tag "alert('All is good')" </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-09fb0c689bbbbd139e365ccef77f691e">Copy</button>   <pre data-language="html">&lt;script&gt;
//&lt;![CDATA[
alert('All is good')
//]]&gt;
&lt;/script&gt;</pre> <textarea class="clipboard-content" id="clipboard-2aa4e131a3c5d469d0b37bc696d65c84">&lt;script&gt; //&lt;![CDATA[ alert('All is good') //]]&gt; &lt;/script&gt; </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-2aa4e131a3c5d469d0b37bc696d65c84">Copy</button>  <h3 id="numberhelper"><a class="anchorlink" href="#numberhelper">1.10 NumberHelper</a></h3>
<p>Provides methods for converting numbers into formatted strings. Methods are provided for phone numbers, currency, percentage, precision, positional notation, and file size.</p>
<h4 id="number-to-currency"><a class="anchorlink" href="#number-to-currency">1.10.1 number_to_currency</a></h4>
<p>Formats a number into a currency string (e.g., $13.65).</p> <pre data-language="ruby">number_to_currency(1234567890.50) # =&gt; $1,234,567,890.50</pre> <textarea class="clipboard-content" id="clipboard-6e9fc3c5d7bb0eeaa20301bf4860cb7c">number_to_currency(1234567890.50) # =&gt; $1,234,567,890.50 </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-6e9fc3c5d7bb0eeaa20301bf4860cb7c">Copy</button>  <h4 id="number-to-human-size"><a class="anchorlink" href="#number-to-human-size">1.10.2 number_to_human_size</a></h4>
<p>Formats the bytes in size into a more understandable representation; useful for reporting file sizes to users.</p> <pre data-language="ruby">number_to_human_size(1234)    # =&gt; 1.2 KB
number_to_human_size(1234567) # =&gt; 1.2 MB</pre> <textarea class="clipboard-content" id="clipboard-52e35390de0c5aeeeb38e796707cdbab">number_to_human_size(1234) # =&gt; 1.2 KB number_to_human_size(1234567) # =&gt; 1.2 MB </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-52e35390de0c5aeeeb38e796707cdbab">Copy</button>  <h4 id="number-to-percentage"><a class="anchorlink" href="#number-to-percentage">1.10.3 number_to_percentage</a></h4>
<p>Formats a number as a percentage string.</p> <pre data-language="ruby">number_to_percentage(100, precision: 0) # =&gt; 100%</pre> <textarea class="clipboard-content" id="clipboard-e882455e6de62a71d4be3c82199bcd0e">number_to_percentage(100, precision: 0) # =&gt; 100% </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-e882455e6de62a71d4be3c82199bcd0e">Copy</button>  <h4 id="number-to-phone"><a class="anchorlink" href="#number-to-phone">1.10.4 number_to_phone</a></h4>
<p>Formats a number into a phone number (US by default).</p> <pre data-language="ruby">number_to_phone(1235551234) # =&gt; 123-555-1234</pre> <textarea class="clipboard-content" id="clipboard-1fd8ffdd0f50ea611e78e012e6fef79f">number_to_phone(1235551234) # =&gt; 123-555-1234 </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-1fd8ffdd0f50ea611e78e012e6fef79f">Copy</button>  <h4 id="number-with-delimiter"><a class="anchorlink" href="#number-with-delimiter">1.10.5 number_with_delimiter</a></h4>
<p>Formats a number with grouped thousands using a delimiter.</p> <pre data-language="ruby">number_with_delimiter(12345678) # =&gt; 12,345,678</pre> <textarea class="clipboard-content" id="clipboard-a093b4773703eb43230062b913075ccf">number_with_delimiter(12345678) # =&gt; 12,345,678 </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-a093b4773703eb43230062b913075ccf">Copy</button>  <h4 id="number-with-precision"><a class="anchorlink" href="#number-with-precision">1.10.6 number_with_precision</a></h4>
<p>Formats a number with the specified level of <code>precision</code>, which defaults to 3.</p> <pre data-language="ruby">number_with_precision(111.2345)               # =&gt; 111.235
number_with_precision(111.2345, precision: 2) # =&gt; 111.23</pre> <textarea class="clipboard-content" id="clipboard-d3469c5123d72ed4970b89820a41db2e">number_with_precision(111.2345) # =&gt; 111.235 number_with_precision(111.2345, precision: 2) # =&gt; 111.23 </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-d3469c5123d72ed4970b89820a41db2e">Copy</button>  <h3 id="sanitizehelper"><a class="anchorlink" href="#sanitizehelper">1.11 SanitizeHelper</a></h3>
<p>The SanitizeHelper module provides a set of methods for scrubbing text of undesired HTML elements.</p>
<h4 id="sanitize"><a class="anchorlink" href="#sanitize">1.11.1 sanitize</a></h4>
<p>This sanitize helper will HTML encode all tags and strip all attributes that aren't specifically allowed.</p> <pre data-language="ruby">sanitize @article.body</pre> <textarea class="clipboard-content" id="clipboard-4a524b6eac323c78aec60424221e11cc">sanitize @article.body </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-4a524b6eac323c78aec60424221e11cc">Copy</button>  <p>If either the <code>:attributes</code> or <code>:tags</code> options are passed, only the mentioned attributes and tags are allowed and nothing else.</p> <pre data-language="ruby">sanitize @article.body, tags: %w(table tr td), attributes: %w(id class style)</pre> <textarea class="clipboard-content" id="clipboard-df6cc122c8d12dcf3399162b6189d607">sanitize @article.body, tags: %w(table tr td), attributes: %w(id class style) </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-df6cc122c8d12dcf3399162b6189d607">Copy</button>  <p>To change defaults for multiple uses, for example adding table tags to the default:</p> <pre data-language="ruby">class Application &lt; Rails::Application
  config.action_view.sanitized_allowed_tags = 'table', 'tr', 'td'
end</pre> <textarea class="clipboard-content" id="clipboard-3126a1959adf61fce9bc6a55d3aab32b">class Application &lt; Rails::Application config.action_view.sanitized_allowed_tags = 'table', 'tr', 'td' end </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-3126a1959adf61fce9bc6a55d3aab32b">Copy</button>  <h4 id="sanitize-css-style"><a class="anchorlink" href="#sanitize-css-style">1.11.2 sanitize_css(style)</a></h4>
<p>Sanitizes a block of CSS code.</p>
<h4 id="strip-links-html"><a class="anchorlink" href="#strip-links-html">1.11.3 strip_links(html)</a></h4>
<p>Strips all link tags from text leaving just the link text.</p> <pre data-language="ruby">strip_links('&lt;a href="https://rubyonrails.org"&gt;Ruby on Rails&lt;/a&gt;')
# =&gt; Ruby on Rails</pre> <textarea class="clipboard-content" id="clipboard-d5386162b93e5f352e5631c5a65fce65">strip_links('&lt;a href="https://rubyonrails.org"&gt;Ruby on Rails&lt;/a&gt;') # =&gt; Ruby on Rails </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-d5386162b93e5f352e5631c5a65fce65">Copy</button>   <pre data-language="ruby">strip_links('emails to &lt;a href="mailto:me@email.com"&gt;me@email.com&lt;/a&gt;.')
# =&gt; emails to me@email.com.</pre> <textarea class="clipboard-content" id="clipboard-cbca9bbecd8522f3ec41a5ce02dddbcb">strip_links('emails to &lt;a href="mailto:me@email.com"&gt;me@email.com&lt;/a&gt;.') # =&gt; emails to me@email.com. </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-cbca9bbecd8522f3ec41a5ce02dddbcb">Copy</button>   <pre data-language="ruby">strip_links('Blog: &lt;a href="http://myblog.com/"&gt;Visit&lt;/a&gt;.')
# =&gt; Blog: Visit.</pre> <textarea class="clipboard-content" id="clipboard-7ebb6e130cea48a17f709c704e2669de">strip_links('Blog: &lt;a href="http://myblog.com/"&gt;Visit&lt;/a&gt;.') # =&gt; Blog: Visit. </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-7ebb6e130cea48a17f709c704e2669de">Copy</button>  <h4 id="strip-tags-html"><a class="anchorlink" href="#strip-tags-html">1.11.4 strip_tags(html)</a></h4>
<p>Strips all HTML tags from the html, including comments. This functionality is powered by the rails-html-sanitizer gem.</p> <pre data-language="ruby">strip_tags("Strip &lt;i&gt;these&lt;/i&gt; tags!")
# =&gt; Strip these tags!</pre> <textarea class="clipboard-content" id="clipboard-4c0c2ec1f5e5ee35d52828b6043381d7">strip_tags("Strip &lt;i&gt;these&lt;/i&gt; tags!") # =&gt; Strip these tags! </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-4c0c2ec1f5e5ee35d52828b6043381d7">Copy</button>   <pre data-language="ruby">strip_tags("&lt;b&gt;Bold&lt;/b&gt; no more!  &lt;a href='more.html'&gt;See more&lt;/a&gt;")
# =&gt; Bold no more!  See more</pre> <textarea class="clipboard-content" id="clipboard-aa73a589f97764fde5d134fed9389da0">strip_tags("&lt;b&gt;Bold&lt;/b&gt; no more! &lt;a href='more.html'&gt;See more&lt;/a&gt;") # =&gt; Bold no more! See more </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-aa73a589f97764fde5d134fed9389da0">Copy</button>  <p>NB: The output may still contain unescaped '&lt;', '&gt;', '&amp;' characters and confuse browsers.</p>
<h3 id="urlhelper"><a class="anchorlink" href="#urlhelper">1.12 UrlHelper</a></h3>
<p>Provides methods to make links and get URLs that depend on the routing subsystem.</p>
<h4 id="url-for"><a class="anchorlink" href="#url-for">1.12.1 url_for</a></h4>
<p>Returns the URL for the set of <code>options</code> provided.</p>
<h5 id="url-for-examples"><a class="anchorlink" href="#url-for-examples">1.12.1.1 Examples</a></h5> <pre data-language="ruby">url_for @profile
# =&gt; /profiles/1

url_for [ @hotel, @booking, page: 2, line: 3 ]
# =&gt; /hotels/1/bookings/1?line=3&amp;page=2</pre> <textarea class="clipboard-content" id="clipboard-59b8f9cabe47a485dcc45c387a1ff5dd">url_for @profile # =&gt; /profiles/1 url_for [ @hotel, @booking, page: 2, line: 3 ] # =&gt; /hotels/1/bookings/1?line=3&amp;page=2 </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-59b8f9cabe47a485dcc45c387a1ff5dd">Copy</button>  <h4 id="link-to"><a class="anchorlink" href="#link-to">1.12.2 link_to</a></h4>
<p>Links to a URL derived from <code>url_for</code> under the hood. Primarily used to create RESTful resource links, which for this example, boils down to when passing models to <code>link_to</code>.</p>
<p><strong>Examples</strong></p> <pre data-language="ruby">link_to "Profile", @profile
# =&gt; &lt;a href="/profiles/1"&gt;Profile&lt;/a&gt;</pre> <textarea class="clipboard-content" id="clipboard-639b7c99f7c5a5dabbdb61b639a56f69">link_to "Profile", @profile # =&gt; &lt;a href="/profiles/1"&gt;Profile&lt;/a&gt; </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-639b7c99f7c5a5dabbdb61b639a56f69">Copy</button>  <p>You can use a block as well if your link target can't fit in the name parameter. ERB example:</p> <pre data-language="erb">&lt;%= link_to @profile do %&gt;
  &lt;strong&gt;&lt;%= @profile.name %&gt;&lt;/strong&gt; -- &lt;span&gt;Check it out!&lt;/span&gt;
&lt;% end %&gt;</pre> <textarea class="clipboard-content" id="clipboard-8ab9a5761b2fd07793c85fc4e6415d68">&lt;%= link_to @profile do %&gt; &lt;strong&gt;&lt;%= @profile.name %&gt;&lt;/strong&gt; -- &lt;span&gt;Check it out!&lt;/span&gt; &lt;% end %&gt; </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-8ab9a5761b2fd07793c85fc4e6415d68">Copy</button>  <p>would output:</p> <pre data-language="html">&lt;a href="/profiles/1"&gt;
  &lt;strong&gt;David&lt;/strong&gt; -- &lt;span&gt;Check it out!&lt;/span&gt;
&lt;/a&gt;</pre> <textarea class="clipboard-content" id="clipboard-b44e007c02eb2898bb4b725feee76154">&lt;a href="/profiles/1"&gt; &lt;strong&gt;David&lt;/strong&gt; -- &lt;span&gt;Check it out!&lt;/span&gt; &lt;/a&gt; </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-b44e007c02eb2898bb4b725feee76154">Copy</button>  <p>See <a href="https://edgeapi.rubyonrails.org/classes/ActionView/Helpers/UrlHelper.html#method-i-link_to">the API Documentation for more information</a></p>
<h4 id="button-to"><a class="anchorlink" href="#button-to">1.12.3 button_to</a></h4>
<p>Generates a form that submits to the passed URL. The form has a submit button with the value of the <code>name</code>.</p>
<h5 id="button-to-examples"><a class="anchorlink" href="#button-to-examples">1.12.3.1 Examples</a></h5> <pre data-language="erb">&lt;%= button_to "Sign in", sign_in_path %&gt;</pre> <textarea class="clipboard-content" id="clipboard-3b10e651228f50e6e2406d3c32ab1784">&lt;%= button_to "Sign in", sign_in_path %&gt; </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-3b10e651228f50e6e2406d3c32ab1784">Copy</button>  <p>would roughly output something like:</p> <pre data-language="html">&lt;form method="post" action="/sessions" class="button_to"&gt;
  &lt;input type="submit" value="Sign in" /&gt;
&lt;/form&gt;</pre> <textarea class="clipboard-content" id="clipboard-ccea8ad56efc7eebf8b69b06ed206e3c">&lt;form method="post" action="/sessions" class="button_to"&gt; &lt;input type="submit" value="Sign in" /&gt; &lt;/form&gt; </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-ccea8ad56efc7eebf8b69b06ed206e3c">Copy</button>  <p>See <a href="https://edgeapi.rubyonrails.org/classes/ActionView/Helpers/UrlHelper.html#method-i-button_to">the API Documentation for more information</a></p>
<h3 id="csrfhelper"><a class="anchorlink" href="#csrfhelper">1.13 CsrfHelper</a></h3>
<p>Returns meta tags "csrf-param" and "csrf-token" with the name of the cross-site request forgery protection parameter and token, respectively.</p> <pre data-language="html">&lt;%= csrf_meta_tags %&gt;</pre> <textarea class="clipboard-content" id="clipboard-d786e73ffefb9d07479197af29d72338">&lt;%= csrf_meta_tags %&gt; </textarea> <button class="clipboard-button" data-clipboard-target="#clipboard-d786e73ffefb9d07479197af29d72338">Copy</button>  <div class="note"><p>Regular forms generate hidden fields so they do not use these tags. More details can be found in the <a href="security#cross-site-request-forgery-csrf">Rails Security Guide</a>.</p></div> <h2>Feedback</h2> <p> You're encouraged to help improve the quality of this guide. </p> <p> Please contribute if you see any typos or factual errors. To get started, you can read our <a href="https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation">documentation contributions</a> section. </p> <p> You may also find incomplete content or stuff that is not up to date. Please do add any missing documentation for master. Make sure to check <a href="https://edgeguides.rubyonrails.org">Edge Guides</a> first to verify if the issues are already fixed or not on the master branch. Check the <span>Ruby on Rails Guides Guidelines</span> for style and conventions. </p> <p> If for whatever reason you spot something to fix but cannot patch it yourself, please <a href="https://github.com/rails/rails/issues">open an issue</a>. </p> <p>And last but not least, any kind of discussion regarding Ruby on Rails documentation is very welcome on the <a href="https://discuss.rubyonrails.org/c/rubyonrails-docs">rubyonrails-docs mailing list</a>. </p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2004&ndash;2020 David Heinemeier Hansson<br>Licensed under the Creative Commons Attribution-ShareAlike 4.0 International License.<br>
    
  </p>
</div>
