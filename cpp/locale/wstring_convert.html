    <h1 id="firstHeading" class="firstHeading">std::wstring_convert</h1>            <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th> Defined in header <code><a href="../header/locale" title="cpp/header/locale">&lt;locale&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">template&lt; class Codecvt,
          class Elem = wchar_t,
          class Wide_alloc = std::allocator&lt;Elem&gt;,
          class Byte_alloc = std::allocator&lt;char&gt; &gt;
class wstring_convert;</pre>
</td> <td class="t-dcl-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx11">(since C++11)</span> <br><span class="t-mark">(deprecated in C++17)</span> </td> </tr>  </table> <p>Class template <code>std::wstring_convert</code> performs conversions between byte string <code><a href="../string/basic_string" title="cpp/string/basic string">std::string</a></code> and wide string <code><a href="http://en.cppreference.com/w/cpp/string/basic_string"><span class="kw1231">std::<span class="me2">basic_string</span></span></a><span class="sy1">&lt;</span>Elem<span class="sy1">&gt;</span></code>, using an individual code conversion facet <code>Codecvt</code>. <code>std::wstring_convert</code> assumes ownership of the conversion facet, and cannot use a facet managed by a locale. The standard facets suitable for use with <code>std::wstring_convert</code> are <code><a href="codecvt_utf8" title="cpp/locale/codecvt utf8">std::codecvt_utf8</a></code> for UTF-8/UCS2 and UTF-8/UCS4 conversions and <code><a href="codecvt_utf8_utf16" title="cpp/locale/codecvt utf8 utf16">std::codecvt_utf8_utf16</a></code> for UTF-8/UTF-16 conversions.</p>
<h3 id="Member_types"> Member types</h3> <table class="t-dsc-begin"> <tr class="t-dsc-hitem"> <th> Member type </th> <th> Definition </th>
</tr> <tr class="t-dsc"> <td> <code>byte_string</code> </td> <td> <code>std::basic_string&lt;char, char_traits&lt;char&gt;, Byte_alloc&gt;</code> </td>
</tr> <tr class="t-dsc"> <td> <code>wide_string</code> </td> <td> <code>std::basic_string&lt;Elem, char_traits&lt;Elem&gt;, Wide_alloc&gt;</code> </td>
</tr> <tr class="t-dsc"> <td> <code>state_type</code> </td> <td> <code>Codecvt::state_type</code> </td>
</tr> <tr class="t-dsc"> <td> <code>int_type</code> </td> <td> <code>wide_string::traits_type::int_type</code> </td>
</tr> </table> <h3 id="Member_functions"> Member functions</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="wstring_convert/wstring_convert" title="cpp/locale/wstring convert/wstring convert"> <span class="t-lines"><span>(constructor)</span></span></a></div> </td> <td> constructs a new wstring_convert <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><span class="t-lines"><span>operator=</span></span></div> </td> <td> the copy assignment operator is deleted <br> <span class="t-mark">(public member function)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="wstring_convert/~wstring_convert" title="cpp/locale/wstring convert/~wstring convert"> <span class="t-lines"><span>(destructor)</span></span></a></div> </td> <td> destructs the wstring_convert and its conversion facet <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="wstring_convert/from_bytes" title="cpp/locale/wstring convert/from bytes"> <span class="t-lines"><span>from_bytes</span></span></a></div> </td> <td> converts a byte string into a wide string <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="wstring_convert/to_bytes" title="cpp/locale/wstring convert/to bytes"> <span class="t-lines"><span>to_bytes</span></span></a></div> </td> <td> converts a wide string into a byte string <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="wstring_convert/converted" title="cpp/locale/wstring convert/converted"> <span class="t-lines"><span>converted</span></span></a></div> </td> <td> returns the number of characters successfully converted <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="wstring_convert/state" title="cpp/locale/wstring convert/state"> <span class="t-lines"><span>state</span></span></a></div> </td> <td> returns the current conversion state <br> <span class="t-mark">(public member function)</span>  </td>
</tr> </table> <h3 id="See_also"> See also</h3> <table class="wikitable"> <tr> <th> Character<br>conversions </th> <th> locale-defined multibyte<br>(UTF-8, GB18030) </th> <th> UTF-8<br> </th> <th> UTF-16<br> </th>
</tr> <tr> <th> UTF-16 </th> <td class="table-yes">
<a href="../string/multibyte/mbrtoc16" title="cpp/string/multibyte/mbrtoc16"><code>mbrtoc16</code></a> / <a href="../string/multibyte/c16rtomb" title="cpp/string/multibyte/c16rtomb"><code>c16rtomb</code></a><span class="t-mark">(with C11's DR488)</span> </td> <td class="table-yes">
<a href="codecvt" title="cpp/locale/codecvt"><code>codecvt</code></a>&lt;char16_t, char, mbstate_t&gt;<br><a href="codecvt_utf8_utf16" title="cpp/locale/codecvt utf8 utf16"><code>codecvt_utf8_utf16</code></a>&lt;char16_t&gt;<br><a href="codecvt_utf8_utf16" title="cpp/locale/codecvt utf8 utf16"><code>codecvt_utf8_utf16</code></a>&lt;char32_t&gt;<br><a href="codecvt_utf8_utf16" title="cpp/locale/codecvt utf8 utf16"><code>codecvt_utf8_utf16</code></a>&lt;wchar_t&gt; </td> <td class="table-na"> <small>N/A</small> </td>
</tr> <tr> <th> UCS2 </th> <td class="table-yes">
<a href="../string/multibyte/c16rtomb" title="cpp/string/multibyte/c16rtomb"><code>c16rtomb</code></a><span class="t-mark">(without C11's DR488)</span> </td> <td class="table-yes">
<a href="codecvt_utf8" title="cpp/locale/codecvt utf8"><code>codecvt_utf8</code></a>&lt;char16_t&gt;<br> <p><a href="codecvt_utf8" title="cpp/locale/codecvt utf8"><code>codecvt_utf8</code></a>&lt;wchar_t&gt;<span class="t-mark">(Windows)</span>.</p>
</td> <td class="table-yes">
<a href="codecvt_utf16" title="cpp/locale/codecvt utf16"><code>codecvt_utf16</code></a>&lt;char16_t&gt;<br> <p><a href="codecvt_utf16" title="cpp/locale/codecvt utf16"><code>codecvt_utf16</code></a>&lt;wchar_t&gt;<span class="t-mark">(Windows)</span>.</p>
</td>
</tr> <tr> <th> UTF-32 </th> <td class="table-yes"> <p><a href="../string/multibyte/mbrtoc32" title="cpp/string/multibyte/mbrtoc32"><code>mbrtoc32</code></a> / <a href="../string/multibyte/c32rtomb" title="cpp/string/multibyte/c32rtomb"><code>c32rtomb</code></a>.</p>
</td> <td class="table-yes"> <p><a href="codecvt" title="cpp/locale/codecvt"><code>codecvt</code></a>&lt;char32_t, char, mbstate_t&gt;<br> <a href="codecvt_utf8" title="cpp/locale/codecvt utf8"><code>codecvt_utf8</code></a>&lt;char32_t&gt;<br> <a href="codecvt_utf8" title="cpp/locale/codecvt utf8"><code>codecvt_utf8</code></a>&lt;wchar_t&gt;<span class="t-mark">(non-Windows)</span>.</p>
</td> <td class="table-yes"> <p><a href="codecvt_utf16" title="cpp/locale/codecvt utf16"><code>codecvt_utf16</code></a>&lt;char32_t&gt;<br> <a href="codecvt_utf16" title="cpp/locale/codecvt utf16"><code>codecvt_utf16</code></a>&lt;wchar_t&gt;<span class="t-mark">(non-Windows)</span>.</p>
</td>
</tr> <tr> <th> system wide:<br>UTF-32<span class="t-mark">(non-Windows)</span><br>UCS2<span class="t-mark">(Windows)</span> </th> <td class="table-yes"> <p><a href="../string/multibyte/mbsrtowcs" title="cpp/string/multibyte/mbsrtowcs"><code>mbsrtowcs</code></a> / <a href="../string/multibyte/wcsrtombs" title="cpp/string/multibyte/wcsrtombs"><code>wcsrtombs</code></a><br> <a href="use_facet" title="cpp/locale/use facet"><code>use_facet</code></a>&lt;<a href="codecvt" title="cpp/locale/codecvt"><code>codecvt</code></a><br> &lt;wchar_t, char, mbstate_t&gt;&gt;(<a href="locale" title="cpp/locale/locale"><code>locale</code></a>).</p>
</td> <td class="table-no"> No </td> <td class="table-no"> No </td>
</tr>
</table> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="wbuffer_convert" title="cpp/locale/wbuffer convert"> <span class="t-lines"><span>wbuffer_convert</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span><span><span class="t-mark">(deprecated in C++17)</span></span></span></div> </td> <td> performs conversion between a byte stream buffer and a wide stream buffer <br> <span class="t-mark">(class template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="codecvt_utf8" title="cpp/locale/codecvt utf8"> <span class="t-lines"><span>codecvt_utf8</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span><span class="t-mark-rev t-deprecated-cxx17">(deprecated in C++17)</span></span></span></div> </td> <td> converts between UTF-8 and UCS2/UCS4 <br> <span class="t-mark">(class template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="codecvt_utf8_utf16" title="cpp/locale/codecvt utf8 utf16"> <span class="t-lines"><span>codecvt_utf8_utf16</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span><span class="t-mark-rev t-deprecated-cxx17">(deprecated in C++17)</span></span></span></div> </td> <td> converts between UTF-8 and UTF-16 <br> <span class="t-mark">(class template)</span>  </td>
</tr> </table>           <div class="_attribution">
  <p class="_attribution-p">
    &copy; cppreference.com<br>Licensed under the Creative Commons Attribution-ShareAlike Unported License v3.0.<br>
    <a href="https://en.cppreference.com/w/cpp/locale/wstring_convert" class="_attribution-link">https://en.cppreference.com/w/cpp/locale/wstring_convert</a>
  </p>
</div>
