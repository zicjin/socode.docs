  <h1 id="transition">transition</h1> <p><code class="api-type-label function">function</code></p>  <aio-toc class="embedded"></aio-toc> <div class="api-body">  <p>Declares an animation transition as a sequence of animation steps to run when a given condition is satisfied. The condition is a Boolean expression or function that compares the previous and current animation states, and returns true if this transition should occur. When the state criteria of a defined transition are met, the associated animation is triggered.</p>  <div class="overload-info"> <h3 data-language="typescript"><code>transition(stateChangeExpr: string | ((fromState: string, toState: string, element?: any, params?: { [key: string]: any; }) =&gt; boolean), steps: AnimationMetadata | AnimationMetadata[], options: AnimationOptions = null): AnimationTransitionMetadata</code></h3> <h6 class="no-anchor" id="parameters">Parameters</h6> <table> <tbody> <tr class="function-overload-parameter"> <td class="param-name">  <code>stateChangeExpr</code> </td> <td class="param-type"><code>string | ((fromState: string, toState: string, element?: any, params?: { [key: string]: any; }) =&gt; boolean)</code></td> <td class="param-description"> <p>A Boolean expression or function that compares the previous and current animation states, and returns true if this transition should occur. Note that "true" and "false" match 1 and 0, respectively. An expression is evaluated each time a state change occurs in the animation trigger element. The animation steps run when the expression evaluates to true.</p> <ul> <li>A state-change string takes the form "state1 =&gt; state2", where each side is a defined animation state, or an asterix (*) to refer to a dynamic start or end state. <ul> <li>The expression string can contain multiple comma-separated statements; for example "state1 =&gt; state2, state3 =&gt; state4".</li> <li>Special values <code>:enter</code> and <code>:leave</code> initiate a transition on the entry and exit states, equivalent to "void =&gt; <em>" and "</em> =&gt; void".</li> <li>Special values <code>:increment</code> and <code>:decrement</code> initiate a transition when a numeric value has increased or decreased in value.</li> </ul> </li> <li>A function is executed each time a state change occurs in the animation trigger element. The animation steps run when the function returns true.</li> </ul> </td> </tr> <tr class="function-overload-parameter"> <td class="param-name">  <code>steps</code> </td> <td class="param-type"><code><a href="animationmetadata" class="code-anchor">AnimationMetadata</a> | <a href="animationmetadata" class="code-anchor">AnimationMetadata</a>[]</code></td> <td class="param-description"> <p>One or more animation objects, as returned by the <code><a href="animate" class="code-anchor">animate</a>()</code> or <code><a href="sequence" class="code-anchor">sequence</a>()</code> function, that form a transformation from one state to another. A sequence is used by default when you pass an array.</p> </td> </tr> <tr class="function-overload-parameter"> <td class="param-name">  <code>options</code> </td> <td class="param-type"><code><a href="animationoptions" class="code-anchor">AnimationOptions</a></code></td> <td class="param-description"> <p>An options object that can contain a delay value for the start of the animation, and additional developer-defined parameters. Provided values for additional parameters are used as defaults, and override values can be passed to the caller on invocation.</p> <p> Optional. Default is <code>null</code>.</p> </td> </tr> </tbody> </table> <h6 class="no-anchor" id="returns">Returns</h6> <p><code><a href="animationtransitionmetadata" class="code-anchor">AnimationTransitionMetadata</a></code>: An object that encapsulates the transition data.</p> </div>  <h2 id="usage-notes">Usage notes</h2> <p>The template associated with a component binds an animation trigger to an element.</p> <pre data-language="HTML">&lt;!-- somewhere inside of my-component-tpl.html --&gt;
&lt;div [@myAnimationTrigger]="myStatusExp"&gt;...&lt;/div&gt;</pre> <p>All transitions are defined within an animation trigger, along with named states that the transitions change to and from.</p> <pre data-language="typescript">trigger("myAnimationTrigger", [
 // define states
 state("on", style({ background: "green" })),
 state("off", style({ background: "grey" })),
 ...]</pre> <p>Note that when you call the <code><a href="sequence" class="code-anchor">sequence</a>()</code> function within a <code><a href="group">group()</a></code> or a <code><a href="transition" class="code-anchor">transition</a>()</code> call, execution does not continue to the next instruction until each of the inner animation steps have completed.</p> <h3 id="syntax-examples">Syntax examples</h3> <p>The following examples define transitions between the two defined states (and default states), using various options:</p> <pre data-language="typescript">// Transition occurs when the state value
// bound to "myAnimationTrigger" changes from "on" to "off"
transition("on =&gt; off", animate(500))
// Run the same animation for both directions
transition("on &lt;=&gt; off", animate(500))
// Define multiple state-change pairs separated by commas
transition("on =&gt; off, off =&gt; void", animate(500))</pre> <h3 id="special-values-for-state-change-expressions">Special values for state-change expressions</h3> <ul> <li>Catch-all state change for when an element is inserted into the page and the destination state is unknown:</li> </ul> <pre data-language="typescript">transition("void =&gt; *", [
 style({ opacity: 0 }),
 animate(500)
 ])</pre> <ul> <li> <p>Capture a state change between any states:</p> <p><code><a href="transition" class="code-anchor">transition</a>("* =&gt; *", <a href="animate" class="code-anchor">animate</a>("1s 0s"))</code></p> </li> <li> <p>Entry and exit transitions:</p> </li> </ul> <pre data-language="typescript">transition(":enter", [
  style({ opacity: 0 }),
  animate(500, style({ opacity: 1 }))
  ]),
transition(":leave", [
  animate(500, style({ opacity: 0 }))
  ])</pre> <ul> <li>Use <code>:increment</code> and <code>:decrement</code> to initiate transitions:</li> </ul> <pre data-language="typescript">transition(":increment", group([
 query(':enter', [
    style({ left: '100%' }),
    animate('0.5s ease-out', style('*'))
  ]),
 query(':leave', [
    animate('0.5s ease-out', style({ left: '-100%' }))
 ])
]))

transition(":decrement", group([
 query(':enter', [
    style({ left: '100%' }),
    animate('0.5s ease-out', style('*'))
  ]),
 query(':leave', [
    animate('0.5s ease-out', style({ left: '-100%' }))
 ])
]))</pre> <h3 id="state-change-functions">State-change functions</h3> <p>Here is an example of a <code>fromState</code> specified as a state-change function that invokes an animation when true:</p> <pre data-language="typescript">transition((fromState, toState) =&gt;
 {
  return fromState == "off" &amp;&amp; toState == "on";
 },
 animate("1s 0s"))</pre> <h3 id="animating-to-the-final-state">Animating to the final state</h3> <p>If the final step in a transition is a call to <code><a href="animate" class="code-anchor">animate</a>()</code> that uses a timing value with no style data, that step is automatically considered the final animation arc, for the element to reach the final state. Angular automatically adds or removes CSS styles to ensure that the element is in the correct final state.</p> <p>The following example defines a transition that starts by hiding the element, then makes sure that it animates properly to whatever state is currently active for trigger:</p> <pre data-language="typescript">transition("void =&gt; *", [
  style({ opacity: 0 }),
  animate(500)
 ])</pre> <h3 id="boolean-value-matching">Boolean value matching</h3> <p>If a trigger binding value is a Boolean, it can be matched using a transition expression that compares true and false or 1 and 0. For example:</p> <pre>// in the template
&lt;div [@openClose]="open ? true : false"&gt;...&lt;/div&gt;
// in the component metadata
trigger('openClose', [
  state('true', style({ height: '*' })),
  state('false', style({ height: '0px' })),
  transition('false &lt;=&gt; true', animate(500))
])</pre>  </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://angular.io/api/animations/transition" class="_attribution-link" target="_blank">https://angular.io/api/animations/transition</a>
  </p>
</div>
