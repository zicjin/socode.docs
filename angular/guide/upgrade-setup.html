  <h1 id="setup-for-upgrading-from-angularjs">Setup for upgrading from AngularJS</h1>  <blockquote class="alert is-critical"> <p><strong>Audience:</strong> Use this guide <strong>only</strong> in the context of <a href="upgrade" title="Upgrading from AngularJS to Angular">Upgrading from AngularJS</a> or <a href="upgrade-performance" title="Upgrading for Performance">Upgrading for Performance</a>. Those Upgrade guides refer to this Setup guide for information about using the <a href="https://github.com/angular/quickstart" title="Deprecated Angular QuickStart GitHub repository">deprecated QuickStart GitHub repository</a>, which was created prior to the current Angular <a href="cli" title="CLI Overview">CLI</a>.</p> <p><strong>For all other scenarios,</strong> see the current instructions in <a href="setup-local" title="Setting up for Local Development">Setting up the Local Environment and Workspace</a>.</p> </blockquote>  <p>This guide describes how to develop locally on your own machine. Setting up a new project on your machine is quick and easy with the <a href="https://github.com/angular/quickstart" title="Install the github QuickStart repo">QuickStart seed on github</a>.</p> <p><strong>Prerequisite:</strong> Make sure you have <a href="setup-local#prerequisites" title="Angular prerequisites">Node.jsÂ® and npm installed</a>.</p>  <h2 id="clone">Clone</h2> <p>Perform the <em>clone-to-launch</em> steps with these terminal commands.</p> <pre data-language="sh">git clone https://github.com/angular/quickstart.git quickstart
  cd quickstart
  npm install
  npm start</pre> <blockquote class="alert is-important"> <p><code>npm start</code> fails in <em>Bash for Windows</em> in versions earlier than the Creator's Update (April 2017).</p> </blockquote>  <h2 id="download">Download</h2> <p><a href="https://github.com/angular/quickstart/archive/master.zip" title="Download the QuickStart seed repository">Download the QuickStart seed</a> and unzip it into your project folder. Then perform the remaining steps with these terminal commands.</p> <pre data-language="sh">cd quickstart
  npm install
  npm start</pre> <blockquote class="alert is-important"> <p><code>npm start</code> fails in <em>Bash for Windows</em> in versions earlier than the Creator's Update (April 2017).</p> </blockquote>  <h2 id="delete-non-essential-files-optional">Delete <code>non-essential</code> files (optional)</h2> <p>You can quickly delete the <em>non-essential</em> files that concern testing and QuickStart repository maintenance (<strong><em>including all git-related artifacts</em></strong> such as the <code>.git</code> folder and <code>.gitignore</code>!).</p> <blockquote class="alert is-important"> <p>Do this only in the beginning to avoid accidentally deleting your own tests and git setup!</p> </blockquote> <p>Open a terminal window in the project folder and enter the following commands for your environment:</p> <h3 id="osx-bash">OS/X (bash)</h3> <pre data-language="sh">xargs rm -rf &lt; non-essential-files.osx.txt
  rm src/app/*.spec*.ts
  rm non-essential-files.osx.txt</pre> <h3 id="windows">Windows</h3> <pre data-language="sh">for /f %i in (non-essential-files.txt) do del %i /F /S /Q
  rd .git /s /q
  rd e2e /s /q</pre>  <h2 id="whats-in-the-quickstart-seed">What's in the QuickStart seed?</h2> <p>The <strong>QuickStart seed</strong> provides a basic QuickStart playground application and other files necessary for local development. Consequently, there are many files in the project folder on your machine, most of which you can <a href="file-structure">learn about later</a>.</p> <blockquote class="alert is-helpful"> <p><strong>Reminder:</strong> The "QuickStart seed" example was created prior to the Angular CLI, so there are some differences between what is described here and an Angular CLI application.</p> </blockquote>  <p>Focus on the following three TypeScript (<code>.ts</code>) files in the <strong><code>/src</code></strong> folder.</p> <pre>src
  app
    app.component.ts
    app.module.ts
  main.ts</pre> <code-tabs> <pre header="src/app/app.component.ts" data-language="typescript">import { Component } from '@angular/core';

@Component({
  selector: 'app-root',
  template: `&lt;h1&gt;Hello {{name}}&lt;/h1&gt;`
})
export class AppComponent { name = 'Angular'; }</pre> <pre header="src/app/app.module.ts" data-language="typescript">import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { AppComponent } from './app.component';

@NgModule({
  imports:      [ BrowserModule ],
  declarations: [ AppComponent ],
  bootstrap:    [ AppComponent ]
})
export class AppModule { }</pre> <pre header="src/main.ts" data-language="typescript">import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';
import { AppModule } from './app/app.module';

platformBrowserDynamic().bootstrapModule(AppModule);</pre> </code-tabs> <p>All guides and cookbooks have <em>at least these core files</em>. Each file has a distinct purpose and evolves independently as the application grows.</p> <p>Files outside <code>src/</code> concern building, deploying, and testing your application. They include configuration files and external dependencies.</p> <p>Files inside <code>src/</code> "belong" to your application. Add new Typescript, HTML and CSS files inside the <code>src/</code> directory, most of them inside <code>src/app</code>, unless told to do otherwise.</p> <p>The following are all in <code>src/</code></p>  <table> <colgroup>
<col width="20%"> <col width="80%"> </colgroup>
<tbody>
<tr> <th> File </th> <th> Purpose </th> </tr> <tr> <td> <code>app/app.component.ts</code> </td> <td> <p> Defines the same <code>AppComponent</code> as the one in the QuickStart playground. It is the <strong>root</strong> component of what will become a tree of nested components as the application evolves.</p> </td> </tr> <tr> <td> <code>app/app.module.ts</code> </td> <td> <p> Defines <code>AppModule</code>, the <a href="bootstrapping" title="AppModule: the root module">root module</a> that tells Angular how to assemble the application. When initially created, it declares only the <code>AppComponent</code>. Over time, you add more components to declare.</p> </td> </tr> <tr> <td> <code>main.ts</code> </td> <td> <p> Compiles the application with the <a href="glossary#jit">JIT compiler</a> and <a href="bootstrapping">bootstraps</a> the application's main module (<code>AppModule</code>) to run in the browser. The JIT compiler is a reasonable choice during the development of most projects and it's the only viable choice for a sample running in a <em>live-coding</em> environment such as Stackblitz. Alternative <a href="aot-compiler">compilation</a>, <a href="build">build</a>, and <a href="deployment">deployment</a> options are available.</p> </td> </tr> </tbody>
</table> <h2 id="appendix-develop-locally-with-ie">Appendix: Develop locally with IE</h2> <p>If you develop Angular locally with <code>ng serve</code>, a <code>websocket</code> connection is set up automatically between browser and local development server, so when your code changes, the browser can automatically refresh.</p> <p>In Windows, by default, one application can only have 6 websocket connections, <a href="https://msdn.microsoft.com/library/ee330736%28v=vs.85%29.aspx?f=255&amp;MSPPError=-2147217396#websocket_maxconn" title="MSDN WebSocket settings">MSDN WebSocket Settings</a>. So when IE is refreshed (manually or automatically by <code>ng serve</code>), sometimes the websocket does not close properly. When websocket connections exceed the limitations, a <code>SecurityError</code> will be thrown. This error will not affect the Angular application, you can restart IE to clear this error, or modify the windows registry to update the limitations.</p> <h2 id="appendix-test-using-fakeasyncwaitforasync">Appendix: Test using <code><a href="../api/core/testing/fakeasync" class="code-anchor">fakeAsync</a>()/<a href="../api/core/testing/waitforasync" class="code-anchor">waitForAsync</a>()</code>
</h2> <p>If you use the <code><a href="../api/core/testing/fakeasync" class="code-anchor">fakeAsync</a>()/<a href="../api/core/testing/waitforasync" class="code-anchor">waitForAsync</a>()</code> helper functions to run unit tests (for details, read the <a href="testing-components-scenarios#fake-async">Testing guide</a>), you need to import <code>zone.js/testing</code> in your test setup file.</p> <blockquote class="alert is-important"> If you create project with `Angular/CLI`, it is already imported in `src/test.ts`. </blockquote> <p>And in the earlier versions of <code>Angular</code>, the following files were imported or added in your html file:</p> <pre>import 'zone.js/plugins/long-stack-trace-zone';
import 'zone.js/plugins/proxy';
import 'zone.js/plugins/sync-test';
import 'zone.js/plugins/jasmine-patch';
import 'zone.js/plugins/async-test';
import 'zone.js/plugins/fake-async-test';</pre> <p>You can still load those files separately, but the order is important, you must import <code>proxy</code> before <code>sync-test</code>, <code>async-test</code>, <code>fake-async-test</code> and <code>jasmine-patch</code>. And you also need to import <code>sync-test</code> before <code>jasmine-patch</code>, so it is recommended to just import <code>zone-testing</code> instead of loading those separated files.</p><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://angular.io/guide/upgrade-setup" class="_attribution-link" target="_blank">https://angular.io/guide/upgrade-setup</a>
  </p>
</div>
