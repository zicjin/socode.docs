  <h1 id="dependency-injection-in-action">Dependency injection in action</h1> <p>This guide explores many of the features of dependency injection (DI) in Angular.</p> <blockquote class="alert is-helpful"> <p>See the live example for a working example containing the code snippets in this guide.</p> </blockquote>  <h2 id="multiple-service-instances-sandboxing">Multiple service instances (sandboxing)</h2> <p>Sometimes you want multiple instances of a service at <em>the same level</em> of the component hierarchy.</p> <p>A good example is a service that holds state for its companion component instance. You need a separate instance of the service for each component. Each service has its own work-state, isolated from the service-and-state of a different component. This is called <em>sandboxing</em> because each service and component instance has its own sandbox to play in.</p>  <p>In this example, <code>HeroBiosComponent</code> presents three instances of <code>HeroBioComponent</code>.</p> <pre header="ap/hero-bios.component.ts" data-language="typescript">@Component({
  selector: 'app-hero-bios',
  template: `
    &lt;app-hero-bio [heroId]="1"&gt;&lt;/app-hero-bio&gt;
    &lt;app-hero-bio [heroId]="2"&gt;&lt;/app-hero-bio&gt;
    &lt;app-hero-bio [heroId]="3"&gt;&lt;/app-hero-bio&gt;`,
  providers: [HeroService]
})
export class HeroBiosComponent {
}</pre> <p>Each <code>HeroBioComponent</code> can edit a single hero's biography. <code>HeroBioComponent</code> relies on <code>HeroCacheService</code> to fetch, cache, and perform other persistence operations on that hero.</p> <pre header="src/app/hero-cache.service.ts" data-language="typescript">@Injectable()
export class HeroCacheService {
  hero!: Hero;
  constructor(private heroService: HeroService) {}

  fetchCachedHero(id: number) {
    if (!this.hero) {
      this.hero = this.heroService.getHeroById(id);
    }
    return this.hero;
  }
}</pre> <p>Three instances of <code>HeroBioComponent</code> can't share the same instance of <code>HeroCacheService</code>, as they'd be competing with each other to determine which hero to cache.</p> <p>Instead, each <code>HeroBioComponent</code> gets its <em>own</em> <code>HeroCacheService</code> instance by listing <code>HeroCacheService</code> in its metadata <code>providers</code> array.</p> <pre header="src/app/hero-bio.component.ts" data-language="typescript">@Component({
  selector: 'app-hero-bio',
  template: `
    &lt;h4&gt;{{hero.name}}&lt;/h4&gt;
    &lt;ng-content&gt;&lt;/ng-content&gt;
    &lt;textarea cols="25" [(ngModel)]="hero.description"&gt;&lt;/textarea&gt;`,
  providers: [HeroCacheService]
})

export class HeroBioComponent implements OnInit  {
  @Input() heroId = 0;

  constructor(private heroCache: HeroCacheService) { }

  ngOnInit() { this.heroCache.fetchCachedHero(this.heroId); }

  get hero() { return this.heroCache.hero; }
}</pre> <p>The parent <code>HeroBiosComponent</code> binds a value to <code>heroId</code>. <code>ngOnInit</code> passes that ID to the service, which fetches and caches the hero. The getter for the <code>hero</code> property pulls the cached hero from the service. The template displays this data-bound property.</p> <p>Find this example in <span name="dependency-injection-in-action">live code</span> and confirm that the three <code>HeroBioComponent</code> instances have their own cached hero data.</p> <div class="lightbox"> <img src="data:image/png;base64,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" alt="Bios" width="199" height="317"> </div>  <h2 id="qualify-dependency-lookup-with-parameter-decorators">Qualify dependency lookup with parameter decorators</h2> <p>When a class requires a dependency, that dependency is added to the constructor as a parameter. When Angular needs to instantiate the class, it calls upon the DI framework to supply the dependency. By default, the DI framework searches for a provider in the injector hierarchy, starting at the component's local injector of the component, and if necessary bubbling up through the injector tree until it reaches the root injector.</p> <ul> <li> <p>The first injector configured with a provider supplies the dependency (a service instance or value) to the constructor.</p> </li> <li> <p>If no provider is found in the root injector, the DI framework throws an error.</p> </li> </ul> <p>There are a number of options for modifying the default search behavior, using <em>parameter decorators</em> on the service-valued parameters of a class constructor.</p>  <h3 id="make-a-dependency-optional-and-limit-search-with-host">Make a dependency <code>@<a href="../api/core/optional" class="code-anchor">Optional</a></code> and limit search with <code>@<a href="../api/core/host" class="code-anchor">Host</a></code>
</h3> <p>Dependencies can be registered at any level in the component hierarchy. When a component requests a dependency, Angular starts with that component's injector and walks up the injector tree until it finds the first suitable provider. Angular throws an error if it can't find the dependency during that walk.</p> <p>In some cases, you need to limit the search or accommodate a missing dependency. You can modify Angular's search behavior with the <code>@<a href="../api/core/host" class="code-anchor">Host</a></code> and <code>@<a href="../api/core/optional" class="code-anchor">Optional</a></code> qualifying decorators on a service-valued parameter of the component's constructor.</p> <ul> <li> <p>The <code>@<a href="../api/core/optional" class="code-anchor">Optional</a></code> property decorator tells Angular to return null when it can't find the dependency.</p> </li> <li> <p>The <code>@<a href="../api/core/host" class="code-anchor">Host</a></code> property decorator stops the upward search at the <em>host component</em>. The host component is typically the component requesting the dependency. However, when this component is projected into a <em>parent</em> component, that parent component becomes the host. The following example covers this second case.</p> </li> </ul> <p>These decorators can be used individually or together, as shown in the example. This <code>HeroBiosAndContactsComponent</code> is a revision of <code>HeroBiosComponent</code> which you looked at <a href="dependency-injection-in-action#hero-bios-component">above</a>.</p> <pre header="src/app/hero-bios.component.ts (HeroBiosAndContactsComponent)" data-language="typescript">@Component({
  selector: 'app-hero-bios-and-contacts',
  template: `
    &lt;app-hero-bio [heroId]="1"&gt; &lt;app-hero-contact&gt;&lt;/app-hero-contact&gt; &lt;/app-hero-bio&gt;
    &lt;app-hero-bio [heroId]="2"&gt; &lt;app-hero-contact&gt;&lt;/app-hero-contact&gt; &lt;/app-hero-bio&gt;
    &lt;app-hero-bio [heroId]="3"&gt; &lt;app-hero-contact&gt;&lt;/app-hero-contact&gt; &lt;/app-hero-bio&gt;`,
  providers: [HeroService]
})
export class HeroBiosAndContactsComponent {
  constructor(logger: LoggerService) {
    logger.logInfo('Creating HeroBiosAndContactsComponent');
  }
}</pre> <p>Focus on the template:</p> <pre header="dependency-injection-in-action/src/app/hero-bios.component.ts" data-language="typescript">template: `
  &lt;app-hero-bio [heroId]="1"&gt; &lt;app-hero-contact&gt;&lt;/app-hero-contact&gt; &lt;/app-hero-bio&gt;
  &lt;app-hero-bio [heroId]="2"&gt; &lt;app-hero-contact&gt;&lt;/app-hero-contact&gt; &lt;/app-hero-bio&gt;
  &lt;app-hero-bio [heroId]="3"&gt; &lt;app-hero-contact&gt;&lt;/app-hero-contact&gt; &lt;/app-hero-bio&gt;`,</pre> <p>Now there's a new <code>&lt;hero-contact&gt;</code> element between the <code>&lt;hero-bio&gt;</code> tags. Angular <em>projects</em>, or <em>transcludes</em>, the corresponding <code>HeroContactComponent</code> into the <code>HeroBioComponent</code> view, placing it in the <code><a href="../api/core/ng-content" class="code-anchor">&lt;ng-content&gt;</a></code> slot of the <code>HeroBioComponent</code> template.</p> <pre header="src/app/hero-bio.component.ts (template)" data-language="typescript">template: `
  &lt;h4&gt;{{hero.name}}&lt;/h4&gt;
  &lt;ng-content&gt;&lt;/ng-content&gt;
  &lt;textarea cols="25" [(ngModel)]="hero.description"&gt;&lt;/textarea&gt;`,</pre> <p>The result is shown below, with the hero's telephone number from <code>HeroContactComponent</code> projected above the hero description.</p> <div class="lightbox"> <img src="data:image/png;base64,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" alt="bio and contact" width="199" height="92"> </div> <p>Here's <code>HeroContactComponent</code>, which demonstrates the qualifying decorators.</p> <pre header="src/app/hero-contact.component.ts" data-language="typescript">@Component({
  selector: 'app-hero-contact',
  template: `
  &lt;div&gt;Phone #: {{phoneNumber}}
  &lt;span *ngIf="hasLogger"&gt;!!!&lt;/span&gt;&lt;/div&gt;`
})
export class HeroContactComponent {

  hasLogger = false;

  constructor(
      @Host() // limit to the host component's instance of the HeroCacheService
      private heroCache: HeroCacheService,

      @Host()     // limit search for logger; hides the application-wide logger
      @Optional() // ok if the logger doesn't exist
      private loggerService?: LoggerService
  ) {
    if (loggerService) {
      this.hasLogger = true;
      loggerService.logInfo('HeroContactComponent can log!');
    }
  }

  get phoneNumber() { return this.heroCache.hero.phone; }

}</pre> <p>Focus on the constructor parameters.</p> <pre header="src/app/hero-contact.component.ts" data-language="typescript">@Host() // limit to the host component's instance of the HeroCacheService
private heroCache: HeroCacheService,

@Host()     // limit search for logger; hides the application-wide logger
@Optional() // ok if the logger doesn't exist
private loggerService?: LoggerService</pre> <p>The <code>@<a href="../api/core/host" class="code-anchor">Host</a>()</code> function decorating the <code>heroCache</code> constructor property ensures that you get a reference to the cache service from the parent <code>HeroBioComponent</code>. Angular throws an error if the parent lacks that service, even if a component higher in the component tree includes it.</p> <p>A second <code>@<a href="../api/core/host" class="code-anchor">Host</a>()</code> function decorates the <code>loggerService</code> constructor property. The only <code>LoggerService</code> instance in the application is provided at the <code>AppComponent</code> level. The host <code>HeroBioComponent</code> doesn't have its own <code>LoggerService</code> provider.</p> <p>Angular throws an error if you haven't also decorated the property with <code>@<a href="../api/core/optional" class="code-anchor">Optional</a>()</code>. When the property is marked as optional, Angular sets <code>loggerService</code> to null and the rest of the component adapts.</p> <p>Here's <code>HeroBiosAndContactsComponent</code> in action.</p> <div class="lightbox"> <img src="data:image/png;base64,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" alt="Bios with contact into" width="206" height="393"> </div> <p>If you comment out the <code>@<a href="../api/core/host" class="code-anchor">Host</a>()</code> decorator, Angular walks up the injector ancestor tree until it finds the logger at the <code>AppComponent</code> level. The logger logic kicks in and the hero display updates with the "!!!" marker to indicate that the logger was found.</p> <div class="lightbox"> <img src="data:image/png;base64,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" alt="Without @Host" width="199" height="93"> </div> <p>If you restore the <code>@<a href="../api/core/host" class="code-anchor">Host</a>()</code> decorator and comment out <code>@<a href="../api/core/optional" class="code-anchor">Optional</a></code>, the application throws an exception when it cannot find the required logger at the host component level.</p> <p><code>EXCEPTION: No provider for LoggerService! (HeroContactComponent -&gt; LoggerService)</code></p> <h3 id="supply-a-custom-provider-with-inject">Supply a custom provider with <code>@<a href="../api/core/inject" class="code-anchor">Inject</a></code>
</h3> <p>Using a custom provider allows you to provide a concrete implementation for implicit dependencies, such as built-in browser APIs. The following example uses an <code><a href="../api/core/injectiontoken" class="code-anchor">InjectionToken</a></code> to provide the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage">localStorage</a> browser API as a dependency in the <code>BrowserStorageService</code>.</p> <pre header="src/app/storage.service.ts" data-language="typescript">import { Inject, Injectable, InjectionToken } from '@angular/core';

export const BROWSER_STORAGE = new InjectionToken&lt;Storage&gt;('Browser Storage', {
  providedIn: 'root',
  factory: () =&gt; localStorage
});

@Injectable({
  providedIn: 'root'
})
export class BrowserStorageService {
  constructor(@Inject(BROWSER_STORAGE) public storage: Storage) {}

  get(key: string) {
    return this.storage.getItem(key);
  }

  set(key: string, value: string) {
    this.storage.setItem(key, value);
  }

  remove(key: string) {
    this.storage.removeItem(key);
  }

  clear() {
    this.storage.clear();
  }
}</pre> <p>The <code>factory</code> function returns the <code>localStorage</code> property that is attached to the browser window object. The <code><a href="../api/core/inject" class="code-anchor">Inject</a></code> decorator is a constructor parameter used to specify a custom provider of a dependency. This custom provider can now be overridden during testing with a mock API of <code>localStorage</code> instead of interacting with real browser APIs.</p>  <h3 id="modify-the-provider-search-with-self-and-skipself">Modify the provider search with <code>@<a href="../api/core/self" class="code-anchor">Self</a></code> and <code>@<a href="../api/core/skipself" class="code-anchor">SkipSelf</a></code>
</h3> <p>Providers can also be scoped by injector through constructor parameter decorators. The following example overrides the <code>BROWSER_STORAGE</code> token in the <code><a href="../api/core/component" class="code-anchor">Component</a></code> class <code>providers</code> with the <code>sessionStorage</code> browser API. The same <code>BrowserStorageService</code> is injected twice in the constructor, decorated with <code>@<a href="../api/core/self" class="code-anchor">Self</a></code> and <code>@<a href="../api/core/skipself" class="code-anchor">SkipSelf</a></code> to define which injector handles the provider dependency.</p> <pre header="src/app/storage.component.ts" data-language="typescript">import { Component, OnInit, Self, SkipSelf } from '@angular/core';
import { BROWSER_STORAGE, BrowserStorageService } from './storage.service';

@Component({
  selector: 'app-storage',
  template: `
    Open the inspector to see the local/session storage keys:

    &lt;h3&gt;Session Storage&lt;/h3&gt;
    &lt;button (click)="setSession()"&gt;Set Session Storage&lt;/button&gt;

    &lt;h3&gt;Local Storage&lt;/h3&gt;
    &lt;button (click)="setLocal()"&gt;Set Local Storage&lt;/button&gt;
  `,
  providers: [
    BrowserStorageService,
    { provide: BROWSER_STORAGE, useFactory: () =&gt; sessionStorage }
  ]
})
export class StorageComponent implements OnInit {

  constructor(
    @Self() private sessionStorageService: BrowserStorageService,
    @SkipSelf() private localStorageService: BrowserStorageService,
  ) { }

  ngOnInit() {
  }

  setSession() {
    this.sessionStorageService.set('hero', 'Dr Nice - Session');
  }

  setLocal() {
    this.localStorageService.set('hero', 'Dr Nice - Local');
  }
}</pre> <p>Using the <code>@<a href="../api/core/self" class="code-anchor">Self</a></code> decorator, the injector only looks at the component's injector for its providers. The <code>@<a href="../api/core/skipself" class="code-anchor">SkipSelf</a></code> decorator allows you to skip the local injector and look up in the hierarchy to find a provider that satisfies this dependency. The <code>sessionStorageService</code> instance interacts with the <code>BrowserStorageService</code> using the <code>sessionStorage</code> browser API, while the <code>localStorageService</code> skips the local injector and uses the root <code>BrowserStorageService</code> that uses the <code>localStorage</code> browser API.</p>  <h2 id="inject-the-components-dom-element">Inject the component's DOM element</h2> <p>Although developers strive to avoid it, many visual effects and third-party tools, such as jQuery, require DOM access. As a result, you might need to access a component's DOM element.</p> <p>To illustrate, here's a minimal version of <code>HighlightDirective</code> from the <a href="attribute-directives">Attribute Directives</a> page.</p> <pre header="src/app/highlight.directive.ts" data-language="typescript">import { Directive, ElementRef, HostListener, Input } from '@angular/core';

@Directive({
  selector: '[appHighlight]'
})
export class HighlightDirective {

  @Input('appHighlight') highlightColor = '';

  private el: HTMLElement;

  constructor(el: ElementRef) {
    this.el = el.nativeElement;
  }

  @HostListener('mouseenter') onMouseEnter() {
    this.highlight(this.highlightColor || 'cyan');
  }

  @HostListener('mouseleave') onMouseLeave() {
    this.highlight('');
  }

  private highlight(color: string) {
    this.el.style.backgroundColor = color;
  }
}</pre> <p>The directive sets the background to a highlight color when the user mouses over the DOM element to which the directive is applied.</p> <p>Angular sets the constructor's <code>el</code> parameter to the injected <code><a href="../api/core/elementref" class="code-anchor">ElementRef</a></code>. (An <code><a href="../api/core/elementref" class="code-anchor">ElementRef</a></code> is a wrapper around a DOM element, whose <code>nativeElement</code> property exposes the DOM element for the directive to manipulate.)</p> <p>The sample code applies the directive's <code>appHighlight</code> attribute to two <code>&lt;div&gt;</code> tags, first without a value (yielding the default color) and then with an assigned color value.</p> <pre header="src/app/app.component.html (highlight)" data-language="html">&lt;div id="highlight"  class="di-component"  appHighlight&gt;
  &lt;h3&gt;Hero Bios and Contacts&lt;/h3&gt;
  &lt;div appHighlight="yellow"&gt;
    &lt;app-hero-bios-and-contacts&gt;&lt;/app-hero-bios-and-contacts&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre> <p>The following image shows the effect of mousing over the <code>&lt;hero-bios-and-contacts&gt;</code> tag.</p> <div class="lightbox"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAT4AAADECAMAAAAxmL3JAAADAFBMVEX1/xf//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD////+/v7//wD//wD//wD//wH//wH//wH//wH//wD////U1NT//wH//wD//wD//wD//wD//wD//wD//wD//////wD//////////////////////////////////1X////U1IT//////////wD//////wD//wD//////////////wD//////////////////wD//wD////////////+/v7+/v7////9/v7//////wH//wH//wH//wH//////wH//wH//wH//wH//wH+/////wD//wCTk3vo6Brq6uoF//0F//0F//0F//0E//2SknwF//0E//7x8hDu7u6RkX2cnHAF//4G//29vUsF//7g4CPr6xempmYF9PQF//4F//4F//4F//4E//4F//319wytrV4F//4E//7PzzcD//4D//8/Pz+bm3FOTk4D//+4uLjPz83MzDqxsVnb2yna2tUrKyv1+Avf3yXr6xc4ODgp//4G//0G//1ra2vHx8fa2tbDw0VRUVGWlpaCgoID//+4uFH19wsK//lhYWGkpKTY2NRsbGyurq7Y4IeMjITv///v//+fn5+M5cjZ2crv///a2sva2svv/xDv/xDv///v///v//9JTU3V2TKiolzv/xBh//qp8eZobGSpsnLv/xDj6+JzdVj//y3T03P//wAA//9A//+4/0fv//8Q//8A/v4C+voQ/+/v/xAE9PSJiYYxdnY9VFQQ0tI3ZmYufn4gpqYN29sJ5eUG7e37+wU/T0+MjIMqiooWwsI6XFw0b2+IiIgSzc3k5B+Skny9vUvKyj2fn20llpZBTEzw8BLo6Bre3iaurlwZuLgcr6+mpmXY2C34+AmYmHZBS0v09AxCSUlERERDR0ebm3Kr/1ScVbhrAAAAynRSTlMEFikgECwTBw0KGRwmIy8yNazz8Pb5/O3qr+ey5ODdtdrXfz/Ru9Rob5iSQ6U8SZ51X6d/zj1eT3BLZ2RhalhtOJ+oW1S4or7BUU6cyEhC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" alt="Highlighted bios" width="318" height="196"> </div>  <h3 id="defining-providers">Defining providers</h3> <p>A dependency can't always be created by the default method of instantiating a class. You learned about some other methods in <a href="dependency-injection-providers">Dependency Providers</a>. The following <code>HeroOfTheMonthComponent</code> example demonstrates many of the alternatives and why you need them. It's visually simple: a few properties and the logs produced by a logger.</p> <div class="lightbox"> <img src="data:image/png;base64,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" alt="Hero of the month" width="300" height="165"> </div> <p>The code behind it customizes how and where the DI framework provides dependencies. The use cases illustrate different ways to use the <a href="dependency-injection-providers#provide"><em>provide</em> object literal</a> to associate a definition object with a DI token.</p> <pre header="hero-of-the-month.component.ts" data-language="typescript">import { Component, Inject } from '@angular/core';

import { DateLoggerService } from './date-logger.service';
import { Hero } from './hero';
import { HeroService } from './hero.service';
import { LoggerService } from './logger.service';
import { MinimalLogger } from './minimal-logger.service';
import { RUNNERS_UP,
         runnersUpFactory } from './runners-up';

@Component({
  selector: 'app-hero-of-the-month',
  templateUrl: './hero-of-the-month.component.html',
  providers: [
    { provide: Hero,          useValue:    someHero },
    { provide: TITLE,         useValue:   'Hero of the Month' },
    { provide: HeroService,   useClass:    HeroService },
    { provide: LoggerService, useClass:    DateLoggerService },
    { provide: MinimalLogger, useExisting: LoggerService },
    { provide: RUNNERS_UP,    useFactory:  runnersUpFactory(2), deps: [Hero, HeroService] }
  ]
})
export class HeroOfTheMonthComponent {
  logs: string[] = [];

  constructor(
      logger: MinimalLogger,
      public heroOfTheMonth: Hero,
      @Inject(RUNNERS_UP) public runnersUp: string,
      @Inject(TITLE) public title: string)
  {
    this.logs = logger.logs;
    logger.logInfo('starting up');
  }
}</pre> <p>The <code>providers</code> array shows how you might use the different provider-definition keys; <code>useValue</code>, <code>useClass</code>, <code>useExisting</code>, or <code>useFactory</code>.</p>  <h4 id="value-providers-usevalue">Value providers: <code>useValue</code>
</h4> <p>The <code>useValue</code> key lets you associate a fixed value with a DI token. Use this technique to provide <em>runtime configuration constants</em> such as website base addresses and feature flags. You can also use a value provider in a unit test to provide mock data in place of a production data service.</p> <p>The <code>HeroOfTheMonthComponent</code> example has two value providers.</p> <pre header="dependency-injection-in-action/src/app/hero-of-the-month.component.ts" data-language="typescript">{ provide: Hero,          useValue:    someHero },
{ provide: TITLE,         useValue:   'Hero of the Month' },</pre> <ul> <li> <p>The first provides an existing instance of the <code>Hero</code> class to use for the <code>Hero</code> token, rather than requiring the injector to create a new instance with <code>new</code> or use its own cached instance. Here, the token is the class itself.</p> </li> <li> <p>The second specifies a literal string resource to use for the <code>TITLE</code> token. The <code>TITLE</code> provider token is <em>not</em> a class, but is instead a special kind of provider lookup key called an <a href="dependency-injection-in-action#injection-token">injection token</a>, represented by an <code><a href="../api/core/injectiontoken" class="code-anchor">InjectionToken</a></code> instance.</p> </li> </ul> <p>You can use an injection token for any kind of provider but it's particularly helpful when the dependency is a simple value like a string, a number, or a function.</p> <p>The value of a <em>value provider</em> must be defined before you specify it here. The title string literal is immediately available. The <code>someHero</code> variable in this example was set earlier in the file as shown below. You can't use a variable whose value will be defined later.</p> <pre header="dependency-injection-in-action/src/app/hero-of-the-month.component.ts" data-language="typescript">const someHero = new Hero(42, 'Magma', 'Had a great month!', '555-555-5555');</pre> <p>Other types of providers can create their values <em>lazily</em>; that is, when they're needed for injection.</p>  <h4 id="class-providers-useclass">Class providers: <code>useClass</code>
</h4> <p>The <code>useClass</code> provider key lets you create and return a new instance of the specified class.</p> <p>You can use this type of provider to substitute an <em>alternative implementation</em> for a common or default class. The alternative implementation could, for example, implement a different strategy, extend the default class, or emulate the behavior of the real class in a test case.</p> <p>The following code shows two examples in <code>HeroOfTheMonthComponent</code>.</p> <pre header="dependency-injection-in-action/src/app/hero-of-the-month.component.ts" data-language="typescript">{ provide: HeroService,   useClass:    HeroService },
{ provide: LoggerService, useClass:    DateLoggerService },</pre> <p>The first provider is the <em>de-sugared</em>, expanded form of the most typical case in which the class to be created (<code>HeroService</code>) is also the provider's dependency injection token. The short form is generally preferred; this long form makes the details explicit.</p> <p>The second provider substitutes <code>DateLoggerService</code> for <code>LoggerService</code>. <code>LoggerService</code> is already registered at the <code>AppComponent</code> level. When this child component requests <code>LoggerService</code>, it receives a <code>DateLoggerService</code> instance instead.</p> <blockquote class="alert is-helpful"> <p>This component and its tree of child components receive <code>DateLoggerService</code> instance. Components outside the tree continue to receive the original <code>LoggerService</code> instance.</p> </blockquote> <p><code>DateLoggerService</code> inherits from <code>LoggerService</code>; it appends the current date/time to each message:</p> <pre header="src/app/date-logger.service.ts" data-language="typescript">@Injectable({
  providedIn: 'root'
})
export class DateLoggerService extends LoggerService
{
  logInfo(msg: any)  { super.logInfo(stamp(msg)); }
  logDebug(msg: any) { super.logInfo(stamp(msg)); }
  logError(msg: any) { super.logError(stamp(msg)); }
}

function stamp(msg: any) { return msg + ' at ' + new Date(); }</pre>  <h4 id="alias-providers-useexisting">Alias providers: <code>useExisting</code>
</h4> <p>The <code>useExisting</code> provider key lets you map one token to another. In effect, the first token is an <em>alias</em> for the service associated with the second token, creating two ways to access the same service object.</p> <pre header="dependency-injection-in-action/src/app/hero-of-the-month.component.ts" data-language="typescript">{ provide: MinimalLogger, useExisting: LoggerService },</pre> <p>You can use this technique to narrow an API through an aliasing interface. The following example shows an alias introduced for that purpose.</p> <p>Imagine that <code>LoggerService</code> had a large API, much larger than the actual three methods and a property. You might want to shrink that API surface to just the members you actually need. In this example, the <code>MinimalLogger</code> <a href="dependency-injection-in-action#class-interface">class-interface</a> reduces the API to two members:</p> <pre header="src/app/minimal-logger.service.ts" data-language="typescript">// Class used as a "narrowing" interface that exposes a minimal logger
// Other members of the actual implementation are invisible
export abstract class MinimalLogger {
  abstract logs: string[];
  abstract logInfo: (msg: string) =&gt; void;
}</pre> <p>The following example puts <code>MinimalLogger</code> to use in a simplified version of <code>HeroOfTheMonthComponent</code>.</p> <pre header="src/app/hero-of-the-month.component.ts (minimal version)" data-language="typescript">@Component({
  selector: 'app-hero-of-the-month',
  templateUrl: './hero-of-the-month.component.html',
  // TODO: move this aliasing, `useExisting` provider to the AppModule
  providers: [{ provide: MinimalLogger, useExisting: LoggerService }]
})
export class HeroOfTheMonthComponent {
  logs: string[] = [];
  constructor(logger: MinimalLogger) {
    logger.logInfo('starting up');
  }
}</pre> <p>The <code>HeroOfTheMonthComponent</code> constructor's <code>logger</code> parameter is typed as <code>MinimalLogger</code>, so only the <code>logs</code> and <code>logInfo</code> members are visible in a TypeScript-aware editor.</p> <div class="lightbox"> <img src="data:image/png;base64,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" alt="MinimalLogger restricted API" width="532" height="60"> </div> <p>Behind the scenes, Angular sets the <code>logger</code> parameter to the full service registered under the <code>LoggingService</code> token, which happens to be the <code>DateLoggerService</code> instance that was <a href="dependency-injection-in-action#useclass">provided above</a>.</p> <blockquote class="alert is-helpful"> <p>This is illustrated in the following image, which displays the logging date.</p> <div class="lightbox"> <img src="data:image/png;base64,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" alt="DateLoggerService entry" width="300" height="32"> </div> </blockquote>  <h4 id="factory-providers-usefactory">Factory providers: <code>useFactory</code>
</h4> <p>The <code>useFactory</code> provider key lets you create a dependency object by calling a factory function, as in the following example.</p> <pre header="dependency-injection-in-action/src/app/hero-of-the-month.component.ts" data-language="typescript">{ provide: RUNNERS_UP,    useFactory:  runnersUpFactory(2), deps: [Hero, HeroService] }</pre> <p>The injector provides the dependency value by invoking a factory function, that you provide as the value of the <code>useFactory</code> key. Notice that this form of provider has a third key, <code>deps</code>, which specifies dependencies for the <code>useFactory</code> function.</p> <p>Use this technique to create a dependency object with a factory function whose inputs are a combination of <em>injected services</em> and <em>local state</em>.</p> <p>The dependency object (returned by the factory function) is typically a class instance, but can be other things as well. In this example, the dependency object is a string of the names of the runners up to the "Hero of the Month" contest.</p> <p>In the example, the local state is the number <code>2</code>, the number of runners up that the component should show. The state value is passed as an argument to <code>runnersUpFactory()</code>. The <code>runnersUpFactory()</code> returns the <em>provider factory function</em>, which can use both the passed-in state value and the injected services <code>Hero</code> and <code>HeroService</code>.</p> <pre header="runners-up.ts (excerpt)" data-language="typescript">export function runnersUpFactory(take: number) {
  return (winner: Hero, heroService: HeroService): string =&gt; {
    /* ... */
  };
}</pre> <p>The provider factory function (returned by <code>runnersUpFactory()</code>) returns the actual dependency object, the string of names.</p> <ul> <li> <p>The function takes a winning <code>Hero</code> and a <code>HeroService</code> as arguments. Angular supplies these arguments from injected values identified by the two <em>tokens</em> in the <code>deps</code> array.</p> </li> <li> <p>The function returns the string of names, which Angular than injects into the <code>runnersUp</code> parameter of <code>HeroOfTheMonthComponent</code>.</p> </li> </ul> <blockquote class="alert is-helpful"> <p>The function retrieves candidate heroes from the <code>HeroService</code>, takes <code>2</code> of them to be the runners-up, and returns their concatenated names. Look at the  for the full source code.</p> </blockquote>  <h2 id="provider-token-alternatives-class-interface-and-injectiontoken">Provider token alternatives: class interface and 'InjectionToken'</h2> <p>Angular dependency injection is easiest when the provider token is a class that is also the type of the returned dependency object, or service.</p> <p>However, a token doesn't have to be a class and even when it is a class, it doesn't have to be the same type as the returned object. That's the subject of the next section. </p> <h3 id="class-interface">Class interface</h3> <p>The previous <em>Hero of the Month</em> example used the <code>MinimalLogger</code> class as the token for a provider of <code>LoggerService</code>.</p> <pre header="dependency-injection-in-action/src/app/hero-of-the-month.component.ts" data-language="typescript">{ provide: MinimalLogger, useExisting: LoggerService },</pre> <p><code>MinimalLogger</code> is an abstract class.</p> <pre header="dependency-injection-in-action/src/app/minimal-logger.service.ts" data-language="typescript">// Class used as a "narrowing" interface that exposes a minimal logger
// Other members of the actual implementation are invisible
export abstract class MinimalLogger {
  abstract logs: string[];
  abstract logInfo: (msg: string) =&gt; void;
}</pre> <p>An abstract class is usually a base class that you can extend. In this app, however there is no class that inherits from <code>MinimalLogger</code>. The <code>LoggerService</code> and the <code>DateLoggerService</code> could have inherited from <code>MinimalLogger</code>, or they could have implemented it instead, in the manner of an interface. But they did neither. <code>MinimalLogger</code> is used only as a dependency injection token.</p> <p>When you use a class this way, it's called a <em>class interface</em>.</p> <p>As mentioned in <a href="dependency-injection-providers#di-and-interfaces">DI Providers</a>, an interface is not a valid DI token because it is a TypeScript artifact that doesn't exist at run time. Use this abstract class interface to get the strong typing of an interface, and also use it as a provider token in the way you would a normal class.</p> <p>A class interface should define <em>only</em> the members that its consumers are allowed to call. Such a narrowing interface helps decouple the concrete class from its consumers.</p> <blockquote class="alert is-helpful"> <p>Using a class as an interface gives you the characteristics of an interface in a real JavaScript object. To minimize memory cost, however, the class should have <em>no implementation</em>. The <code>MinimalLogger</code> transpiles to this unoptimized, pre-minified JavaScript for a constructor function.</p> <pre header="dependency-injection-in-action/src/app/minimal-logger.service.ts" data-language="typescript">var MinimalLogger = (function () {
  function MinimalLogger() {}
  return MinimalLogger;
}());
exports("MinimalLogger", MinimalLogger);</pre> <p>Notice that it doesn't have any members. It never grows no matter how many members you add to the class, as long as those members are typed but not implemented.</p> <p>Look again at the TypeScript <code>MinimalLogger</code> class to confirm that it has no implementation.</p> </blockquote>  <h3 id="injectiontoken-objects">'InjectionToken' objects</h3> <p>Dependency objects can be simple values like dates, numbers and strings, or shapeless objects like arrays and functions.</p> <p>Such objects don't have application interfaces and therefore aren't well represented by a class. They're better represented by a token that is both unique and symbolic, a JavaScript object that has a friendly name but won't conflict with another token that happens to have the same name.</p> <p><code><a href="../api/core/injectiontoken" class="code-anchor">InjectionToken</a></code> has these characteristics. You encountered them twice in the <em>Hero of the Month</em> example, in the <em>title</em> value provider and in the <em>runnersUp</em> factory provider.</p> <pre header="dependency-injection-in-action/src/app/hero-of-the-month.component.ts" data-language="typescript">{ provide: TITLE,         useValue:   'Hero of the Month' },
{ provide: RUNNERS_UP,    useFactory:  runnersUpFactory(2), deps: [Hero, HeroService] }</pre> <p>You created the <code>TITLE</code> token like this:</p> <pre header="dependency-injection-in-action/src/app/hero-of-the-month.component.ts" data-language="typescript">import { InjectionToken } from '@angular/core';

export const TITLE = new InjectionToken&lt;string&gt;('title');</pre> <p>The type parameter, while optional, conveys the dependency's type to developers and tooling. The token description is another developer aid.</p>  <h2 id="inject-into-a-derived-class">Inject into a derived class</h2> <p>Take care when writing a component that inherits from another component. If the base component has injected dependencies, you must re-provide and re-inject them in the derived class and then pass them down to the base class through the constructor.</p> <p>In this contrived example, <code>SortedHeroesComponent</code> inherits from <code>HeroesBaseComponent</code> to display a <em>sorted</em> list of heroes.</p> <div class="lightbox"> <img src="data:image/png;base64,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" alt="Sorted Heroes" width="135" height="107"> </div> <p>The <code>HeroesBaseComponent</code> can stand on its own. It demands its own instance of <code>HeroService</code> to get heroes and displays them in the order they arrive from the database.</p> <pre header="src/app/sorted-heroes.component.ts (HeroesBaseComponent)" data-language="typescript">@Component({
  selector: 'app-unsorted-heroes',
  template: `&lt;div *ngFor="let hero of heroes"&gt;{{hero.name}}&lt;/div&gt;`,
  providers: [HeroService]
})
export class HeroesBaseComponent implements OnInit {
  constructor(private heroService: HeroService) { }

  heroes: Hero[] = [];

  ngOnInit() {
    this.heroes = this.heroService.getAllHeroes();
    this.afterGetHeroes();
  }

  // Post-process heroes in derived class override.
  protected afterGetHeroes() {}

}</pre> <blockquote class="alert is-helpful"> <h4 id="keep-constructors-simple">Keep constructors simple</h4> <p>Constructors should do little more than initialize variables. This rule makes the component safe to construct under test without fear that it will do something dramatic like talk to the server. That's why you call the <code>HeroService</code> from within the <code>ngOnInit</code> rather than the constructor.</p> </blockquote> <p>Users want to see the heroes in alphabetical order. Rather than modify the original component, sub-class it and create a <code>SortedHeroesComponent</code> that sorts the heroes before presenting them. The <code>SortedHeroesComponent</code> lets the base class fetch the heroes.</p> <p>Unfortunately, Angular cannot inject the <code>HeroService</code> directly into the base class. You must provide the <code>HeroService</code> again for <em>this</em> component, then pass it down to the base class inside the constructor.</p> <pre header="src/app/sorted-heroes.component.ts (SortedHeroesComponent)" data-language="typescript">@Component({
  selector: 'app-sorted-heroes',
  template: `&lt;div *ngFor="let hero of heroes"&gt;{{hero.name}}&lt;/div&gt;`,
  providers: [HeroService]
})
export class SortedHeroesComponent extends HeroesBaseComponent {
  constructor(heroService: HeroService) {
    super(heroService);
  }

  protected afterGetHeroes() {
    this.heroes = this.heroes.sort((h1, h2) =&gt; {
      return h1.name &lt; h2.name ? -1 :
            (h1.name &gt; h2.name ? 1 : 0);
    });
  }
}</pre> <p>Now take note of the <code>afterGetHeroes()</code> method. Your first instinct might have been to create an <code>ngOnInit</code> method in <code>SortedHeroesComponent</code> and do the sorting there. But Angular calls the <em>derived</em> class's <code>ngOnInit</code> <em>before</em> calling the base class's <code>ngOnInit</code> so you'd be sorting the heroes array <em>before they arrived</em>. That produces a nasty error.</p> <p>Overriding the base class's <code>afterGetHeroes()</code> method solves the problem.</p> <p>These complications argue for <em>avoiding component inheritance</em>.</p>  <h2 id="break-circularities-with-a-forward-class-reference-forwardref">Break circularities with a forward class reference (<code>forwardRef</code>)</h2> <p>The order of class declaration matters in TypeScript. You can't refer directly to a class until it's been defined.</p> <p>This isn't usually a problem, especially if you adhere to the recommended <em>one class per file</em> rule. But sometimes circular references are unavoidable. You're in a bind when class 'A' refers to class 'B' and 'B' refers to 'A'. One of them has to be defined first.</p> <p>The Angular <code><a href="../api/core/forwardref" class="code-anchor">forwardRef</a>()</code> function creates an <em>indirect</em> reference that Angular can resolve later.</p> <p>The <em>Parent Finder</em> sample is full of circular class references that are impossible to break.</p> <p>You face this dilemma when a class makes <em>a reference to itself</em> as does <code>AlexComponent</code> in its <code>providers</code> array. The <code>providers</code> array is a property of the <code>@<a href="../api/core/component" class="code-anchor">Component</a>()</code> decorator function which must appear <em>above</em> the class definition.</p> <p>Break the circularity with <code><a href="../api/core/forwardref" class="code-anchor">forwardRef</a></code>.</p> <pre header="parent-finder.component.ts (AlexComponent providers)" data-language="typescript">providers: [{ provide: Parent, useExisting: forwardRef(() =&gt; AlexComponent) }],</pre><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://angular.io/guide/dependency-injection-in-action" class="_attribution-link" target="_blank">https://angular.io/guide/dependency-injection-in-action</a>
  </p>
</div>
