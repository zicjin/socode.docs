<h1>globalShortcut</h1>
<blockquote><p>Detect keyboard events when the application does not have keyboard focus.</p></blockquote>
<p>Process: <a href="../glossary#main-process">Main</a></p>
<p>The <code>globalShortcut</code> module can register/unregister a global keyboard shortcut with the operating system so that you can customize the operations for various shortcuts.</p>
<p><strong>Note:</strong> The shortcut is global; it will work even if the app does not have the keyboard focus. This module cannot be used before the <code>ready</code> event of the app module is emitted.</p>
<div class="codeBlockContainer_K1bP language-javascript theme-code-block"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> app</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> globalShortcut </span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">=</span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'electron'</span><span class="token punctuation" style="color:#393A34">)</span><br></span><span class="token-line" style="color:#393A34"><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">whenReady</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Register a 'CommandOrControl+X' shortcut listener.</span><br></span><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> globalShortcut</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">register</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'CommandOrControl+X'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'CommandOrControl+X is pressed'</span><span class="token punctuation" style="color:#393A34">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span><span class="token-line" style="color:#393A34"><br></span><span class="token-line" style="color:#393A34"><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">ret</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'registration failed'</span><span class="token punctuation" style="color:#393A34">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">}</span><br></span><span class="token-line" style="color:#393A34"><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Check whether a shortcut is registered.</span><br></span><span class="token-line" style="color:#393A34"><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">globalShortcut</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">isRegistered</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'CommandOrControl+X'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span><span class="token-line" style="color:#393A34"><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'will-quit'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Unregister a shortcut.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  globalShortcut</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">unregister</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'CommandOrControl+X'</span><span class="token punctuation" style="color:#393A34">)</span><br></span><span class="token-line" style="color:#393A34"><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Unregister all shortcuts.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  globalShortcut</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">unregisterAll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_31ik" id="methods">Methods<a class="hash-link" href="#methods" title="Direct link to heading">​</a>
</h2>
<p>The <code>globalShortcut</code> module has the following methods:</p>
<h3 class="anchor anchorWithStickyNavbar_31ik" id="globalshortcutregisteraccelerator-callback">
<code>globalShortcut.register(accelerator, callback)</code><a class="hash-link" href="#globalshortcutregisteraccelerator-callback" title="Direct link to heading">​</a>
</h3>
<ul>
<li>
<code>accelerator</code> <a href="accelerator">Accelerator</a>
</li>
<li>
<code>callback</code> Function</li>
</ul>
<p>Returns <code>Boolean</code> - Whether or not the shortcut was registered successfully.</p>
<p>Registers a global shortcut of <code>accelerator</code>. The <code>callback</code> is called when the registered shortcut is pressed by the user.</p>
<p>When the accelerator is already taken by other applications, this call will silently fail. This behavior is intended by operating systems, since they don't want applications to fight for global shortcuts.</p>
<p>The following accelerators will not be registered successfully on macOS 10.14 Mojave unless the app has been authorized as a <a href="https://developer.apple.com/library/archive/documentation/Accessibility/Conceptual/AccessibilityMacOSX/OSXAXTestingApps.html" target="_blank" rel="noopener noreferrer">trusted accessibility client</a>:</p>
<ul>
<li>"Media Play/Pause"</li>
<li>"Media Next Track"</li>
<li>"Media Previous Track"</li>
<li>"Media Stop"</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_31ik" id="globalshortcutregisterallaccelerators-callback">
<code>globalShortcut.registerAll(accelerators, callback)</code><a class="hash-link" href="#globalshortcutregisterallaccelerators-callback" title="Direct link to heading">​</a>
</h3>
<ul>
<li>
<code>accelerators</code> String[] - an array of <a href="accelerator">Accelerator</a>s.</li>
<li>
<code>callback</code> Function</li>
</ul>
<p>Registers a global shortcut of all <code>accelerator</code> items in <code>accelerators</code>. The <code>callback</code> is called when any of the registered shortcuts are pressed by the user.</p>
<p>When a given accelerator is already taken by other applications, this call will silently fail. This behavior is intended by operating systems, since they don't want applications to fight for global shortcuts.</p>
<p>The following accelerators will not be registered successfully on macOS 10.14 Mojave unless the app has been authorized as a <a href="https://developer.apple.com/library/archive/documentation/Accessibility/Conceptual/AccessibilityMacOSX/OSXAXTestingApps.html" target="_blank" rel="noopener noreferrer">trusted accessibility client</a>:</p>
<ul>
<li>"Media Play/Pause"</li>
<li>"Media Next Track"</li>
<li>"Media Previous Track"</li>
<li>"Media Stop"</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_31ik" id="globalshortcutisregisteredaccelerator">
<code>globalShortcut.isRegistered(accelerator)</code><a class="hash-link" href="#globalshortcutisregisteredaccelerator" title="Direct link to heading">​</a>
</h3>
<ul><li>
<code>accelerator</code> <a href="accelerator">Accelerator</a>
</li></ul>
<p>Returns <code>Boolean</code> - Whether this application has registered <code>accelerator</code>.</p>
<p>When the accelerator is already taken by other applications, this call will still return <code>false</code>. This behavior is intended by operating systems, since they don't want applications to fight for global shortcuts.</p>
<h3 class="anchor anchorWithStickyNavbar_31ik" id="globalshortcutunregisteraccelerator">
<code>globalShortcut.unregister(accelerator)</code><a class="hash-link" href="#globalshortcutunregisteraccelerator" title="Direct link to heading">​</a>
</h3>
<ul><li>
<code>accelerator</code> <a href="accelerator">Accelerator</a>
</li></ul>
<p>Unregisters the global shortcut of <code>accelerator</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_31ik" id="globalshortcutunregisterall">
<code>globalShortcut.unregisterAll()</code><a class="hash-link" href="#globalshortcutunregisterall" title="Direct link to heading">​</a>
</h3>
<p>Unregisters all of the global shortcuts.</p><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://www.electronjs.org/docs/latest/api/global-shortcut" class="_attribution-link" target="_blank">https://www.electronjs.org/docs/latest/api/global-shortcut</a>
  </p>
</div>
