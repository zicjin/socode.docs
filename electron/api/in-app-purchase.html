<h1 id="inapppurchase">inAppPurchase</h1> <blockquote> <p>In-app purchases on Mac App Store.</p> </blockquote> <p>Process: <a href="../glossary#main-process">Main</a></p> <h2 id="events">Events</h2> <p>The <code>inAppPurchase</code> module emits the following events:</p> <h3 id="event-transactions-updated">Event: 'transactions-updated'</h3> <p>Emitted when one or more transactions have been updated.</p> <p>Returns:</p> <ul> <li>
<code>event</code> Event</li> <li>
<code>transactions</code> Transaction[] - Array of <a href="structures/transaction"><code>Transaction</code></a> objects.</li> </ul> <h2 id="methods">Methods</h2> <p>The <code>inAppPurchase</code> module has the following methods:</p> <h3 id="inapppurchasepurchaseproductproductid-quantity"><code>inAppPurchase.purchaseProduct(productID[, quantity])</code></h3> <ul> <li>
<code>productID</code> String - The identifiers of the product to purchase. (The identifier of <code>com.example.app.product1</code> is <code>product1</code>).</li> <li>
<code>quantity</code> Integer (optional) - The number of items the user wants to purchase.</li> </ul> <p>Returns <code>Promise&lt;Boolean&gt;</code> - Returns <code>true</code> if the product is valid and added to the payment queue.</p> <p>You should listen for the <code>transactions-updated</code> event as soon as possible and certainly before you call <code>purchaseProduct</code>.</p> <h3 id="inapppurchasegetproductsproductids"><code>inAppPurchase.getProducts(productIDs)</code></h3> <ul> <li>
<code>productIDs</code> String[] - The identifiers of the products to get.</li> </ul> <p>Returns <code>Promise&lt;Product[]&gt;</code> - Resolves with an array of <a href="structures/product"><code>Product</code></a> objects.</p> <p>Retrieves the product descriptions.</p> <h3 id="inapppurchasecanmakepayments"><code>inAppPurchase.canMakePayments()</code></h3> <p>Returns <code>Boolean</code> - whether a user can make a payment.</p> <h3 id="inapppurchaserestorecompletedtransactions"><code>inAppPurchase.restoreCompletedTransactions()</code></h3> <p>Restores finished transactions. This method can be called either to install purchases on additional devices, or to restore purchases for an application that the user deleted and reinstalled.</p> <p><a href="https://developer.apple.com/documentation/storekit/skpaymentqueue?language=objc">The payment queue</a> delivers a new transaction for each previously completed transaction that can be restored. Each transaction includes a copy of the original transaction.</p> <h3 id="inapppurchasegetreceipturl"><code>inAppPurchase.getReceiptURL()</code></h3> <p>Returns <code>String</code> - the path to the receipt.</p> <h3 id="inapppurchasefinishalltransactions"><code>inAppPurchase.finishAllTransactions()</code></h3> <p>Completes all pending transactions.</p> <h3 id="inapppurchasefinishtransactionbydatedate"><code>inAppPurchase.finishTransactionByDate(date)</code></h3> <ul> <li>
<code>date</code> String - The ISO formatted date of the transaction to finish.</li> </ul> <p>Completes the pending transactions corresponding to the date.</p><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://www.electronjs.org/docs/api/in-app-purchase" class="_attribution-link" target="_blank">https://www.electronjs.org/docs/api/in-app-purchase</a>
  </p>
</div>
