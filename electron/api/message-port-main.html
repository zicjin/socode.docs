<h1 id="messageportmain">MessagePortMain</h1> <p><code>MessagePortMain</code> is the main-process-side equivalent of the DOM <a href="https://developer.mozilla.org/en-US/docs/Web/API/MessagePort"><code>MessagePort</code></a> object. It behaves similarly to the DOM version, with the exception that it uses the Node.js <code>EventEmitter</code> event system, instead of the DOM <code>EventTarget</code> system. This means you should use <code>port.on('message', ...)</code> to listen for events, instead of <code>port.onmessage = ...</code> or <code>port.addEventListener('message', ...)</code></p> <p>See the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Channel_Messaging_API">Channel Messaging API</a> documentation for more information on using channel messaging.</p> <p><code>MessagePortMain</code> is an [EventEmitter][event-emitter].</p> <h2 id="class-messageportmain">Class: MessagePortMain</h2> <blockquote> <p>Port interface for channel messaging in the main process.</p> </blockquote> <p>Process: <a href="../glossary#main-process">Main</a></p> <h3 id="instance-methods">Instance Methods</h3> <h4 id="portpostmessagemessage-transfer"><code>port.postMessage(message, [transfer])</code></h4> <ul> <li>
<code>message</code> any</li> <li>
<code>transfer</code> MessagePortMain
</li> </ul> <p>Sends a message from the port, and optionally, transfers ownership of objects to other browsing contexts.</p> <h4 id="portstart"><code>port.start()</code></h4> <p>Starts the sending of messages queued on the port. Messages will be queued until this method is called.</p> <h4 id="portclose"><code>port.close()</code></h4> <p>Disconnects the port, so it is no longer active.</p> <h3 id="instance-events">Instance Events</h3> <h4 id="event-message">Event: 'message'</h4> <p>Returns:</p> <ul> <li>
<code>messageEvent</code> Object<ul> <li>
<code>data</code> any</li> <li>
<code>ports</code> MessagePortMain[]</li> </ul>
</li> </ul> <p>Emitted when a MessagePortMain object receives a message.</p> <h4 id="event-close">Event: 'close'</h4> <p>Emitted when the remote end of a MessagePortMain object becomes disconnected.</p><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://www.electronjs.org/docs/api/message-port-main" class="_attribution-link" target="_blank">https://www.electronjs.org/docs/api/message-port-main</a>
  </p>
</div>
