<h1 id="breaking-changes">Breaking Changes</h1> <p>Breaking changes will be documented here, and deprecation warnings added to JS code where possible, at least <a href="tutorial/electron-versioning#semver">one major version</a> before the change is made.</p> <h3 id="types-of-breaking-changes">Types of Breaking Changes</h3> <p>This document uses the following convention to categorize breaking changes:</p> <ul> <li>
<strong>API Changed:</strong> An API was changed in such a way that code that has not been updated is guaranteed to throw an exception.</li> <li>
<strong>Behavior Changed:</strong> The behavior of Electron has changed, but not in such a way that an exception will necessarily be thrown.</li> <li>
<strong>Default Changed:</strong> Code depending on the old default may break, not necessarily throwing an exception. The old behavior can be restored by explicitly specifying the value.</li> <li>
<strong>Deprecated:</strong> An API was marked as deprecated. The API will continue to function, but will emit a deprecation warning, and will be removed in a future release.</li> <li>
<strong>Removed:</strong> An API or feature was removed, and is no longer supported by Electron.</li> </ul> <h2 id="planned-breaking-api-changes-140">Planned Breaking API Changes (14.0)</h2> <h3 id="api-changed-windowopen">API Changed: <code>window.(open)</code>
</h3> <p>The optional parameter <code>frameName</code> will no longer set the title of the window. This now follows the specification described by the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/open#parameters">native documentation</a> under the corresponding parameter <code>windowName</code>.</p> <p>If you were using this parameter to set the title of a window, you can instead use <a href="api/browser-window#winsettitletitle">win.setTitle(title)</a>.</p> <h3 id="removed-worldsafeexecutejavascript">Removed: <code>worldSafeExecuteJavaScript</code>
</h3> <p>In Electron 14, <code>worldSafeExecuteJavaScript</code> will be removed. There is no alternative, please ensure your code works with this property enabled. It has been enabled by default since Electron 12.</p> <p>You will be affected by this change if you use either <code>webFrame.executeJavaScript</code> or <code>webFrame.executeJavaScriptInIsolatedWorld</code>. You will need to ensure that values returned by either of those methods are supported by the <a href="api/context-bridge#parameter--error--return-type-support">Context Bridge API</a> as these methods use the same value passing semantics.</p> <h2 id="planned-breaking-api-changes-130">Planned Breaking API Changes (13.0)</h2> <h3 id="api-changed-sessionsetpermissioncheckhandlerhandler">API Changed: <code>session.setPermissionCheckHandler(handler)</code>
</h3> <p>The <code>handler</code> methods first parameter was previously always a <code>webContents</code>, it can now sometimes be <code>null</code>. You should use the <code>requestingOrigin</code>, <code>embeddingOrigin</code> and <code>securityOrigin</code> properties to respond to the permission check correctly. As the <code>webContents</code> can be <code>null</code> it can no longer be relied on.</p> <pre data-language="js">// Old code
session.setPermissionCheckHandler((webContents, permission) =&gt; {
  if (webContents.getURL().startsWith('https://google.com/') &amp;&amp; permission === 'notification') {
    return true
  }
  return false
})

// Replace with
session.setPermissionCheckHandler((webContents, permission, requestingOrigin) =&gt; {
  if (new URL(requestingOrigin).hostname === 'google.com' &amp;&amp; permission === 'notification') {
    return true
  }
  return false
})
</pre> <h3 id="removed-shellmoveitemtotrash">Removed: <code>shell.moveItemToTrash()</code>
</h3> <p>The deprecated synchronous <code>shell.moveItemToTrash()</code> API has been removed. Use the asynchronous <code>shell.trashItem()</code> instead.</p> <pre data-language="js">// Removed in Electron 13
shell.moveItemToTrash(path)
// Replace with
shell.trashItem(path).then(/* ... */)
</pre> <h3 id="removed-browserwindow-extension-apis">Removed: <code>BrowserWindow</code> extension APIs</h3> <p>The deprecated extension APIs have been removed:</p> <ul> <li><code>BrowserWindow.addExtension(path)</code></li> <li><code>BrowserWindow.addDevToolsExtension(path)</code></li> <li><code>BrowserWindow.removeExtension(name)</code></li> <li><code>BrowserWindow.removeDevToolsExtension(name)</code></li> <li><code>BrowserWindow.getExtensions()</code></li> <li><code>BrowserWindow.getDevToolsExtensions()</code></li> </ul> <p>Use the session APIs instead:</p> <ul> <li><code>ses.loadExtension(path)</code></li> <li><code>ses.removeExtension(extension_id)</code></li> <li><code>ses.getAllExtensions()</code></li> </ul> <pre data-language="js">// Removed in Electron 13
BrowserWindow.addExtension(path)
BrowserWindow.addDevToolsExtension(path)
// Replace with
session.defaultSession.loadExtension(path)
</pre> <pre data-language="js">// Removed in Electron 13
BrowserWindow.removeExtension(name)
BrowserWindow.removeDevToolsExtension(name)
// Replace with
session.defaultSession.removeExtension(extension_id)
</pre> <pre data-language="js">// Removed in Electron 13
BrowserWindow.getExtensions()
BrowserWindow.getDevToolsExtensions()
// Replace with
session.defaultSession.getAllExtensions()
</pre> <h3 id="removed-methods-in-systempreferences">Removed: methods in <code>systemPreferences</code>
</h3> <p>The following <code>systemPreferences</code> methods have been deprecated:</p> <ul> <li><code>systemPreferences.isDarkMode()</code></li> <li><code>systemPreferences.isInvertedColorScheme()</code></li> <li><code>systemPreferences.isHighContrastColorScheme()</code></li> </ul> <p>Use the following <code>nativeTheme</code> properties instead:</p> <ul> <li><code>nativeTheme.shouldUseDarkColors</code></li> <li><code>nativeTheme.shouldUseInvertedColorScheme</code></li> <li><code>nativeTheme.shouldUseHighContrastColors</code></li> </ul> <pre data-language="js">// Removed in Electron 13
systemPreferences.isDarkMode()
// Replace with
nativeTheme.shouldUseDarkColors

// Removed in Electron 13
systemPreferences.isInvertedColorScheme()
// Replace with
nativeTheme.shouldUseInvertedColorScheme

// Removed in Electron 13
systemPreferences.isHighContrastColorScheme()
// Replace with
nativeTheme.shouldUseHighContrastColors
</pre> <h3 id="deprecated-webcontents-new-window-event">Deprecated: WebContents <code>new-window</code> event</h3> <p>The <code>new-window</code> event of WebContents has been deprecated. It is replaced by <a href="api/web-contents#contentssetwindowopenhandlerhandler"><code>webContents.setWindowOpenHandler()</code></a>.</p> <pre data-language="js">// Deprecated in Electron 13
webContents.on('new-window', (event) =&gt; {
  event.preventDefault()
})

// Replace with
webContents.setWindowOpenHandler((details) =&gt; {
  return { action: 'deny' }
})
</pre> <h2 id="planned-breaking-api-changes-120">Planned Breaking API Changes (12.0)</h2> <h3 id="removed-pepper-flash-support">Removed: Pepper Flash support</h3> <p>Chromium has removed support for Flash, and so we must follow suit. See Chromium's <a href="https://www.chromium.org/flash-roadmap">Flash Roadmap</a> for more details.</p> <h3 id="default-changed-worldsafeexecutejavascript-defaults-to-true">Default Changed: <code>worldSafeExecuteJavaScript</code> defaults to <code>true</code>
</h3> <p>In Electron 12, <code>worldSafeExecuteJavaScript</code> will be enabled by default. To restore the previous behavior, <code>worldSafeExecuteJavaScript: false</code> must be specified in WebPreferences. Please note that setting this option to <code>false</code> is <strong>insecure</strong>.</p> <p>This option will be removed in Electron 14 so please migrate your code to support the default value.</p> <h3 id="default-changed-contextisolation-defaults-to-true">Default Changed: <code>contextIsolation</code> defaults to <code>true</code>
</h3> <p>In Electron 12, <code>contextIsolation</code> will be enabled by default. To restore the previous behavior, <code>contextIsolation: false</code> must be specified in WebPreferences.</p> <p>We <a href="https://github.com/electron/electron/blob/master/docs/tutorial/security.md#3-enable-context-isolation-for-remote-content">recommend having contextIsolation enabled</a> for the security of your application.</p> <p>Another implication is that <code>require()</code> cannot be used in the renderer process unless <code>nodeIntegration</code> is <code>true</code> and <code>contextIsolation</code> is <code>false</code>.</p> <p>For more details see: <a href="https://github.com/electron/electron/issues/23506">https://github.com/electron/electron/issues/23506</a></p> <h3 id="removed-crashreportergetcrashesdirectory">Removed: <code>crashReporter.getCrashesDirectory()</code>
</h3> <p>The <code>crashReporter.getCrashesDirectory</code> method has been removed. Usage should be replaced by <code>app.getPath('crashDumps')</code>.</p> <pre data-language="js">// Removed in Electron 12
crashReporter.getCrashesDirectory()
// Replace with
app.getPath('crashDumps')
</pre> <h3 id="removed-crashreporter-methods-in-the-renderer-process">Removed: <code>crashReporter</code> methods in the renderer process</h3> <p>The following <code>crashReporter</code> methods are no longer available in the renderer process:</p> <ul> <li><code>crashReporter.start</code></li> <li><code>crashReporter.getLastCrashReport</code></li> <li><code>crashReporter.getUploadedReports</code></li> <li><code>crashReporter.getUploadToServer</code></li> <li><code>crashReporter.setUploadToServer</code></li> <li><code>crashReporter.getCrashesDirectory</code></li> </ul> <p>They should be called only from the main process.</p> <p>See <a href="https://github.com/electron/electron/pull/23265">#23265</a> for more details.</p> <h3 id="default-changed-crashreporterstart-compress-true-">Default Changed: <code>crashReporter.start({ compress: true })</code>
</h3> <p>The default value of the <code>compress</code> option to <code>crashReporter.start</code> has changed from <code>false</code> to <code>true</code>. This means that crash dumps will be uploaded to the crash ingestion server with the <code>Content-Encoding: gzip</code> header, and the body will be compressed.</p> <p>If your crash ingestion server does not support compressed payloads, you can turn off compression by specifying <code>{ compress: false }</code> in the crash reporter options.</p> <h3 id="deprecated-remote-module">Deprecated: <code>remote</code> module</h3> <p>The <code>remote</code> module is deprecated in Electron 12, and will be removed in Electron 14. It is replaced by the <a href="https://github.com/electron/remote"><code>@electron/remote</code></a> module.</p> <pre data-language="js">// Deprecated in Electron 12:
const { BrowserWindow } = require('electron').remote
</pre> <pre data-language="js">// Replace with:
const { BrowserWindow } = require('@electron/remote')

// In the main process:
require('@electron/remote/main').initialize()
</pre> <h3 id="deprecated-shellmoveitemtotrash">Deprecated: <code>shell.moveItemToTrash()</code>
</h3> <p>The synchronous <code>shell.moveItemToTrash()</code> has been replaced by the new, asynchronous <code>shell.trashItem()</code>.</p> <pre data-language="js">// Deprecated in Electron 12
shell.moveItemToTrash(path)
// Replace with
shell.trashItem(path).then(/* ... */)
</pre> <h2 id="planned-breaking-api-changes-110">Planned Breaking API Changes (11.0)</h2> <h3 id="removed-browserviewdestroy-fromid-fromwebcontents-getallviews-and-id-property-of-browserview">Removed: <code>BrowserView.{destroy, fromId, fromWebContents, getAllViews}</code> and <code>id</code> property of <code>BrowserView</code>
</h3> <p>The experimental APIs <code>BrowserView.{destroy, fromId, fromWebContents, getAllViews}</code> have now been removed. Additionally, the <code>id</code> property of <code>BrowserView</code> has also been removed.</p> <p>For more detailed information, see <a href="https://github.com/electron/electron/pull/23578">#23578</a>.</p> <h2 id="planned-breaking-api-changes-100">Planned Breaking API Changes (10.0)</h2> <h3 id="deprecated-companyname-argument-to-crashreporterstart">Deprecated: <code>companyName</code> argument to <code>crashReporter.start()</code>
</h3> <p>The <code>companyName</code> argument to <code>crashReporter.start()</code>, which was previously required, is now optional, and further, is deprecated. To get the same behavior in a non-deprecated way, you can pass a <code>companyName</code> value in <code>globalExtra</code>.</p> <pre data-language="js">// Deprecated in Electron 10
crashReporter.start({ companyName: 'Umbrella Corporation' })
// Replace with
crashReporter.start({ globalExtra: { _companyName: 'Umbrella Corporation' } })
</pre> <h3 id="deprecated-crashreportergetcrashesdirectory">Deprecated: <code>crashReporter.getCrashesDirectory()</code>
</h3> <p>The <code>crashReporter.getCrashesDirectory</code> method has been deprecated. Usage should be replaced by <code>app.getPath('crashDumps')</code>.</p> <pre data-language="js">// Deprecated in Electron 10
crashReporter.getCrashesDirectory()
// Replace with
app.getPath('crashDumps')
</pre> <h3 id="deprecated-crashreporter-methods-in-the-renderer-process">Deprecated: <code>crashReporter</code> methods in the renderer process</h3> <p>Calling the following <code>crashReporter</code> methods from the renderer process is deprecated:</p> <ul> <li><code>crashReporter.start</code></li> <li><code>crashReporter.getLastCrashReport</code></li> <li><code>crashReporter.getUploadedReports</code></li> <li><code>crashReporter.getUploadToServer</code></li> <li><code>crashReporter.setUploadToServer</code></li> <li><code>crashReporter.getCrashesDirectory</code></li> </ul> <p>The only non-deprecated methods remaining in the <code>crashReporter</code> module in the renderer are <code>addExtraParameter</code>, <code>removeExtraParameter</code> and <code>getParameters</code>.</p> <p>All above methods remain non-deprecated when called from the main process.</p> <p>See <a href="https://github.com/electron/electron/pull/23265">#23265</a> for more details.</p> <h3 id="deprecated-crashreporterstart-compress-false-">Deprecated: <code>crashReporter.start({ compress: false })</code>
</h3> <p>Setting <code>{ compress: false }</code> in <code>crashReporter.start</code> is deprecated. Nearly all crash ingestion servers support gzip compression. This option will be removed in a future version of Electron.</p> <h3 id="removed-browser-window-affinity">Removed: Browser Window Affinity</h3> <p>The <code>affinity</code> option when constructing a new <code>BrowserWindow</code> will be removed as part of our plan to more closely align with Chromium's process model for security, performance and maintainability.</p> <p>For more detailed information see <a href="https://github.com/electron/electron/issues/18397">#18397</a>.</p> <h3 id="default-changed-enableremotemodule-defaults-to-false">Default Changed: <code>enableRemoteModule</code> defaults to <code>false</code>
</h3> <p>In Electron 9, using the remote module without explicitly enabling it via the <code>enableRemoteModule</code> WebPreferences option began emitting a warning. In Electron 10, the remote module is now disabled by default. To use the remote module, <code>enableRemoteModule: true</code> must be specified in WebPreferences:</p> <pre data-language="js">const w = new BrowserWindow({
  webPreferences: {
    enableRemoteModule: true
  }
})
</pre> <p>We <a href="https://medium.com/@nornagon/electrons-remote-module-considered-harmful-70d69500f31">recommend moving away from the remote module</a>.</p> <h3 id="protocolunregisterprotocol"><code>protocol.unregisterProtocol</code></h3> <h3 id="protocoluninterceptprotocol"><code>protocol.uninterceptProtocol</code></h3> <p>The APIs are now synchronous and the optional callback is no longer needed.</p> <pre data-language="javascript">// Deprecated
protocol.unregisterProtocol(scheme, () =&gt; { /* ... */ })
// Replace with
protocol.unregisterProtocol(scheme)
</pre> <h3 id="protocolregisterfileprotocol"><code>protocol.registerFileProtocol</code></h3> <h3 id="protocolregisterbufferprotocol"><code>protocol.registerBufferProtocol</code></h3> <h3 id="protocolregisterstringprotocol"><code>protocol.registerStringProtocol</code></h3> <h3 id="protocolregisterhttpprotocol"><code>protocol.registerHttpProtocol</code></h3> <h3 id="protocolregisterstreamprotocol"><code>protocol.registerStreamProtocol</code></h3> <h3 id="protocolinterceptfileprotocol"><code>protocol.interceptFileProtocol</code></h3> <h3 id="protocolinterceptstringprotocol"><code>protocol.interceptStringProtocol</code></h3> <h3 id="protocolinterceptbufferprotocol"><code>protocol.interceptBufferProtocol</code></h3> <h3 id="protocolintercepthttpprotocol"><code>protocol.interceptHttpProtocol</code></h3> <h3 id="protocolinterceptstreamprotocol"><code>protocol.interceptStreamProtocol</code></h3> <p>The APIs are now synchronous and the optional callback is no longer needed.</p> <pre data-language="javascript">// Deprecated
protocol.registerFileProtocol(scheme, handler, () =&gt; { /* ... */ })
// Replace with
protocol.registerFileProtocol(scheme, handler)
</pre> <p>The registered or intercepted protocol does not have effect on current page until navigation happens.</p> <h3 id="protocolisprotocolhandled"><code>protocol.isProtocolHandled</code></h3> <p>This API is deprecated and users should use <code>protocol.isProtocolRegistered</code> and <code>protocol.isProtocolIntercepted</code> instead.</p> <pre data-language="javascript">// Deprecated
protocol.isProtocolHandled(scheme).then(() =&gt; { /* ... */ })
// Replace with
const isRegistered = protocol.isProtocolRegistered(scheme)
const isIntercepted = protocol.isProtocolIntercepted(scheme)
</pre> <h2 id="planned-breaking-api-changes-90">Planned Breaking API Changes (9.0)</h2> <h3 id="default-changed-loading-non-context-aware-native-modules-in-the-renderer-process-is-disabled-by-default">Default Changed: Loading non-context-aware native modules in the renderer process is disabled by default</h3> <p>As of Electron 9 we do not allow loading of non-context-aware native modules in the renderer process. This is to improve security, performance and maintainability of Electron as a project.</p> <p>If this impacts you, you can temporarily set <code>app.allowRendererProcessReuse</code> to <code>false</code> to revert to the old behavior. This flag will only be an option until Electron 11 so you should plan to update your native modules to be context aware.</p> <p>For more detailed information see <a href="https://github.com/electron/electron/issues/18397">#18397</a>.</p> <h3 id="deprecated-browserwindow-extension-apis">Deprecated: <code>BrowserWindow</code> extension APIs</h3> <p>The following extension APIs have been deprecated:</p> <ul> <li><code>BrowserWindow.addExtension(path)</code></li> <li><code>BrowserWindow.addDevToolsExtension(path)</code></li> <li><code>BrowserWindow.removeExtension(name)</code></li> <li><code>BrowserWindow.removeDevToolsExtension(name)</code></li> <li><code>BrowserWindow.getExtensions()</code></li> <li><code>BrowserWindow.getDevToolsExtensions()</code></li> </ul> <p>Use the session APIs instead:</p> <ul> <li><code>ses.loadExtension(path)</code></li> <li><code>ses.removeExtension(extension_id)</code></li> <li><code>ses.getAllExtensions()</code></li> </ul> <pre data-language="js">// Deprecated in Electron 9
BrowserWindow.addExtension(path)
BrowserWindow.addDevToolsExtension(path)
// Replace with
session.defaultSession.loadExtension(path)
</pre> <pre data-language="js">// Deprecated in Electron 9
BrowserWindow.removeExtension(name)
BrowserWindow.removeDevToolsExtension(name)
// Replace with
session.defaultSession.removeExtension(extension_id)
</pre> <pre data-language="js">// Deprecated in Electron 9
BrowserWindow.getExtensions()
BrowserWindow.getDevToolsExtensions()
// Replace with
session.defaultSession.getAllExtensions()
</pre> <h3 id="removed-webviewgetwebcontents">Removed: <code>&lt;webview&gt;.getWebContents()</code>
</h3> <p>This API, which was deprecated in Electron 8.0, is now removed.</p> <pre data-language="js">// Removed in Electron 9.0
webview.getWebContents()
// Replace with
const { remote } = require('electron')
remote.webContents.fromId(webview.getWebContentsId())
</pre> <h3 id="removed-webframesetlayoutzoomlevellimits">Removed: <code>webFrame.setLayoutZoomLevelLimits()</code>
</h3> <p>Chromium has removed support for changing the layout zoom level limits, and it is beyond Electron's capacity to maintain it. The function was deprecated in Electron 8.x, and has been removed in Electron 9.x. The layout zoom level limits are now fixed at a minimum of 0.25 and a maximum of 5.0, as defined <a href="https://chromium.googlesource.com/chromium/src/+/938b37a6d2886bf8335fc7db792f1eb46c65b2ae/third_party/blink/common/page/page_zoom.cc#11">here</a>.</p> <h3 id="behavior-changed-sending-non-js-objects-over-ipc-now-throws-an-exception">Behavior Changed: Sending non-JS objects over IPC now throws an exception</h3> <p>In Electron 8.0, IPC was changed to use the Structured Clone Algorithm, bringing significant performance improvements. To help ease the transition, the old IPC serialization algorithm was kept and used for some objects that aren't serializable with Structured Clone. In particular, DOM objects (e.g. <code>Element</code>, <code>Location</code> and <code>DOMMatrix</code>), Node.js objects backed by C++ classes (e.g. <code>process.env</code>, some members of <code>Stream</code>), and Electron objects backed by C++ classes (e.g. <code>WebContents</code>, <code>BrowserWindow</code> and <code>WebFrame</code>) are not serializable with Structured Clone. Whenever the old algorithm was invoked, a deprecation warning was printed.</p> <p>In Electron 9.0, the old serialization algorithm has been removed, and sending such non-serializable objects will now throw an "object could not be cloned" error.</p> <h3 id="api-changed-shellopenitem-is-now-shellopenpath">API Changed: <code>shell.openItem</code> is now <code>shell.openPath</code>
</h3> <p>The <code>shell.openItem</code> API has been replaced with an asynchronous <code>shell.openPath</code> API. You can see the original API proposal and reasoning <a href="https://github.com/electron/governance/blob/master/wg-api/spec-documents/shell-openitem.md">here</a>.</p> <h2 id="planned-breaking-api-changes-80">Planned Breaking API Changes (8.0)</h2> <h3 id="behavior-changed-values-sent-over-ipc-are-now-serialized-with-structured-clone-algorithm">Behavior Changed: Values sent over IPC are now serialized with Structured Clone Algorithm</h3> <p>The algorithm used to serialize objects sent over IPC (through <code>ipcRenderer.send</code>, <code>ipcRenderer.sendSync</code>, <code>WebContents.send</code> and related methods) has been switched from a custom algorithm to V8's built-in <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm">Structured Clone Algorithm</a>, the same algorithm used to serialize messages for <code>postMessage</code>. This brings about a 2x performance improvement for large messages, but also brings some breaking changes in behavior.</p> <ul> <li>Sending Functions, Promises, WeakMaps, WeakSets, or objects containing any such values, over IPC will now throw an exception, instead of silently converting the functions to <code>undefined</code>.</li> </ul> <pre data-language="js">// Previously:
ipcRenderer.send('channel', { value: 3, someFunction: () =&gt; {} })
// =&gt; results in { value: 3 } arriving in the main process

// From Electron 8:
ipcRenderer.send('channel', { value: 3, someFunction: () =&gt; {} })
// =&gt; throws Error("() =&gt; {} could not be cloned.")
</pre> <ul> <li>
<code>NaN</code>, <code>Infinity</code> and <code>-Infinity</code> will now be correctly serialized, instead of being converted to <code>null</code>.</li> <li>Objects containing cyclic references will now be correctly serialized, instead of being converted to <code>null</code>.</li> <li>
<code>Set</code>, <code>Map</code>, <code>Error</code> and <code>RegExp</code> values will be correctly serialized, instead of being converted to <code>{}</code>.</li> <li>
<code>BigInt</code> values will be correctly serialized, instead of being converted to <code>null</code>.</li> <li>Sparse arrays will be serialized as such, instead of being converted to dense arrays with <code>null</code>s.</li> <li>
<code>Date</code> objects will be transferred as <code>Date</code> objects, instead of being converted to their ISO string representation.</li> <li>Typed Arrays (such as <code>Uint8Array</code>, <code>Uint16Array</code>, <code>Uint32Array</code> and so on) will be transferred as such, instead of being converted to Node.js <code>Buffer</code>.</li> <li>Node.js <code>Buffer</code> objects will be transferred as <code>Uint8Array</code>s. You can convert a <code>Uint8Array</code> back to a Node.js <code>Buffer</code> by wrapping the underlying <code>ArrayBuffer</code>:</li> </ul> <pre data-language="js">Buffer.from(value.buffer, value.byteOffset, value.byteLength)
</pre> <p>Sending any objects that aren't native JS types, such as DOM objects (e.g. <code>Element</code>, <code>Location</code>, <code>DOMMatrix</code>), Node.js objects (e.g. <code>process.env</code>, <code>Stream</code>), or Electron objects (e.g. <code>WebContents</code>, <code>BrowserWindow</code>, <code>WebFrame</code>) is deprecated. In Electron 8, these objects will be serialized as before with a DeprecationWarning message, but starting in Electron 9, sending these kinds of objects will throw a 'could not be cloned' error.</p> <h3 id="deprecated-webviewgetwebcontents">Deprecated: <code>&lt;webview&gt;.getWebContents()</code>
</h3> <p>This API is implemented using the <code>remote</code> module, which has both performance and security implications. Therefore its usage should be explicit.</p> <pre data-language="js">// Deprecated
webview.getWebContents()
// Replace with
const { remote } = require('electron')
remote.webContents.fromId(webview.getWebContentsId())
</pre> <p>However, it is recommended to avoid using the <code>remote</code> module altogether.</p> <pre data-language="js">// main
const { ipcMain, webContents } = require('electron')

const getGuestForWebContents = (webContentsId, contents) =&gt; {
  const guest = webContents.fromId(webContentsId)
  if (!guest) {
    throw new Error(`Invalid webContentsId: ${webContentsId}`)
  }
  if (guest.hostWebContents !== contents) {
    throw new Error('Access denied to webContents')
  }
  return guest
}

ipcMain.handle('openDevTools', (event, webContentsId) =&gt; {
  const guest = getGuestForWebContents(webContentsId, event.sender)
  guest.openDevTools()
})

// renderer
const { ipcRenderer } = require('electron')

ipcRenderer.invoke('openDevTools', webview.getWebContentsId())
</pre> <h3 id="deprecated-webframesetlayoutzoomlevellimits">Deprecated: <code>webFrame.setLayoutZoomLevelLimits()</code>
</h3> <p>Chromium has removed support for changing the layout zoom level limits, and it is beyond Electron's capacity to maintain it. The function will emit a warning in Electron 8.x, and cease to exist in Electron 9.x. The layout zoom level limits are now fixed at a minimum of 0.25 and a maximum of 5.0, as defined <a href="https://chromium.googlesource.com/chromium/src/+/938b37a6d2886bf8335fc7db792f1eb46c65b2ae/third_party/blink/common/page/page_zoom.cc#11">here</a>.</p> <h3 id="deprecated-events-in-systempreferences">Deprecated events in <code>systemPreferences</code>
</h3> <p>The following <code>systemPreferences</code> events have been deprecated:</p> <ul> <li><code>inverted-color-scheme-changed</code></li> <li><code>high-contrast-color-scheme-changed</code></li> </ul> <p>Use the new <code>updated</code> event on the <code>nativeTheme</code> module instead.</p> <pre data-language="js">// Deprecated
systemPreferences.on('inverted-color-scheme-changed', () =&gt; { /* ... */ })
systemPreferences.on('high-contrast-color-scheme-changed', () =&gt; { /* ... */ })

// Replace with
nativeTheme.on('updated', () =&gt; { /* ... */ })
</pre> <h3 id="deprecated-methods-in-systempreferences">Deprecated: methods in <code>systemPreferences</code>
</h3> <p>The following <code>systemPreferences</code> methods have been deprecated:</p> <ul> <li><code>systemPreferences.isDarkMode()</code></li> <li><code>systemPreferences.isInvertedColorScheme()</code></li> <li><code>systemPreferences.isHighContrastColorScheme()</code></li> </ul> <p>Use the following <code>nativeTheme</code> properties instead:</p> <ul> <li><code>nativeTheme.shouldUseDarkColors</code></li> <li><code>nativeTheme.shouldUseInvertedColorScheme</code></li> <li><code>nativeTheme.shouldUseHighContrastColors</code></li> </ul> <pre data-language="js">// Deprecated
systemPreferences.isDarkMode()
// Replace with
nativeTheme.shouldUseDarkColors

// Deprecated
systemPreferences.isInvertedColorScheme()
// Replace with
nativeTheme.shouldUseInvertedColorScheme

// Deprecated
systemPreferences.isHighContrastColorScheme()
// Replace with
nativeTheme.shouldUseHighContrastColors
</pre> <h2 id="planned-breaking-api-changes-70">Planned Breaking API Changes (7.0)</h2> <h3 id="deprecated-atomio-node-headers-url">Deprecated: Atom.io Node Headers URL</h3> <p>This is the URL specified as <code>disturl</code> in a <code>.npmrc</code> file or as the <code>--dist-url</code> command line flag when building native Node modules. Both will be supported for the foreseeable future but it is recommended that you switch.</p> <p>Deprecated: <a href="https://atom.io/download/electron">https://atom.io/download/electron</a></p> <p>Replace with: <a href="https://electronjs.org/headers">https://electronjs.org/headers</a></p> <h3 id="api-changed-sessionclearauthcache-no-longer-accepts-options">API Changed: <code>session.clearAuthCache()</code> no longer accepts options</h3> <p>The <code>session.clearAuthCache</code> API no longer accepts options for what to clear, and instead unconditionally clears the whole cache.</p> <pre data-language="js">// Deprecated
session.clearAuthCache({ type: 'password' })
// Replace with
session.clearAuthCache()
</pre> <h3 id="api-changed-powermonitorquerysystemidlestate-is-now-powermonitorgetsystemidlestate">API Changed: <code>powerMonitor.querySystemIdleState</code> is now <code>powerMonitor.getSystemIdleState</code>
</h3> <pre data-language="js">// Removed in Electron 7.0
powerMonitor.querySystemIdleState(threshold, callback)
// Replace with synchronous API
const idleState = powerMonitor.getSystemIdleState(threshold)
</pre> <h3 id="api-changed-powermonitorquerysystemidletime-is-now-powermonitorgetsystemidletime">API Changed: <code>powerMonitor.querySystemIdleTime</code> is now <code>powerMonitor.getSystemIdleTime</code>
</h3> <pre data-language="js">// Removed in Electron 7.0
powerMonitor.querySystemIdleTime(callback)
// Replace with synchronous API
const idleTime = powerMonitor.getSystemIdleTime()
</pre> <h3 id="api-changed-webframesetisolatedworldinfo-replaces-separate-methods">API Changed: <code>webFrame.setIsolatedWorldInfo</code> replaces separate methods</h3> <pre data-language="js">// Removed in Electron 7.0
webFrame.setIsolatedWorldContentSecurityPolicy(worldId, csp)
webFrame.setIsolatedWorldHumanReadableName(worldId, name)
webFrame.setIsolatedWorldSecurityOrigin(worldId, securityOrigin)
// Replace with
webFrame.setIsolatedWorldInfo(
  worldId,
  {
    securityOrigin: 'some_origin',
    name: 'human_readable_name',
    csp: 'content_security_policy'
  })
</pre> <h3 id="removed-marked-property-on-getblinkmemoryinfo">Removed: <code>marked</code> property on <code>getBlinkMemoryInfo</code>
</h3> <p>This property was removed in Chromium 77, and as such is no longer available.</p> <h3 id="behavior-changed-webkitdirectory-attribute-for-input-typefile-now-lists-directory-contents">Behavior Changed: <code>webkitdirectory</code> attribute for <code>&lt;input type="file"/&gt;</code> now lists directory contents</h3> <p>The <code>webkitdirectory</code> property on HTML file inputs allows them to select folders. Previous versions of Electron had an incorrect implementation where the <code>event.target.files</code> of the input returned a <code>FileList</code> that returned one <code>File</code> corresponding to the selected folder.</p> <p>As of Electron 7, that <code>FileList</code> is now list of all files contained within the folder, similarly to Chrome, Firefox, and Edge (<a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/webkitdirectory">link to MDN docs</a>).</p> <p>As an illustration, take a folder with this structure:</p> <pre data-language="console">folder
├── file1
├── file2
└── file3
</pre> <p>In Electron &lt;=6, this would return a <code>FileList</code> with a <code>File</code> object for:</p> <pre data-language="console">path/to/folder
</pre> <p>In Electron 7, this now returns a <code>FileList</code> with a <code>File</code> object for:</p> <pre data-language="console">/path/to/folder/file3
/path/to/folder/file2
/path/to/folder/file1
</pre> <p>Note that <code>webkitdirectory</code> no longer exposes the path to the selected folder. If you require the path to the selected folder rather than the folder contents, see the <code>dialog.showOpenDialog</code> API (<a href="https://github.com/electron/electron/blob/master/docs/api/dialog.md#dialogshowopendialogbrowserwindow-options">link</a>).</p> <h3 id="api-changed-callback-based-versions-of-promisified-apis">API Changed: Callback-based versions of promisified APIs</h3> <p>Electron 5 and Electron 6 introduced Promise-based versions of existing asynchronous APIs and deprecated their older, callback-based counterparts. In Electron 7, all deprecated callback-based APIs are now removed.</p> <p>These functions now only return Promises:</p> <ul> <li>
<code>app.getFileIcon()</code> <a href="https://github.com/electron/electron/pull/15742">#15742</a>
</li> <li>
<code>app.dock.show()</code> <a href="https://github.com/electron/electron/pull/16904">#16904</a>
</li> <li>
<code>contentTracing.getCategories()</code> <a href="https://github.com/electron/electron/pull/16583">#16583</a>
</li> <li>
<code>contentTracing.getTraceBufferUsage()</code> <a href="https://github.com/electron/electron/pull/16600">#16600</a>
</li> <li>
<code>contentTracing.startRecording()</code> <a href="https://github.com/electron/electron/pull/16584">#16584</a>
</li> <li>
<code>contentTracing.stopRecording()</code> <a href="https://github.com/electron/electron/pull/16584">#16584</a>
</li> <li>
<code>contents.executeJavaScript()</code> <a href="https://github.com/electron/electron/pull/17312">#17312</a>
</li> <li>
<code>cookies.flushStore()</code> <a href="https://github.com/electron/electron/pull/16464">#16464</a>
</li> <li>
<code>cookies.get()</code> <a href="https://github.com/electron/electron/pull/16464">#16464</a>
</li> <li>
<code>cookies.remove()</code> <a href="https://github.com/electron/electron/pull/16464">#16464</a>
</li> <li>
<code>cookies.set()</code> <a href="https://github.com/electron/electron/pull/16464">#16464</a>
</li> <li>
<code>debugger.sendCommand()</code> <a href="https://github.com/electron/electron/pull/16861">#16861</a>
</li> <li>
<code>dialog.showCertificateTrustDialog()</code> <a href="https://github.com/electron/electron/pull/17181">#17181</a>
</li> <li>
<code>inAppPurchase.getProducts()</code> <a href="https://github.com/electron/electron/pull/17355">#17355</a>
</li> <li>
<code>inAppPurchase.purchaseProduct()</code><a href="https://github.com/electron/electron/pull/17355">#17355</a>
</li> <li>
<code>netLog.stopLogging()</code> <a href="https://github.com/electron/electron/pull/16862">#16862</a>
</li> <li>
<code>session.clearAuthCache()</code> <a href="https://github.com/electron/electron/pull/17259">#17259</a>
</li> <li>
<code>session.clearCache()</code> <a href="https://github.com/electron/electron/pull/17185">#17185</a>
</li> <li>
<code>session.clearHostResolverCache()</code> <a href="https://github.com/electron/electron/pull/17229">#17229</a>
</li> <li>
<code>session.clearStorageData()</code> <a href="https://github.com/electron/electron/pull/17249">#17249</a>
</li> <li>
<code>session.getBlobData()</code> <a href="https://github.com/electron/electron/pull/17303">#17303</a>
</li> <li>
<code>session.getCacheSize()</code> <a href="https://github.com/electron/electron/pull/17185">#17185</a>
</li> <li>
<code>session.resolveProxy()</code> <a href="https://github.com/electron/electron/pull/17222">#17222</a>
</li> <li>
<code>session.setProxy()</code> <a href="https://github.com/electron/electron/pull/17222">#17222</a>
</li> <li>
<code>shell.openExternal()</code> <a href="https://github.com/electron/electron/pull/16176">#16176</a>
</li> <li>
<code>webContents.loadFile()</code> <a href="https://github.com/electron/electron/pull/15855">#15855</a>
</li> <li>
<code>webContents.loadURL()</code> <a href="https://github.com/electron/electron/pull/15855">#15855</a>
</li> <li>
<code>webContents.hasServiceWorker()</code> <a href="https://github.com/electron/electron/pull/16535">#16535</a>
</li> <li>
<code>webContents.printToPDF()</code> <a href="https://github.com/electron/electron/pull/16795">#16795</a>
</li> <li>
<code>webContents.savePage()</code> <a href="https://github.com/electron/electron/pull/16742">#16742</a>
</li> <li>
<code>webFrame.executeJavaScript()</code> <a href="https://github.com/electron/electron/pull/17312">#17312</a>
</li> <li>
<code>webFrame.executeJavaScriptInIsolatedWorld()</code> <a href="https://github.com/electron/electron/pull/17312">#17312</a>
</li> <li>
<code>webviewTag.executeJavaScript()</code> <a href="https://github.com/electron/electron/pull/17312">#17312</a>
</li> <li>
<code>win.capturePage()</code> <a href="https://github.com/electron/electron/pull/15743">#15743</a>
</li> </ul> <p>These functions now have two forms, synchronous and Promise-based asynchronous:</p> <ul> <li>
<code>dialog.showMessageBox()</code>/<code>dialog.showMessageBoxSync()</code> <a href="https://github.com/electron/electron/pull/17298">#17298</a>
</li> <li>
<code>dialog.showOpenDialog()</code>/<code>dialog.showOpenDialogSync()</code> <a href="https://github.com/electron/electron/pull/16973">#16973</a>
</li> <li>
<code>dialog.showSaveDialog()</code>/<code>dialog.showSaveDialogSync()</code> <a href="https://github.com/electron/electron/pull/17054">#17054</a>
</li> </ul> <h2 id="planned-breaking-api-changes-60">Planned Breaking API Changes (6.0)</h2> <h3 id="api-changed-winsetmenunull-is-now-winremovemenu">API Changed: <code>win.setMenu(null)</code> is now <code>win.removeMenu()</code>
</h3> <pre data-language="js">// Deprecated
win.setMenu(null)
// Replace with
win.removeMenu()
</pre> <h3 id="api-changed-electronscreen-in-the-renderer-process-should-be-accessed-via-remote">API Changed: <code>electron.screen</code> in the renderer process should be accessed via <code>remote</code>
</h3> <pre data-language="js">// Deprecated
require('electron').screen
// Replace with
require('electron').remote.screen
</pre> <h3 id="api-changed-requireing-node-builtins-in-sandboxed-renderers-no-longer-implicitly-loads-the-remote-version">API Changed: <code>require()</code>ing node builtins in sandboxed renderers no longer implicitly loads the <code>remote</code> version</h3> <pre data-language="js">// Deprecated
require('child_process')
// Replace with
require('electron').remote.require('child_process')

// Deprecated
require('fs')
// Replace with
require('electron').remote.require('fs')

// Deprecated
require('os')
// Replace with
require('electron').remote.require('os')

// Deprecated
require('path')
// Replace with
require('electron').remote.require('path')
</pre> <h3 id="deprecated-powermonitorquerysystemidlestate-replaced-with-powermonitorgetsystemidlestate">Deprecated: <code>powerMonitor.querySystemIdleState</code> replaced with <code>powerMonitor.getSystemIdleState</code>
</h3> <pre data-language="js">// Deprecated
powerMonitor.querySystemIdleState(threshold, callback)
// Replace with synchronous API
const idleState = powerMonitor.getSystemIdleState(threshold)
</pre> <h3 id="deprecated-powermonitorquerysystemidletime-replaced-with-powermonitorgetsystemidletime">Deprecated: <code>powerMonitor.querySystemIdleTime</code> replaced with <code>powerMonitor.getSystemIdleTime</code>
</h3> <pre data-language="js">// Deprecated
powerMonitor.querySystemIdleTime(callback)
// Replace with synchronous API
const idleTime = powerMonitor.getSystemIdleTime()
</pre> <h3 id="deprecated-appenablemixedsandbox-is-no-longer-needed">Deprecated: <code>app.enableMixedSandbox()</code> is no longer needed</h3> <pre data-language="js">// Deprecated
app.enableMixedSandbox()
</pre> <p>Mixed-sandbox mode is now enabled by default.</p> <h3 id="deprecated-traysethighlightmode">Deprecated: <code>Tray.setHighlightMode</code>
</h3> <p>Under macOS Catalina our former Tray implementation breaks. Apple's native substitute doesn't support changing the highlighting behavior.</p> <pre data-language="js">// Deprecated
tray.setHighlightMode(mode)
// API will be removed in v7.0 without replacement.
</pre> <h2 id="planned-breaking-api-changes-50">Planned Breaking API Changes (5.0)</h2> <h3 id="default-changed-nodeintegration-and-webviewtag-default-to-false-contextisolation-defaults-to-true">Default Changed: <code>nodeIntegration</code> and <code>webviewTag</code> default to false, <code>contextIsolation</code> defaults to true</h3> <p>The following <code>webPreferences</code> option default values are deprecated in favor of the new defaults listed below.</p> <table>
<thead><tr>
<th>Property</th>
<th>Deprecated Default</th>
<th>New Default</th>
</tr></thead>
<tbody>
<tr>
<td><code>contextIsolation</code></td>
<td><code>false</code></td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>nodeIntegration</code></td>
<td><code>true</code></td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>webviewTag</code></td>
<td>
<code>nodeIntegration</code> if set else <code>true</code>
</td>
<td><code>false</code></td>
</tr>
</tbody>
</table> <p>E.g. Re-enabling the webviewTag</p> <pre data-language="js">const w = new BrowserWindow({
  webPreferences: {
    webviewTag: true
  }
})
</pre> <h3 id="behavior-changed-nodeintegration-in-child-windows-opened-via-nativewindowopen">Behavior Changed: <code>nodeIntegration</code> in child windows opened via <code>nativeWindowOpen</code>
</h3> <p>Child windows opened with the <code>nativeWindowOpen</code> option will always have Node.js integration disabled, unless <code>nodeIntegrationInSubFrames</code> is <code>true</code>.</p> <h3 id="api-changed-registering-privileged-schemes-must-now-be-done-before-app-ready">API Changed: Registering privileged schemes must now be done before app ready</h3> <p>Renderer process APIs <code>webFrame.registerURLSchemeAsPrivileged</code> and <code>webFrame.registerURLSchemeAsBypassingCSP</code> as well as browser process API <code>protocol.registerStandardSchemes</code> have been removed. A new API, <code>protocol.registerSchemesAsPrivileged</code> has been added and should be used for registering custom schemes with the required privileges. Custom schemes are required to be registered before app ready.</p> <h3 id="deprecated-webframesetisolatedworld-replaced-with-webframesetisolatedworldinfo">Deprecated: <code>webFrame.setIsolatedWorld*</code> replaced with <code>webFrame.setIsolatedWorldInfo</code>
</h3> <pre data-language="js">// Deprecated
webFrame.setIsolatedWorldContentSecurityPolicy(worldId, csp)
webFrame.setIsolatedWorldHumanReadableName(worldId, name)
webFrame.setIsolatedWorldSecurityOrigin(worldId, securityOrigin)
// Replace with
webFrame.setIsolatedWorldInfo(
  worldId,
  {
    securityOrigin: 'some_origin',
    name: 'human_readable_name',
    csp: 'content_security_policy'
  })
</pre> <h3 id="api-changed-webframesetspellcheckprovider-now-takes-an-asynchronous-callback">API Changed: <code>webFrame.setSpellCheckProvider</code> now takes an asynchronous callback</h3> <p>The <code>spellCheck</code> callback is now asynchronous, and <code>autoCorrectWord</code> parameter has been removed.</p> <pre data-language="js">// Deprecated
webFrame.setSpellCheckProvider('en-US', true, {
  spellCheck: (text) =&gt; {
    return !spellchecker.isMisspelled(text)
  }
})
// Replace with
webFrame.setSpellCheckProvider('en-US', {
  spellCheck: (words, callback) =&gt; {
    callback(words.filter(text =&gt; spellchecker.isMisspelled(text)))
  }
})
</pre> <h3 id="api-changed-webcontentsgetzoomlevel-and-webcontentsgetzoomfactor-are-now-synchronous">API Changed: <code>webContents.getZoomLevel</code> and <code>webContents.getZoomFactor</code> are now synchronous</h3> <p><code>webContents.getZoomLevel</code> and <code>webContents.getZoomFactor</code> no longer take callback parameters, instead directly returning their number values.</p> <pre data-language="js">// Deprecated
webContents.getZoomLevel((level) =&gt; {
  console.log(level)
})
// Replace with
const level = webContents.getZoomLevel()
console.log(level)
</pre> <pre data-language="js">// Deprecated
webContents.getZoomFactor((factor) =&gt; {
  console.log(factor)
})
// Replace with
const factor = webContents.getZoomFactor()
console.log(factor)
</pre> <h2 id="planned-breaking-api-changes-40">Planned Breaking API Changes (4.0)</h2> <p>The following list includes the breaking API changes made in Electron 4.0.</p> <h3 id="appmakesingleinstance"><code>app.makeSingleInstance</code></h3> <pre data-language="js">// Deprecated
app.makeSingleInstance((argv, cwd) =&gt; {
  /* ... */
})
// Replace with
app.requestSingleInstanceLock()
app.on('second-instance', (event, argv, cwd) =&gt; {
  /* ... */
})
</pre> <h3 id="appreleasesingleinstance"><code>app.releaseSingleInstance</code></h3> <pre data-language="js">// Deprecated
app.releaseSingleInstance()
// Replace with
app.releaseSingleInstanceLock()
</pre> <h3 id="appgetgpuinfo"><code>app.getGPUInfo</code></h3> <pre data-language="js">app.getGPUInfo('complete')
// Now behaves the same with `basic` on macOS
app.getGPUInfo('basic')
</pre> <h3 id="win_delay_load_hook"><code>win_delay_load_hook</code></h3> <p>When building native modules for windows, the <code>win_delay_load_hook</code> variable in the module's <code>binding.gyp</code> must be true (which is the default). If this hook is not present, then the native module will fail to load on Windows, with an error message like <code>Cannot find module</code>. See the <a href="tutorial/using-native-node-modules">native module guide</a> for more.</p> <h2 id="breaking-api-changes-30">Breaking API Changes (3.0)</h2> <p>The following list includes the breaking API changes in Electron 3.0.</p> <h3 id="app"><code>app</code></h3> <pre data-language="js">// Deprecated
app.getAppMemoryInfo()
// Replace with
app.getAppMetrics()

// Deprecated
const metrics = app.getAppMetrics()
const { memory } = metrics[0] // Deprecated property
</pre> <h3 id="browserwindow"><code>BrowserWindow</code></h3> <pre data-language="js">// Deprecated
const optionsA = { webPreferences: { blinkFeatures: '' } }
const windowA = new BrowserWindow(optionsA)
// Replace with
const optionsB = { webPreferences: { enableBlinkFeatures: '' } }
const windowB = new BrowserWindow(optionsB)

// Deprecated
window.on('app-command', (e, cmd) =&gt; {
  if (cmd === 'media-play_pause') {
    // do something
  }
})
// Replace with
window.on('app-command', (e, cmd) =&gt; {
  if (cmd === 'media-play-pause') {
    // do something
  }
})
</pre> <h3 id="clipboard"><code>clipboard</code></h3> <pre data-language="js">// Deprecated
clipboard.readRtf()
// Replace with
clipboard.readRTF()

// Deprecated
clipboard.writeRtf()
// Replace with
clipboard.writeRTF()

// Deprecated
clipboard.readHtml()
// Replace with
clipboard.readHTML()

// Deprecated
clipboard.writeHtml()
// Replace with
clipboard.writeHTML()
</pre> <h3 id="crashreporter"><code>crashReporter</code></h3> <pre data-language="js">// Deprecated
crashReporter.start({
  companyName: 'Crashly',
  submitURL: 'https://crash.server.com',
  autoSubmit: true
})
// Replace with
crashReporter.start({
  companyName: 'Crashly',
  submitURL: 'https://crash.server.com',
  uploadToServer: true
})
</pre> <h3 id="nativeimage"><code>nativeImage</code></h3> <pre data-language="js">// Deprecated
nativeImage.createFromBuffer(buffer, 1.0)
// Replace with
nativeImage.createFromBuffer(buffer, {
  scaleFactor: 1.0
})
</pre> <h3 id="process"><code>process</code></h3> <pre data-language="js">// Deprecated
const info = process.getProcessMemoryInfo()
</pre> <h3 id="screen"><code>screen</code></h3> <pre data-language="js">// Deprecated
screen.getMenuBarHeight()
// Replace with
screen.getPrimaryDisplay().workArea
</pre> <h3 id="session"><code>session</code></h3> <pre data-language="js">// Deprecated
ses.setCertificateVerifyProc((hostname, certificate, callback) =&gt; {
  callback(true)
})
// Replace with
ses.setCertificateVerifyProc((request, callback) =&gt; {
  callback(0)
})
</pre> <h3 id="tray"><code>Tray</code></h3> <pre data-language="js">// Deprecated
tray.setHighlightMode(true)
// Replace with
tray.setHighlightMode('on')

// Deprecated
tray.setHighlightMode(false)
// Replace with
tray.setHighlightMode('off')
</pre> <h3 id="webcontents"><code>webContents</code></h3> <pre data-language="js">// Deprecated
webContents.openDevTools({ detach: true })
// Replace with
webContents.openDevTools({ mode: 'detach' })

// Removed
webContents.setSize(options)
// There is no replacement for this API
</pre> <h3 id="webframe"><code>webFrame</code></h3> <pre data-language="js">// Deprecated
webFrame.registerURLSchemeAsSecure('app')
// Replace with
protocol.registerStandardSchemes(['app'], { secure: true })

// Deprecated
webFrame.registerURLSchemeAsPrivileged('app', { secure: true })
// Replace with
protocol.registerStandardSchemes(['app'], { secure: true })
</pre> <h3 id="webview"><code>&lt;webview&gt;</code></h3> <pre data-language="js">// Removed
webview.setAttribute('disableguestresize', '')
// There is no replacement for this API

// Removed
webview.setAttribute('guestinstance', instanceId)
// There is no replacement for this API

// Keyboard listeners no longer work on webview tag
webview.onkeydown = () =&gt; { /* handler */ }
webview.onkeyup = () =&gt; { /* handler */ }
</pre> <h3 id="node-headers-url">Node Headers URL</h3> <p>This is the URL specified as <code>disturl</code> in a <code>.npmrc</code> file or as the <code>--dist-url</code> command line flag when building native Node modules.</p> <p>Deprecated: <a href="https://atom.io/download/atom-shell">https://atom.io/download/atom-shell</a></p> <p>Replace with: <a href="https://atom.io/download/electron">https://atom.io/download/electron</a></p> <h2 id="breaking-api-changes-20">Breaking API Changes (2.0)</h2> <p>The following list includes the breaking API changes made in Electron 2.0.</p> <h3 id="browserwindow-1"><code>BrowserWindow</code></h3> <pre data-language="js">// Deprecated
const optionsA = { titleBarStyle: 'hidden-inset' }
const windowA = new BrowserWindow(optionsA)
// Replace with
const optionsB = { titleBarStyle: 'hiddenInset' }
const windowB = new BrowserWindow(optionsB)
</pre> <h3 id="menu"><code>menu</code></h3> <pre data-language="js">// Removed
menu.popup(browserWindow, 100, 200, 2)
// Replaced with
menu.popup(browserWindow, { x: 100, y: 200, positioningItem: 2 })
</pre> <h3 id="nativeimage-1"><code>nativeImage</code></h3> <pre data-language="js">// Removed
nativeImage.toPng()
// Replaced with
nativeImage.toPNG()

// Removed
nativeImage.toJpeg()
// Replaced with
nativeImage.toJPEG()
</pre> <h3 id="process-1"><code>process</code></h3> <ul> <li>
<code>process.versions.electron</code> and <code>process.version.chrome</code> will be made read-only properties for consistency with the other <code>process.versions</code> properties set by Node.</li> </ul> <h3 id="webcontents-1"><code>webContents</code></h3> <pre data-language="js">// Removed
webContents.setZoomLevelLimits(1, 2)
// Replaced with
webContents.setVisualZoomLevelLimits(1, 2)
</pre> <h3 id="webframe-1"><code>webFrame</code></h3> <pre data-language="js">// Removed
webFrame.setZoomLevelLimits(1, 2)
// Replaced with
webFrame.setVisualZoomLevelLimits(1, 2)
</pre> <h3 id="webview-1"><code>&lt;webview&gt;</code></h3> <pre data-language="js">// Removed
webview.setZoomLevelLimits(1, 2)
// Replaced with
webview.setVisualZoomLevelLimits(1, 2)
</pre> <h3 id="duplicate-arm-assets">Duplicate ARM Assets</h3> <p>Each Electron release includes two identical ARM builds with slightly different filenames, like <code>electron-v1.7.3-linux-arm.zip</code> and <code>electron-v1.7.3-linux-armv7l.zip</code>. The asset with the <code>v7l</code> prefix was added to clarify to users which ARM version it supports, and to disambiguate it from future armv6l and arm64 assets that may be produced.</p> <p>The file <em>without the prefix</em> is still being published to avoid breaking any setups that may be consuming it. Starting at 2.0, the unprefixed file will no longer be published.</p> <p>For details, see <a href="https://github.com/electron/electron/pull/6986">6986</a> and <a href="https://github.com/electron/electron/pull/7189">7189</a>.</p><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://www.electronjs.org/docs/breaking-changes" class="_attribution-link" target="_blank">https://www.electronjs.org/docs/breaking-changes</a>
  </p>
</div>
