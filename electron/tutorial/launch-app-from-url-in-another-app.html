<p>title: launch-app-from-URL-in-another-app description: This guide will take you through the process of setting your electron app as the default handler for a specific protocol. slug: launch-app-from-url-in-another-app</p> <h2 id="hide_title-true">hide_title: true</h2> <h1 id="launching-your-electron-app-from-a-url-in-another-app">Launching Your Electron App From A URL In Another App</h1> <h2 id="overview">Overview</h2>  <p>This guide will take you through the process of setting your electron app as the default handler for a specific <a href="../api/protocol">protocol</a>.</p> <p>By the end of this tutorial, we will have set our app to intercept and handle any clicked URLs that start with a specific protocol. In this guide, the protocol we will use will be "<code>electron-fiddle://</code>".</p> <h2 id="examples">Examples</h2> <h3 id="main-process-mainjs">Main Process (main.js)</h3> <p>First we will import the required modules from <code>electron</code>. These modules help control our application life and create a native browser window.</p> <pre data-language="js">const { app, BrowserWindow, shell } = require('electron')
const path = require('path')
</pre> <p>Next, we will proceed to register our application to handle all "<code>electron-fiddle://</code>" protocols.</p> <pre data-language="js">if (process.defaultApp) {
  if (process.argv.length &gt;= 2) {
    app.setAsDefaultProtocolClient('electron-fiddle', process.execPath, [path.resolve(process.argv[1])])
  }
} else {
  app.setAsDefaultProtocolClient('electron-fiddle')
}
</pre> <p>We will now define the function in charge of creating our browser window and load our application's <code>index.html</code> file.</p> <pre data-language="js">function createWindow () {
  // Create the browser window.
  mainWindow = new BrowserWindow({
    width: 800,
    height: 600,
    webPreferences: {
      preload: path.join(__dirname, 'preload.js')
    }
  })

  mainWindow.loadFile('index.html')
}
</pre> <p>In this next step, we will create our <code>BrowserWindow</code> and tell our application how to handle an event in which an external protocol is clicked.</p> <p>This code will be different in WindowsOS compared to MacOS and Linux. This is due to Windows requiring additional code in order to open the contents of the protocol link within the same electron instance. Read more about this <a href="../api/app#apprequestsingleinstancelock">here</a>.</p> <h3 id="windows-code">Windows code:</h3> <pre data-language="js">const gotTheLock = app.requestSingleInstanceLock()

if (!gotTheLock) {
  app.quit()
} else {
  app.on('second-instance', (event, commandLine, workingDirectory) =&gt; {
    // Someone tried to run a second instance, we should focus our window.
    if (mainWindow) {
      if (mainWindow.isMinimized()) mainWindow.restore()
      mainWindow.focus()
    }
  })

  // Create mainWindow, load the rest of the app, etc...
  app.whenReady().then(() =&gt; {
    createWindow()
  })

  // handling the protocol. In this case, we choose to show an Error Box.
  app.on('open-url', (event, url) =&gt; {
    dialog.showErrorBox('Welcome Back', `You arrived from: ${url}`)
  })
}
</pre> <h3 id="macos-and-linux-code">MacOS and Linux code:</h3> <pre data-language="js">// This method will be called when Electron has finished
// initialization and is ready to create browser windows.
// Some APIs can only be used after this event occurs.
app.whenReady().then(() =&gt; {
  createWindow()
})

// handling the protocol. In this case, we choose to show an Error Box.
app.on('open-url', (event, url) =&gt; {
  dialog.showErrorBox('Welcome Back', `You arrived from: ${url}`)
})
</pre> <p>Finally, we will add some additional code to handle when someone closes our application</p> <pre data-language="js">// Quit when all windows are closed, except on macOS. There, it's common
// for applications and their menu bar to stay active until the user quits
// explicitly with Cmd + Q.
app.on('window-all-closed', function () {
  if (process.platform !== 'darwin') app.quit()
})
</pre> <h2 id="important-note">Important Note:</h2> <h3 id="packaging">Packaging</h3> <p>This feature will only work on macOS when your app is packaged. It will not work when you're launching it in development from the command-line. When you package your app you'll need to make sure the macOS <code>plist</code> for the app is updated to include the new protocol handler. If you're using <a href="https://github.com/electron/electron-packager"><code>electron-packager</code></a> then you can add the flag <code>--extend-info</code> with a path to the <code>plist</code> you've created. The one for this app is below:</p> <h3 id="plist">Plist</h3> <pre data-language="XML">  &lt;p&gt;
  &lt;h5&gt;macOS plist&lt;/h5&gt;
  &lt;pre&gt;&lt;code&gt;
    &lt;?xml version="1.0" encoding="UTF-8"?&gt;
        &lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;
            &lt;plist version="1.0"&gt;
                &lt;dict&gt;
                    &lt;key&gt;CFBundleURLTypes&lt;/key&gt;
                    &lt;array&gt;
                        &lt;dict&gt;
                            &lt;key&gt;CFBundleURLSchemes&lt;/key&gt;
                            &lt;array&gt;
                                &lt;string&gt;electron-api-demos&lt;/string&gt;
                            &lt;/array&gt;
                            &lt;key&gt;CFBundleURLName&lt;/key&gt;
                            &lt;string&gt;Electron API Demos Protocol&lt;/string&gt;
                        &lt;/dict&gt;
                    &lt;/array&gt;
                    &lt;key&gt;ElectronTeamID&lt;/key&gt;
                    &lt;string&gt;VEKTX9H2N7&lt;/string&gt;
                &lt;/dict&gt;
            &lt;/plist&gt;
        &lt;/code&gt;
    &lt;/pre&gt;
  &lt;p&gt;
</pre> <h2 id="conclusion">Conclusion</h2> <p>After you start your electron app, you can now enter in a URL in your browser that contains the custom protocol, for example <code>"electron-fiddle://open"</code> and observe that the application will respond and show an error dialog box.</p><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://www.electronjs.org/docs/tutorial/launch-app-from-url-in-another-app" class="_attribution-link" target="_blank">https://www.electronjs.org/docs/tutorial/launch-app-from-url-in-another-app</a>
  </p>
</div>
