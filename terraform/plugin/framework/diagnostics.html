 <h1 id="returning-errors-and-warnings">  Returning Errors and Warnings </h1> <p>Providers use <code>Diagnostics</code> to surface errors and warnings to practitioners. You may encounter them in response structs or as returns from functions or methods:</p> <pre>func (m myResource) Create(ctx context.Context,
    req tfsdk.CreateResourceRequest, resp *tfsdk.CreateResourceResponse)
</pre>
<p>This is the most common form for Diagnostics: a slice that has one or more errors appended to it. This approach allows your provider to inform practitioners about all relevant errors and warnings at the same time, allowing practitioners to fix their configuration or environment more quickly. You should only append to Diagnostics slices and never replace or remove information from them.</p> <blockquote class="alert alert-warning" role="alert"> <p><strong>Important:</strong> The design of diagnostics is expected to change to something less verbose in the near future.</p> </blockquote> <h2 id="diagnostic-properties">  Diagnostic Properties </h2> <h3 id="severity">  Severity </h3> <p>Required</p> <p><code>Severity</code> specifies whether the diagnostic is an error or a warning.</p> <ul> <li>An <strong>error</strong> will be displayed to the practitioner and halt Terraform's execution, not continuing to apply changes to later resources in the graph. We recommend using errors to inform practitioners about a situation the provider could not recover from. </li> <li>A <strong>warning</strong> will be displayed to the practitioner, but will not halt further execution, and is considered informative only. We recommend using warnings to inform practitioners about suboptimal situations that the practitioner should resolve to ensure stable functioning (e.g., deprecations) or to inform practitioners about possible unexpected behaviors. </li> </ul> <h3 id="summary">  Summary </h3> <p>Required</p> <p><code>Summary</code> is a short, practitioner-oriented description of the problem. Good summaries are general—they don't contain specific details about values—and concise. For example, "Error creating resource", "Invalid value for foo", or "Field foo is deprecated".</p> <h3 id="detail">  Detail </h3> <p>Required</p> <p><code>Detail</code> is a longer, more specific practitioner-oriented description of precisely what went wrong. Good details are specific—they tell the practitioner exactly what they need to fix and how. For example, "The API is currently unavailable, please try the request again.", "foo can only contain letters, numbers, and digits.", or "foo has been deprecated in favor of bar. Please update your configuration to use bar instead. foo will be removed in a future release.".</p> <h3 id="attribute">  Attribute </h3> <p>Optional</p> <p><code>Attribute</code> identifies the specific part of a configuration that caused the error or warning. If no specific part is the cause, don't set an <code>Attribute</code>.</p> <blockquote class="alert alert-warning" role="alert"> <p><strong>Important:</strong> Specifying attribute paths is currently a rather verbose process. The design for specifying attribute paths is evolving, and a revamped interface is expected in the near future.</p> </blockquote> <h2 id="how-errors-affect-state">  How Errors Affect State </h2> <p><strong>Returning an error diagnostic does not stop the state from being updated</strong>. Terraform will still persist the returned state even when an error diagnostic is returned with it. This is to allow Terraform to persist the values that have already been modified when a resource modification requires multiple API requests or an API request fails after an earlier one succeeded.</p> <p>When returning error diagnostics, we recommend resetting the state in the response to the prior state available in the configuration.</p><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://www.terraform.io/docs/plugin/framework/diagnostics.html" class="_attribution-link" target="_blank">https://www.terraform.io/docs/plugin/framework/diagnostics.html</a>
  </p>
</div>
