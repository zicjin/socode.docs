 <h1 id="providers">  Providers </h1> <p>Providers are Terraform plugins that supply <a href="resources">resources</a> and <a href="data-sources">data sources</a> for practitioners to use. They are implemented as binaries that the Terraform CLI downloads, starts, and stops. The provider is responsible for:</p> <ul> <li>providing a <a href="https://grpc.io">gRPC</a> server that can correctly handle Terraform's handshake. </li> <li>providing Terraform with information about how to connect to the server. </li> </ul> <h2 id="implement-provider-interface">  Implement Provider Interface </h2> <p>Any type that fills an <a href="https://pkg.go.dev/github.com/hashicorp/terraform-plugin-framework/tfsdk#Provider">interface</a> can be a provider. We recommend that you define a <code>struct</code> type to fill this interface.</p> <p>The provider has four methods it needs to handle: <code>GetSchema</code>, <code>Configure</code>, <code>GetResources</code>, and <code>GetDataSources</code>.</p> <h3 id="getschema">  GetSchema </h3> <p><code>GetSchema</code> returns a <a href="schemas">schema</a> that describes the provider's configuration block. This configuration block is used to offer practitioners the opportunity to supply values to the provider and configure its behavior, rather than needing to include those values in every resource and data source. It is usually used to gather credentials, endpoints, and the other data used to authenticate with the API, but it is not limited to those uses.</p> <pre data-language="ruby">provider "example" {
  endpoint = "https://example.test/"
  api_token = "v3rYs3cr3tt0k3n"
}
</pre>
<p>Even if the provider does not want to accept practitioner configuration, it must return an empty schema.</p> <p>The schema is meant to be immutable. It should not change at runtime, and should consistently return the same value.</p> <h3 id="configure">  Configure </h3> <p><code>Configure</code> handles and stores the values the practitioner entered in the provider's configuration block. This can mean creating the API client, storing the data on the type that implements the provider interface, or otherwise handling the values. This is the only time those values will be made available to the provider, so they need to be persisted if the provider will need to reference them from within a resource or data source. This is why we recommend using a struct to represent the provider, as it can hold multiple values in a strongly-typed way.</p> <h4 id="unknown-values">  Unknown Values </h4> <p>Not all values are guaranteed to be <a href="types#unknown">known</a> when <code>Configure</code> is called. For example, if a practitioner interpolates a resource's unknown value into the block, that value may show up as unknown depending on how the graph executes:</p> <pre data-language="ruby">resource "example_foo" "bar" {
  id = 123
}

provider "example" {
  endpoint = "https://example.test/"
  api_token = example_foo.bar.name
}
</pre>
<p>In the example above, <code>example_foo.bar.name</code> is a read-only field on <code>example_foo.bar</code> that won't be set until after <code>example_foo.bar</code> has been applied. So the <code>Configure</code> method for the provider may report that the value is unknown. You can choose how your provider handles this. If some resources or data sources can be used without knowing that value, it may be worthwhile to <a href="diagnostics">emit a warning</a> and check whether the value is set in resources and data sources before attempting to use it. If resources and data sources can't provide any functionality without knowing that value, it's often better to <a href="diagnostics">return an error</a>, which will halt the apply.</p> <h3 id="getresources">  GetResources </h3> <p><code>GetResources</code> returns a map of <a href="resources">resource types</a>. The keys of the map entries must be the name of the resource as it would appear in the configuration, including the provider prefix.</p> <p>The list of resources is meant to be immutable. It should not change at runtime, and should consistently return the same values.</p> <h3 id="getdatasources">  GetDataSources </h3> <p><code>GetDataSources</code> returns a map of <a href="data-sources">data source types</a>. The keys of the map entries must be the name of the data source as it would appear in the configuration, including the provider prefix.</p> <p>The list of data sources is meant to be immutable. It should not change at runtime, and should consistently return the same values.</p><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://www.terraform.io/docs/plugin/framework/providers.html" class="_attribution-link" target="_blank">https://www.terraform.io/docs/plugin/framework/providers.html</a>
  </p>
</div>
