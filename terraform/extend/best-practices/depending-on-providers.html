 <h1 id="depending-on-providers">  Depending on Providers </h1> <p>Terraform's providers are a substantial amount of code, and occasionally it makes sense to depend on their functionality. The most straightforward and obvious way to depend on a provider is to depend on the Terraform CLI, but occasionally it makes sense to rely on a provider in a different context.</p> <p>This guide lays out the supported ways to interface with and depend on Terraform's providers. Unless the provider explicitly states otherwise, no other compatibility guarantees are provided.</p> <h2 id="do-not-import-providers-as-go-modules">  Do Not Import Providers as Go Modules </h2> <p>Terraform's providers are written as Go packages, and they mostly use Go modules as their dependency management solution. This makes it tempting to import the provider as a dependency of your Go code, and to call its exposed interface. This is explicitly an <strong>unsupported</strong> way to interact with providers and provider maintainers make no guarantees around backwards compatibility or the continued functioning of code that does this.</p> <p>Providers are unable to be imported as Go modules reliably because their versioning scheme is intended to convey information about the Terraform config interface the provider presents. It's unable to capture both the configuration interface <em>and</em> the Go API interface in a useful way, as what is compatible in one may not be compatible in the other. Rather than give the impression that the package should be imported by using the <code>/vX</code> suffix now mandated for versions after 2.0.0, providers have chosen to make their incompatibility with being imported into Go code explicit.</p> <p>If you find yourself needing to do this, perhaps one of the methods below will work for you, and is explicitly supported and covered under versioning policies. If not, please reach out and <a href="https://github.com/hashicorp/terraform/issues/new">open an issue</a> outlining your use case, and we'll work with you to find an appropriate way to interface with Terraform to meet your use case.</p> <h2 id="exporting-the-schema">  Exporting the Schema </h2> <p>Some projects just care about the schema and resources a provider presents. As of Terraform 0.12, the <code>terraform providers schema -json</code> command can be used to export a JSON representation of the schemas for the providers used in a workspace.</p> <h2 id="using-the-rpc-protocol">  Using the RPC Protocol </h2> <p>For projects that actually want to drive the provider, the supported option is to use the <a href="https://github.com/hashicorp/terraform/tree/main/docs/plugin-protocol">gRPC protocol</a> and the RPC calls the protocol supplies. This protocol is the same protocol that drives Terraform's CLI interface, and it is versioned using a protocol version. It changes relatively infrequently.</p><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://www.terraform.io/docs/extend/best-practices/depending-on-providers.html" class="_attribution-link" target="_blank">https://www.terraform.io/docs/extend/best-practices/depending-on-providers.html</a>
  </p>
</div>
