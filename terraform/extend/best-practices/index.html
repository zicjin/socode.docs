 <h1 id="terraform-plugin-best-practices">  Terraform Plugin Best Practices </h1> <p>A key feature of Terraform is its plugin system, which separates the details of specific vendor APIs from the shared logic for managing state, managing configuration, and providing a safe plan and apply lifecycle. Plugins are responsible for the implementation of functionality for provisioning resources for a specific cloud provider, allowing each provider to fully support its unique resources and lifecycles and not settling for the lowest common denominator across all provider resources of that type (virtual machines, networks, configuration management systems, et. al). While each provider is unique, over the years we’ve accumulated some patterns that should be adhered to, to ensure a consistent user experience when using Terraform for any given provider. Listed below are a few best practices we’ve found that generally apply to most Providers, with a brief description of each, and link to read more. Each practice is also linked in navigation on the left.</p> <p>This section is a work in progress, with more sections to come.</p> <h2 id="naming">  Naming </h2> <p><a href="naming">Naming</a> resources, data sources, and attributes in plugins is how plugin authors expose their functionality to operators and using patterns common to other plugins lays the foundation for a good user experience.</p> <h2 id="deprecations-removals-and-renames">  Deprecations, Removals, and Renames </h2> <p>Over time, remote services evolve and better workflows are designed. Terraform's plugin system has functionality to aid in iterative improvements. In <a href="deprecations">Deprecations, Removals, and Renames</a>, we cover procedures for backwards compatible code and documentation updates to ensure that operators are well informed of changes ahead of functionality being removed or renamed.</p> <h2 id="enabling-beta-features">  Enabling beta features </h2> <p>As a provider, you might want to enable new resources that are still in beta. Those resources might change later on. As a general practice, you can enable your provider to support those beta features by using a environment variable such as <code>PROVIDERX_ENABLE_BETA</code>. Once your resources are out of beta and reach a stable status, you can use those resources by default without requiring an environment variable.</p> <h2 id="detecting-drift">  Detecting Drift </h2> <p>Terraform is a declarative tool designed to be the source of truth for infrastructure. In order to safely and predictably change and iterate infrastructure, Terraform needs to be able to detect changes made outside of its configuration and provide means of reconciliation. In <a href="detecting-drift">Detecting Drift</a>, we cover some best practices to ensure Terraform's statefile is an accurate reflection of reality, to provide accurate plan and apply functionality.</p> <h2 id="testing-patterns">  Testing Patterns </h2> <p>Terraform developers are encouraged to write acceptance tests that create real resource to verify the behavior of plugins, ensuring a reliable and safe way to manage infrastructure. In <a href="testing">Testing Patterns</a> we cover some basic acceptance tests that almost all resources should have to validate not only the functionality of the resource, but that the resource behaves as Terraform would expect.</p> <h2 id="versioning-and-changelog">  Versioning and Changelog </h2> <p>Terraform development serves two distinct audiences: those writing plugin code and those implementing them. By clearly and consistently allowing operators to easily understand changes in plugin implementation via version numbering and documenting those changes, a trust is formed between the two audiences. In <a href="versioning">Versioning and Changelog</a> we cover some guidelines when deciding release versions and how to relay changes through documentation.</p><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://www.terraform.io/docs/extend/best-practices/index.html" class="_attribution-link" target="_blank">https://www.terraform.io/docs/extend/best-practices/index.html</a>
  </p>
</div>
