 <h1 id="cidrsubnets-function">  <code>cidrsubnets</code> Function </h1> <p><code>cidrsubnets</code> calculates a sequence of consecutive IP address ranges within a particular CIDR prefix.</p> <pre data-language="ruby">cidrsubnets(prefix, newbits...)
</pre>
<p><code>prefix</code> must be given in CIDR notation, as defined in <a href="https://tools.ietf.org/html/rfc4632#section-3.1">RFC 4632 section 3.1</a>.</p> <p>The remaining arguments, indicated as <code>newbits</code> above, each specify the number of additional network prefix bits for one returned address range. The return value is therefore a list with one element per <code>newbits</code> argument, each a string containing an address range in CIDR notation.</p> <p>For more information on IP addressing concepts, see the documentation for the related function <a href="cidrsubnet"><code>cidrsubnet</code></a>. <code>cidrsubnet</code> calculates a single subnet address within a prefix while allowing you to specify its subnet number, while <code>cidrsubnets</code> can calculate many at once, potentially of different sizes, and assigns subnet numbers automatically.</p> <p>When using this function to partition an address space as part of a network address plan, you must not change any of the existing arguments once network addresses have been assigned to real infrastructure, or else later address assignments will be invalidated. However, you <em>can</em> append new arguments to existing calls safely, as long as there is sufficient address space available.</p> <p>This function accepts both IPv6 and IPv4 prefixes, and the result always uses the same addressing scheme as the given prefix.</p> <blockquote class="alert alert-info" role="alert"> <p><strong>Note:</strong> <a href="https://registry.terraform.io/modules/hashicorp/subnets/cidr">The Terraform module <code>hashicorp/subnets/cidr</code></a> wraps <code>cidrsubnets</code> to provide additional functionality for assigning symbolic names to your networks and skipping prefixes for obsolete allocations. Its documentation includes usage examples for several popular cloud virtual network platforms.</p> </blockquote> <h2 id="examples">  Examples </h2> <pre>&gt; cidrsubnets("10.1.0.0/16", 4, 4, 8, 4)
[
  "10.1.0.0/20",
  "10.1.16.0/20",
  "10.1.32.0/24",
  "10.1.48.0/20",
]

&gt; cidrsubnets("fd00:fd12:3456:7890::/56", 16, 16, 16, 32)
[
  "fd00:fd12:3456:7800::/72",
  "fd00:fd12:3456:7800:100::/72",
  "fd00:fd12:3456:7800:200::/72",
  "fd00:fd12:3456:7800:300::/88",
]
</pre>
<p>You can use nested <code>cidrsubnets</code> calls with <a href="../expressions/for"><code>for</code> expressions</a> to concisely allocate groups of network address blocks:</p> <pre>&gt; [for cidr_block in cidrsubnets("10.0.0.0/8", 8, 8, 8, 8) : cidrsubnets(cidr_block, 4, 4)]
[
  [
    "10.0.0.0/20",
    "10.0.16.0/20",
  ],
  [
    "10.1.0.0/20",
    "10.1.16.0/20",
  ],
  [
    "10.2.0.0/20",
    "10.2.16.0/20",
  ],
  [
    "10.3.0.0/20",
    "10.3.16.0/20",
  ],
]
</pre>
<h2 id="related-functions">  Related Functions </h2> <ul> <li>
<a href="cidrhost"><code>cidrhost</code></a> calculates the IP address for a single host within a given network address prefix. </li> <li>
<a href="cidrnetmask"><code>cidrnetmask</code></a> converts an IPv4 network prefix in CIDR notation into netmask notation. </li> <li>
<a href="cidrsubnet"><code>cidrsubnet</code></a> calculates a single subnet address, allowing you to specify its network number. </li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://www.terraform.io/docs/language/functions/cidrsubnets.html" class="_attribution-link" target="_blank">https://www.terraform.io/docs/language/functions/cidrsubnets.html</a>
  </p>
</div>
