 <h1 id="remote-exec-provisioner">  remote-exec Provisioner </h1> <p>The <code>remote-exec</code> provisioner invokes a script on a remote resource after it is created. This can be used to run a configuration management tool, bootstrap into a cluster, etc. To invoke a local process, see the <code>local-exec</code> <a href="local-exec">provisioner</a> instead. The <code>remote-exec</code> provisioner supports both <code>ssh</code> and <code>winrm</code> type <a href="connection">connections</a>.</p> <blockquote class="alert alert-info" role="alert"> <p><strong>Note:</strong> Provisioners should only be used as a last resort. For most common situations there are better alternatives. For more information, see <a href="index">the main Provisioners page</a>.</p> </blockquote> <h2 id="example-usage">  Example usage </h2> <pre data-language="ruby">resource "aws_instance" "web" {
  # ...

  provisioner "remote-exec" {
    inline = [
      "puppet apply",
      "consul join ${aws_instance.web.private_ip}",
    ]
  }
}
</pre>
<h2 id="argument-reference">  Argument Reference </h2> <p>The following arguments are supported:</p> <ul> <li>
<p><a href="#inline"><code>inline</code></a> - This is a list of command strings. They are executed in the order they are provided. This cannot be provided with <code>script</code> or <code>scripts</code>.</p> </li> <li>
<p><a href="#script"><code>script</code></a> - This is a path (relative or absolute) to a local script that will be copied to the remote resource and then executed. This cannot be provided with <code>inline</code> or <code>scripts</code>.</p> </li> <li>
<p><a href="#scripts"><code>scripts</code></a> - This is a list of paths (relative or absolute) to local scripts that will be copied to the remote resource and then executed. They are executed in the order they are provided. This cannot be provided with <code>inline</code> or <code>script</code>.</p> </li> </ul> <blockquote class="alert alert-info" role="alert"> <p><strong>Note:</strong> Since <code>inline</code> is implemented by concatenating commands into a script, <a href="syntax#failure-behavior"><code>on_failure</code></a> applies only to the final command in the list. In particular, with <code>on_failure = fail</code> (the default behaviour) earlier commands will be allowed to fail, and later commands will also execute. If this behaviour is not desired, consider using <code>"set -o errexit"</code> as the first command.</p> </blockquote> <h2 id="script-arguments">  Script Arguments </h2> <p>You cannot pass any arguments to scripts using the <code>script</code> or <code>scripts</code> arguments to this provisioner. If you want to specify arguments, upload the script with the <a href="file">file provisioner</a> and then use <code>inline</code> to call it. Example:</p> <pre data-language="ruby">resource "aws_instance" "web" {
  # ...

  provisioner "file" {
    source      = "script.sh"
    destination = "/tmp/script.sh"
  }

  provisioner "remote-exec" {
    inline = [
      "chmod +x /tmp/script.sh",
      "/tmp/script.sh args",
    ]
  }
}
</pre><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://www.terraform.io/docs/language/resources/provisioners/remote-exec.html" class="_attribution-link" target="_blank">https://www.terraform.io/docs/language/resources/provisioners/remote-exec.html</a>
  </p>
</div>
