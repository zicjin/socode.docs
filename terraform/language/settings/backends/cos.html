 <h1 id="cos">  COS </h1> <p><strong>Kind: Standard (with locking)</strong></p> <p>Stores the state as an object in a configurable prefix in a given bucket on <a href="https://intl.cloud.tencent.com/product/cos">Tencent Cloud Object Storage</a> (COS). This backend also supports <a href="../../state/locking">state locking</a>.</p> <blockquote class="alert alert-warning" role="alert"> <p><strong>Warning!</strong> It is highly recommended that you enable <a href="https://intl.cloud.tencent.com/document/product/436/19883">Object Versioning</a> on the COS bucket to allow for state recovery in the case of accidental deletions and human error.</p> </blockquote> <h2 id="example-configuration">  Example Configuration </h2> <pre data-language="ruby">terraform {
  backend "cos" {
    region = "ap-guangzhou"
    bucket = "bucket-for-terraform-state-1258798060"
    prefix = "terraform/state"
  }
}
</pre>
<p>This assumes we have a <a href="https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs/resources/cos_bucket">COS Bucket</a> created named <code>bucket-for-terraform-state-1258798060</code>, Terraform state will be written into the file <code>terraform/state/terraform.tfstate</code>.</p> <h2 id="data-source-configuration">  Data Source Configuration </h2> <p>To make use of the COS remote state in another configuration, use the <a href="../../state/remote-state-data"><code>terraform_remote_state</code> data source</a>.</p> <pre data-language="ruby">data "terraform_remote_state" "foo" {
  backend = "cos"

  config = {
    region = "ap-guangzhou"
    bucket = "bucket-for-terraform-state-1258798060"
    prefix = "terraform/state"
  }
}
</pre>
<h2 id="configuration-variables">  Configuration variables </h2> <p>The following configuration options or environment variables are supported:</p> <ul> <li>
<a href="#secret_id"><code>secret_id</code></a> - (Optional) Secret id of Tencent Cloud. It supports environment variables <code>TENCENTCLOUD_SECRET_ID</code>. </li> <li>
<a href="#secret_key"><code>secret_key</code></a> - (Optional) Secret key of Tencent Cloud. It supports environment variables <code>TENCENTCLOUD_SECRET_KEY</code>. </li> <li>
<a href="#region"><code>region</code></a> - (Optional) The region of the COS bucket. It supports environment variables <code>TENCENTCLOUD_REGION</code>. </li> <li>
<a href="#bucket"><code>bucket</code></a> - (Required) The name of the COS bucket. You shall manually create it first. </li> <li>
<a href="#prefix"><code>prefix</code></a> - (Optional) The directory for saving the state file in bucket. Default to "env:". </li> <li>
<a href="#key"><code>key</code></a> - (Optional) The path for saving the state file in bucket. Defaults to <code>terraform.tfstate</code>. </li> <li>
<a href="#encrypt"><code>encrypt</code></a> - (Optional) Whether to enable server side encryption of the state file. If it is true, COS will use 'AES256' encryption algorithm to encrypt state file. </li> <li>
<a href="#acl"><code>acl</code></a> - (Optional) Object ACL to be applied to the state file, allows <code>private</code> and <code>public-read</code>. Defaults to <code>private</code>. </li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://www.terraform.io/docs/language/settings/backends/cos.html" class="_attribution-link" target="_blank">https://www.terraform.io/docs/language/settings/backends/cos.html</a>
  </p>
</div>
