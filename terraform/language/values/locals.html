 <h1 id="local-values">  Local Values </h1> <blockquote> <p><strong>Hands-on:</strong> Try the <a href="https://learn.hashicorp.com/tutorials/terraform/locals?in=terraform/configuration-language&amp;utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">Simplify Terraform Configuration with Locals</a> tutorial on HashiCorp Learn.</p> </blockquote> <p>A local value assigns a name to an <a href="../expressions/index">expression</a>, so you can use it multiple times within a module without repeating it.</p> <p>If you're familiar with traditional programming languages, it can be useful to compare Terraform modules to function definitions:</p> <ul> <li>
<a href="variables">Input variables</a> are like function arguments. </li> <li>
<a href="outputs">Output values</a> are like function return values. </li> <li>Local values are like a function's temporary local variables. </li> </ul> <blockquote class="alert alert-info" role="alert"> <p><strong>Note:</strong> For brevity, local values are often referred to as just "locals" when the meaning is clear from context.</p> </blockquote> <h2 id="declaring-a-local-value">  Declaring a Local Value </h2> <p>A set of related local values can be declared together in a single <code>locals</code> block:</p> <pre data-language="ruby">locals {
  service_name = "forum"
  owner        = "Community Team"
}
</pre>
<p>The expressions in local values are not limited to literal constants; they can also reference other values in the module in order to transform or combine them, including variables, resource attributes, or other local values:</p> <pre data-language="ruby">locals {
  # Ids for multiple sets of EC2 instances, merged together
  instance_ids = concat(aws_instance.blue.*.id, aws_instance.green.*.id)
}

locals {
  # Common tags to be assigned to all resources
  common_tags = {
    Service = local.service_name
    Owner   = local.owner
  }
}
</pre>
<h2 id="using-local-values">  Using Local Values </h2> <p>Once a local value is declared, you can reference it in <a href="../expressions/index">expressions</a> as <code>local.&lt;NAME&gt;</code>.</p> <blockquote class="alert alert-info" role="alert"> <p><strong>Note:</strong> Local values are <em>created</em> by a <code>locals</code> block (plural), but you <em>reference</em> them as attributes on an object named <code>local</code> (singular). Make sure to leave off the "s" when referencing a local value!</p> </blockquote> <pre>resource "aws_instance" "example" {
  # ...

  tags = local.common_tags
}
</pre>
<p>A local value can only be accessed in expressions within the module where it was declared.</p> <h2 id="when-to-use-local-values">  When To Use Local Values </h2> <p>Local values can be helpful to avoid repeating the same values or expressions multiple times in a configuration, but if overused they can also make a configuration hard to read by future maintainers by hiding the actual values used.</p> <p>Use local values only in moderation, in situations where a single value or result is used in many places <em>and</em> that value is likely to be changed in future. The ability to easily change the value in a central place is the key advantage of local values.</p><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://www.terraform.io/docs/language/values/locals.html" class="_attribution-link" target="_blank">https://www.terraform.io/docs/language/values/locals.html</a>
  </p>
</div>
