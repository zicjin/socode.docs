 <h1 id="run-modes-and-options">  Run Modes and Options </h1> <p>Terraform Cloud runs support many of the same modes and options available in the Terraform CLI.</p> <h2 id="destroy-mode">  Destroy Mode </h2> <p><a href="../../cli/commands/plan#planning-modes">Destroy mode</a> instructs Terraform to create a plan which destroys all objects, regardless of configuration changes.</p> <ul> <li>
<strong>CLI:</strong> Use <code>terraform plan -destroy</code> or <code>terraform destroy</code> </li> <li>
<strong>API:</strong> Use the <code>is-destroy</code> option. </li> <li>
<strong>UI:</strong> Use a workspace's "Destruction and Deletion" settings page. </li> </ul> <h2 id="refresh-only-mode">  Refresh-Only Mode </h2> <blockquote> <p><strong>Hands-on:</strong> Try the <a href="https://learn.hashicorp.com/tutorials/terraform/refresh">Use Refresh-Only Mode to Sync Terraform State</a> tutorial on HashiCorp Learn.</p> </blockquote> <blockquote class="alert alert-info" role="alert"> <p><strong>Version note:</strong> Refresh-only support is available in Terraform Enterprise v202106-1 or later and requires a workspace using at least Terraform CLI v0.15.4.</p> </blockquote> <p><a href="../../cli/commands/plan#planning-modes">Refresh-only mode</a> instructs Terraform to create a plan which updates the Terraform state to match changes made to remote objects outside of Terraform.</p> <ul> <li>
<strong>CLI:</strong> Use <code>terraform plan -refresh-only</code> or <code>terraform apply -refresh-only</code>. </li> <li>
<strong>API:</strong> Use the <code>refresh-only</code> option. </li> <li>
<strong>UI:</strong> Use the "Start new plan" action from a workspace's "Actions" menu, then choose the "Refresh-only" plan type in the new plan dialog. </li> </ul> <h2 id="skipping-automatic-state-refresh">  Skipping Automatic State Refresh </h2> <blockquote class="alert alert-info" role="alert"> <p><strong>Version note:</strong> The ability to skip automatic state refresh is available in Terraform Enterprise v202106-1 or later.</p> </blockquote> <p>The <a href="../../cli/commands/plan#refresh-false"><code>-refresh=false</code> option</a> is used in normal planning mode to skip the default behavior of refreshing Terraform state before checking for configuration changes.</p> <ul> <li>
<strong>CLI:</strong> Use <code>terraform plan -refresh=false</code> or <code>terraform apply -refresh=false</code>. </li> <li>
<strong>API:</strong> Use the <code>refresh</code> option. </li> </ul> <h2 id="replacing-selected-resources">  Replacing Selected Resources </h2> <blockquote class="alert alert-info" role="alert"> <p><strong>Version note:</strong> Replace support is available in Terraform Enterprise v202106-1 or later and requires a workspace using at least Terraform CLI v0.15.2.</p> </blockquote> <p>The <a href="../../cli/commands/plan#replace-address">replace option</a> instructs Terraform to replace the object with the given resource address.</p> <ul> <li>
<strong>CLI:</strong> Use <code>terraform plan -replace=ADDRESS</code> or <code>terraform apply -replace=ADDRESS</code>. </li> <li>
<strong>API:</strong> Use the <code>replace-addrs</code> option. </li> </ul> <h2 id="targeted-plan-and-apply">  Targeted Plan and Apply </h2> <blockquote class="alert alert-info" role="alert"> <p><strong>Version note:</strong> Targeting support is available in Terraform Enterprise v202006-1 or later.</p> </blockquote> <p><a href="../../cli/commands/plan#resource-targeting">Resource Targeting</a> is intended for exceptional circumstances only and should not be used routinely.</p> <ul> <li>
<strong>CLI:</strong> Use <code>terraform plan -target=ADDRESS</code> or <code>terraform apply -target=ADDRESS</code>. </li> <li>
<strong>API:</strong> Use the <code>target-addrs</code> option. </li> </ul> <p>The usual caveats for targeting in local operations imply some additional limitations on Terraform Cloud features for remote plans created with targeting:</p> <ul> <li>
<p><a href="../sentinel/index">Sentinel</a> policy checks for targeted plans will see only the selected subset of resource instances planned for changes in <a href="../sentinel/import/tfplan">the <code>tfplan</code> import</a> and <a href="../sentinel/import/tfplan-v2">the <code>tfplan/v2</code> import</a>, which may cause an unintended failure for any policy that requires a planned change to a particular resource instance selected by its address.</p> </li> <li>
<p><a href="../cost-estimation/index">Cost Estimation</a> is disabled for any run created with <code>-target</code> set, to prevent producing a misleading underestimate of cost due to resource instances being excluded from the plan.</p> </li> </ul> <p>You can disable or constrain use of targeting in a particular workspace using a Sentinel policy based on <a href="../sentinel/import/tfrun#value-target_addrs">the <code>tfrun.target_addrs</code> value</a>.</p><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://www.terraform.io/docs/cloud/run/modes-and-options.html" class="_attribution-link" target="_blank">https://www.terraform.io/docs/cloud/run/modes-and-options.html</a>
  </p>
</div>
