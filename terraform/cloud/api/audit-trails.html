 <h1 id="audit-trails-api">  Audit Trails API </h1> <blockquote class="alert alert-info" role="alert"> <p><strong>Note:</strong> Audit trails are a paid feature, available as part of the <strong>Terraform Cloud for Business</strong> upgrade package. <a href="https://www.hashicorp.com/products/terraform/pricing">Learn more about Terraform Cloud pricing here</a>.</p> </blockquote> <blockquote class="alert alert-info" role="alert"> <p><strong>Note:</strong> Unlike other APIs, the Audit Trails API does not use the <a href="index#json-api-formatting">JSON API specification</a>.</p> </blockquote> <blockquote class="alert alert-info" role="alert"> <p><strong>Note:</strong> Terraform Cloud retains 14 days of audit log information.</p> </blockquote> <p>The audit trails API exposes a stream of audit events, which describe changes to the application entities (workspaces, runs, etc.) that belong to a Terraform Cloud organization.</p> <h2 id="list-an-organization-39-s-audit-events">  List an organization's audit events </h2> <p><code>GET /organization/audit-trail</code></p> <blockquote class="alert alert-info" role="alert"> <p><strong>Note:</strong> This endpoint cannot be accessed with a <a href="../users-teams-organizations/users#api-tokens">user token</a> or <a href="../users-teams-organizations/api-tokens#team-api-tokens">team token</a>. You must access it with an <a href="../users-teams-organizations/api-tokens#organization-api-tokens">organization token</a>.</p> </blockquote> <h3 id="query-parameters">  Query Parameters </h3> <p><a href="index#query-parameters">These are standard URL query parameters</a>; remember to percent-encode <code>[</code> as <code>%5B</code> and <code>]</code> as <code>%5D</code> if your tooling doesn't automatically encode URLs.</p> <table>
<thead> <tr> <th>Parameter</th> <th>Description</th> </tr> </thead>
<tbody> <tr> <td><code>since</code></td> <td>
<strong>Optional.</strong> Returns only audit trails created after this date (UTC and in <a href="https://www.iso.org/iso-8601-date-and-time-format.html">ISO8601 Format</a> - YYYY-MM-DDTHH:MM:SS.SSSZ)</td> </tr> <tr> <td><code>page[number]</code></td> <td>
<strong>Optional.</strong> If omitted, the endpoint will return the first page.</td> </tr> <tr> <td><code>page[size]</code></td> <td>
<strong>Optional.</strong> If omitted, the endpoint will return 1000 audit events per page.</td> </tr> </tbody>
</table> <h3 id="sample-request">  Sample Request </h3> <pre data-language="shell">$ curl \
  --header "Authorization: Bearer $TOKEN" \
  --request GET \
  "https://app.terraform.io/api/v2/organization/audit-trail?page[number]=1&amp;since=2020-05-30T17:52:46.000Z"
</pre>
<h3 id="sample-response">  Sample Response </h3> <pre data-language="json">{
  "data": [
    {
      "id": "ae66e491-db59-457c-8445-9c908ee726ae",
      "version": "0",
      "type": "Resource",
      "timestamp": "2020-06-30T17:52:46.000Z",
      "auth": {
        "accessor_id": "user-MaPuLxAXvtq2PWTH",
        "description": "pveverka",
        "type": "Client",
        "impersonator_id": null,
        "organization_id": "org-AGLwRmx1snv34Yts"
      },
      "request": {
        "id": "4df584d4-7e2a-01e6-6cc0-4adbefa020e6"
      },
      "resource": {
        "id": "at-sjt83qTw3GZatuPm",
        "type": "authentication_token",
        "action": "create",
        "meta": null
      }
    }
  ],
  "pagination": {
    "current_page": 1,
    "prev_page": null,
    "next_page": 2,
    "total_pages": 8,
    "total_count": 778
  }
}
</pre>
<h3 id="response-schema">  Response Schema </h3> <p>Each JSON object in the response data array will include the following details, if available:</p> <table>
<thead> <tr> <th>Key</th> <th>Description</th> </tr> </thead>
<tbody> <tr> <td><code>id</code></td> <td>The ID of this audit trail (UUID format)</td> </tr> <tr> <td><code>version</code></td> <td>The audit trail schema version</td> </tr> <tr> <td><code>type</code></td> <td>The type of audit trail (defaults to <code>Resource</code>)</td> </tr> <tr> <td><code>timestamp</code></td> <td>UTC ISO8601 DateTime (e.g. <code>2020-06-16T20:26:58.000Z</code>)</td> </tr> <tr> <td><code>auth.accessor_id</code></td> <td>The ID of audited actor (e.g. <code>user-V3R563qtJNcExAkN</code>)</td> </tr> <tr> <td><code>auth.description</code></td> <td>Username of audited actor</td> </tr> <tr> <td><code>auth.type</code></td> <td>Authentication Type (one of Client, Impersonated or System)</td> </tr> <tr> <td><code>auth.impersonator_id</code></td> <td>The ID of impersonating actor (if available)</td> </tr> <tr> <td><code>auth.organization_id</code></td> <td>The ID of organization (e.g. <code>org-QpXoEnULx3r2r1CA</code>)</td> </tr> <tr> <td><code>request.id</code></td> <td>The ID for request (if available) (UUID format)</td> </tr> <tr> <td><code>resource.id</code></td> <td>The ID of resource (e.g. <code>run-FwnENkvDnrpyFC7M</code>)</td> </tr> <tr> <td><code>resource.type</code></td> <td>Type of resource (e.g. <code>run</code>)</td> </tr> <tr> <td><code>resource.action</code></td> <td>Action audited (e.g. <code>applied</code>)</td> </tr> <tr> <td><code>resource.meta</code></td> <td>Key-value metadata about this audited event</td> </tr> </tbody>
</table><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://www.terraform.io/docs/cloud/api/audit-trails.html" class="_attribution-link" target="_blank">https://www.terraform.io/docs/cloud/api/audit-trails.html</a>
  </p>
</div>
