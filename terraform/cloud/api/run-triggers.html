 <h1 id="run-triggers-api">  Run Triggers API </h1> <h2 id="create-a-run-trigger">  Create a Run Trigger </h2> <p><code>POST /workspaces/:workspace_id/run-triggers</code></p> <table>
<thead> <tr> <th>Parameter</th> <th>Description</th> </tr> </thead>
<tbody> <tr> <td><code>:workspace_id</code></td> <td>The ID of the workspace to create the run trigger in. Obtain this from the <a href="../workspaces/settings">workspace settings</a> or the <a href="workspaces#show-workspace">Show Workspace</a> endpoint.</td> </tr> </tbody>
</table> <table>
<thead> <tr> <th>Status</th> <th>Response</th> <th>Reason</th> </tr> </thead>
<tbody> <tr> <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/201">201</a></td> <td>
<a href="index#json-api-documents">JSON API document</a> (<code>type: "run-triggers"</code>)</td> <td>Successfully created a run trigger</td> </tr> <tr> <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404">404</a></td> <td><a href="https://jsonapi.org/format/#error-objects">JSON API error object</a></td> <td>Workspace or sourceable not found or user unauthorized to perform action</td> </tr> <tr> <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/422">422</a></td> <td><a href="https://jsonapi.org/format/#error-objects">JSON API error object</a></td> <td>Malformed request body (missing attributes, wrong types, etc.)</td> </tr> </tbody>
</table> <h3 id="permissions">  Permissions </h3> <p>In order to create a run trigger, the user must have admin access to the specified workspace and permission to read runs for the sourceable workspace. (<a href="../users-teams-organizations/permissions">More about permissions.</a>)</p> <h3 id="request-body">  Request Body </h3> <p>This POST endpoint requires a JSON object with the following properties as a request payload.</p> <p>Properties without a default value are required.</p> <table>
<thead> <tr> <th>Key path</th> <th>Type</th> <th>Default</th> <th>Description</th> </tr> </thead>
<tbody> <tr> <td><code>data.relationships.sourceable.data</code></td> <td>object</td> <td></td> <td>A JSON API relationship object that represents the source workspace for the run trigger. This object must have <code>id</code> and <code>type</code> properties, and the <code>type</code> property must be <code>workspaces</code> (e.g. <code>{ "id": "ws-2HRvNs49EWPjDqT1", "type": "workspaces" }</code>). Obtain workspace IDs from the <a href="../workspaces/settings">workspace settings</a> or the <a href="workspaces#show-workspace">Show Workspace</a> endpoint.</td> </tr> </tbody>
</table> <h3 id="sample-payload">  Sample Payload </h3> <pre data-language="json">{
  "data": {
    "relationships": {
      "sourceable": {
        "data": {
          "id": "ws-2HRvNs49EWPjDqT1",
          "type": "workspaces"
        }
      }
    }
  }
}
</pre>
<h3 id="sample-request">  Sample Request </h3> <pre data-language="shell">curl \
  --request POST \
  --header "Authorization: Bearer $TOKEN" \
  --header "Content-Type: application/vnd.api+json" \
  --data @payload.json \
  https://app.terraform.io/api/v2/workspaces/ws-XdeUVMWShTesDMME/run-triggers
</pre>
<h3 id="sample-response">  Sample Response </h3> <pre data-language="json">{
  "data": {
    "id": "rt-3yVQZvHzf5j3WRJ1",
    "type": "run-triggers",
     "attributes": {
       "workspace-name": "workspace-1",
       "sourceable-name": "workspace-2",
       "created-at": "2018-09-11T18:21:21.784Z"
    },
    "relationships": {
      "workspace": {
        "data": {
          "id": "ws-XdeUVMWShTesDMME",
          "type": "workspaces"
        }
      },
      "sourceable": {
        "data": {
          "id": "ws-2HRvNs49EWPjDqT1",
          "type": "workspaces"
        }
      }
    },
    "links": {
      "self": "/api/v2/run-triggers/rt-3yVQZvHzf5j3WRJ1"
    }
  }
}
</pre>
<h2 id="list-run-triggers">  List Run Triggers </h2> <p><code>GET /workspaces/:workspace_id/run-triggers</code></p> <table>
<thead> <tr> <th>Parameter</th> <th>Description</th> </tr> </thead>
<tbody> <tr> <td><code>:workspace_id</code></td> <td>The ID of the workspace to list run triggers for. Obtain this from the <a href="../workspaces/settings">workspace settings</a> or the <a href="workspaces#show-workspace">Show Workspace</a> endpoint.</td> </tr> </tbody>
</table> <table>
<thead> <tr> <th>Status</th> <th>Response</th> <th>Reason</th> </tr> </thead>
<tbody> <tr> <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/200">200</a></td> <td>
<a href="index#json-api-documents">JSON API document</a> (<code>type: "run-triggers"</code>)</td> <td>Request was successful</td> </tr> <tr> <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400">400</a></td> <td><a href="https://jsonapi.org/format/#error-objects">JSON API error object</a></td> <td>Required parameter <code>filter[run-trigger][type]</code> is missing or has been given an invalid value</td> </tr> <tr> <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404">404</a></td> <td><a href="https://jsonapi.org/format/#error-objects">JSON API error object</a></td> <td>Workspace not found or user unauthorized to perform action</td> </tr> </tbody>
</table> <h3 id="query-parameters">  Query Parameters </h3> <p>This endpoint supports pagination <a href="index#query-parameters">with standard URL query parameters</a>; remember to percent-encode <code>[</code> as <code>%5B</code> and <code>]</code> as <code>%5D</code> if your tooling doesn't automatically encode URLs.</p> <table>
<thead> <tr> <th>Parameter</th> <th>Description</th> </tr> </thead>
<tbody> <tr> <td><code>filter[run-trigger][type]</code></td> <td>
<strong>Required</strong> Which type of run triggers to list; valid values are <code>inbound</code> or <code>outbound</code>. <code>inbound</code> run triggers create runs in the specified workspace, and <code>outbound</code> run triggers create runs in other workspaces.</td> </tr> <tr> <td><code>page[size]</code></td> <td>
<strong>Optional.</strong> If omitted, the endpoint will return 20 run triggers per page.</td> </tr> </tbody>
</table> <h3 id="permissions-1">  Permissions </h3> <p>In order to list run triggers, the user must have permission to read runs for the specified workspace. (<a href="../users-teams-organizations/permissions">More about permissions.</a>)</p> <h3 id="sample-request-1">  Sample Request </h3> <pre data-language="shell">curl \
  --request GET \
  --header "Authorization: Bearer $TOKEN" \
  --header "Content-Type: application/vnd.api+json" \
  https://app.terraform.io/api/v2/workspaces/ws-XdeUVMWShTesDMME/run-triggers?filter%5Brun-trigger%5D%5Btype%5D=inbound
</pre>
<h3 id="sample-response-1">  Sample Response </h3> <pre data-language="json">{
  "data": [
    {
      "id": "rt-WygcwSBuYaQWrM39",
      "type": "run-triggers",
      "attributes": {
        "workspace-name": "workspace-1",
        "sourceable-name": "workspace-2",
        "created-at": "2018-09-11T18:21:21.784Z"
      },
      "relationships": {
        "workspace": {
          "data": {
            "id": "ws-XdeUVMWShTesDMME",
            "type": "workspaces"
          }
        },
        "sourceable": {
          "data": {
            "id": "ws-2HRvNs49EWPjDqT1",
            "type": "workspaces"
          }
        }
      },
      "links": {
        "self": "/api/v2/run-triggers/rt-WygcwSBuYaQWrM39"
      }
    },
    {
      "id": "rt-8F5JFydVYAmtTjET",
      "type": "run-triggers",
      "attributes": {
        "workspace-name": "workspace-1",
        "sourceable-name": "workspace-3",
        "created-at": "2018-09-11T18:21:21.784Z"
      },
      "relationships": {
        "workspace": {
          "data": {
            "id": "ws-XdeUVMWShTesDMME",
            "type": "workspaces"
          }
        },
        "sourceable": {
          "data": {
            "id": "ws-BUHBEM97xboT8TVz",
            "type": "workspaces"
          }
        }
      },
      "links": {
        "self": "/api/v2/run-triggers/rt-8F5JFydVYAmtTjET"
      }
    }
  ],
  "links": {
    "self": "https://app.terraform.io/api/v2/workspaces/ws-xdiJLyGpCugbFDE1/run-triggers?filter%5Brun-trigger%5D%5Btype%5D=inbound&amp;page%5Bnumber%5D=1&amp;page%5Bsize%5D=20",
    "first": "https://app.terraform.io/api/v2/workspaces/ws-xdiJLyGpCugbFDE1/run-triggers?filter%5Brun-trigger%5D%5Btype%5D=inbound&amp;page%5Bnumber%5D=1&amp;page%5Bsize%5D=20",
    "prev": null,
    "next": null,
    "last": "https://app.terraform.io/api/v2/workspaces/ws-xdiJLyGpCugbFDE1/run-triggers?filter%5Brun-trigger%5D%5Btype%5D=inbound&amp;page%5Bnumber%5D=1&amp;page%5Bsize%5D=20"
  },
  "meta": {
    "pagination": {
      "current-page": 1,
      "prev-page": null,
      "next-page": null,
      "total-pages": 1,
      "total-count": 2
    }
  }
}
</pre>
<h2 id="show-a-run-trigger">  Show a Run Trigger </h2> <p><code>GET /run-triggers/:run_trigger_id</code></p> <table>
<thead> <tr> <th>Parameter</th> <th>Description</th> </tr> </thead>
<tbody> <tr> <td><code>:run_trigger_id</code></td> <td>The ID of the run trigger to show. Use the "List Run Triggers" endpoint to find IDs.</td> </tr> </tbody>
</table> <table>
<thead> <tr> <th>Status</th> <th>Response</th> <th>Reason</th> </tr> </thead>
<tbody> <tr> <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/200">200</a></td> <td>
<a href="index#json-api-documents">JSON API document</a> (<code>type: "run-triggers"</code>)</td> <td>The request was successful</td> </tr> <tr> <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404">404</a></td> <td><a href="https://jsonapi.org/format/#error-objects">JSON API error object</a></td> <td>Run trigger not found or user unauthorized to perform action</td> </tr> </tbody>
</table> <h3 id="permissions-2">  Permissions </h3> <p>In order to show a run trigger, the user must have permission to read runs for either the workspace or sourceable workspace of the specified run trigger. (<a href="../users-teams-organizations/permissions">More about permissions.</a>)</p> <h3 id="sample-request-2">  Sample Request </h3> <pre data-language="shell">curl \
  --request GET \
  --header "Authorization: Bearer $TOKEN" \
  --header "Content-Type: application/vnd.api+json" \
  https://app.terraform.io/api/v2/run-triggers/rt-3yVQZvHzf5j3WRJ1
</pre>
<h3 id="sample-response-2">  Sample Response </h3> <pre data-language="json">{
  "data": {
    "id": "rt-3yVQZvHzf5j3WRJ1",
    "type": "run-triggers",
     "attributes": {
       "workspace-name": "workspace-1",
       "sourceable-name": "workspace-2",
       "created-at": "2018-09-11T18:21:21.784Z"
    },
    "relationships": {
      "workspace": {
        "data": {
          "id": "ws-XdeUVMWShTesDMME",
          "type": "workspaces"
        }
      },
      "sourceable": {
        "data": {
          "id": "ws-2HRvNs49EWPjDqT1",
          "type": "workspaces"
        }
      }
    },
    "links": {
      "self": "/api/v2/run-triggers/rt-3yVQZvHzf5j3WRJ1"
    }
  }
}
</pre>
<h2 id="delete-a-run-trigger">  Delete a Run Trigger </h2> <p><code>DELETE /run-triggers/:run_trigger_id</code></p> <table>
<thead> <tr> <th>Parameter</th> <th>Description</th> </tr> </thead>
<tbody> <tr> <td><code>:run_trigger_id</code></td> <td>The ID of the run trigger to delete. Use the "List Run Triggers" endpoint to find IDs.</td> </tr> </tbody>
</table> <table>
<thead> <tr> <th>Status</th> <th>Response</th> <th>Reason</th> </tr> </thead>
<tbody> <tr> <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/204">204</a></td> <td>Nothing</td> <td>Successfully deleted the run trigger</td> </tr> <tr> <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404">404</a></td> <td><a href="https://jsonapi.org/format/#error-objects">JSON API error object</a></td> <td>Run trigger not found or user unauthorized to perform action</td> </tr> </tbody>
</table> <h3 id="permissions-3">  Permissions </h3> <p>In order to delete a run trigger, the user must have admin access to the specified workspace. (<a href="../users-teams-organizations/permissions">More about permissions.</a>)</p> <h3 id="sample-request-3">  Sample Request </h3> <pre data-language="shell">curl \
  --request DELETE \
  --header "Authorization: Bearer $TOKEN" \
  --header "Content-Type: application/vnd.api+json" \
  https://app.terraform.io/api/v2/run-triggers/rt-3yVQZvHzf5j3WRJ1
</pre>
<h2 id="available-related-resources">  Available Related Resources </h2> <p>The GET endpoints above can optionally return related resources, if requested with <a href="index#inclusion-of-related-resources">the <code>include</code> query parameter</a>. The following resource types are available:</p> <p>These includes respect read permissions. If you do not have access to read the related resource, it will not be returned.</p> <ul> <li>
<a href="#workspace"><code>workspace</code></a> - The full workspace object. </li> <li>
<a href="#sourceable"><code>sourceable</code></a> - The full source workspace object. </li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://www.terraform.io/docs/cloud/api/run-triggers.html" class="_attribution-link" target="_blank">https://www.terraform.io/docs/cloud/api/run-triggers.html</a>
  </p>
</div>
