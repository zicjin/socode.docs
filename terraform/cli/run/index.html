 <h1 id="provisioning-infrastructure-with-terraform">  Provisioning Infrastructure with Terraform </h1> <p>Terraform's primary function is to create, modify, and destroy infrastructure resources to match the desired state described in a <a href="../../language/index">Terraform configuration</a>.</p> <p>When people refer to "running Terraform," they generally mean performing these provisioning actions in order to affect real infrastructure objects. The Terraform binary has many other subcommands for a wide variety of administrative actions, but these basic provisioning tasks are the core of Terraform.</p> <p>Terraform's provisioning workflow relies on three commands: <code>plan</code>, <code>apply</code>, and <code>destroy</code>. All of these commands require an <a href="../init/index">initialized</a> working directory, and all of them act only upon the currently selected <a href="../workspaces/index">workspace</a>.</p> <h2 id="planning">  Planning </h2> <p>The <code>terraform plan</code> command evaluates a Terraform configuration to determine the desired state of all the resources it declares, then compares that desired state to the real infrastructure objects being managed with the current working directory and workspace. It uses state data to determine which real objects correspond to which declared resources, and checks the current state of each resource using the relevant infrastructure provider's API.</p> <p>Once it has determined the difference between the current state and the desired state, <code>terraform plan</code> presents a description of the changes necessary to achieve the desired state. It <em>does not</em> perform any actual changes to real world infrastructure objects; it only presents a plan for making changes.</p> <p>Plans are usually run to validate configuration changes and confirm that the resulting actions are as expected. However, <code>terraform plan</code> can also save its plan as a runnable artifact, which <code>terraform apply</code> can use to carry out those exact changes.</p> <p>For details, see <a href="../commands/plan">the <code>terraform plan</code> command</a>.</p> <h2 id="applying">  Applying </h2> <p>The <code>terraform apply</code> command performs a plan just like <code>terraform plan</code> does, but then actually carries out the planned changes to each resource using the relevant infrastructure provider's API. It asks for confirmation from the user before making any changes, unless it was explicitly told to skip approval.</p> <p>By default, <code>terraform apply</code> performs a fresh plan right before applying changes, and displays the plan to the user when asking for confirmation. However, it can also accept a plan file produced by <code>terraform plan</code> in lieu of running a new plan. You can use this to reliably perform an exact set of pre-approved changes, even if the configuration or the state of the real infrastructure has changed in the minutes since the original plan was created.</p> <p>For details, see <a href="../commands/apply">the <code>terraform apply</code> command</a>.</p> <h2 id="destroying">  Destroying </h2> <p>The <code>terraform destroy</code> command destroys all of the resources being managed by the current working directory and workspace, using state data to determine which real world objects correspond to managed resources. Like <code>terraform apply</code>, it asks for confirmation before proceeding.</p> <p>A destroy behaves exactly like deleting every resource from the configuration and then running an apply, except that it doesn't require editing the configuration. This is more convenient if you intend to provision similar resources at a later date.</p> <p>For details, see <a href="../commands/destroy">the <code>terraform destroy</code> command</a>.</p><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://www.terraform.io/docs/cli/run/index.html" class="_attribution-link" target="_blank">https://www.terraform.io/docs/cli/run/index.html</a>
  </p>
</div>
