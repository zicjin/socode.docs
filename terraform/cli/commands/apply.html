 <h1 id="command-apply">  Command: apply </h1> <blockquote> <p><strong>Hands-on:</strong> Try the <a href="https://learn.hashicorp.com/collections/terraform/aws-get-started?utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">Terraform: Get Started</a> collection on HashiCorp Learn.</p> </blockquote> <p>The <code>terraform apply</code> command executes the actions proposed in a Terraform plan.</p> <p>The most straightforward way to use <code>terraform apply</code> is to run it without any arguments at all, in which case it will automatically create a new execution plan (as if you had run <code>terraform plan</code>) and then prompt you to approve that plan, before taking the indicated actions.</p> <p>Another way to use <code>terraform apply</code> is to pass it the filename of a saved plan file you created earlier with <code>terraform plan -out=...</code>, in which case Terraform will apply the changes in the plan without any confirmation prompt. This two-step workflow is primarily intended for when <a href="https://learn.hashicorp.com/tutorials/terraform/automate-terraform?in=terraform/automation&amp;utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">running Terraform in automation</a>.</p> <h2 id="usage">  Usage </h2> <p>Usage: <code>terraform apply [options] [plan file]</code></p> <p>The behavior of <code>terraform apply</code> differs significantly depending on whether you pass it the filename of a previously-saved plan file.</p> <h3 id="automatic-plan-mode">  Automatic Plan Mode </h3> <p>In the default case, with no saved plan file, <code>terraform apply</code> creates its own plan of action, in the same way that <a href="plan"><code>terraform plan</code></a> would.</p> <p>Terraform will propose the plan to you and prompt you to approve it before taking the described actions, unless you waive that prompt by using the <code>-auto-approve</code> option.</p> <p>When performing its own plan, <code>terraform apply</code> supports all of the same <a href="plan#planning-modes">planning modes</a> and <a href="plan#planning-options">planning options</a> that <code>terraform plan</code> would accept, so you can customize how Terraform will create the plan.</p> <h3 id="saved-plan-mode">  Saved Plan Mode </h3> <p>If you pass the filename of a previously-saved plan file, <code>terraform apply</code> performs exactly the steps specified by that plan file. It does not prompt for approval; if you want to inspect a plan file before applying it, you can use <a href="show"><code>terraform show</code></a>.</p> <p>When using a saved plan, none of the planning modes or planning options linked above are supported; these options only affect Terraform's decisions about which actions to take, and the plan file contains the final results of those decisions.</p> <h3 id="plan-options">  Plan Options </h3> <p>When run without a saved plan file, <code>terraform apply</code> supports all of <code>terraform
plan</code>'s planning modes and planning options. For details, see:</p> <ul> <li>
<a href="plan#planning-modes">Planning Modes</a> </li> <li>
<a href="plan#planning-options">Planning Options</a> </li> </ul> <h3 id="apply-options">  Apply Options </h3> <p>The following options allow you to change various details about how the apply command executes and reports on the apply operation. If you are running <code>terraform apply</code> <em>without</em> a previously-saved plan file, these options are <em>in addition to</em> the planning modes and planning options described for <a href="plan"><code>terraform plan</code></a>.</p> <ul> <li>
<p><a href="#auto-approve"><code>-auto-approve</code></a> - Skips interactive approval of plan before applying. This option is ignored when you pass a previously-saved plan file, because Terraform considers you passing the plan file as the approval and so will never prompt in that case.</p> </li> <li>
<p><a href="#compact-warnings"><code>-compact-warnings</code></a> - Shows any warning messages in a compact form which includes only the summary messages, unless the warnings are accompanied by at least one error and thus the warning text might be useful context for the errors.</p> </li> <li>
<p><a href="#input-false"><code>-input=false</code></a> - Disables all of Terraform's interactive prompts. Note that this also prevents Terraform from prompting for interactive approval of a plan, so Terraform will conservatively assume that you do not wish to apply the plan, causing the operation to fail. If you wish to run Terraform in a non-interactive context, see <a href="https://learn.hashicorp.com/tutorials/terraform/automate-terraform?in=terraform/automation&amp;utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">Running Terraform in Automation</a> for some different approaches.</p> </li> <li>
<p><a href="#json"><code>-json</code></a> - Enables the <a href="../../internals/machine-readable-ui">machine readable JSON UI</a> output. This implies <code>-input=false</code>, so the configuration must have no unassigned variable values to continue. To enable this flag, you must also either enable the <code>-auto-approve</code> flag or specify a previously-saved plan.</p> </li> <li>
<p><a href="#lock-false"><code>-lock=false</code></a> - Don't hold a state lock during the operation. This is dangerous if others might concurrently run commands against the same workspace.</p> </li> <li>
<p><a href="#lock-timeout-duration"><code>-lock-timeout=DURATION</code></a> - Unless locking is disabled with <code>-lock=false</code>, instructs Terraform to retry acquiring a lock for a period of time before returning an error. The duration syntax is a number followed by a time unit letter, such as "3s" for three seconds.</p> </li> <li>
<p><a href="#no-color"><code>-no-color</code></a> - Disables terminal formatting sequences in the output. Use this if you are running Terraform in a context where its output will be rendered by a system that cannot interpret terminal formatting.</p> </li> <li>
<p><a href="#parallelism-n"><code>-parallelism=n</code></a> - Limit the number of concurrent operation as Terraform <a href="../../internals/graph#walking-the-graph">walks the graph</a>. Defaults to 10.</p> </li> </ul> <p>For configurations using <a href="../../language/settings/backends/local">the <code>local</code> backend</a> only, <code>terraform apply</code> also accepts the legacy options <a href="../../language/settings/backends/local#command-line-arguments"><code>-state</code>, <code>-state-out</code>, and <code>-backup</code></a>.</p> <h2 id="passing-a-different-configuration-directory">  Passing a Different Configuration Directory </h2> <p>Terraform v0.13 and earlier also accepted a directory path in place of the plan file argument to <code>terraform apply</code>, in which case Terraform would use that directory as the root module instead of the current working directory.</p> <p>That usage was deprecated in Terraform v0.14 and removed in Terraform v0.15. If your workflow relies on overriding the root module directory, use <a href="index#switching-working-directory-with-chdir">the <code>-chdir</code> global option</a> instead, which works across all commands and makes Terraform consistently look in the given directory for all files it would normaly read or write in the current working directory.</p> <p>If your previous use of this legacy pattern was also relying on Terraform writing the <code>.terraform</code> subdirectory into the current working directory even though the root module directory was overridden, use <a href="../config/environment-variables#tf_data_dir">the <code>TF_DATA_DIR</code> environment variable</a> to direct Terraform to write the <code>.terraform</code> directory to a location other than the current working directory.</p><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://www.terraform.io/docs/cli/commands/apply.html" class="_attribution-link" target="_blank">https://www.terraform.io/docs/cli/commands/apply.html</a>
  </p>
</div>
