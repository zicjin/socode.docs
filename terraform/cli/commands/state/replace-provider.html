 <h1 id="command-state-replace-provider">  Command: state replace-provider </h1> <p>The <code>terraform state replace-provider</code> command is used to replace the provider for resources in a <a href="../../../language/state/index">Terraform state</a>.</p> <h2 id="usage">  Usage </h2> <p>Usage: <code>terraform state replace-provider [options] FROM_PROVIDER_FQN TO_PROVIDER_FQN</code></p> <p>This command will update all resources using the "from" provider, setting the provider to the specified "to" provider. This allows changing the source of a provider which currently has resources in state.</p> <p>This command will output a backup copy of the state prior to saving any changes. The backup cannot be disabled. Due to the destructive nature of this command, backups are required.</p> <p>This command also accepts the following options:</p> <ul> <li>
<p><a href="#auto-approve"><code>-auto-approve</code></a> - Skip interactive approval.</p> </li> <li>
<p><a href="#lock-false"><code>-lock=false</code></a> - Don't hold a state lock during the operation. This is dangerous if others might concurrently run commands against the same workspace.</p> </li> <li>
<p><a href="#lock-timeout-0s"><code>-lock-timeout=0s</code></a> - Duration to retry a state lock.</p> </li> </ul> <p>For configurations using <a href="../../../language/settings/backends/remote">the <code>remote</code> backend</a> only, <code>terraform state replace-provider</code> also accepts the option <a href="../../../language/settings/backends/remote#command-line-arguments"><code>-ignore-remote-version</code></a>.</p> <p>For configurations using <a href="../../../language/settings/backends/local">the <code>local</code> state rm</a> only, <code>terraform state replace-provider</code> also accepts the legacy options <a href="../../../language/settings/backends/local#command-line-arguments"><code>-state</code>, <code>-state-out</code>, and <code>-backup</code></a>.</p> <h2 id="example">  Example </h2> <p>The example below replaces the <code>hashicorp/aws</code> provider with a fork by <code>acme</code>, hosted at a private registry at <code>registry.acme.corp</code>:</p> <pre data-language="shell">$ terraform state replace-provider hashicorp/aws registry.acme.corp/acme/aws
</pre><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://www.terraform.io/docs/cli/commands/state/replace-provider.html" class="_attribution-link" target="_blank">https://www.terraform.io/docs/cli/commands/state/replace-provider.html</a>
  </p>
</div>
