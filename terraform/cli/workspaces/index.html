 <h1 id="managing-workspaces">  Managing Workspaces </h1> <p>In Terraform CLI, <em>workspaces</em> are separate instances of <a href="../../language/state/index">state data</a> that can be used from the same working directory. You can use workspaces to manage multiple non-overlapping groups of resources with the same configuration.</p> <ul> <li>Every <a href="../init/index">initialized working directory</a> has at least one workspace. (If you haven't created other workspaces, it is a workspace named <code>default</code>.) </li> <li>For a given working directory, only one workspace can be <em>selected</em> at a time. </li> <li>Most Terraform commands (including <a href="../run/index">provisioning</a> and <a href="../state/index">state manipulation</a> commands) only interact with the currently selected workspace. </li> <li>Use <a href="../commands/workspace/select">the <code>terraform workspace select</code> command</a> to change the currently selected workspace. </li> <li>Use the <a href="../commands/workspace/list"><code>terraform workspace list</code></a>, <a href="../commands/workspace/new"><code>terraform workspace new</code></a>, and <a href="../commands/workspace/delete"><code>terraform workspace delete</code></a> commands to manage the available workspaces in the current working directory. </li> </ul> <blockquote class="alert alert-info" role="alert"> <p><strong>Note:</strong> Terraform Cloud and Terraform CLI both have features called "workspaces," but they're slightly different. Terraform Cloud's workspaces behave more like completely separate working directories.</p> </blockquote> <h2 id="the-purpose-of-workspaces">  The Purpose of Workspaces </h2> <p>Since most of the resources you can manage with Terraform don't include a unique name as part of their configuration, it's common to use the same Terraform configuration to provision multiple groups of similar resources.</p> <p>Terraform relies on <a href="../../language/state/index">state</a> to associate resources with real-world objects, so if you run the same configuration multiple times with completely separate state data, Terraform can manage many non-overlapping groups of resources. In some cases you'll want to change <a href="../../language/values/variables">variable values</a> for these different resource collections (like when specifying differences between staging and production deployments), and in other cases you might just want many instances of a particular infrastructure pattern.</p> <p>The simplest way to maintain multiple instances of a configuration with completely separate state data is to use multiple <a href="../init/index">working directories</a> (with different <a href="../../language/settings/backends/configuration">backend</a> configurations per directory, if you aren't using the default <code>local</code> backend).</p> <p>However, this isn't always the most <em>convenient</em> way to handle separate states. Terraform installs a separate cache of plugins and modules for each working directory, so maintaining multiple directories can waste bandwidth and disk space. You must also update your configuration code from version control separately for each directory, reinitialize each directory separately when changing the configuration, etc.</p> <p>Workspaces allow you to use the same working copy of your configuration and the same plugin and module caches, while still keeping separate states for each collection of resources you manage.</p> <h2 id="interactions-with-terraform-cloud-workspaces">  Interactions with Terraform Cloud Workspaces </h2> <p>Terraform Cloud organizes infrastructure using workspaces, but its workspaces act more like completely separate working directories; each Terraform Cloud workspace has its own Terraform configuration, set of variable values, state data, run history, and settings.</p> <p>These two kinds of workspaces are different, but related. When using Terraform CLI as a frontend for Terraform Cloud, you associate the current working directory with one or more remote workspaces by configuring <a href="../../language/settings/backends/remote">the <code>remote</code> backend</a>. If you associate the directory with multiple workspaces (using a name prefix), you can use the <code>terraform workspace</code> commands to select which remote workspace to use.</p> <p>For more information about using Terraform CLI with Terraform Cloud, see <a href="../../cloud/run/cli">CLI-driven Runs</a> in the Terraform Cloud docs.</p><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://www.terraform.io/docs/cli/workspaces/index.html" class="_attribution-link" target="_blank">https://www.terraform.io/docs/cli/workspaces/index.html</a>
  </p>
</div>
