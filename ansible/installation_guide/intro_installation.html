<section id="installing-ansible"> <h1 id="installation-guide">Installing Ansible</h1> <p>Ansible is an agentless automation tool that you install on a single host (referred to as the control node). From the control node, Ansible can manage an entire fleet of machines and other devices (referred to as managed nodes) remotely with SSH, Powershell remoting, and numerous other transports, all from a simple command-line interface with no databases or daemons required.</p>  <ul class="simple"> <li><a class="reference internal" href="#control-node-requirements" id="id4">Control node requirements</a></li> <li><a class="reference internal" href="#selecting-an-ansible-package-and-version-to-install" id="id5">Selecting an Ansible package and version to install</a></li> <li>
<p><a class="reference internal" href="#installing-and-upgrading-ansible" id="id6">Installing and upgrading Ansible</a></p> <ul> <li><a class="reference internal" href="#locating-python" id="id7">Locating Python</a></li> <li><a class="reference internal" href="#ensuring-pip-is-available" id="id8">Ensuring <code>pip</code> is available</a></li> <li><a class="reference internal" href="#pip-install" id="id9">Installing Ansible</a></li> <li><a class="reference internal" href="#upgrading-ansible" id="id10">Upgrading Ansible</a></li> <li><a class="reference internal" href="#confirming-your-installation" id="id11">Confirming your installation</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#installing-for-development" id="id12">Installing for development</a></p> <ul> <li><a class="reference internal" href="#installing-devel-from-github-with-pip" id="id13">Installing <code>devel</code> from GitHub with <code>pip</code></a></li> <li><a class="reference internal" href="#running-the-devel-branch-from-a-clone" id="id14">Running the <code>devel</code> branch from a clone</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#adding-ansible-command-shell-completion" id="id15">Adding Ansible command shell completion</a></p> <ul> <li><a class="reference internal" href="#installing-argcomplete" id="id16">Installing <code>argcomplete</code></a></li> <li>
<p><a class="reference internal" href="#configuring-argcomplete" id="id17">Configuring <code>argcomplete</code></a></p> <ul> <li><a class="reference internal" href="#global-configuration" id="id18">Global configuration</a></li> <li><a class="reference internal" href="#per-command-configuration" id="id19">Per command configuration</a></li> <li><a class="reference internal" href="#using-argcomplete-with-zsh-or-tcsh" id="id20">Using <code>argcomplete</code> with zsh or tcsh</a></li> </ul> </li> </ul> </li> </ul>  <section id="control-node-requirements"> <h2 id="id1">Control node requirements</h2> <p>For your control node (the machine that runs Ansible), you can use nearly any UNIX-like machine with Python 3.8 or newer installed. This includes Red Hat, Debian, Ubuntu, macOS, BSDs, and Windows under a <a class="reference external" href="https://docs.microsoft.com/en-us/windows/wsl/about">Windows Subsystem for Linux (WSL) distribution</a>. Windows without WSL is not natively supported as a control node; see <a class="reference external" href="http://blog.rolpdog.com/2020/03/why-no-ansible-controller-for-windows.html">Matt Davis’ blog post</a> for more information.</p> </section> <section id="selecting-an-ansible-package-and-version-to-install"> <h2 id="getting-ansible">Selecting an Ansible package and version to install</h2> <p>Ansible’s community packages are distributed in two ways: a minimalist language and runtime package called <code>ansible-core</code>, and a much larger “batteries included” package called <code>ansible</code>, which adds a community-curated selection of <a class="reference internal" href="../user_guide/collections_using#collections"><span class="std std-ref">Ansible Collections</span></a> for automating a wide variety of devices. Choose the package that fits your needs; The following instructions use <code>ansible</code>, but you can substitute <code>ansible-core</code> if you prefer to start with a more minimal package and separately install only the Ansible Collections you require. The <code>ansible</code> or <code>ansible-core</code> packages may be available in your operating systems package manager, and you are free to install these packages with your preferred method. These installation instructions only cover the officially supported means of installing the python package with <code>pip</code>.</p> </section> <section id="installing-and-upgrading-ansible"> <h2>Installing and upgrading Ansible</h2> <section id="locating-python"> <h3>Locating Python</h3> <p>Locate and remember the path to the Python interpreter you wish to use to run Ansible. The following instructions refer to this Python as <code>python3</code>. For example, if you’ve determined that you want the Python at <code>/usr/bin/python3.9</code> to be the one that you’ll install Ansible under, specify that instead of <code>python3</code>.</p> </section> <section id="ensuring-pip-is-available"> <h3>Ensuring <code>pip</code> is available</h3> <p>To verify whether <code>pip</code> is already installed for your preferred Python:</p> <pre data-language="console">$ python3 -m pip -V
</pre> <p>If all is well, you should see something like the following:</p> <pre data-language="console">$ python3 -m pip -V
pip 21.0.1 from /usr/lib/python3.9/site-packages/pip (python 3.9)
</pre> <p>If so, <code>pip</code> is available, and you can move on to the <a class="reference internal" href="#pip-install"><span class="std std-ref">next step</span></a>.</p> <p>If you see an error like <code>No module named pip</code>, you’ll need to install <code>pip</code> under your chosen Python interpreter before proceeding. This may mean installing an additional OS package (for example, <code>python3-pip</code>), or installing the latest <code>pip</code> directly from the Python Packaging Authority by running the following:</p> <pre data-language="console">$ curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py
$ python3 get-pip.py --user
</pre> <p>You may need to perform some additional configuration before you are able to run Ansible. See the Python documentation on <a class="reference external" href="https://packaging.python.org/tutorials/installing-packages/#installing-to-the-user-site">installing to the user site</a> for more information.</p> </section> <section id="pip-install"> <h3 id="id2">Installing Ansible</h3> <p>Use <code>pip</code> in your selected Python environment to install the Ansible package of your choice for the current user:</p> <pre data-language="console">$ python3 -m pip install --user ansible
</pre> <p>Alternately, you can install a specific version of <code>ansible-core</code> in this Python environment:</p> <pre data-language="console">$ python3 -m pip install --user ansible-core==2.12.3
</pre> </section> <section id="upgrading-ansible"> <h3 id="pip-upgrade">Upgrading Ansible</h3> <p>To upgrade an existing Ansible installation in this Python environment to the latest released version, simply add <code>--upgrade</code> to the command above:</p> <pre data-language="console">$ python3 -m pip install --upgrade --user ansible
</pre> </section> <section id="confirming-your-installation"> <h3>Confirming your installation</h3> <p>You can test that Ansible is installed correctly by checking the version:</p> <pre data-language="console">$ ansible --version
</pre> <p>The version displayed by this command is for the associated <code>ansible-core</code> package that has been installed.</p> <p>To check the version of the <code>ansible</code> package that has been installed:</p> <pre data-language="console">$ python3 -m pip show ansible
</pre> </section> </section> <section id="installing-for-development"> <h2 id="development-install">Installing for development</h2> <p>If you are testing new features, fixing bugs, or otherwise working with the development team on changes to the core code, you can install and run the source from GitHub.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>You should only install and run the <code>devel</code> branch if you are modifying <code>ansible-core</code> or trying out features under development. This is a rapidly changing source of code and can become unstable at any point.</p> </div> <p>For more information on getting involved in the Ansible project, see the <a class="reference internal" href="https://docs.ansible.com/ansible/latest/community/index.html#ansible-community-guide"><span class="std std-ref">Ansible Community Guide</span></a>. For more information on creating Ansible modules and Collections, see the <a class="reference internal" href="https://docs.ansible.com/ansible/latest/dev_guide/index.html#developer-guide"><span class="std std-ref">Developer Guide</span></a>.</p> <section id="installing-devel-from-github-with-pip"> <h3 id="from-pip-devel">Installing <code>devel</code> from GitHub with <code>pip</code>
</h3> <p>You can install the <code>devel</code> branch of <code>ansible-core</code> directly from GitHub with <code>pip</code>:</p> <pre data-language="console">$ python3 -m pip install --user https://github.com/ansible/ansible/archive/devel.tar.gz
</pre> <p>You can replace <code>devel</code> in the URL mentioned above, with any other branch or tag on GitHub to install older versions of Ansible, tagged alpha or beta versions, and release candidates.</p> </section> <section id="running-the-devel-branch-from-a-clone"> <h3 id="from-source">Running the <code>devel</code> branch from a clone</h3> <p><code>ansible-core</code> is easy to run from source. You do not need <code>root</code> permissions to use it and there is no software to actually install. No daemons or database setup are required.</p> <ol class="arabic"> <li>
<p>Clone the <code>ansible-core</code> repository</p> <pre data-language="console">$ git clone https://github.com/ansible/ansible.git
$ cd ./ansible
</pre> </li> <li>
<p>Setup the Ansible environment</p> <ul> <li>
<p>Using Bash</p> <pre data-language="console">$ source ./hacking/env-setup
</pre> </li> <li>
<p>Using Fish</p> <pre data-language="console">$ source ./hacking/env-setup.fish
</pre> </li> <li>
<p>To suppress spurious warnings/errors, use <code>-q</code></p> <pre data-language="console">$ source ./hacking/env-setup -q
</pre> </li> </ul> </li> <li>
<p>Install Python dependencies</p> <pre data-language="console">$ python3 -m pip install --user -r ./requirements.txt
</pre> </li> <li>
<p>Update the <code>devel</code> branch of <code>ansible-core</code> on your local machine</p> <p>Use pull-with-rebase so any local changes are replayed.</p> <pre data-language="console">$ git pull --rebase
</pre> </li> </ol> </section> </section> <section id="adding-ansible-command-shell-completion"> <h2 id="shell-completion">Adding Ansible command shell completion</h2> <p>You can add shell completion of the Ansible command line utilities by installing an optional dependency called <code>argcomplete</code>. <code>argcomplete</code> supports bash, and has limited support for zsh and tcsh.</p> <p>For more information about installation and configuration, see the <a class="reference external" href="https://kislyuk.github.io/argcomplete/">argcomplete documentation</a>.</p> <section id="installing-argcomplete"> <h3>Installing <code>argcomplete</code>
</h3> <pre data-language="console">$ python3 -m pip install --user argcomplete
</pre> </section> <section id="configuring-argcomplete"> <h3>Configuring <code>argcomplete</code>
</h3> <p>There are 2 ways to configure <code>argcomplete</code> to allow shell completion of the Ansible command line utilities: globally or per command.</p> <section id="global-configuration"> <h4>Global configuration</h4> <p>Global completion requires bash 4.2.</p> <pre data-language="console">$ activate-global-python-argcomplete
</pre> <p>This will write a bash completion file to a global location. Use <code>--dest</code> to change the location.</p> </section> <section id="per-command-configuration"> <h4>Per command configuration</h4> <p>If you do not have bash 4.2, you must register each script independently.</p> <pre data-language="console">$ eval $(register-python-argcomplete ansible)
$ eval $(register-python-argcomplete ansible-config)
$ eval $(register-python-argcomplete ansible-console)
$ eval $(register-python-argcomplete ansible-doc)
$ eval $(register-python-argcomplete ansible-galaxy)
$ eval $(register-python-argcomplete ansible-inventory)
$ eval $(register-python-argcomplete ansible-playbook)
$ eval $(register-python-argcomplete ansible-pull)
$ eval $(register-python-argcomplete ansible-vault)
</pre> <p>You should place the above commands into your shells profile file such as <code>~/.profile</code> or <code>~/.bash_profile</code>.</p> </section> <section id="using-argcomplete-with-zsh-or-tcsh"> <h4>Using <code>argcomplete</code> with zsh or tcsh</h4> <p>See the <a class="reference external" href="https://kislyuk.github.io/argcomplete/">argcomplete documentation</a>.</p> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference internal" href="../user_guide/intro_adhoc#intro-adhoc"><span class="std std-ref">Introduction to ad hoc commands</span></a></dt>
<dd>
<p>Examples of basic commands</p> </dd> <dt><a class="reference internal" href="../user_guide/playbooks#working-with-playbooks"><span class="std std-ref">Working with playbooks</span></a></dt>
<dd>
<p>Learning ansible’s configuration management language</p> </dd> <dt><a class="reference internal" href="https://docs.ansible.com/ansible/latest/reference_appendices/faq.html#installation-faqs"><span class="std std-ref">How do I handle the package dependencies required by Ansible package dependencies during Ansible installation ?</span></a></dt>
<dd>
<p>Ansible Installation related to FAQs</p> </dd> <dt><a class="reference external" href="https://groups.google.com/group/ansible-project">Mailing List</a></dt>
<dd>
<p>Questions? Help? Ideas? Stop by the list on Google Groups</p> </dd> <dt><a class="reference internal" href="https://docs.ansible.com/ansible/latest/community/communication.html#communication-irc"><span class="std std-ref">Real-time chat</span></a></dt>
<dd>
<p>How to join Ansible chat channels</p> </dd> </dl> </div> </section> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html" class="_attribution-link" target="_blank">https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html</a>
  </p>
</div>
