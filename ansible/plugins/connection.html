<h1 id="id1">Connection plugins</h1>  <ul class="simple" id="connection-plugins"> <li><a class="reference internal" href="#ssh-plugins" id="id3"><code>ssh</code> plugins</a></li> <li><a class="reference internal" href="#adding-connection-plugins" id="id4">Adding connection plugins</a></li> <li><a class="reference internal" href="#using-connection-plugins" id="id5">Using connection plugins</a></li> <li><a class="reference internal" href="#plugin-list" id="id6">Plugin list</a></li> </ul>  <p>Connection plugins allow Ansible to connect to the target hosts so it can execute tasks on them. Ansible ships with many connection plugins, but only one can be used per host at a time.</p> <p>By default, Ansible ships with several connection plugins. The most commonly used are the <a class="reference external" href="https://docs.ansible.com/ansible/2.9/plugins/connection/paramiko_ssh.html#paramiko-ssh-connection" title="(in Ansible v2.9)"><span class="xref std std-ref">paramiko SSH</span></a>, native ssh (just called <a class="reference internal" href="../collections/ansible/builtin/ssh_connection#ssh-connection"><span class="std std-ref">ssh</span></a>), and <a class="reference internal" href="../collections/ansible/builtin/local_connection#local-connection"><span class="std std-ref">local</span></a> connection types. All of these can be used in playbooks and with <strong class="command">/usr/bin/ansible</strong> to decide how you want to talk to remote machines. If necessary, you can <a class="reference internal" href="https://docs.ansible.com/ansible/latest/dev_guide/developing_plugins.html#developing-connection-plugins"><span class="std std-ref">create custom connection plugins</span></a>.</p> <p>The basics of these connection types are covered in the <a class="reference internal" href="../user_guide/intro_getting_started#intro-getting-started"><span class="std std-ref">getting started</span></a> section.</p>  <h2 id="id2">
<code>ssh</code> plugins</h2> <p id="ssh-plugins">Because ssh is the default protocol used in system administration and the protocol most used in Ansible, ssh options are included in the command line tools. See <a class="reference internal" href="../cli/ansible-playbook#ansible-playbook"><span class="std std-ref">ansible-playbook</span></a> for more details.</p>   <h2 id="enabling-connection">Adding connection plugins</h2> <p id="adding-connection-plugins">You can extend Ansible to support other transports (such as SNMP or message bus) by dropping a custom plugin into the <code>connection_plugins</code> directory.</p>   <h2 id="using-connection">Using connection plugins</h2> <p id="using-connection-plugins">You can set the connection plugin globally via <a class="reference internal" href="../reference_appendices/config#ansible-configuration-settings"><span class="std std-ref">configuration</span></a>, at the command line (<code>-c</code>, <code>--connection</code>), as a <a class="reference internal" href="../reference_appendices/playbooks_keywords#playbook-keywords"><span class="std std-ref">keyword</span></a> in your play, or by setting a <a class="reference internal" href="../user_guide/intro_inventory#behavioral-parameters"><span class="std std-ref">variable</span></a>, most often in your inventory. For example, for Windows machines you might want to set the <a class="reference internal" href="../collections/ansible/builtin/winrm_connection#winrm-connection"><span class="std std-ref">winrm</span></a> plugin as an inventory variable.</p> <p>Most connection plugins can operate with minimal configuration. By default they use the <a class="reference internal" href="../collections/ansible/builtin/inventory_hostnames_lookup#inventory-hostnames-lookup"><span class="std std-ref">inventory hostname</span></a> and defaults to find the target host.</p> <p>Plugins are self-documenting. Each plugin should document its configuration options. The following are connection variables common to most connection plugins:</p> <dl class="simple"> <dt><a class="reference internal" href="../user_guide/playbooks_vars_facts#magic-variables-and-hostvars"><span class="std std-ref">ansible_host</span></a></dt>
<dd>
<p>The name of the host to connect to, if different from the <a class="reference internal" href="../user_guide/intro_inventory#intro-inventory"><span class="std std-ref">inventory</span></a> hostname.</p> </dd> <dt><a class="reference internal" href="https://docs.ansible.com/ansible/latest/reference_appendices/faq.html#faq-setting-users-and-ports"><span class="std std-ref">ansible_port</span></a></dt>
<dd>
<p>The ssh port number, for <a class="reference internal" href="../collections/ansible/builtin/ssh_connection#ssh-connection"><span class="std std-ref">ssh</span></a> and <a class="reference external" href="https://docs.ansible.com/ansible/2.9/plugins/connection/paramiko_ssh.html#paramiko-ssh-connection" title="(in Ansible v2.9)"><span class="xref std std-ref">paramiko_ssh</span></a> it defaults to 22.</p> </dd> <dt><a class="reference internal" href="https://docs.ansible.com/ansible/latest/reference_appendices/faq.html#faq-setting-users-and-ports"><span class="std std-ref">ansible_user</span></a></dt>
<dd>
<p>The default user name to use for log in. Most plugins default to the ‘current user running Ansible’.</p> </dd> </dl> <p>Each plugin might also have a specific version of a variable that overrides the general version. For example, <code>ansible_ssh_host</code> for the <a class="reference internal" href="../collections/ansible/builtin/ssh_connection#ssh-connection"><span class="std std-ref">ssh</span></a> plugin.</p>   <h2 id="connection-plugin-list">Plugin list</h2> <p id="plugin-list">You can use <code>ansible-doc -t connection -l</code> to see the list of available plugins. Use <code>ansible-doc -t connection &lt;plugin name&gt;</code> to see detailed documentation and examples.</p> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference internal" href="../user_guide/playbooks#working-with-playbooks"><span class="std std-ref">Working with Playbooks</span></a></dt>
<dd>
<p>An introduction to playbooks</p> </dd> <dt><a class="reference internal" href="callback#callback-plugins"><span class="std std-ref">Callback plugins</span></a></dt>
<dd>
<p>Callback plugins</p> </dd> <dt><a class="reference internal" href="filter#filter-plugins"><span class="std std-ref">Filter plugins</span></a></dt>
<dd>
<p>Filter plugins</p> </dd> <dt><a class="reference internal" href="test#test-plugins"><span class="std std-ref">Test plugins</span></a></dt>
<dd>
<p>Test plugins</p> </dd> <dt><a class="reference internal" href="lookup#lookup-plugins"><span class="std std-ref">Lookup plugins</span></a></dt>
<dd>
<p>Lookup plugins</p> </dd> <dt><a class="reference internal" href="vars#vars-plugins"><span class="std std-ref">Vars plugins</span></a></dt>
<dd>
<p>Vars plugins</p> </dd> <dt><a class="reference external" href="https://groups.google.com/group/ansible-devel">User Mailing List</a></dt>
<dd>
<p>Have a question? Stop by the google group!</p> </dd> <dt><a class="reference internal" href="https://docs.ansible.com/ansible/latest/community/communication.html#communication-irc"><span class="std std-ref">Real-time chat</span></a></dt>
<dd>
<p>How to join Ansible chat channels</p> </dd> </dl> </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://docs.ansible.com/ansible/latest/plugins/connection.html" class="_attribution-link" target="_blank">https://docs.ansible.com/ansible/latest/plugins/connection.html</a>
  </p>
</div>
