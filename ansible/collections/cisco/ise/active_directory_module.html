<h1 id="cisco-ise-active-directory-resource-module-for-active-directory">cisco.ise.active_directory – Resource module for Active Directory</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/cisco/ise">cisco.ise collection</a> (version 1.2.1).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install cisco.ise</code>.</p> <p>To use it in a playbook, specify: <code>cisco.ise.active_directory</code>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 1.0.0: </span>of cisco.ise</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#see-also" id="id5">See Also</a></li> <li><a class="reference internal" href="#examples" id="id6">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id7">Return Values</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Manage operations create and delete of the resource Active Directory.</li> </ul> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module has a corresponding <a class="reference internal" href="../../../plugins/action#action-plugins"><span class="std std-ref">action plugin</span></a>.</p> </div>   <h2 id="requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>ciscoisesdk &gt;= 1.1.0</li> <li>python &gt;= 3.5</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="3">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="3">  <b>adAttributes</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>Holds list of AD Attributes.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>attributes</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td> </td> <td> <div>List of Attributes.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>defaultValue</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Required for each attribute in the attribute list. Can contain an empty string. All characters are allowed except &lt;%".</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>internalName</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Required for each attribute in the attribute list. All characters are allowed except &lt;%".</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>name</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Required for each attribute in the attribute list with no duplication between attributes. All characters are allowed except &lt;%".</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>type</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Required for each group in the group list. Allowed values STRING, IP, BOOLEAN, INT, OCTET_STRING.</div> </td> </tr> <tr> <td colspan="3">  <b>adgroups</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>Holds list of AD Groups.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>groups</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td> </td> <td> <div>List of Groups.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>name</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Required for each group in the group list with no duplication between groups. All characters are allowed except %.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>sid</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Cisco ISE uses security identifiers (SIDs) for optimization of group membership evaluation. SIDs are useful for efficiency (speed) when the groups are evaluated. All characters are allowed except %.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>type</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>No character restriction.</div> </td> </tr> <tr> <td colspan="3">  <b>adScopesNames</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>String that contains the names of the scopes that the active directory belongs to. Names are separated by comma. Alphanumeric, underscore (_) characters are allowed.</div> </td> </tr> <tr> <td colspan="3">  <b>advancedSettings</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>Active Directory's advancedSettings.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>agingTime</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Range 1-8760 hours.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>authProtectionType</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Enable prevent AD account lockout. Allowed values - WIRELESS, - WIRED, - BOTH.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>country</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>User info attribute. All characters are allowed except %.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>department</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>User info attribute. All characters are allowed except %.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>email</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>User info attribute. All characters are allowed except %.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>enableCallbackForDialinClient</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>EnableCallbackForDialinClient flag.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>enableDialinPermissionCheck</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>EnableDialinPermissionCheck flag.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>enableFailedAuthProtection</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Enable prevent AD account lockout due to too many bad password attempts.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>enableMachineAccess</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>EnableMachineAccess flag.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>enableMachineAuth</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>EnableMachineAuth flag.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>enablePassChange</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>EnablePassChange flag.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>enableRewrites</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>EnableRewrites flag.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>failedAuthThreshold</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Number of bad password attempts.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>firstName</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>User info attribute. All characters are allowed except %.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>identityNotInAdBehaviour</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Allowed values REJECT, SEARCH_JOINED_FOREST, SEARCH_ALL.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>jobTitle</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>User info attribute. All characters are allowed except %.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>lastName</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>User info attribute. All characters are allowed except %.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>locality</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>User info attribute. All characters are allowed except %.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>organizationalUnit</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>User info attribute. All characters are allowed except %.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>plaintextAuth</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>PlaintextAuth flag.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>rewriteRules</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td> </td> <td> <div>Identity rewrite is an advanced feature that directs Cisco ISE to manipulate the identity before it is passed to the external Active Directory system. You can create rules to change the identity to a desired format that includes or excludes a domain prefix and/or suffix or other additional markup of your choice.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>rewriteMatch</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Required for each rule in the list with no duplication between rules. All characters are allowed except %".</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>rewriteResult</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Required for each rule in the list. All characters are allowed except %".</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>rowId</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Required for each rule in the list in serial order.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>schema</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Allowed values ACTIVE_DIRECTORY, CUSTOM. Choose ACTIVE_DIRECTORY schema when the AD attributes defined in AD can be copied to relevant attributes in Cisco ISE. If customization is needed, choose CUSTOM schema. All User info attributes are always set to default value if schema is ACTIVE_DIRECTORY. Values can be changed only for CUSTOM schema.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>stateOrProvince</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>User info attribute. All characters are allowed except %.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>streetAddress</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>User info attribute. All characters are allowed except %.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>telephone</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>User info attribute. All characters are allowed except %.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>unreachableDomainsBehaviour</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Allowed values PROCEED, DROP.</div> </td> </tr> <tr> <td colspan="3">  <b>description</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>No character restriction.</div> </td> </tr> <tr> <td colspan="3">  <b>domain</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The AD domain. Alphanumeric, hyphen (-) and dot (.) characters are allowed.</div> </td> </tr> <tr> <td colspan="3">  <b>enableDomainWhiteList</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>EnableDomainWhiteList flag.</div> </td> </tr> <tr> <td colspan="3">  <b>id</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Id path parameter.</div> </td> </tr> <tr> <td colspan="3">  <b>ise_debug</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>Flag for Identity Services Engine SDK to enable debugging.</div> </td> </tr> <tr> <td colspan="3">  <b>ise_hostname</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>The Identity Services Engine hostname.</div> </td> </tr> <tr> <td colspan="3">  <b>ise_password</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>The Identity Services Engine password to authenticate.</div> </td> </tr> <tr> <td colspan="3">  <b>ise_username</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>The Identity Services Engine username to authenticate.</div> </td> </tr> <tr> <td colspan="3">  <b>ise_uses_api_gateway</b>  <div> <span>boolean</span> </div> <div> added in 1.1.0 of cisco.ise </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div>
<b>yes</b> ←</div></li> </ul> </td> <td> <div>Flag that informs the SDK whether to use the Identity Services Engine's API Gateway to send requests.</div> <div>If it is true, it uses the ISE's API Gateway and sends requests to https://{{ise_hostname}}.</div> <div>If it is false, it sends the requests to https://{{ise_hostname}}:{{port}}, where the port value depends on the Service used (ERS, Mnt, UI, PxGrid).</div> </td> </tr> <tr> <td colspan="3">  <b>ise_verify</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div>
<b>yes</b> ←</div></li> </ul> </td> <td> <div>Flag to enable or disable SSL certificate verification.</div> </td> </tr> <tr> <td colspan="3">  <b>ise_version</b>  <div> <span>string</span> </div> </td> <td> <b>Default:</b><br><div>"3.1.0"</div> </td> <td> <div>Informs the SDK which version of Identity Services Engine to use.</div> </td> </tr> <tr> <td colspan="3">  <b>ise_wait_on_rate_limit</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div>
<b>yes</b> ←</div></li> </ul> </td> <td> <div>Flag for Identity Services Engine SDK to enable automatic rate-limit handling.</div> </td> </tr> <tr> <td colspan="3">  <b>name</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Resource Name. Maximum 32 characters allowed. Allowed characters are alphanumeric and .-_/\\ characters.</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>Does not support <code>check_mode</code>
</li> </ul> </div>   <h2 id="see-also">See Also</h2> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference external" href="https://ciscoisesdk.readthedocs.io/en/latest/api/api.html#v3-0-0-summary">Active Directory reference</a></dt>
<dd>
<p>Complete reference of the Active Directory object model.</p> </dd> </dl> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja">- name: Delete by id
  cisco.ise.active_directory:
    ise_hostname: "{{ise_hostname}}"
    ise_username: "{{ise_username}}"
    ise_password: "{{ise_password}}"
    ise_verify: "{{ise_verify}}"
    state: absent
    id: string

- name: Create
  cisco.ise.active_directory:
    ise_hostname: "{{ise_hostname}}"
    ise_username: "{{ise_username}}"
    ise_password: "{{ise_password}}"
    ise_verify: "{{ise_verify}}"
    state: present
    adAttributes:
      attributes:
      - defaultValue: string
        internalName: string
        name: string
        type: string
    adScopesNames: string
    adgroups:
      groups:
      - name: string
        sid: string
        type: string
    advancedSettings:
      agingTime: 0
      authProtectionType: string
      country: string
      department: string
      email: string
      enableCallbackForDialinClient: true
      enableDialinPermissionCheck: true
      enableFailedAuthProtection: true
      enableMachineAccess: true
      enableMachineAuth: true
      enablePassChange: true
      enableRewrites: true
      failedAuthThreshold: 0
      firstName: string
      identityNotInAdBehaviour: string
      jobTitle: string
      lastName: string
      locality: string
      organizationalUnit: string
      plaintextAuth: true
      rewriteRules:
      - rewriteMatch: string
        rewriteResult: string
        rowId: 0
      schema: string
      stateOrProvince: string
      streetAddress: string
      telephone: string
      unreachableDomainsBehaviour: string
    description: string
    domain: string
    enableDomainWhiteList: true
    id: string
    name: string
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="1">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="1">  <b>ise_response</b>  <div> <span>dictionary</span> </div> </td> <td>always</td> <td> <div>A dictionary or list with the response returned by the Cisco ISE Python SDK</div> <br> <div><b>Sample:</b></div> <div>{ "id": "string", "name": "string", "description": "string", "domain": "string", "enableDomainWhiteList": true, "enableDomainAllowedList": true, "adgroups": { "groups": [ { "name": "string", "sid": "string", "type": "string" } ] }, "advancedSettings": { "enablePassChange": true, "enableMachineAuth": true, "enableMachineAccess": true, "agingTime": 0, "enableDialinPermissionCheck": true, "enableCallbackForDialinClient": true, "plaintextAuth": true, "enableFailedAuthProtection": true, "authProtectionType": "string", "failedAuthThreshold": 0, "identityNotInAdBehaviour": "string", "unreachableDomainsBehaviour": "string", "enableRewrites": true, "rewriteRules": [ { "rowId": 0, "rewriteMatch": "string", "rewriteResult": "string" } ], "firstName": "string", "department": "string", "lastName": "string", "organizationalUnit": "string", "jobTitle": "string", "locality": "string", "email": "string", "stateOrProvince": "string", "telephone": "string", "country": "string", "streetAddress": "string", "schema": "string" }, "adAttributes": { "attributes": [ { "name": "string", "type": "string", "internalName": "string", "defaultValue": "string" } ] }, "adScopesNames": "string", "link": { "rel": "string", "href": "string", "type": "string" } }</div> </td> </tr> </table> <br><br> <h3 id="authors">Authors</h3> <ul class="simple"> <li>Rafael Campos (@racampos)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://docs.ansible.com/ansible/latest/collections/cisco/ise/active_directory_module.html" class="_attribution-link" target="_blank">https://docs.ansible.com/ansible/latest/collections/cisco/ise/active_directory_module.html</a>
  </p>
</div>
