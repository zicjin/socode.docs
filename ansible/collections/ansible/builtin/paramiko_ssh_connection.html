<section id="ansible-builtin-paramiko-ssh-connection-run-tasks-via-python-ssh-paramiko"> <h1>ansible.builtin.paramiko_ssh connection – Run tasks via python ssh (paramiko)</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This connection plugin is part of <code>ansible-core</code> and included in all Ansible installations. In most cases, you can use the short plugin name <code>paramiko_ssh</code> even without specifying the <code>collections:</code> keyword. However, we recommend you use the FQCN for easy linking to the plugin documentation and to avoid conflicting with other collections that may have the same connection plugin name.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.1: </span>of ansible.builtin</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#parameters" id="id2">Parameters</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>Use the python ssh implementation (Paramiko) to connect to targets</li> <li>The paramiko transport is provided because many distributions, in particular EL6 and before do not support ControlPersist in their SSH implementations.</li> <li>This is needed on the Ansible control machine to be reasonably efficient with connections. Thus paramiko is faster for most users on these platforms. Users with ControlPersist capability can consider using -c ssh or configuring the transport in the configuration file.</li> <li>This plugin also borrows a lot of settings from the ssh plugin as they both cover the same protocol.</li> </ul> </section> <section id="parameters"> <h2>Parameters</h2> <table class="colwidths-auto ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-paramiko-ssh-connection-parameter-host-key-auto-add"><strong>host_key_auto_add</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>TODO: write it</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li><span class="ansible-option-choices-entry">no</span></li> <li><span class="ansible-option-choices-entry">yes</span></li> </ul> <p class="ansible-option-line"><span class="ansible-option-configuration">Configuration:</span></p> <ul> <li>
<p>INI entry:</p> <pre data-language="YAML+Jinja">[paramiko_connection]
host_key_auto_add = None
</pre> </li> <li>Environment variable: ANSIBLE_PARAMIKO_HOST_KEY_AUTO_ADD</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-paramiko-ssh-connection-parameter-host-key-checking"><strong>host_key_checking</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Set this to “False” if you want to avoid host key checking by the underlying tools Ansible uses to connect to the host</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li><span class="ansible-option-choices-entry">no</span></li> <li>
<span class="ansible-option-default-bold">yes</span> <span class="ansible-option-default">← (default)</span>
</li> </ul> <p class="ansible-option-line"><span class="ansible-option-configuration">Configuration:</span></p> <ul> <li>
<p>INI entries:</p> <pre data-language="YAML+Jinja">[defaults]
host_key_checking = yes
</pre> <pre data-language="YAML+Jinja">[paramiko_connection]
host_key_checking = yes
</pre> <p><span class="ansible-option-versionadded">added in 2.5 of ansible.builtin</span></p> </li> <li>Environment variable: ANSIBLE_HOST_KEY_CHECKING</li> <li>
<p>Environment variable: ANSIBLE_SSH_HOST_KEY_CHECKING</p> <p><span class="ansible-option-versionadded">added in 2.5 of ansible.builtin</span></p> </li> <li>
<p>Environment variable: ANSIBLE_PARAMIKO_HOST_KEY_CHECKING</p> <p><span class="ansible-option-versionadded">added in 2.5 of ansible.builtin</span></p> </li> <li>
<p>Variable: ansible_host_key_checking</p> <p><span class="ansible-option-versionadded">added in 2.5 of ansible.builtin</span></p> </li> <li>
<p>Variable: ansible_ssh_host_key_checking</p> <p><span class="ansible-option-versionadded">added in 2.5 of ansible.builtin</span></p> </li> <li>
<p>Variable: ansible_paramiko_host_key_checking</p> <p><span class="ansible-option-versionadded">added in 2.5 of ansible.builtin</span></p> </li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-paramiko-ssh-connection-parameter-look-for-keys"><strong>look_for_keys</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>TODO: write it</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li><span class="ansible-option-choices-entry">no</span></li> <li>
<span class="ansible-option-default-bold">yes</span> <span class="ansible-option-default">← (default)</span>
</li> </ul> <p class="ansible-option-line"><span class="ansible-option-configuration">Configuration:</span></p> <ul> <li>
<p>INI entry:</p> <pre data-language="YAML+Jinja">[paramiko_connection]
look_for_keys = yes
</pre> </li> <li>Environment variable: ANSIBLE_PARAMIKO_LOOK_FOR_KEYS</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-paramiko-ssh-connection-parameter-password"><strong>password</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Secret used to either login the ssh server or as a passphrase for ssh keys that require it</p> <p>Can be set from the CLI via the <code>--ask-pass</code> option.</p> <p class="ansible-option-line"><span class="ansible-option-configuration">Configuration:</span></p> <ul> <li>Variable: ansible_password</li> <li>Variable: ansible_ssh_pass</li> <li>Variable: ansible_ssh_password</li> <li>Variable: ansible_paramiko_pass</li> <li>
<p>Variable: ansible_paramiko_password</p> <p><span class="ansible-option-versionadded">added in 2.5 of ansible.builtin</span></p> </li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-paramiko-ssh-connection-parameter-proxy-command"><strong>proxy_command</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Proxy information for running the connection via a jumphost</p> <p>Also this plugin will scan ‘ssh_args’, ‘ssh_extra_args’ and ‘ssh_common_args’ from the ‘ssh’ plugin settings for proxy information if set.</p> <p class="ansible-option-line"><span class="ansible-option-default-bold">Default:</span> <span class="ansible-option-default">“”</span></p> <p class="ansible-option-line"><span class="ansible-option-configuration">Configuration:</span></p> <ul> <li>
<p>INI entry:</p> <pre data-language="YAML+Jinja">[paramiko_connection]
proxy_command =
</pre> </li> <li>Environment variable: ANSIBLE_PARAMIKO_PROXY_COMMAND</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-paramiko-ssh-connection-parameter-pty"><strong>pty</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>TODO: write it</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li><span class="ansible-option-choices-entry">no</span></li> <li>
<span class="ansible-option-default-bold">yes</span> <span class="ansible-option-default">← (default)</span>
</li> </ul> <p class="ansible-option-line"><span class="ansible-option-configuration">Configuration:</span></p> <ul> <li>
<p>INI entry:</p> <pre data-language="YAML+Jinja">[paramiko_connection]
pty = yes
</pre> </li> <li>Environment variable: ANSIBLE_PARAMIKO_PTY</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-paramiko-ssh-connection-parameter-record-host-keys"><strong>record_host_keys</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>TODO: write it</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li><span class="ansible-option-choices-entry">no</span></li> <li>
<span class="ansible-option-default-bold">yes</span> <span class="ansible-option-default">← (default)</span>
</li> </ul> <p class="ansible-option-line"><span class="ansible-option-configuration">Configuration:</span></p> <ul> <li>
<p>INI entry:</p> <pre data-language="YAML+Jinja">[paramiko_connection]
record_host_keys = yes
</pre> </li> <li>Environment variable: ANSIBLE_PARAMIKO_RECORD_HOST_KEYS</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-paramiko-ssh-connection-parameter-remote-addr"><strong>remote_addr</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Address of the remote target</p> <p class="ansible-option-line"><span class="ansible-option-default-bold">Default:</span> <span class="ansible-option-default">“inventory_hostname”</span></p> <p class="ansible-option-line"><span class="ansible-option-configuration">Configuration:</span></p> <ul class="simple"> <li>Variable: inventory_hostname</li> <li>Variable: ansible_host</li> <li>Variable: ansible_ssh_host</li> <li>Variable: ansible_paramiko_host</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-paramiko-ssh-connection-parameter-remote-user"><strong>remote_user</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>User to login/authenticate as</p> <p>Can be set from the CLI via the <code>--user</code> or <code>-u</code> options.</p> <p class="ansible-option-line"><span class="ansible-option-configuration">Configuration:</span></p> <ul> <li>
<p>INI entries:</p> <pre data-language="YAML+Jinja">[defaults]
remote_user = None
</pre> <pre data-language="YAML+Jinja">[paramiko_connection]
remote_user = None
</pre> <p><span class="ansible-option-versionadded">added in 2.5 of ansible.builtin</span></p> </li> <li>Environment variable: ANSIBLE_REMOTE_USER</li> <li>
<p>Environment variable: ANSIBLE_PARAMIKO_REMOTE_USER</p> <p><span class="ansible-option-versionadded">added in 2.5 of ansible.builtin</span></p> </li> <li>Variable: ansible_user</li> <li>Variable: ansible_ssh_user</li> <li>Variable: ansible_paramiko_user</li> <li>Keyword: remote_user</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-paramiko-ssh-connection-parameter-use-persistent-connections"><strong>use_persistent_connections</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Toggles the use of persistence for connections</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li>
<span class="ansible-option-default-bold">no</span> <span class="ansible-option-default">← (default)</span>
</li> <li><span class="ansible-option-choices-entry">yes</span></li> </ul> <p class="ansible-option-line"><span class="ansible-option-configuration">Configuration:</span></p> <ul> <li>
<p>INI entry:</p> <pre data-language="YAML+Jinja">[defaults]
use_persistent_connections = no
</pre> </li> <li>Environment variable: ANSIBLE_USE_PERSISTENT_CONNECTIONS</li> </ul> </div></td> </tr>  </table> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Ansible Core Team</li> </ul> <div class="admonition hint"> <p class="admonition-title">Hint</p> <p>Configuration entries for each entry type have a low to high priority order. For example, a variable that is lower in the list will override a variable that is higher up.</p> </div> </section> <section id="collection-links"> <h3>Collection links</h3> <p class="ansible-links"> <a href="https://github.com/ansible/ansible/issues" aria-role="button" target="_blank" rel="noopener external">Issue Tracker</a> <a href="https://github.com/ansible/ansible" aria-role="button" target="_blank" rel="noopener external">Repository (Sources)</a> <a href="index#communication-for-ansible-builtin" aria-role="button" target="_blank">Communication</a> </p></section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/paramiko_ssh_connection.html" class="_attribution-link" target="_blank">https://docs.ansible.com/ansible/latest/collections/ansible/builtin/paramiko_ssh_connection.html</a>
  </p>
</div>
