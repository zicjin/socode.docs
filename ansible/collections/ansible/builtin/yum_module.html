<section id="ansible-builtin-yum-module-manages-packages-with-the-yum-package-manager"> <h1>ansible.builtin.yum module – Manages packages with the yum package manager</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module is part of <code>ansible-core</code> and included in all Ansible installations. In most cases, you can use the short module name <code>yum</code> even without specifying the <code>collections:</code> keyword. However, we recommend you use the FQCN for easy linking to the module documentation and to avoid conflicting with other collections that may have the same module name.</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#attributes" id="id4">Attributes</a></li> <li><a class="reference internal" href="#notes" id="id5">Notes</a></li> <li><a class="reference internal" href="#examples" id="id6">Examples</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>Installs, upgrade, downgrades, removes, and lists packages and groups with the <em>yum</em> package manager.</li> <li>This module only works on Python 2. If you require Python 3 support see the <a class="reference internal" href="dnf_module#ansible-collections-ansible-builtin-dnf-module"><span class="std std-ref">ansible.builtin.dnf</span></a> module.</li> </ul> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module has a corresponding <a class="reference internal" href="../../../plugins/action#action-plugins"><span class="std std-ref">action plugin</span></a>.</p> </div> </section> <section id="requirements"> <h2>Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>yum</li> </ul> </section> <section id="parameters"> <h2>Parameters</h2> <table class="colwidths-auto ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-parameter-allow-downgrade"><strong>allow_downgrade</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><span class="ansible-option-versionadded">added in 2.4 of ansible.builtin</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Specify if the named package and version is allowed to downgrade a maybe already installed higher version of that package. Note that setting allow_downgrade=True can make this module behave in a non-idempotent way. The task could end up with a set of packages that does not match the complete list of specified packages to install (because dependencies between the downgraded package and others can cause changes to the packages which were in the earlier transaction).</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li>
<span class="ansible-option-default-bold">no</span> <span class="ansible-option-default">← (default)</span>
</li> <li><span class="ansible-option-choices-entry">yes</span></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-parameter-autoremove"><strong>autoremove</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><span class="ansible-option-versionadded">added in 2.7 of ansible.builtin</span></p> </div></td> <td><div class="ansible-option-cell">
<p>If <code>yes</code>, removes all “leaf” packages from the system that were originally installed as dependencies of user-installed packages but which are no longer required by any such package. Should be used alone or when state is <em>absent</em></p> <p>NOTE: This feature requires yum &gt;= 3.4.3 (RHEL/CentOS 7+)</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li>
<span class="ansible-option-default-bold">no</span> <span class="ansible-option-default">← (default)</span>
</li> <li><span class="ansible-option-choices-entry">yes</span></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-parameter-bugfix"><strong>bugfix</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><span class="ansible-option-versionadded">added in 2.6 of ansible.builtin</span></p> </div></td> <td><div class="ansible-option-cell">
<p>If set to <code>yes</code>, and <code>state=latest</code> then only installs updates that have been marked bugfix related.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li>
<span class="ansible-option-default-bold">no</span> <span class="ansible-option-default">← (default)</span>
</li> <li><span class="ansible-option-choices-entry">yes</span></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-parameter-cacheonly"><strong>cacheonly</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><span class="ansible-option-versionadded">added in 2.12 of ansible.builtin</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Tells yum to run entirely from system cache; does not download or update metadata.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li>
<span class="ansible-option-default-bold">no</span> <span class="ansible-option-default">← (default)</span>
</li> <li><span class="ansible-option-choices-entry">yes</span></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-parameter-conf-file"><strong>conf_file</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><span class="ansible-option-versionadded">added in 0.6 of ansible.builtin</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The remote yum configuration file to use for the transaction.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-parameter-disable-excludes"><strong>disable_excludes</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><span class="ansible-option-versionadded">added in 2.7 of ansible.builtin</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Disable the excludes defined in YUM config files.</p> <p>If set to <code>all</code>, disables all excludes.</p> <p>If set to <code>main</code>, disable excludes defined in [main] in yum.conf.</p> <p>If set to <code>repoid</code>, disable excludes defined for given repo id.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-parameter-disable-gpg-check"><strong>disable_gpg_check</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><span class="ansible-option-versionadded">added in 1.2 of ansible.builtin</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Whether to disable the GPG checking of signatures of packages being installed. Has an effect only if state is <em>present</em> or <em>latest</em>.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li>
<span class="ansible-option-default-bold">no</span> <span class="ansible-option-default">← (default)</span>
</li> <li><span class="ansible-option-choices-entry">yes</span></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-parameter-disable-plugin"><strong>disable_plugin</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> <p><span class="ansible-option-versionadded">added in 2.5 of ansible.builtin</span></p> </div></td> <td><div class="ansible-option-cell">
<p><em>Plugin</em> name to disable for the install/update operation. The disabled plugins will not persist beyond the transaction.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-parameter-disablerepo"><strong>disablerepo</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> <p><span class="ansible-option-versionadded">added in 0.9 of ansible.builtin</span></p> </div></td> <td><div class="ansible-option-cell">
<p><em>Repoid</em> of repositories to disable for the install/update operation. These repos will not persist beyond the transaction. When specifying multiple repos, separate them with a <code>","</code>.</p> <p>As of Ansible 2.7, this can alternatively be a list instead of <code>","</code> separated string</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-parameter-download-dir"><strong>download_dir</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><span class="ansible-option-versionadded">added in 2.8 of ansible.builtin</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Specifies an alternate directory to store packages.</p> <p>Has an effect only if <em>download_only</em> is specified.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-parameter-download-only"><strong>download_only</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><span class="ansible-option-versionadded">added in 2.7 of ansible.builtin</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Only download the packages, do not install them.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li>
<span class="ansible-option-default-bold">no</span> <span class="ansible-option-default">← (default)</span>
</li> <li><span class="ansible-option-choices-entry">yes</span></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-parameter-enable-plugin"><strong>enable_plugin</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> <p><span class="ansible-option-versionadded">added in 2.5 of ansible.builtin</span></p> </div></td> <td><div class="ansible-option-cell">
<p><em>Plugin</em> name to enable for the install/update operation. The enabled plugin will not persist beyond the transaction.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-parameter-enablerepo"><strong>enablerepo</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> <p><span class="ansible-option-versionadded">added in 0.9 of ansible.builtin</span></p> </div></td> <td><div class="ansible-option-cell">
<p><em>Repoid</em> of repositories to enable for the install/update operation. These repos will not persist beyond the transaction. When specifying multiple repos, separate them with a <code>","</code>.</p> <p>As of Ansible 2.7, this can alternatively be a list instead of <code>","</code> separated string</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-parameter-exclude"><strong>exclude</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> <p><span class="ansible-option-versionadded">added in 2.0 of ansible.builtin</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Package name(s) to exclude when state=present, or latest</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-parameter-install-repoquery"><strong>install_repoquery</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><span class="ansible-option-versionadded">added in 1.5 of ansible.builtin</span></p> </div></td> <td><div class="ansible-option-cell">
<p>If repoquery is not available, install yum-utils. If the system is registered to RHN or an RHN Satellite, repoquery allows for querying all channels assigned to the system. It is also required to use the ‘list’ parameter.</p> <p>NOTE: This will run and be logged as a separate yum transation which takes place before any other installation or removal.</p> <p>NOTE: This will use the system’s default enabled repositories without regard for disablerepo/enablerepo given to the module.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li><span class="ansible-option-choices-entry">no</span></li> <li>
<span class="ansible-option-default-bold">yes</span> <span class="ansible-option-default">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-parameter-install-weak-deps"><strong>install_weak_deps</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><span class="ansible-option-versionadded">added in 2.8 of ansible.builtin</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Will also install all packages linked by a weak dependency relation.</p> <p>NOTE: This feature requires yum &gt;= 4 (RHEL/CentOS 8+)</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li><span class="ansible-option-choices-entry">no</span></li> <li>
<span class="ansible-option-default-bold">yes</span> <span class="ansible-option-default">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-parameter-installroot"><strong>installroot</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><span class="ansible-option-versionadded">added in 2.3 of ansible.builtin</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Specifies an alternative installroot, relative to which all packages will be installed.</p> <p class="ansible-option-line"><span class="ansible-option-default-bold">Default:</span> <span class="ansible-option-default">“/”</span></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-parameter-list"><strong>list</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Package name to run the equivalent of yum list <code>--show-duplicates &lt;package&gt;</code> against. In addition to listing packages, use can also list the following: <code>installed</code>, <code>updates</code>, <code>available</code> and <code>repos</code>.</p> <p>This parameter is mutually exclusive with <em>name</em>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-parameter-lock-timeout"><strong>lock_timeout</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> <p><span class="ansible-option-versionadded">added in 2.8 of ansible.builtin</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Amount of time to wait for the yum lockfile to be freed.</p> <p class="ansible-option-line"><span class="ansible-option-default-bold">Default:</span> <span class="ansible-option-default">30</span></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-parameter-pkg"><strong id="ansible-collections-ansible-builtin-yum-module-parameter-name">name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: pkg</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A package name or package specifier with version, like <code>name-1.0</code>.</p> <p>Comparison operators for package version are valid here <code>&gt;</code>, <code>&lt;</code>, <code>&gt;=</code>, <code>&lt;=</code>. Example - <code>name&gt;=1.0</code></p> <p>If a previous version is specified, the task also needs to turn <code>allow_downgrade</code> on. See the <code>allow_downgrade</code> documentation for caveats with downgrading packages.</p> <p>When using state=latest, this can be <code>'*'</code> which means run <code>yum -y update</code>.</p> <p>You can also pass a url or a local path to a rpm file (using state=present). To operate on several packages this can accept a comma separated string of packages or (as of 2.0) a list of packages.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-parameter-releasever"><strong>releasever</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><span class="ansible-option-versionadded">added in 2.7 of ansible.builtin</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Specifies an alternative release from which all packages will be installed.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-parameter-security"><strong>security</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><span class="ansible-option-versionadded">added in 2.4 of ansible.builtin</span></p> </div></td> <td><div class="ansible-option-cell">
<p>If set to <code>yes</code>, and <code>state=latest</code> then only installs updates that have been marked security related.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li>
<span class="ansible-option-default-bold">no</span> <span class="ansible-option-default">← (default)</span>
</li> <li><span class="ansible-option-choices-entry">yes</span></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-parameter-skip-broken"><strong>skip_broken</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><span class="ansible-option-versionadded">added in 2.3 of ansible.builtin</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Skip all unavailable packages or packages with broken dependencies without raising an error. Equivalent to passing the –skip-broken option.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li>
<span class="ansible-option-default-bold">no</span> <span class="ansible-option-default">← (default)</span>
</li> <li><span class="ansible-option-choices-entry">yes</span></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-parameter-sslverify"><strong>sslverify</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><span class="ansible-option-versionadded">added in 2.13 of ansible.builtin</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Disables SSL validation of the repository server for this transaction.</p> <p>This should be set to <code>no</code> if one of the configured repositories is using an untrusted or self-signed certificate.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li><span class="ansible-option-choices-entry">no</span></li> <li>
<span class="ansible-option-default-bold">yes</span> <span class="ansible-option-default">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-parameter-state"><strong>state</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Whether to install (<code>present</code> or <code>installed</code>, <code>latest</code>), or remove (<code>absent</code> or <code>removed</code>) a package.</p> <p><code>present</code> and <code>installed</code> will simply ensure that a desired package is installed.</p> <p><code>latest</code> will update the specified package if it’s not of the latest available version.</p> <p><code>absent</code> and <code>removed</code> will remove the specified package.</p> <p>Default is <code>None</code>, however in effect the default action is <code>present</code> unless the <code>autoremove</code> option is enabled for this module, then <code>absent</code> is inferred.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li><span class="ansible-option-choices-entry">absent</span></li> <li><span class="ansible-option-choices-entry">installed</span></li> <li><span class="ansible-option-choices-entry">latest</span></li> <li><span class="ansible-option-choices-entry">present</span></li> <li><span class="ansible-option-choices-entry">removed</span></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-parameter-expire-cache"><strong id="ansible-collections-ansible-builtin-yum-module-parameter-update-cache">update_cache</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: expire-cache</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><span class="ansible-option-versionadded">added in 1.9 of ansible.builtin</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Force yum to check if cache is out of date and redownload if needed. Has an effect only if state is <em>present</em> or <em>latest</em>.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li>
<span class="ansible-option-default-bold">no</span> <span class="ansible-option-default">← (default)</span>
</li> <li><span class="ansible-option-choices-entry">yes</span></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-parameter-update-only"><strong>update_only</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><span class="ansible-option-versionadded">added in 2.5 of ansible.builtin</span></p> </div></td> <td><div class="ansible-option-cell">
<p>When using latest, only update installed packages. Do not install packages.</p> <p>Has an effect only if state is <em>latest</em></p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li>
<span class="ansible-option-default-bold">no</span> <span class="ansible-option-default">← (default)</span>
</li> <li><span class="ansible-option-choices-entry">yes</span></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-parameter-use-backend"><strong>use_backend</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><span class="ansible-option-versionadded">added in 2.7 of ansible.builtin</span></p> </div></td> <td><div class="ansible-option-cell">
<p>This module supports <code>yum</code> (as it always has), this is known as <code>yum3</code>/<code>YUM3</code>/<code>yum-deprecated</code> by upstream yum developers. As of Ansible 2.7+, this module also supports <code>YUM4</code>, which is the “new yum” and it has an <code>dnf</code> backend.</p> <p>By default, this module will select the backend based on the <code>ansible_pkg_mgr</code> fact.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li>
<span class="ansible-option-default-bold">auto</span> <span class="ansible-option-default">← (default)</span>
</li> <li><span class="ansible-option-choices-entry">yum</span></li> <li><span class="ansible-option-choices-entry">yum4</span></li> <li><span class="ansible-option-choices-entry">dnf</span></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-parameter-validate-certs"><strong>validate_certs</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><span class="ansible-option-versionadded">added in 2.1 of ansible.builtin</span></p> </div></td> <td><div class="ansible-option-cell">
<p>This only applies if using a https url as the source of the rpm. e.g. for localinstall. If set to <code>no</code>, the SSL certificates will not be validated.</p> <p>This should only set to <code>no</code> used on personally controlled sites using self-signed certificates as it avoids verifying the source site.</p> <p>Prior to 2.1 the code worked as if this was set to <code>yes</code>.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li><span class="ansible-option-choices-entry">no</span></li> <li>
<span class="ansible-option-default-bold">yes</span> <span class="ansible-option-default">← (default)</span>
</li> </ul> </div></td> </tr>  </table> </section> <section id="attributes"> <h2>Attributes</h2> <table class="colwidths-auto ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Attribute</p></th> <th class="head"><p>Support</p></th> <th class="head"><p>Description</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-attribute-action"><strong>action</strong></p> 
</div></td> <td><div class="ansible-option-cell">
<p><span class="ansible-attribute-support-label">Support: </span><span class="ansible-attribute-support-partial">partial</span></p> <p>In the case of yum, it has 2 action plugins that use it under the hood, <a class="reference internal" href="#ansible-collections-ansible-builtin-yum-module"><span class="std std-ref">ansible.builtin.yum</span></a> and <a class="reference internal" href="package_module#ansible-collections-ansible-builtin-package-module"><span class="std std-ref">ansible.builtin.package</span></a>.</p> </div></td> <td><div class="ansible-option-cell">
<p>Indicates this has a corresponding action plugin so some parts of the options can be executed on the controller</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-attribute-async"><strong>async</strong></p> 
</div></td> <td><div class="ansible-option-cell">
<p><span class="ansible-attribute-support-label">Support: </span><span class="ansible-attribute-support-none">none</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Supports being used with the <code>async</code> keyword</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-attribute-bypass-host-loop"><strong>bypass_host_loop</strong></p> 
</div></td> <td><div class="ansible-option-cell">
<p><span class="ansible-attribute-support-label">Support: </span><span class="ansible-attribute-support-none">none</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Forces a ‘global’ task that does not execute per host, this bypasses per host templating and serial, throttle and other loop considerations</p> <p>Conditionals will work as if <code>run_once</code> is being used, variables used will be from the first available host</p> <p>This action will not work normally outside of lockstep strategies</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-attribute-check-mode"><strong>check_mode</strong></p> 
</div></td> <td><div class="ansible-option-cell">
<p><span class="ansible-attribute-support-label">Support: </span><span class="ansible-attribute-support-full">full</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Can run in check_mode and return changed status prediction without modifying target</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-attribute-diff-mode"><strong>diff_mode</strong></p> 
</div></td> <td><div class="ansible-option-cell">
<p><span class="ansible-attribute-support-label">Support: </span><span class="ansible-attribute-support-full">full</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Will return details on what has changed (or possibly needs changing in check_mode), when in diff mode</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-yum-module-attribute-platform"><strong>platform</strong></p> 
</div></td> <td><div class="ansible-option-cell">
<p><span class="ansible-attribute-support-property">Platform:</span> <span class="ansible-attribute-support-full">rhel</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Target OS/families that can be operated against</p> </div></td> </tr>  </table> </section> <section id="notes"> <h2>Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>When used with a <code>loop:</code> each package will be processed individually, it is much more efficient to pass the list directly to the <em>name</em> option.</li> <li>In versions prior to 1.9.2 this module installed and removed each package given to the yum module separately. This caused problems when packages specified by filename or url had to be installed or removed together. In 1.9.2 this was fixed so that packages are installed in one yum transaction. However, if one of the packages adds a new yum repository that the other packages come from (such as epel-release) then that package needs to be installed in a separate task. This mimics yum’s command line behaviour.</li> <li>Yum itself has two types of groups. “Package groups” are specified in the rpm itself while “environment groups” are specified in a separate file (usually by the distribution). Unfortunately, this division becomes apparent to ansible users because ansible needs to operate on the group of packages in a single transaction and yum requires groups to be specified in different ways when used in that way. Package groups are specified as “@development-tools” and environment groups are “@^gnome-desktop-environment”. Use the “yum group list hidden ids” command to see which category of group the group you want to install falls into.</li> <li>The yum module does not support clearing yum cache in an idempotent way, so it was decided not to implement it, the only method is to use command and call the yum command directly, namely “command: yum clean all” <a class="reference external" href="https://github.com/ansible/ansible/pull/31450#issuecomment-352889579">https://github.com/ansible/ansible/pull/31450#issuecomment-352889579</a>
</li> </ul> </div> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja">- name: Install the latest version of Apache
  ansible.builtin.yum:
    name: httpd
    state: latest

- name: Install Apache &gt;= 2.4
  ansible.builtin.yum:
    name: httpd&gt;=2.4
    state: present

- name: Install a list of packages (suitable replacement for 2.11 loop deprecation warning)
  ansible.builtin.yum:
    name:
      - nginx
      - postgresql
      - postgresql-server
    state: present

- name: Install a list of packages with a list variable
  ansible.builtin.yum:
    name: "{{ packages }}"
  vars:
    packages:
    - httpd
    - httpd-tools

- name: Remove the Apache package
  ansible.builtin.yum:
    name: httpd
    state: absent

- name: Install the latest version of Apache from the testing repo
  ansible.builtin.yum:
    name: httpd
    enablerepo: testing
    state: present

- name: Install one specific version of Apache
  ansible.builtin.yum:
    name: httpd-2.2.29-1.4.amzn1
    state: present

- name: Upgrade all packages
  ansible.builtin.yum:
    name: '*'
    state: latest

- name: Upgrade all packages, excluding kernel &amp; foo related packages
  ansible.builtin.yum:
    name: '*'
    state: latest
    exclude: kernel*,foo*

- name: Install the nginx rpm from a remote repo
  ansible.builtin.yum:
    name: http://nginx.org/packages/centos/6/noarch/RPMS/nginx-release-centos-6-0.el6.ngx.noarch.rpm
    state: present

- name: Install nginx rpm from a local file
  ansible.builtin.yum:
    name: /usr/local/src/nginx-release-centos-6-0.el6.ngx.noarch.rpm
    state: present

- name: Install the 'Development tools' package group
  ansible.builtin.yum:
    name: "@Development tools"
    state: present

- name: Install the 'Gnome desktop' environment group
  ansible.builtin.yum:
    name: "@^gnome-desktop-environment"
    state: present

- name: List ansible packages and register result to print with debug later
  ansible.builtin.yum:
    list: ansible
  register: result

- name: Install package with multiple repos enabled
  ansible.builtin.yum:
    name: sos
    enablerepo: "epel,ol7_latest"

- name: Install package with multiple repos disabled
  ansible.builtin.yum:
    name: sos
    disablerepo: "epel,ol7_latest"

- name: Download the nginx package but do not install it
  ansible.builtin.yum:
    name:
      - nginx
    state: latest
    download_only: true
</pre> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Ansible Core Team</li> <li>Seth Vidal (@skvidal)</li> <li>Eduard Snesarev (@verm666)</li> <li>Berend De Schouwer (@berenddeschouwer)</li> <li>Abhijeet Kasurde (@Akasurde)</li> <li>Adam Miller (@maxamillion)</li> </ul> </section> <section id="collection-links"> <h3>Collection links</h3> <p class="ansible-links"> <a href="https://github.com/ansible/ansible/issues" aria-role="button" target="_blank" rel="noopener external">Issue Tracker</a> <a href="https://github.com/ansible/ansible" aria-role="button" target="_blank" rel="noopener external">Repository (Sources)</a> <a href="index#communication-for-ansible-builtin" aria-role="button" target="_blank">Communication</a> </p></section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/yum_module.html" class="_attribution-link" target="_blank">https://docs.ansible.com/ansible/latest/collections/ansible/builtin/yum_module.html</a>
  </p>
</div>
