<section id="ansible-builtin-include-module-include-a-task-list"> <h1>ansible.builtin.include module – Include a task list</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module is part of <code>ansible-core</code> and included in all Ansible installations. In most cases, you can use the short module name <code>include</code> even without specifying the <code>collections:</code> keyword. However, we recommend you use the FQCN for easy linking to the module documentation and to avoid conflicting with other collections that may have the same module name.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.6: </span>of ansible.builtin</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#deprecated" id="id1">DEPRECATED</a></li> <li><a class="reference internal" href="#synopsis" id="id2">Synopsis</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#see-also" id="id5">See Also</a></li> <li><a class="reference internal" href="#examples" id="id6">Examples</a></li> <li><a class="reference internal" href="#status" id="id7">Status</a></li> </ul>  <section id="deprecated"> <h2>DEPRECATED</h2> <dl class="field-list simple"> <dt class="field-odd">Removed in</dt> <dd class="field-odd">
<p>version 2.16</p> </dd> <dt class="field-even">Why</dt> <dd class="field-even">
<p>it has too many conflicting behaviours depending on keyword combinations and it was unclear how it should behave in each case. new actions were developed that were specific about each case and related behaviours.</p> </dd> <dt class="field-odd">Alternative</dt> <dd class="field-odd">
<p>include_tasks, import_tasks, import_playbook</p> </dd> </dl> </section> <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>Includes a file with a list of tasks to be executed in the current playbook.</li> <li>Lists of tasks can only be included where tasks normally run (in play).</li> <li>Before Ansible 2.0, all includes were ‘static’ and were executed when the play was compiled.</li> <li>Static includes are not subject to most directives. For example, loops or conditionals are applied instead to each inherited task.</li> <li>Since Ansible 2.0, task includes are dynamic and behave more like real tasks. This means they can be looped, skipped and use variables from any source. Ansible tries to auto detect this, but you can use the <code>static</code> directive (which was added in Ansible 2.1) to bypass autodetection.</li> <li>This module is also supported for Windows targets.</li> </ul> </section> <section id="parameters"> <h2>Parameters</h2> <table class="colwidths-auto ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-include-module-parameter-free-form"><strong>free-form</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>This module allows you to specify the name of the file directly without any other options.</p> </div></td> </tr>  </table> </section> <section id="notes"> <h2>Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>This is a core feature of Ansible, rather than a module, and cannot be overridden like a module.</li> <li>Include has some unintuitive behaviours depending on if it is running in a static or dynamic in play or in playbook context, in an effort to clarify behaviours we are moving to a new set modules (<a class="reference internal" href="include_tasks_module#ansible-collections-ansible-builtin-include-tasks-module"><span class="std std-ref">ansible.builtin.include_tasks</span></a>, <a class="reference internal" href="include_role_module#ansible-collections-ansible-builtin-include-role-module"><span class="std std-ref">ansible.builtin.include_role</span></a>, <a class="reference internal" href="import_playbook_module#ansible-collections-ansible-builtin-import-playbook-module"><span class="std std-ref">ansible.builtin.import_playbook</span></a>, <a class="reference internal" href="import_tasks_module#ansible-collections-ansible-builtin-import-tasks-module"><span class="std std-ref">ansible.builtin.import_tasks</span></a>) that have well established and clear behaviours.</li> <li>This module no longer supporst including plays. Use <a class="reference internal" href="import_playbook_module#ansible-collections-ansible-builtin-import-playbook-module"><span class="std std-ref">ansible.builtin.import_playbook</span></a> instead.</li> </ul> </div> </section> <section id="see-also"> <h2>See Also</h2> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference internal" href="import_playbook_module#ansible-collections-ansible-builtin-import-playbook-module"><span class="std std-ref">ansible.builtin.import_playbook</span></a></dt>
<dd>
<p>The official documentation on the <strong>ansible.builtin.import_playbook</strong> module.</p> </dd> <dt><a class="reference internal" href="import_role_module#ansible-collections-ansible-builtin-import-role-module"><span class="std std-ref">ansible.builtin.import_role</span></a></dt>
<dd>
<p>The official documentation on the <strong>ansible.builtin.import_role</strong> module.</p> </dd> <dt><a class="reference internal" href="import_tasks_module#ansible-collections-ansible-builtin-import-tasks-module"><span class="std std-ref">ansible.builtin.import_tasks</span></a></dt>
<dd>
<p>The official documentation on the <strong>ansible.builtin.import_tasks</strong> module.</p> </dd> <dt><a class="reference internal" href="include_role_module#ansible-collections-ansible-builtin-include-role-module"><span class="std std-ref">ansible.builtin.include_role</span></a></dt>
<dd>
<p>The official documentation on the <strong>ansible.builtin.include_role</strong> module.</p> </dd> <dt><a class="reference internal" href="include_tasks_module#ansible-collections-ansible-builtin-include-tasks-module"><span class="std std-ref">ansible.builtin.include_tasks</span></a></dt>
<dd>
<p>The official documentation on the <strong>ansible.builtin.include_tasks</strong> module.</p> </dd> <dt><a class="reference internal" href="../../../user_guide/playbooks_reuse_includes#playbooks-reuse-includes"><span class="std std-ref">Including and importing</span></a></dt>
<dd>
<p>More information related to including and importing playbooks, roles and tasks.</p> </dd> </dl> </div> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja">- hosts: all
  tasks:
    - ansible.builtin.debug:
        msg: task1

    - name: Include task list in play
      ansible.builtin.include: stuff.yaml

    - ansible.builtin.debug:
        msg: task10

- hosts: all
  tasks:
    - ansible.builtin.debug:
        msg: task1

    - name: Include task list in play only if the condition is true
      ansible.builtin.include: "{{ hostvar }}.yaml"
      static: no
      when: hostvar is defined
</pre> </section> <section id="status"> <h2>Status</h2> <ul class="simple"> <li>This module will be removed in version 2.16. <em>[deprecated]</em>
</li> <li>For more information see <a class="reference internal" href="#deprecated">DEPRECATED</a>.</li> </ul> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Ansible Core Team (@ansible)</li> </ul> </section> <section id="collection-links"> <h3>Collection links</h3> <p class="ansible-links"> <a href="https://github.com/ansible/ansible/issues" aria-role="button" target="_blank" rel="noopener external">Issue Tracker</a> <a href="https://github.com/ansible/ansible" aria-role="button" target="_blank" rel="noopener external">Repository (Sources)</a> <a href="index#communication-for-ansible-builtin" aria-role="button" target="_blank">Communication</a> </p></section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/include_module.html" class="_attribution-link" target="_blank">https://docs.ansible.com/ansible/latest/collections/ansible/builtin/include_module.html</a>
  </p>
</div>
