<h1 id="dellemc-openmanage-ome-device-mgmt-network-configure-network-settings-of-devices-on-openmanage-enterprise-modular">dellemc.openmanage.ome_device_mgmt_network – Configure network settings of devices on OpenManage Enterprise Modular</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/dellemc/openmanage">dellemc.openmanage collection</a> (version 4.3.0).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install dellemc.openmanage</code>.</p> <p>To use it in a playbook, specify: <code>dellemc.openmanage.ome_device_mgmt_network</code>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 4.2.0: </span>of dellemc.openmanage</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id6">Return Values</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>This module allows to configure network settings on Chassis, Servers, and I/O Modules on OpenManage Enterprise Modular.</li> </ul>   <h2 id="requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>python &gt;= 2.7.17</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="2">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="2">  <b>delay</b>  <div> <span>integer</span> </div> </td> <td> <b>Default:</b><br><div>0</div> </td> <td> <div>The time in seconds, after which settings are applied.</div> <div>This option is applicable only for Chassis.</div> </td> </tr> <tr> <td colspan="2">  <b>device_id</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>ID of the device.</div> <div>This option is mutually exclusive with <em>device_service_tag</em>.</div> </td> </tr> <tr> <td colspan="2">  <b>device_service_tag</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Service tag of the device.</div> <div>This option is mutually exclusive with <em>device_id</em>.</div> </td> </tr> <tr> <td colspan="2">  <b>dns_configuration</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>Domain Name System(DNS) settings.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>auto_negotiation</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Enables or disables the auto negation of the network speed.</div> <div>
<code>NOTE</code>: Setting <em>auto_negotiation</em> to false and choosing a network port speed may result in the chassis loosing link to the top of rack network switch, or to the neighboring chassis in case of MCM mode. It is recommended that the <em>auto_negotiation</em> is set to <code>true</code> for most use cases.</div> <div>This is applicable when <em>use_dhcp_for_dns_domain_name</em> is false.</div> <div>This is applicable only for Chassis.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>dns_domain_name</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Static DNS domain name</div> <div>This is applicable when <em>use_dhcp_for_dns_domain_name</em> is false.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>dns_name</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>DNS name for <em>hostname</em>
</div> <div>This is applicable when <em>register_with_dns</em> is true.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>network_speed</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>10_MB</li> <li>100_MB</li> </ul> </td> <td> <div>The speed of the network port.</div> <div>This is applicable when <em>auto_negotiation</em> is false.</div> <div>
<code>10_MB</code> to select network speed of 10 MB.</div> <div>
<code>100_MB</code> to select network speed of 100 MB.</div> <div>This is applicable only for Chassis.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>register_with_dns</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Register/Unregister <em>dns_name</em> on the DNS Server.</div> <div>
<code>WARNING</code> This option cannot be updated if VLAN configuration changes.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>use_dhcp_for_dns_domain_name</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Get the <em>dns_domain_name</em> using a DHCP server.</div> </td> </tr> <tr> <td colspan="2">  <b>dns_server_settings</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>DNS server settings.</div> <div>This is applicable only for I/O Module.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>alternate_dns_server1</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Enter the IP address of the first alternate DNS server.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>alternate_dns_server2</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Enter the IP address of the second alternate DNS server.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>preferred_dns_server</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Enter the IP address of the preferred DNS server.</div> </td> </tr> <tr> <td colspan="2">  <b>enable_nic</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div>
<b>yes</b> ←</div></li> </ul> </td> <td> <div>Enable or disable Network Interface Card (NIC) configuration of the device.</div> <div>This option is not applicable to I/O Module.</div> </td> </tr> <tr> <td colspan="2">  <b>hostname</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>OpenManage Enterprise Modular IP address or hostname.</div> </td> </tr> <tr> <td colspan="2">  <b>ipv4_configuration</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>IPv4 network configuration.</div> <div>
<code>WARNING</code> Ensure that you have an alternate interface to access OpenManage Enterprise Modular because these options can change the current IPv4 address for <em>hostname</em>.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>enable_dhcp</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Enable or disable the automatic request to obtain an IPv4 address from the IPv4 Dynamic Host Configuration Protocol (DHCP) server.</div> <div>
<code>NOTE</code> If this option is <code>True</code>, the values provided for <em>static_ip_address</em>, <em>static_subnet_mask</em>, and <em>static_gateway</em> are not applied for these fields. However, the module may report changes.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>enable_ipv4</b>  <div> <span>boolean</span> / <span>required</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Enable or disable access to the network using IPv4.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>static_alternate_dns_server</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Static IPv4 DNS alternate server</div> <div>This option is applicable when <em>use_dhcp_for_dns_server_names</em> is false.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>static_gateway</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Static IPv4 gateway address</div> <div>This option is applicable when <em>enable_dhcp</em> is false.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>static_ip_address</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Static IPv4 address</div> <div>This option is applicable when <em>enable_dhcp</em> is false.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>static_preferred_dns_server</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Static IPv4 DNS preferred server</div> <div>This option is applicable when <em>use_dhcp_for_dns_server_names</em> is false.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>static_subnet_mask</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Static IPv4 subnet mask address</div> <div>This option is applicable when <em>enable_dhcp</em> is false.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>use_dhcp_to_obtain_dns_server_address</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>This option allows to automatically request and obtain IPv4 address for the DNS Server from the DHCP server.</div> <div>This option is applicable when <em>enable_dhcp</em> is true.</div> <div>
<code>NOTE</code> If this option is <code>True</code>, the values provided for <em>static_preferred_dns_server</em> and <em>static_alternate_dns_server</em> are not applied for these fields. However, the module may report changes.</div> </td> </tr> <tr> <td colspan="2">  <b>ipv6_configuration</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>IPv6 network configuration.</div> <div>
<code>WARNING</code> Ensure that you have an alternate interface to access OpenManage Enterprise Modular because these options can change the current IPv6 address for <em>hostname</em>.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>enable_auto_configuration</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Enable or disable the automatic request to obtain an IPv6 address from the IPv6 DHCP server or router advertisements(RA)</div> <div>If <em>enable_auto_configuration</em> is <code>true</code>, OpenManage Enterprise Modular retrieves IP configuration (IPv6 address, prefix, and gateway address) from a DHCPv6 server on the existing network.</div> <div>
<code>NOTE</code> If this option is <code>True</code>, the values provided for <em>static_ip_address</em>, <em>static_prefix_length</em>, and <em>static_gateway</em> are not applied for these fields. However, the module may report changes.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>enable_ipv6</b>  <div> <span>boolean</span> / <span>required</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Enable or disable access to the network using the IPv6.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>static_alternate_dns_server</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Static IPv6 DNS alternate server</div> <div>This option is applicable when <em>use_dhcp_for_dns_server_names</em> is false.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>static_gateway</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Static IPv6 gateway address</div> <div>This option is applicable when <em>enable_auto_configuration</em> is false.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>static_ip_address</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Static IPv6 address</div> <div>This option is applicable when <em>enable_auto_configuration</em> is false.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>static_preferred_dns_server</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Static IPv6 DNS preferred server</div> <div>This option is applicable when <em>use_dhcp_for_dns_server_names</em> is false.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>static_prefix_length</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Static IPv6 prefix length</div> <div>This option is applicable when <em>enable_auto_configuration</em> is false.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>use_dhcpv6_to_obtain_dns_server_address</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>This option allows to automatically request and obtain a IPv6 address for the DNS server from the DHCP server.</div> <div>This option is applicable when <em>enable_auto_configuration</em> is true</div> <div>
<code>NOTE</code> If this option is <code>True</code>, the values provided for <em>static_preferred_dns_server</em> and <em>static_alternate_dns_server</em> are not applied for these fields. However, the module may report changes.</div> </td> </tr> <tr> <td colspan="2">  <b>management_vlan</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>VLAN configuration.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>enable_vlan</b>  <div> <span>boolean</span> / <span>required</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Enable or disable VLAN for management.</div> <div>The VLAN configuration cannot be updated if the <em>register_with_dns</em> field under <em>dns_configuration</em> is true.</div> <div>
<code>WARNING</code> Ensure that the network cable is connected to the correct port after the VLAN configuration is changed. If not, the VLAN configuration changes may not be applied.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>vlan_id</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>VLAN ID.</div> <div>The valid VLAN IDs are: 1 to 4000, and 4021 to 4094.</div> <div>This option is applicable when <em>enable_vlan</em> is true.</div> </td> </tr> <tr> <td colspan="2">  <b>password</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>OpenManage Enterprise Modular password.</div> </td> </tr> <tr> <td colspan="2">  <b>port</b>  <div> <span>integer</span> </div> </td> <td> <b>Default:</b><br><div>443</div> </td> <td> <div>OpenManage Enterprise Modular HTTPS port.</div> </td> </tr> <tr> <td colspan="2">  <b>username</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>OpenManage Enterprise Modular username.</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>Run this module from a system that has direct access to Dell EMC OpenManage Enterprise Modular.</li> <li>This module supports <code>check_mode</code>.</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja">---
- name: Network settings for chassis
  dellemc.openmanage.ome_device_mgmt_network:
    hostname: 192.168.0.1
    username: "username"
    password: "password"
    device_service_tag: CHAS123
    ipv4_configuration:
      enable_ipv4: true
      enable_dhcp: false
      static_ip_address: 192.168.0.2
      static_subnet_mask: 255.255.254.0
      static_gateway: 192.168.0.3
      use_dhcp_to_obtain_dns_server_address: false
      static_preferred_dns_server: 192.168.0.4
      static_alternate_dns_server: 192.168.0.5
    ipv6_configuration:
      enable_ipv6: true
      enable_auto_configuration: false
      static_ip_address: 2626:f2f2:f081:9:1c1c:f1f1:4747:1
      static_prefix_length: 10
      static_gateway: ffff::2607:f2b1:f081:9
      use_dhcpv6_to_obtain_dns_server_address: false
      static_preferred_dns_server: 2626:f2f2:f081:9:1c1c:f1f1:4747:3
      static_alternate_dns_server: 2626:f2f2:f081:9:1c1c:f1f1:4747:4
    dns_configuration:
      register_with_dns: true
      use_dhcp_for_dns_domain_name: false
      dns_name: "MX-SVCTAG"
      dns_domain_name: "dnslocaldomain"
      auto_negotiation: no
      network_speed: 100_MB

- name: Network settings for server
  dellemc.openmanage.ome_device_mgmt_network:
    hostname: 192.168.0.1
    username: "username"
    password: "password"
    device_service_tag: SRVR123
    ipv4_configuration:
      enable_ipv4: true
      enable_dhcp: false
      static_ip_address: 192.168.0.2
      static_subnet_mask: 255.255.254.0
      static_gateway: 192.168.0.3
      use_dhcp_to_obtain_dns_server_address: false
      static_preferred_dns_server: 192.168.0.4
      static_alternate_dns_server: 192.168.0.5
    ipv6_configuration:
      enable_ipv6: true
      enable_auto_configuration: false
      static_ip_address: 2626:f2f2:f081:9:1c1c:f1f1:4747:1
      static_prefix_length: 10
      static_gateway: ffff::2607:f2b1:f081:9
      use_dhcpv6_to_obtain_dns_server_address: false
      static_preferred_dns_server: 2626:f2f2:f081:9:1c1c:f1f1:4747:3
      static_alternate_dns_server: 2626:f2f2:f081:9:1c1c:f1f1:4747:4

- name: Network settings for I/O module
  dellemc.openmanage.ome_device_mgmt_network:
    hostname: 192.168.0.1
    username: "username"
    password: "password"
    device_service_tag: IOM1234
    ipv4_configuration:
      enable_ipv4: true
      enable_dhcp: false
      static_ip_address: 192.168.0.2
      static_subnet_mask: 255.255.254.0
      static_gateway: 192.168.0.3
    ipv6_configuration:
      enable_ipv6: true
      enable_auto_configuration: false
      static_ip_address: 2626:f2f2:f081:9:1c1c:f1f1:4747:1
      static_prefix_length: 10
      static_gateway: ffff::2607:f2b1:f081:9
    dns_server_settings:
      preferred_dns_server: 192.168.0.4
      alternate_dns_server1: 192.168.0.5

- name: Management VLAN configuration of chassis using device id
  dellemc.openmanage.ome_device_mgmt_network:
    hostname: "192.168.0.1"
    username: "username"
    password: "password"
    device_id : 12345
    management_vlan:
      enable_vlan: true
      vlan_id: 2345
    dns_configuration:
      register_with_dns: false
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="1">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="1">  <b>error_info</b>  <div> <span>dictionary</span> </div> </td> <td>on HTTP error</td> <td> <div>Details of the HTTP Error.</div> <br> <div><b>Sample:</b></div> <div>{'error': {'@Message.ExtendedInfo': [{'Message': 'Unable to complete the request because IPV4 Settings Capability is not Supported does not exist or is not applicable for the resource URI.', 'MessageArgs': ['IPV4 Settings Capability is not Supported'], 'MessageId': 'CGEN1004', 'RelatedProperties': [], 'Resolution': "Check the request resource URI. Refer to the OpenManage Enterprise-Modular User's Guide for more information about resource URI and its properties.", 'Severity': 'Critical'}], 'code': 'Base.1.0.GeneralError', 'message': 'A general error has occurred. See ExtendedInfo for more information.'}}</div> </td> </tr> <tr> <td colspan="1">  <b>msg</b>  <div> <span>string</span> </div> </td> <td>always</td> <td> <div>Overall status of the network config operation.</div> <br> <div><b>Sample:</b></div> <div>Successfully applied the network settings.</div> </td> </tr> </table> <br><br> <h3 id="authors">Authors</h3> <ul class="simple"> <li>Jagadeesh N V(@jagadeeshnv)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://docs.ansible.com/ansible/latest/collections/dellemc/openmanage/ome_device_mgmt_network_module.html" class="_attribution-link" target="_blank">https://docs.ansible.com/ansible/latest/collections/dellemc/openmanage/ome_device_mgmt_network_module.html</a>
  </p>
</div>
