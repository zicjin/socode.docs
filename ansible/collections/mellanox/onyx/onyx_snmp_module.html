<section id="mellanox-onyx-onyx-snmp-module-manages-snmp-general-configurations-on-mellanox-onyx-network-devices"> <h1>mellanox.onyx.onyx_snmp module – Manages SNMP general configurations on Mellanox ONYX network devices</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module is part of the <a class="reference external" href="https://galaxy.ansible.com/mellanox/onyx">mellanox.onyx collection</a> (version 1.0.0).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install mellanox.onyx</code>.</p> <p>To use it in a playbook, specify: <code>mellanox.onyx.onyx_snmp</code>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.2.0: </span>of mellanox.onyx</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#parameters" id="id2">Parameters</a></li> <li><a class="reference internal" href="#examples" id="id3">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id4">Return Values</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>This module provides declarative management of SNMP on Mellanox ONYX network devices.</li> </ul> </section> <section id="parameters"> <h2>Parameters</h2> <table class="colwidths-auto ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-mellanox-onyx-onyx-snmp-module-parameter-communities-enabled"><strong>communities_enabled</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Enables/Disables community-based authentication on the system.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li><span class="ansible-option-choices-entry">no</span></li> <li><span class="ansible-option-choices-entry">yes</span></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-mellanox-onyx-onyx-snmp-module-parameter-contact-name"><strong>contact_name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Sets the SNMP contact name.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-mellanox-onyx-onyx-snmp-module-parameter-engine-id-reset"><strong>engine_id_reset</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Sets SNMPv3 engineID to node unique value.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li><span class="ansible-option-choices-entry">no</span></li> <li><span class="ansible-option-choices-entry">yes</span></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-mellanox-onyx-onyx-snmp-module-parameter-location"><strong>location</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Sets the SNMP location.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-mellanox-onyx-onyx-snmp-module-parameter-multi-communities-enabled"><strong>multi_communities_enabled</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Enables/Disables multiple communities to be configured.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li><span class="ansible-option-choices-entry">no</span></li> <li><span class="ansible-option-choices-entry">yes</span></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-mellanox-onyx-onyx-snmp-module-parameter-notify-community"><strong>notify_community</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Sets the default community for SNMP v1 and v2c notifications sent to hosts which do not have a community override set.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-mellanox-onyx-onyx-snmp-module-parameter-notify-enabled"><strong>notify_enabled</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Enables/Disables sending of SNMP notifications (traps and informs) from thee system.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li><span class="ansible-option-choices-entry">no</span></li> <li><span class="ansible-option-choices-entry">yes</span></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-mellanox-onyx-onyx-snmp-module-parameter-notify-event"><strong>notify_event</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Specifys which events will be sent as SNMP notifications.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li><span class="ansible-option-choices-entry">asic-chip-down</span></li> <li><span class="ansible-option-choices-entry">dcbx-pfc-port-oper-state-trap</span></li> <li><span class="ansible-option-choices-entry">insufficient-power</span></li> <li><span class="ansible-option-choices-entry">mstp-new-bridge-root</span></li> <li><span class="ansible-option-choices-entry">ospf-lsdb-approaching-overflow</span></li> <li><span class="ansible-option-choices-entry">sm-stop</span></li> <li><span class="ansible-option-choices-entry">user-logout</span></li> <li><span class="ansible-option-choices-entry">cli-line-executed</span></li> <li><span class="ansible-option-choices-entry">dcbx-pfc-port-peer-state-trap</span></li> <li><span class="ansible-option-choices-entry">interface-down</span></li> <li><span class="ansible-option-choices-entry">mstp-new-root-port</span></li> <li><span class="ansible-option-choices-entry">ospf-lsdb-overflow</span></li> <li><span class="ansible-option-choices-entry">snmp-authtrap</span></li> <li><span class="ansible-option-choices-entry">xstp-new-root-bridge</span></li> <li><span class="ansible-option-choices-entry">cpu-util-high</span></li> <li><span class="ansible-option-choices-entry">disk-io-high</span></li> <li><span class="ansible-option-choices-entry">interface-up</span></li> <li><span class="ansible-option-choices-entry">mstp-topology-change</span></li> <li><span class="ansible-option-choices-entry">ospf-nbr-state-change</span></li> <li><span class="ansible-option-choices-entry">temperature-too-high</span></li> <li><span class="ansible-option-choices-entry">xstp-root-port-change</span></li> <li><span class="ansible-option-choices-entry">dcbx-ets-module-state-change</span></li> <li><span class="ansible-option-choices-entry">disk-space-low</span></li> <li><span class="ansible-option-choices-entry">internal-bus-error</span></li> <li><span class="ansible-option-choices-entry">netusage-high</span></li> <li><span class="ansible-option-choices-entry">paging-high</span></li> <li><span class="ansible-option-choices-entry">topology_change</span></li> <li><span class="ansible-option-choices-entry">xstp-topology-change</span></li> <li><span class="ansible-option-choices-entry">dcbx-ets-port-admin-state-trap</span></li> <li><span class="ansible-option-choices-entry">entity-state-change</span></li> <li><span class="ansible-option-choices-entry">internal-link-speed-mismatch</span></li> <li><span class="ansible-option-choices-entry">new_root</span></li> <li><span class="ansible-option-choices-entry">power-redundancy-mismatch</span></li> <li><span class="ansible-option-choices-entry">unexpected-cluster-join</span></li> <li><span class="ansible-option-choices-entry">dcbx-ets-port-oper-state-trap</span></li> <li><span class="ansible-option-choices-entry">expected-shutdown</span></li> <li><span class="ansible-option-choices-entry">liveness-failure</span></li> <li><span class="ansible-option-choices-entry">ospf-auth-fail</span></li> <li><span class="ansible-option-choices-entry">process-crash</span></li> <li><span class="ansible-option-choices-entry">unexpected-cluster-leave</span></li> <li><span class="ansible-option-choices-entry">dcbx-ets-port-peer-state-trap</span></li> <li><span class="ansible-option-choices-entry">health-module-status</span></li> <li><span class="ansible-option-choices-entry">low-power</span></li> <li><span class="ansible-option-choices-entry">ospf-config-error</span></li> <li><span class="ansible-option-choices-entry">process-exit</span></li> <li><span class="ansible-option-choices-entry">unexpected-cluster-size</span></li> <li><span class="ansible-option-choices-entry">dcbx-pfc-module-state-change</span></li> <li><span class="ansible-option-choices-entry">insufficient-fans</span></li> <li><span class="ansible-option-choices-entry">low-power-recover</span></li> <li><span class="ansible-option-choices-entry">ospf-if-rx-bad-packet</span></li> <li><span class="ansible-option-choices-entry">sm-restart</span></li> <li><span class="ansible-option-choices-entry">unexpected-shutdown</span></li> <li><span class="ansible-option-choices-entry">dcbx-pfc-port-admin-state-trap</span></li> <li><span class="ansible-option-choices-entry">insufficient-fans-recover</span></li> <li><span class="ansible-option-choices-entry">memusage-high</span></li> <li><span class="ansible-option-choices-entry">ospf-if-state-change</span></li> <li><span class="ansible-option-choices-entry">sm-start</span></li> <li><span class="ansible-option-choices-entry">user-login</span></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-mellanox-onyx-onyx-snmp-module-parameter-notify-port"><strong>notify_port</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Sets the default port to which notifications are sent.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-mellanox-onyx-onyx-snmp-module-parameter-notify-send-test"><strong>notify_send_test</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Sends a test notification.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li><span class="ansible-option-choices-entry">yes</span></li> <li><span class="ansible-option-choices-entry">no</span></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-mellanox-onyx-onyx-snmp-module-parameter-snmp-communities"><strong>snmp_communities</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>List of snmp communities</p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-mellanox-onyx-onyx-snmp-module-parameter-snmp-communities-community-name"><strong>community_name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Configures snmp community name.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-mellanox-onyx-onyx-snmp-module-parameter-snmp-communities-community-type"><strong>community_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Add this community as either a read-only or read-write community.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li><span class="ansible-option-choices-entry">read-only</span></li> <li><span class="ansible-option-choices-entry">read-write</span></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-mellanox-onyx-onyx-snmp-module-parameter-snmp-communities-state"><strong>state</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Used to decide if you want to delete the given snmp community or not</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li><span class="ansible-option-choices-entry">present</span></li> <li><span class="ansible-option-choices-entry">absent</span></li> </ul> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-mellanox-onyx-onyx-snmp-module-parameter-snmp-permissions"><strong>snmp_permissions</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Allow SNMPSET requests for items in a MIB.</p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-mellanox-onyx-onyx-snmp-module-parameter-snmp-permissions-permission-type"><strong>permission_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Configures the request type.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li><span class="ansible-option-choices-entry">MELLANOX-CONFIG-DB-MIB</span></li> <li><span class="ansible-option-choices-entry">MELLANOX-EFM-MIB</span></li> <li><span class="ansible-option-choices-entry">MELLANOX-POWER-CYCLE</span></li> <li><span class="ansible-option-choices-entry">MELLANOX-SW-UPDATE</span></li> <li><span class="ansible-option-choices-entry">RFC1213-MIB</span></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-mellanox-onyx-onyx-snmp-module-parameter-snmp-permissions-state-enabled"><strong>state_enabled</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Enables/Disables the request.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li><span class="ansible-option-choices-entry">no</span></li> <li><span class="ansible-option-choices-entry">yes</span></li> </ul> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-mellanox-onyx-onyx-snmp-module-parameter-state-enabled"><strong>state_enabled</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Enables/Disables the state of the SNMP configuration.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li><span class="ansible-option-choices-entry">no</span></li> <li><span class="ansible-option-choices-entry">yes</span></li> </ul> </div></td> </tr>  </table> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja">- name: Configure SNMP
  onyx_snmp:
    state_enabled: yes
    contact_name: sara
    location: Nablus
    communities_enabled: no
    multi_communities_enabled: no
    notify_enabled: yes
    notify_port: 1
    notify_community: community_1
    notify_send_test: yes
    notify_event: temperature-too-high
    snmp_communities:
        - community_name: public
          community_type: read-only
          state: absent
    snmp_permissions:
        - state_enabled: yes
          permission_type: MELLANOX-CONFIG-DB-MIB
</pre> </section> <section id="return-values"> <h2>Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="colwidths-auto ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Key</p></th> <th class="head"><p>Description</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-mellanox-onyx-onyx-snmp-module-return-commands"><strong>commands</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The list of configuration mode commands to send to the device</p> <p class="ansible-option-line"><span class="ansible-option-returned-bold">Returned:</span> always.</p> <p class="ansible-option-line ansible-option-sample"><span class="ansible-option-sample-bold">Sample:</span> [“snmp-server enable”, “no snmp-server enable”, “snmp-server location \u003clocation_name\u003e”, “snmp-server contact \u003ccontact_name\u003e”, “snmp-server enable communities”, “no snmp-server enable communities”, “snmp-server enable mult-communities”, “no snmp-server enable mult-communities”, “snmp-server enable notify”, “snmp-server notify port \u003cport_number\u003e”, “snmp-server notify community \u003ccommunity_name\u003e”, “snmp-server notify send-test”, “snmp-server notify event \u003cevent_name\u003e”, “snmp-server enable set-permission \u003cpermission_type\u003e”, “no snmp-server enable set-permission \u003cpermission_type\u003e”, “snmp-server community \u003ccommunity_name\u003e \u003ccommunity_type\u003e”, “no snmp-server community \u003ccommunity_name\u003e.”, “snmp-server engineID reset.”]</p> </div></td> </tr>  </table> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Sara-Touqan (@sarato)</li> </ul> </section> <section id="collection-links"> <h3>Collection links</h3> <p class="ansible-links"> <a href="https://github.com/ansible-collections/mellanox.onyx/issues" aria-role="button" target="_blank" rel="noopener external">Issue Tracker</a> <a href="https://github.com/ansible-collections/mellanox.onyx" aria-role="button" target="_blank" rel="noopener external">Repository (Sources)</a> </p></section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://docs.ansible.com/ansible/latest/collections/mellanox/onyx/onyx_snmp_module.html" class="_attribution-link" target="_blank">https://docs.ansible.com/ansible/latest/collections/mellanox/onyx/onyx_snmp_module.html</a>
  </p>
</div>
