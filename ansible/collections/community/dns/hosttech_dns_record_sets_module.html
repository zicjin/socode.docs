<section id="community-dns-hosttech-dns-record-sets-module-bulk-synchronize-dns-record-sets-in-hosttech-dns-service"> <h1>community.dns.hosttech_dns_record_sets module – Bulk synchronize DNS record sets in Hosttech DNS service</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module is part of the <a class="reference external" href="https://galaxy.ansible.com/community/dns">community.dns collection</a> (version 2.3.0).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install community.dns</code>.</p> <p>To use it in a playbook, specify: <code>community.dns.hosttech_dns_record_sets</code>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.0.0: </span>of community.dns</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id6">Return Values</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>Bulk synchronize DNS record sets in Hosttech DNS service.</li> <li>It is possible to ignore certain record sets by specifying <em>ignore: true</em> for that record set.</li> <li>The module allows to set, modify and delete multiple DNS record sets at once.</li> <li>This module replaces <code>hosttech_dns_records</code> from community.dns before 2.0.0.</li> <li>With the <em>purge</em> option, it is also possible to delete existing record sets that are not mentioned in the module parameters. With this, it is possible to synchronize the expected state of a DNS zone with the expected state.</li> </ul> </section> <section id="requirements"> <h2>Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>lxml</li> </ul> </section> <section id="parameters"> <h2>Parameters</h2> <table class="colwidths-auto ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-dns-hosttech-dns-record-sets-module-parameter-hosttech-password"><strong>hosttech_password</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The password for the Hosttech API user.</p> <p>If provided, <em>hosttech_username</em> must also be provided.</p> <p>Mutually exclusive with <em>hosttech_token</em>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-dns-hosttech-dns-record-sets-module-parameter-api-token"><strong id="ansible-collections-community-dns-hosttech-dns-record-sets-module-parameter-hosttech-token">hosttech_token</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: api_token</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><span class="ansible-option-versionadded">added in 0.2.0 of community.dns</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The password for the Hosttech API user.</p> <p>Mutually exclusive with <em>hosttech_username</em> and <em>hosttech_password</em>.</p> <p>Since community.dns 1.2.0, the alias <em>api_token</em> can be used.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-dns-hosttech-dns-record-sets-module-parameter-hosttech-username"><strong>hosttech_username</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The username for the Hosttech API user.</p> <p>If provided, <em>hosttech_password</em> must also be provided.</p> <p>Mutually exclusive with <em>hosttech_token</em>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-dns-hosttech-dns-record-sets-module-parameter-prune"><strong>prune</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>If set to <code>true</code>, will remove all existing records in the zone that are not listed in <em>records</em>.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li>
<span class="ansible-option-default-bold">no</span> <span class="ansible-option-default">← (default)</span>
</li> <li><span class="ansible-option-choices-entry">yes</span></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-dns-hosttech-dns-record-sets-module-parameter-records"><strong id="ansible-collections-community-dns-hosttech-dns-record-sets-module-parameter-record-sets">record_sets</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: records</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The records that should be present in the zone.</p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-dns-hosttech-dns-record-sets-module-parameter-records-ignore"><strong id="ansible-collections-community-dns-hosttech-dns-record-sets-module-parameter-record-sets-ignore">ignore</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>If set to <code>true</code>, <em>value</em> will be ignored.</p> <p>This is useful when <em>prune=true</em>, but you do not want certain entries to be removed without having to know their current value.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li>
<span class="ansible-option-default-bold">no</span> <span class="ansible-option-default">← (default)</span>
</li> <li><span class="ansible-option-choices-entry">yes</span></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-dns-hosttech-dns-record-sets-module-parameter-records-prefix"><strong id="ansible-collections-community-dns-hosttech-dns-record-sets-module-parameter-record-sets-prefix">prefix</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The prefix of the DNS record.</p> <p>This is the part of <em>record</em> before <em>zone_name</em>. For example, if the record to be modified is <code>www.example.com</code> for the zone <code>example.com</code>, the prefix is <code>www</code>. If the record in this example would be <code>example.com</code>, the prefix would be <code>''</code> (empty string).</p> <p>Exactly one of <em>record</em> and <em>prefix</em> must be specified.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-dns-hosttech-dns-record-sets-module-parameter-records-record"><strong id="ansible-collections-community-dns-hosttech-dns-record-sets-module-parameter-record-sets-record">record</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The full DNS record to create or delete.</p> <p>Exactly one of <em>record</em> and <em>prefix</em> must be specified.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-dns-hosttech-dns-record-sets-module-parameter-records-ttl"><strong id="ansible-collections-community-dns-hosttech-dns-record-sets-module-parameter-record-sets-ttl">ttl</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The TTL to give the new record, in seconds.</p> <p class="ansible-option-line"><span class="ansible-option-default-bold">Default:</span> <span class="ansible-option-default">3600</span></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-dns-hosttech-dns-record-sets-module-parameter-records-type"><strong id="ansible-collections-community-dns-hosttech-dns-record-sets-module-parameter-record-sets-type">type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The type of DNS record to create or delete.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li><span class="ansible-option-choices-entry">A</span></li> <li><span class="ansible-option-choices-entry">AAAA</span></li> <li><span class="ansible-option-choices-entry">CAA</span></li> <li><span class="ansible-option-choices-entry">CNAME</span></li> <li><span class="ansible-option-choices-entry">MX</span></li> <li><span class="ansible-option-choices-entry">NS</span></li> <li><span class="ansible-option-choices-entry">PTR</span></li> <li><span class="ansible-option-choices-entry">SPF</span></li> <li><span class="ansible-option-choices-entry">SRV</span></li> <li><span class="ansible-option-choices-entry">TXT</span></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-dns-hosttech-dns-record-sets-module-parameter-records-value"><strong id="ansible-collections-community-dns-hosttech-dns-record-sets-module-parameter-record-sets-value">value</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The new value when creating a DNS record.</p> <p>YAML lists or multiple comma-spaced values are allowed.</p> <p>When deleting a record all values for the record must be specified or it will not be deleted.</p> <p>Must be specified if <em>ignore=false</em>.</p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-dns-hosttech-dns-record-sets-module-parameter-txt-transformation"><strong>txt_transformation</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Determines how TXT entry values are converted between the API and this module’s input and output.</p> <p>The value <code>api</code> means that values are returned from this module as they are returned from the API, and pushed to the API as they have been passed to this module. For idempotency checks, the input string will be compared to the strings returned by the API. The API might automatically transform some values, like splitting long values or adding quotes, which can cause problems with idempotency.</p> <p>The value <code>unquoted</code> automatically transforms values so that you can pass in unquoted values, and the module will return unquoted values. If you pass in quoted values, they will be double-quoted.</p> <p>The value <code>quoted</code> automatically transforms values so that you must use quoting for values that contain spaces, characters such as quotation marks and backslashes, and that are longer than 255 bytes. It also makes sure to return values from the API in a normalized encoding.</p> <p>The default value, <code>unquoted</code>, ensures that you can work with values without having to care about how to correctly quote for DNS. Most users should use one of <code>unquoted</code> or <code>quoted</code>, but not <code>api</code>.</p> <p><strong>Note:</strong> the conversion code assumes UTF-8 encoding for values. If you need another encoding use <em>txt_transformation=api</em> and handle the encoding yourself.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li><span class="ansible-option-choices-entry">api</span></li> <li><span class="ansible-option-choices-entry">quoted</span></li> <li>
<span class="ansible-option-default-bold">unquoted</span> <span class="ansible-option-default">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-dns-hosttech-dns-record-sets-module-parameter-zone-id"><strong>zone_id</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The ID of the DNS zone to modify.</p> <p>Exactly one of <em>zone_name</em> and <em>zone_id</em> must be specified.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-dns-hosttech-dns-record-sets-module-parameter-zone"><strong id="ansible-collections-community-dns-hosttech-dns-record-sets-module-parameter-zone-name">zone_name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: zone</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The DNS zone to modify.</p> <p>Exactly one of <em>zone_name</em> and <em>zone_id</em> must be specified.</p> </div></td> </tr>  </table> </section> <section id="notes"> <h2>Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>Supports <code>check_mode</code> and <code>--diff</code>.</li> </ul> </div> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja">- name: Make sure some records exist and have the expected values
  community.dns.hosttech_dns_record_sets:
    zone_name: foo.com
    records:
      - prefix: new
        type: A
        ttl: 7200
        value:
          - 1.1.1.1
          - 2.2.2.2
      - prefix: new
        type: AAAA
        ttl: 7200
        value:
          - "::1"
      - record: foo.com
        type: TXT
        value:
          - test
    hosttech_token: access_token

- name: Synchronize DNS zone with a fixed set of records
  # If a record exists that is not mentioned here, it will be deleted
  community.dns.hosttech_dns_record_sets:
    zone_id: 23
    purge: true
    records:
      - prefix: ''
        type: A
        value: 127.0.0.1
      - prefix: ''
        type: AAAA
        value: "::1"
      - prefix: ''
        type: NS
        value:
          - ns-1.hoster.com
          - ns-2.hoster.com
          - ns-3.hoster.com
    hosttech_token: access_token
</pre> </section> <section id="return-values"> <h2>Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="colwidths-auto ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Key</p></th> <th class="head"><p>Description</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-dns-hosttech-dns-record-sets-module-return-zone-id"><strong>zone_id</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The ID of the zone.</p> <p class="ansible-option-line"><span class="ansible-option-returned-bold">Returned:</span> success</p> <p class="ansible-option-line ansible-option-sample"><span class="ansible-option-sample-bold">Sample:</span> 23</p> </div></td> </tr>  </table> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Felix Fontein (@felixfontein)</li> </ul> </section> <section id="collection-links"> <h3>Collection links</h3> <p class="ansible-links"> <a href="https://github.com/ansible-collections/community.dns/issues" aria-role="button" target="_blank" rel="noopener external">Issue Tracker</a> <a href="https://github.com/ansible-collections/community.dns" aria-role="button" target="_blank" rel="noopener external">Repository (Sources)</a> <a href="https://github.com/ansible-collections/community.dns/issues/new?assignees=&amp;labels=&amp;template=bug_report.md" aria-role="button" target="_blank" rel="noopener external">Submit a bug report</a> <a href="https://github.com/ansible-collections/community.dns/issues/new?assignees=&amp;labels=&amp;template=feature_request.md" aria-role="button" target="_blank" rel="noopener external">Request a feature</a> <a href="index#communication-for-community-dns" aria-role="button" target="_blank">Communication</a> </p></section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://docs.ansible.com/ansible/latest/collections/community/dns/hosttech_dns_record_sets_module.html" class="_attribution-link" target="_blank">https://docs.ansible.com/ansible/latest/collections/community/dns/hosttech_dns_record_sets_module.html</a>
  </p>
</div>
