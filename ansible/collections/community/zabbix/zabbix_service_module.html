<section id="community-zabbix-zabbix-service-module-create-update-delete-zabbix-service"> <h1>community.zabbix.zabbix_service module – Create/update/delete Zabbix service</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module is part of the <a class="reference external" href="https://galaxy.ansible.com/community/zabbix">community.zabbix collection</a> (version 1.7.0).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install community.zabbix</code>.</p> <p>To use it in a playbook, specify: <code>community.zabbix.zabbix_service</code>.</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>Create/update/delete Zabbix service.</li> </ul> </section> <section id="requirements"> <h2>Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>python &gt;= 2.7</li> <li>zabbix-api &gt;= 0.5.4</li> </ul> </section> <section id="parameters"> <h2>Parameters</h2> <table class="colwidths-auto ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-algorithm"><strong>algorithm</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Algorithm used to calculate the sla with &lt; Zabbix 6.0</p>  <ul class="simple"> <li>
<code>no</code>, sla is not calculated</li> <li>
<code>one_child</code>, problem if at least one child has a problem</li> <li>
<code>all_children</code>, problem if all children have problems</li> </ul>  <p>Status calculation rule. Only applicable if child services exists with &gt;= Zabbix 6.0</p>  <ul class="simple"> <li>
<code>status_to_ok</code>, set status to OK with</li> <li>
<code>most_crit_if_all_children</code>, most critical if all children have problems</li> <li>
<code>most_crit_of_child_serv</code>, most critical of child services with</li> </ul>  <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li><span class="ansible-option-choices-entry">no</span></li> <li>
<span class="ansible-option-default-bold">one_child</span> <span class="ansible-option-default">← (default)</span>
</li> <li><span class="ansible-option-choices-entry">all_children</span></li> <li><span class="ansible-option-choices-entry">status_to_ok</span></li> <li><span class="ansible-option-choices-entry">most_crit_if_all_children</span></li> <li><span class="ansible-option-choices-entry">most_crit_of_child_serv</span></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-calculate-sla"><strong>calculate_sla</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>If yes, calculate the SLA value for this service, showsla in Zabbix API</p> <p>With &gt;= Zabbix 6.0 this field is removed from the API and is dropped silently by module.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li>
<span class="ansible-option-default-bold">no</span> <span class="ansible-option-default">← (default)</span>
</li> <li><span class="ansible-option-choices-entry">yes</span></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-children"><strong>children</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Child services to be linked to the service.</p> <p>New field with &gt;= Zabbix 6.0.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-description"><strong>description</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Description of the service.</p> <p>New field with &gt;= Zabbix 6.0.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-http-login-password"><strong>http_login_password</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Basic Auth password</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-http-login-user"><strong>http_login_user</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Basic Auth login</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-login-password"><strong>login_password</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Zabbix user password.</p> <p>If not set the environment variable <code>ZABBIX_PASSWORD</code> will be used.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-login-user"><strong>login_user</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Zabbix user name.</p> <p>If not set the environment variable <code>ZABBIX_USERNAME</code> will be used.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-name"><strong>name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Name of Zabbix service</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-parent"><strong>parent</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Name of Zabbix service parent</p> <p>With &gt;= Zabbix 6.0 this field is removed from the API and is dropped silently by module.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-parents"><strong>parents</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Parent services to be linked to the service.</p> <p>New field with &gt;= Zabbix 6.0.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-problem-tags"><strong>problem_tags</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Problem tags to be created for the service.</p> <p>New field with &gt;= Zabbix 6.0.</p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-problem-tags-operator"><strong>operator</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Mapping condition operator.</p> <p><code>equals</code></p> <p><code>like</code></p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li>
<span class="ansible-option-default-bold">equals</span> <span class="ansible-option-default">← (default)</span>
</li> <li><span class="ansible-option-choices-entry">like</span></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-problem-tags-tag"><strong>tag</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Problem tag name.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-problem-tags-value"><strong>value</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Problem tag value.</p> <p class="ansible-option-line"><span class="ansible-option-default-bold">Default:</span> <span class="ansible-option-default">“”</span></p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-propagation-rule"><strong>propagation_rule</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Status propagation value. Must be set together with propagation_rule.</p> <p>New field with &gt;= Zabbix 6.0.</p> <p><code>as_is</code> propagate service status as is - without any changes</p> <p><code>increase</code> increase the propagated status by a given propagation_value (by 1 to 5 severities)</p> <p><code>decrease</code> decrease the propagated status by a given propagation_value (by 1 to 5 severities)</p> <p><code>ignore</code> ignore this service - the status is not propagated to the parent service at all</p> <p><code>fixed</code> set fixed service status using a given propagation_value</p> <p>Required with <code>propagation_value</code></p> <p class="ansible-option-line"><span class="ansible-option-default-bold">Default:</span> <span class="ansible-option-default">“as_is”</span></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-propagation-value"><strong>propagation_value</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Status propagation value. Must be set together with propagation_rule.</p> <p>New field with &gt;= Zabbix 6.0.</p> <p>Possible values when <em>propagation_rule=as_is or ignore</em>:</p>  <ul class="simple"> <li><code>not_classified</code></li> </ul>  <p>Possible values when <em>propagation_rule=increase or decrease</em>:</p>  <ul class="simple"> <li><code>information</code></li> <li><code>warning</code></li> <li><code>average</code></li> <li><code>high</code></li> <li><code>disaster</code></li> </ul>  <p>Possible values when <em>propagation_rule=fixed</em>:</p>  <ul class="simple"> <li><code>ok</code></li> <li><code>not_classified</code></li> <li><code>information</code></li> <li><code>warning</code></li> <li><code>average</code></li> <li><code>high</code></li> <li><code>disaster</code></li> </ul>  <p>Required with <code>propagation_rule</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-url"><strong id="ansible-collections-community-zabbix-zabbix-service-module-parameter-server-url">server_url</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: url</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>URL of Zabbix server, with protocol (http or https). <code>url</code> is an alias for <code>server_url</code>.</p> <p>If not set the environment variable <code>ZABBIX_SERVER</code> will be used.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-sla"><strong>sla</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">float</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Sla value (i.e 99.99), goodsla in Zabbix API</p> <p>With &gt;= Zabbix 6.0 this field is removed from the API and is dropped silently by module.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-sortorder"><strong>sortorder</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Position of the service used for sorting.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-state"><strong>state</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>State: present - create/update service; absent - delete service.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li>
<span class="ansible-option-default-bold">present</span> <span class="ansible-option-default">← (default)</span>
</li> <li><span class="ansible-option-choices-entry">absent</span></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-status-rules"><strong>status_rules</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Status rules for the service.</p> <p>New field with &gt;= Zabbix 6.0.</p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-status-rules-limit-status"><strong>limit_status</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Limit status.</p> <p><code>ok</code> OK</p> <p><code>not_classified</code> Not classified</p> <p><code>information</code> Information</p> <p><code>warning</code> Warning</p> <p><code>average</code> Average</p> <p><code>high</code> High</p> <p><code>disaster</code> Disaster</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-status-rules-limit-value"><strong>limit_value</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Limit value: N, N% or W</p> <p>Possible values: 1-100000 for N and W, 1-100 for N%</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-status-rules-new-status"><strong>new_status</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>New status value.</p> <p><code>not_classified</code> Not classified</p> <p><code>information</code> Information</p> <p><code>warning</code> Warning</p> <p><code>average</code> Average</p> <p><code>high</code> High</p> <p><code>disaster</code> Disaster</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-status-rules-type"><strong>type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Condition for setting (New status) status.</p> <p><code>at_least_n_child_services_have_status_or_above</code> if at least (N) child services have (Status) status or above</p> <p><code>at_least_npct_child_services_have_status_or_above</code> if at least (N%) of child services have (Status) status or above</p> <p><code>less_than_n_child_services_have_status_or_below</code> if less than (N) child services have (Status) status or below</p> <p><code>less_than_npct_child_services_have_status_or_below</code> if less than (N%) of child services have (Status) status or below</p> <p><code>weight_child_services_with_status_or_above_at_least_w</code> if weight of child services with (Status) status or above is at least (W)</p> <p><code>weight_child_services_with_status_or_above_at_least_npct</code> if weight of child services with (Status) status or above is at least (N%)</p> <p><code>weight_child_services_with_status_or_below_less_w</code> if weight of child services with (Status) status or below is less than (W)</p> <p><code>weight_child_services_with_status_or_below_less_npct</code> if weight of child services with (Status) status or below is less than (N%)</p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-tags"><strong>tags</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Service tags to be created for the service.</p> <p>New field with &gt;= Zabbix 6.0.</p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-tags-tag"><strong>tag</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Service tag name.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-tags-value"><strong>value</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Service tag value.</p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-timeout"><strong>timeout</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The timeout of API request (seconds).</p> <p class="ansible-option-line"><span class="ansible-option-default-bold">Default:</span> <span class="ansible-option-default">10</span></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-trigger-host"><strong>trigger_host</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Name of host linked to the service.</p> <p>With &gt;= Zabbix 6.0 this field is removed from the API and is dropped silently by module.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-trigger-name"><strong>trigger_name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Name of trigger linked to the service.</p> <p>With &gt;= Zabbix 6.0 this field is removed from the API and is dropped silently by module.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-validate-certs"><strong>validate_certs</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>If set to False, SSL certificates will not be validated. This should only be used on personally controlled sites using self-signed certificates.</p> <p>If not set the environment variable <code>ZABBIX_VALIDATE_CERTS</code> will be used.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li><span class="ansible-option-choices-entry">no</span></li> <li>
<span class="ansible-option-default-bold">yes</span> <span class="ansible-option-default">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-service-module-parameter-weight"><strong>weight</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Service weight.</p> <p>New field with &gt;= Zabbix 6.0.</p> <p class="ansible-option-line"><span class="ansible-option-default-bold">Default:</span> <span class="ansible-option-default">“0”</span></p> </div></td> </tr>  </table> </section> <section id="notes"> <h2>Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>If you use <em>login_password=zabbix</em>, the word “zabbix” is replaced by “<strong>****</strong>” in all module output, because <em>login_password</em> uses <code>no_log</code>. See <a class="reference external" href="../../../network/user_guide/faq#why-is-my-output-sometimes-replaced-with">this FAQ</a> for more information.</li> </ul> </div> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja">---
# Creates a new Zabbix service with Zabbix &lt; 6.0
- name: Manage services
  community.zabbix.zabbix_service:
    server_url: "http://zabbix.example.com/zabbix/"
    login_user: username
    login_password: password
    name: apache2 service
    sla: 99.99
    calculate_sla: yes
    algorithm: one_child
    trigger_name: apache2 service status
    trigger_host: webserver01
    state: present

# Creates a new Zabbix service with Zabbix &gt;= 6.0
- name: Create Zabbix service monitoring Apache2 in DCs in Toronto area
  community.zabbix.zabbix_service:
    server_url: "zabbix.example.com/zabbix/"
    login_user: username
    login_password: password
    name: 'apache2 service Toronto'
    description: Apache2 services in Toronto area
    sortorder: 0
    propagation_rule: increase
    propagation_value: warning
    weight: 1
    state: present
    tags:
      - tag: zabbix_service
        value: apache2
      - tag: area
        value: Toronto
    problem_tags:
      - tag: service_name
        value: httpd
      - tag: area
        operator: like
        value: toronto
    status_rules:
      - type: at_least_n_child_services_have_status_or_above
        limit_value: 4242
        limit_status: ok
        new_status: average

- name: Create Zabbix service monitoring all Apache2 services
  community.zabbix.zabbix_service:
    server_url: "zabbix.example.com/zabbix/"
    login_user: username
    login_password: password
    name: apache2 service
    description: Apache2 services
    tags:
      - tag: zabbix_service
        value: apache2
      - tag: area
        value: global
    children:
      - 'apache2 service Toronto'
</pre> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Emmanuel Riviere (@emriver)</li> <li>Evgeny Yurchenko (@BGmot)</li> </ul> </section> <section id="collection-links"> <h3>Collection links</h3> <p class="ansible-links"> <a href="https://github.com/ansible-collections/community.zabbix/issues" aria-role="button" target="_blank" rel="noopener external">Issue Tracker</a> <a href="https://github.com/ansible-collections/community.zabbix" aria-role="button" target="_blank" rel="noopener external">Homepage</a> <a href="https://github.com/ansible-collections/community.zabbix.git" aria-role="button" target="_blank" rel="noopener external">Repository (Sources)</a> </p></section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://docs.ansible.com/ansible/latest/collections/community/zabbix/zabbix_service_module.html" class="_attribution-link" target="_blank">https://docs.ansible.com/ansible/latest/collections/community/zabbix/zabbix_service_module.html</a>
  </p>
</div>
