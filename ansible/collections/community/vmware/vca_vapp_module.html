<section id="community-vmware-vca-vapp-module-manages-vcloud-air-vapp-instances"> <h1>community.vmware.vca_vapp module – Manages vCloud Air vApp instances.</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module is part of the <a class="reference external" href="https://galaxy.ansible.com/community/vmware">community.vmware collection</a> (version 2.7.0).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install community.vmware</code>.</p> <p>To use it in a playbook, specify: <code>community.vmware.vca_vapp</code>.</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#deprecated" id="id1">DEPRECATED</a></li> <li><a class="reference internal" href="#synopsis" id="id2">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id3">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id4">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id5">Notes</a></li> <li><a class="reference internal" href="#examples" id="id6">Examples</a></li> <li><a class="reference internal" href="#status" id="id7">Status</a></li> </ul>  <section id="deprecated"> <h2>DEPRECATED</h2> <dl class="field-list simple"> <dt class="field-odd">Removed in</dt> <dd class="field-odd">
<p>major release after 2022-06-01</p> </dd> <dt class="field-even">Why</dt> <dd class="field-even">
<p>Module depends upon deprecated version of Pyvcloud library.</p> </dd> <dt class="field-odd">Alternative</dt> <dd class="field-odd">
<p>Use <a class="reference external" href="https://github.com/vmware/ansible-module-vcloud-director">https://github.com/vmware/ansible-module-vcloud-director</a> instead.</p> </dd> </dl> </section> <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>This module will actively managed vCloud Air vApp instances. Instances can be created and deleted as well as both deployed and undeployed.</li> </ul> </section> <section id="requirements"> <h2>Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>pyvcloud &lt;= 18.2.2</li> </ul> </section> <section id="parameters"> <h2>Parameters</h2> <table class="colwidths-auto ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-vmware-vca-vapp-module-parameter-api-version"><strong>api_version</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The api version to be used with the vca</p> <p class="ansible-option-line"><span class="ansible-option-default-bold">Default:</span> <span class="ansible-option-default">“5.7”</span></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-vmware-vca-vapp-module-parameter-gateway-name"><strong>gateway_name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The name of the gateway of the vdc where the rule should be added.</p> <p class="ansible-option-line"><span class="ansible-option-default-bold">Default:</span> <span class="ansible-option-default">“gateway”</span></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-vmware-vca-vapp-module-parameter-host"><strong>host</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The authentication host to be used when service type is vcd.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-vmware-vca-vapp-module-parameter-instance-id"><strong>instance_id</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The instance id in a vchs environment to be used for creating the vapp</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-vmware-vca-vapp-module-parameter-network-mode"><strong>network_mode</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Configures the mode of the network connection.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li>
<span class="ansible-option-default-bold">pool</span> <span class="ansible-option-default">← (default)</span>
</li> <li><span class="ansible-option-choices-entry">dhcp</span></li> <li><span class="ansible-option-choices-entry">static</span></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-vmware-vca-vapp-module-parameter-network-name"><strong>network_name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The name of the network that should be attached to the virtual machine in the vApp. The virtual network specified must already be created in the vCloud Air VDC. If the <em>state</em> is not ‘absent’ then the <em>network_name</em> argument must be provided.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-vmware-vca-vapp-module-parameter-operation"><strong>operation</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Specifies an operation to be performed on the vApp.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li>
<span class="ansible-option-default-bold">noop</span> <span class="ansible-option-default">← (default)</span>
</li> <li><span class="ansible-option-choices-entry">poweron</span></li> <li><span class="ansible-option-choices-entry">poweroff</span></li> <li><span class="ansible-option-choices-entry">suspend</span></li> <li><span class="ansible-option-choices-entry">shutdown</span></li> <li><span class="ansible-option-choices-entry">reboot</span></li> <li><span class="ansible-option-choices-entry">reset</span></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-vmware-vca-vapp-module-parameter-org"><strong>org</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The org to login to for creating vapp, mostly set when the service_type is vdc.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">   
<p class="ansible-option-title" id="ansible-collections-community-vmware-vca-vapp-module-parameter-passwd"><strong id="ansible-collections-community-vmware-vca-vapp-module-parameter-password">password</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: pass, passwd</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The vCloud Air password to use during authentication</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-vmware-vca-vapp-module-parameter-service-type"><strong>service_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The type of service we are authenticating against</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li>
<span class="ansible-option-default-bold">vca</span> <span class="ansible-option-default">← (default)</span>
</li> <li><span class="ansible-option-choices-entry">vchs</span></li> <li><span class="ansible-option-choices-entry">vcd</span></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-vmware-vca-vapp-module-parameter-state"><strong>state</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Configures the state of the vApp.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li>
<span class="ansible-option-default-bold">present</span> <span class="ansible-option-default">← (default)</span>
</li> <li><span class="ansible-option-choices-entry">absent</span></li> <li><span class="ansible-option-choices-entry">deployed</span></li> <li><span class="ansible-option-choices-entry">undeployed</span></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-vmware-vca-vapp-module-parameter-template-name"><strong>template_name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The name of the vApp template to use to create the vApp instance. If the <em>state</em> is not <code>absent</code> then the <em>template_name</em> value must be provided. The <em>template_name</em> must be previously uploaded to the catalog specified by <em>catalog_name</em></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-vmware-vca-vapp-module-parameter-user"><strong id="ansible-collections-community-vmware-vca-vapp-module-parameter-username">username</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: user</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The vCloud Air username to use during authentication</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-vmware-vca-vapp-module-parameter-verify-certs"><strong id="ansible-collections-community-vmware-vca-vapp-module-parameter-validate-certs">validate_certs</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: verify_certs</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>If the certificates of the authentication is to be verified.</p> <p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p> <ul class="simple"> <li><span class="ansible-option-choices-entry">no</span></li> <li>
<span class="ansible-option-default-bold">yes</span> <span class="ansible-option-default">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-vmware-vca-vapp-module-parameter-vapp-name"><strong>vapp_name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The name of the vCloud Air vApp instance</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-vmware-vca-vapp-module-parameter-vdc-name"><strong>vdc_name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The name of the virtual data center (VDC) where the vm should be created or contains the vAPP.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-vmware-vca-vapp-module-parameter-vm-cpus"><strong>vm_cpus</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The number of vCPUs to configure for the VM in the vApp. If the <em>vm_name</em> argument is provided, then this becomes a per VM setting otherwise it is applied to all VMs in the vApp.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-vmware-vca-vapp-module-parameter-vm-memory"><strong>vm_memory</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The amount of memory in MB to allocate to VMs in the vApp. If the <em>vm_name</em> argument is provided, then this becomes a per VM setting otherwise it is applied to all VMs in the vApp.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-vmware-vca-vapp-module-parameter-vm-name"><strong>vm_name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The name of the virtual machine instance in the vApp to manage.</p> </div></td> </tr>  </table> </section> <section id="notes"> <h2>Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>VMware sold their vCloud Air service in Q2 2017.</li> <li>VMware made significant changes to the pyvcloud interface around this time. The <code>vca_vapp</code> module relies on now deprecated code.</li> <li>Mileage with <code>vca_vapp</code> may vary as vCloud Director APIs advance.</li> <li>A viable alternative maybe <a class="reference external" href="https://github.com/vmware/ansible-module-vcloud-director">https://github.com/vmware/ansible-module-vcloud-director</a>
</li> </ul> </div> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja">- name: Creates a new vApp in a VCA instance
  community.vmware.vca_vapp:
    vapp_name: tower
    state: present
    template_name: 'Ubuntu Server 12.04 LTS (amd64 20150127)'
    vdc_name: VDC1
    instance_id: '&lt;your instance id here&gt;'
    username: '&lt;your username here&gt;'
    password: '&lt;your password here&gt;'
  delegate_to: localhost
</pre> </section> <section id="status"> <h2>Status</h2> <ul class="simple"> <li>This module will be removed in a major release after 2022-06-01. <em>[deprecated]</em>
</li> <li>For more information see <a class="reference internal" href="#deprecated">DEPRECATED</a>.</li> </ul> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Peter Sprygada (@privateip)</li> </ul> </section> <section id="collection-links"> <h3>Collection links</h3> <p class="ansible-links"> <a href="https://github.com/ansible-collections/community.vmware/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc" aria-role="button" target="_blank" rel="noopener external">Issue Tracker</a> <a href="https://github.com/ansible-collections/community.vmware" aria-role="button" target="_blank" rel="noopener external">Homepage</a> <a href="https://github.com/ansible-collections/community.vmware.git" aria-role="button" target="_blank" rel="noopener external">Repository (Sources)</a> </p></section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://docs.ansible.com/ansible/latest/collections/community/vmware/vca_vapp_module.html" class="_attribution-link" target="_blank">https://docs.ansible.com/ansible/latest/collections/community/vmware/vca_vapp_module.html</a>
  </p>
</div>
