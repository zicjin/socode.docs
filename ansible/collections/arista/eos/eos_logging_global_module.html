<h1 id="arista-eos-eos-logging-global-manages-logging-resource-module">arista.eos.eos_logging_global – Manages logging resource module</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/arista/eos">arista.eos collection</a> (version 3.1.0).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install arista.eos</code>.</p> <p>To use it in a playbook, specify: <code>arista.eos.eos_logging_global</code>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 3.0.0: </span>of arista.eos</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#parameters" id="id2">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id3">Notes</a></li> <li><a class="reference internal" href="#examples" id="id4">Examples</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>This module configures and manages the attributes of logging on Arista EOS platforms.</li> </ul> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module has a corresponding <a class="reference internal" href="../../../plugins/action#action-plugins"><span class="std std-ref">action plugin</span></a>.</p> </div>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="5">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="5">  <b>config</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>A dictionary of logging options</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="4">  <b>buffered</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>Set buffered logging parameters.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="3">  <b>buffer_size</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Logging buffer size</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="3">  <b>severity</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>emergencies</li> <li>alerts</li> <li>critical</li> <li>errors</li> <li>warnings</li> <li>notifications</li> <li>informational</li> <li>debugging</li> </ul> </td> <td> <div>Severity level .</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="4">  <b>console</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>Set console logging parameters.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="3">  <b>severity</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>emergencies</li> <li>alerts</li> <li>critical</li> <li>errors</li> <li>warnings</li> <li>notifications</li> <li>informational</li> <li>debugging</li> </ul> </td> <td> <div>Severity level .</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="4">  <b>event</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>link-status</li> <li>port-channel</li> <li>spanning-tree</li> </ul> </td> <td> <div>Global events</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="4">  <b>facility</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>auth</li> <li>cron</li> <li>daemon</li> <li>kern</li> <li>local0</li> <li>local1</li> <li>local2</li> <li>local3</li> <li>local4</li> <li>local5</li> <li>local6</li> <li>local7</li> <li>lpr</li> <li>mail</li> <li>news</li> <li>sys10</li> <li>sys11</li> <li>sys12</li> <li>sys13</li> <li>sys14</li> <li>sys9</li> <li>syslog</li> <li>user</li> <li>uucp</li> </ul> </td> <td> <div>Set logging facility.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="4">  <b>format</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>Set logging format parameters</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="3">  <b>hostname</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Specify hostname logging format.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="3">  <b>sequence_numbers</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>No. of log messages.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="3">  <b>timestamp</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>Set timestamp logging parameters.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="2">  <b>high_resolution</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>RFC3339 timestamps.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="2">  <b>traditional</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>Traditional syslog timestamp format as specified in RFC3164.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>state</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>enabled</li> <li>disabled</li> </ul> </td> <td> <div>When enabled traditional timestamp format is set.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>timezone</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Show timezone in traditional format timestamp</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>year</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Show year in traditional format timestamp</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="4">  <b>hosts</b>  <div> <span>list</span> / <span>elements=dictionary</span> </div> </td> <td> </td> <td> <div>Set syslog server IP address and parameters.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="3">  <b>add</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Configure ports on the given host.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="3">  <b>name</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Hostname or IP address of the syslog server.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="3">  <b>port</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Port of the syslog server.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="3">  <b>protocol</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>tcp</li> <li>udp</li> </ul> </td> <td> <div>Set syslog server transport protocol</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="3">  <b>remove</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Remove configured ports from the given host</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="4">  <b>level</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>Configure logging severity</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="3">  <b>facility</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Facility level</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="3">  <b>severity</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>emergencies</li> <li>alerts</li> <li>critical</li> <li>errors</li> <li>warnings</li> <li>notifications</li> <li>informational</li> <li>debugging</li> </ul> </td> <td> <div>Severity level .</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="4">  <b>monitor</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Set terminal monitor severity</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="4">  <b>persistent</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>Save logging messages to the flash disk.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="3">  <b>set</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Save logging messages to the flash dis.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="3">  <b>size</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>The maximum size (in bytes) of logging file stored on flash disk.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="4">  <b>policy</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>Configure logging policies.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="3">  <b>invert_result</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Invert the match of match-list.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="3">  <b>match_list</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Configure logging message filtering.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="4">  <b>qos</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Set DSCP value in IP header.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="4">  <b>relogging_interval</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Configure relogging-interval for critical log messages</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="4">  <b>repeat_messages</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Repeat messages instead of summarizing number of repeats</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="4">  <b>source_interface</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Use IP Address of interface as source IP of log messages.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="4">  <b>synchronous</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>Set synchronizing unsolicited with solicited messages</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="3">  <b>level</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Configure logging severity</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="3">  <b>set</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Set synchronizing unsolicited with solicited messages.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="4">  <b>trap</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>Severity of messages sent to the syslog server.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="3">  <b>set</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Severity of messages sent to the syslog server.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="3">  <b>severity</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>emergencies</li> <li>alerts</li> <li>critical</li> <li>errors</li> <li>warnings</li> <li>notifications</li> <li>informational</li> <li>debugging</li> </ul> </td> <td> <div>Severity level .</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="4">  <b>turn_on</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Turn on logging.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="4">  <b>vrfs</b>  <div> <span>list</span> / <span>elements=dictionary</span> </div> </td> <td> </td> <td> <div>Specify vrf</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="3">  <b>hosts</b>  <div> <span>list</span> / <span>elements=dictionary</span> </div> </td> <td> </td> <td> <div>Set syslog server IP address and parameters.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="2">  <b>add</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Configure ports on the given host.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="2">  <b>name</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Hostname or IP address of the syslog server.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="2">  <b>port</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Port of the syslog server.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="2">  <b>protocol</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>tcp</li> <li>udp</li> </ul> </td> <td> <div>Set syslog server transport protocol</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="2">  <b>remove</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Remove configured ports from the given host</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="3">  <b>name</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>vrf name.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="3">  <b>source_interface</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Use IP Address of interface as source IP of log messages.</div> </td> </tr> <tr> <td colspan="5">  <b>running_config</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>This option is used only with state <em>parsed</em>.</div> <div>The value of this option should be the output received from the EOS device by executing the command <b>show running-config | section access-list</b>.</div> <div>The states <em>replaced</em> and <em>overridden</em> have identical behaviour for this module.</div> <div>The state <em>parsed</em> reads the configuration from <code>running_config</code> option and transforms it into Ansible structured data as per the resource module's argspec and the value is then returned in the <em>parsed</em> key within the result.</div> </td> </tr> <tr> <td colspan="5">  <b>state</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>deleted</li> <li><div>
<b>merged</b> ←</div></li> <li>overridden</li> <li>replaced</li> <li>gathered</li> <li>rendered</li> <li>parsed</li> </ul> </td> <td> <div>The state the configuration should be left in.</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>Tested against Arista EOS 4.24.6M</li> <li>This module works with connection <code>network_cli</code>. See the <a class="reference external" href="eos_platform_options">EOS Platform Options</a>.</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja"># Using merged

# Before state

# test(config)#show running-config | section logging
# test(config)#

  - name: Merge provided configuration with device configuration
    arista.eos.eos_logging_global:
      config:
        hosts:
          - name: "host01"
            protocol: "tcp"
          - name: "11.11.11.1"
            port: 25
        vrfs:
          - name: "vrf01"
            source_interface: "Ethernet1"
          - name: "vrf02"
            hosts:
              - name: "hostvrf1"
                protocol: "tcp"
              - name: "24.1.1.1"
                port: "33"

# After State:

# test(config)#show running-config | section logging
# logging host 11.11.11.1 25
# logging host host01 514 protocol tcp
# logging vrf vrf02 host 24.1.1.1 33
# logging vrf vrf02 host hostvrf1 514 protocol tcp
# logging vrf vrf01 source-interface Ethernet1
# test(config)#
#
#
# Module Execution:
# "after": {
#         "hosts": [
#             {
#                 "name": "11.11.11.1",
#                 "port": 25
#             },
#             {
#                 "name": "host01",
#                 "port": 514,
#                 "protocol": "tcp"
#             }
#         ],
#         "vrfs": [
#             {
#                 "name": "vrf01",
#                 "source_interface": "Ethernet1"
#             },
#             {
#                 "hosts": [
#                     {
#                         "name": "24.1.1.1",
#                         "port": 33
#                     },
#                     {
#                         "name": "hostvrf1",
#                         "port": 514,
#                         "protocol": "tcp"
#                     }
#                 ],
#                 "name": "vrf02"
#             }
#         ]
#     },
#     "before": {},
#     "changed": true,
#     "commands": [
#         "logging host host01 protocol tcp",
#         "logging host 11.11.11.1 25",
#         "logging vrf vrf01 source-interface Ethernet1",
#         "logging vrf vrf02 host hostvrf1 protocol tcp",
#         "logging vrf vrf02 host 24.1.1.1 33"
#     ],
#

# Using replaced:
# Before State:

# test(config)#show running-config | section logging
# logging host 11.11.11.1 25
# logging host host01 514 protocol tcp
# logging vrf vrf02 host 24.1.1.1 33
# logging vrf vrf02 host hostvrf1 514 protocol tcp
# logging format timestamp traditional timezone
# logging vrf vrf01 source-interface Ethernet1
# logging policy match inverse-result match-list                           list01 discard
# logging persistent 4096
# !
# logging level AAA alerts
# test(config)#

  - name: Repalce
    arista.eos.eos_logging_global:
      config:
        synchronous:
          set: True
        trap:
          severity: "critical"
        hosts:
          - name: "host02"
            protocol: "tcp"
        vrfs:
          - name: "vrf03"
            source_interface: "Vlan100"
          - name: "vrf04"
            hosts:
              - name: "hostvrf1"
                protocol: "tcp"

      state: replaced

# After State:
# test(config)#show running-config | section logging
# logging synchronous
# logging trap critical
# logging host host02 514 protocol tcp
# logging vrf vrf04 host hostvrf1 514 protocol tcp
# logging vrf vrf03 source-interface Vlan100
# test(config)#
#
# Module Execution:
# "after": {
#         "hosts": [
#             {
#                 "name": "host02",
#                 "port": 514,
#                 "protocol": "tcp"
#             }
#         ],
#         "synchronous": {
#             "set": True
#         },
#         "trap": {
#            "severity": "critical"
#         },
#         "vrfs": [
#             {
#                 "name": "vrf03",
#                 "source_interface": "Vlan100"
#             },
#             {
#                 "hosts": [
#                     {
#                         "name": "hostvrf1",
#                         "port": 514,
#                         "protocol": "tcp"
#                     }
#                 ],
#                 "name": "vrf04"
#             }
#         ]
#     },
#     "before": {
#         "format": {
#             "timestamp": {
#                 "traditional": {
#                     "timezone": true
#                 }
#             }
#         },
#         "hosts": [
#             {
#                 "name": "11.11.11.1",
#                 "port": 25
#             },
#             {
#                 "name": "host01",
#                 "port": 514,
#                 "protocol": "tcp"
#             }
#         ],
#         "level": {
#             "facility": "AAA",
#             "severity": "alerts"
#         },
#         "persistent": {
#             "size": 4096
#         },
#         "policy": {
#             "invert_result": true,
#             "match_list": "list01"
#         },
#         "vrfs": [
#             {
#                 "name": "vrf01",
#                 "source_interface": "Ethernet1"
#             },
#             {
#                 "hosts": [
#                     {
#                         "name": "24.1.1.1",
#                         "port": 33
#                     },
#                     {
#                         "name": "hostvrf1",
#                         "port": 514,
#                         "protocol": "tcp"
#                     }
#                 ],
#                 "name": "vrf02"
#             }
#         ]
#     },
#     "changed": true,
#     "commands": [
#         "logging host host02 protocol tcp",
#         "no logging host 11.11.11.1 25",
#         "no logging host host01 514 protocol tcp",
#         "logging vrf vrf03 source-interface Vlan100",
#         "logging vrf vrf04 host hostvrf1 protocol tcp",
#         "no logging vrf vrf01 source-interface Ethernet1",
#         "no logging vrf vrf02 host 24.1.1.1 33",
#         "no logging vrf vrf02 host hostvrf1 514 protocol tcp",
#         "no logging format timestamp traditional timezone",
#         "no logging level AAA alerts",
#         "no logging persistent 4096",
#         "no logging policy match invert-result match-list list01 discard",
#         "logging synchronous",
#         "logging trap critical"
#     ],
#
#


# Using overridden:
# Before State:

# test(config)#show running-config | section logging
# logging host 11.11.11.1 25
# logging host host01 514 protocol tcp
# logging vrf vrf02 host 24.1.1.1 33
# logging vrf vrf02 host hostvrf1 514 protocol tcp
# logging format timestamp traditional timezone
# logging vrf vrf01 source-interface Ethernet1
# logging policy match inverse-result match-list                           list01 discard
# logging persistent 4096
# !
# logging level AAA alerts
# test(config)#

  - name: Repalce
    arista.eos.eos_logging_global:
      config:
        synchronous:
          set: True
        trap:
          severity: "critical"
        hosts:
          - name: "host02"
            protocol: "tcp"
        vrfs:
          - name: "vrf03"
            source_interface: "Vlan100"
          - name: "vrf04"
            hosts:
              - name: "hostvrf1"
                protocol: "tcp"

      state: overridden

# After State:
# test(config)#show running-config | section logging
# logging synchronous
# logging trap critical
# logging host host02 514 protocol tcp
# logging vrf vrf04 host hostvrf1 514 protocol tcp
# logging vrf vrf03 source-interface Vlan100
# test(config)#
#
# Module Execution:
# "after": {
#         "hosts": [
#             {
#                 "name": "host02",
#                 "port": 514,
#                 "protocol": "tcp"
#             }
#         ],
#         "synchronous": {
#             "set": True
#         },
#         "trap": {
#            "severity": "critical"
#         },
#         "vrfs": [
#             {
#                 "name": "vrf03",
#                 "source_interface": "Vlan100"
#             },
#             {
#                 "hosts": [
#                     {
#                         "name": "hostvrf1",
#                         "port": 514,
#                         "protocol": "tcp"
#                     }
#                 ],
#                 "name": "vrf04"
#             }
#         ]
#     },
#     "before": {
#         "format": {
#             "timestamp": {
#                 "traditional": {
#                     "timezone": true
#                 }
#             }
#         },
#         "hosts": [
#             {
#                 "name": "11.11.11.1",
#                 "port": 25
#             },
#             {
#                 "name": "host01",
#                 "port": 514,
#                 "protocol": "tcp"
#             }
#         ],
#         "level": {
#             "facility": "AAA",
#             "severity": "alerts"
#         },
#         "persistent": {
#             "size": 4096
#         },
#         "policy": {
#             "invert_result": true,
#             "match_list": "list01"
#         },
#         "vrfs": [
#             {
#                 "name": "vrf01",
#                 "source_interface": "Ethernet1"
#             },
#             {
#                 "hosts": [
#                     {
#                         "name": "24.1.1.1",
#                         "port": 33
#                     },
#                     {
#                         "name": "hostvrf1",
#                         "port": 514,
#                         "protocol": "tcp"
#                     }
#                 ],
#                 "name": "vrf02"
#             }
#         ]
#     },
#     "changed": true,
#     "commands": [
#         "logging host host02 protocol tcp",
#         "no logging host 11.11.11.1 25",
#         "no logging host host01 514 protocol tcp",
#         "logging vrf vrf03 source-interface Vlan100",
#         "logging vrf vrf04 host hostvrf1 protocol tcp",
#         "no logging vrf vrf01 source-interface Ethernet1",
#         "no logging vrf vrf02 host 24.1.1.1 33",
#         "no logging vrf vrf02 host hostvrf1 514 protocol tcp",
#         "no logging format timestamp traditional timezone",
#         "no logging level AAA alerts",
#         "no logging persistent 4096",
#         "no logging policy match invert-result match-list list01 discard",
#         "logging synchronous",
#         "logging trap critical"
#     ],
#
#

# Using deleted:

# Before State:
# test(config)#show running-config | section logging
# logging synchronous level critical
# logging host 11.11.11.1 25
# logging host host01 514 protocol tcp
# logging host host02 514 protocol tcp
# logging vrf vrf02 host 24.1.1.1 33
# logging vrf vrf02 host hostvrf1 514 protocol tcp
# logging vrf vrf04 host hostvrf1 514 protocol tcp
# logging vrf vrf01 source-interface Ethernet1
# logging vrf vrf03 source-interface Vlan100
# test(config)#

  - name: Delete all logging configs
    arista.eos.eos_logging_global:
      state: deleted
    become: yes

# After state:
# test(config)#show running-config | section logging
# test(config)#
#
# "after": {},
#     "before": {
#         "hosts": [
#             {
#                 "name": "11.11.11.1",
#                 "port": 25
#             },
#             {
#                 "name": "host01",
#                 "port": 514,
#                 "protocol": "tcp"
#             },
#             {
#                 "name": "host02",
#                 "port": 514,
#                 "protocol": "tcp"
#             }
#         ],
#         "synchronous": {
#             "level": "critical"
#         },
#         "vrfs": [
#             {
#                 "name": "vrf01",
#                 "source_interface": "Ethernet1"
#             },
#             {
#                 "hosts": [
#                     {
#                         "name": "24.1.1.1",
#                         "port": 33
#                     },
#                     {
#                         "name": "hostvrf1",
#                         "port": 514,
#                         "protocol": "tcp"
#                     }
#                 ],
#                 "name": "vrf02"
#             },
#             {
#                 "name": "vrf03",
#                 "source_interface": "Vlan100"
#             },
#             {
#                 "hosts": [
#                     {
#                         "name": "hostvrf1",
#                         "port": 514,
#                         "protocol": "tcp"
#                     }
#                 ],
#                 "name": "vrf04"
#             }
#         ]
#     },
#     "changed": true,
#     "commands": [
#         "no logging host 11.11.11.1 25",
#         "no logging host host01 514 protocol tcp",
#         "no logging host host02 514 protocol tcp",
#         "no logging vrf vrf01 source-interface Ethernet1",
#         "no logging vrf vrf02 host 24.1.1.1 33",
#         "no logging vrf vrf02 host hostvrf1 514 protocol tcp",
#         "no logging vrf vrf03 source-interface Vlan100",
#         "no logging vrf vrf04 host hostvrf1 514 protocol tcp",
#         "no logging synchronous level critical"
#     ],

# Using parsed:
# parsed.cfg

# logging host 11.11.11.1 25
# logging host host01 514 protocol tcp
# logging vrf vrf02 host 24.1.1.1 33
# logging vrf vrf02 host hostvrf1 514 protocol tcp
# logging format timestamp traditional timezone
# logging vrf vrf01 source-interface Ethernet1
# logging policy match inverse-result match-list                           list01 discard
# logging persistent 4096
# !
# logging level AAA alerts

  - name: parse configs
    arista.eos.eos_logging_global:
      running_config: "{{ lookup('file', './parsed.cfg') }}"
      state: parsed

# Module Execution
# "parsed": {
#         "format": {
#             "timestamp": {
#                 "traditional": {
#                     "timezone": true
#                 }
#             }
#         },
#         "hosts": [
#             {
#                 "name": "11.11.11.1",
#                 "port": 25
#             },
#             {
#                 "name": "host01",
#                 "port": 514,
#                 "protocol": "tcp"
#             }
#         ],
#         "level": {
#             "facility": "AAA",
#             "severity": "alerts"
#         },
#         "persistent": {
#             "size": 4096
#         },
#         "policy": {
#             "invert_result": true,
#             "match_list": "list01"
#         },
#         "vrfs": [
#             {
#                 "name": "vrf01",
#                 "source_interface": "Ethernet1"
#             },
#             {
#                 "hosts": [
#                     {
#                         "name": "24.1.1.1",
#                         "port": 33
#                     },
#                     {
#                         "name": "hostvrf1",
#                         "port": 514,
#                         "protocol": "tcp"
#                     }
#                 ],
#                 "name": "vrf02"
#             }
#         ]
#     }
#

# Using gathered:
# Before State:
# test(config)#show running-config | section logging
# logging host 11.11.11.1 25
# logging host host01 514 protocol tcp
# logging vrf vrf02 host 24.1.1.1 33
# logging vrf vrf02 host hostvrf1 514 protocol tcp
# logging format timestamp traditional timezone
# logging vrf vrf01 source-interface Ethernet1
# logging policy match inverse-result match-list                           list01 discard
# logging persistent 4096
# !
# logging level AAA alerts
# test(config)#

  - name: gather configs
    arista.eos.eos_logging_global:
      state: gathered

# Module Execution:
# "gathered": {
#         "format": {
#             "timestamp": {
#                 "traditional": {
#                     "timezone": true
#                 }
#             }
#         },
#         "hosts": [
#             {
#                 "name": "11.11.11.1",
#                 "port": 25
#             },
#             {
#                 "name": "host01",
#                 "port": 514,
#                 "protocol": "tcp"
#             }
#         ],
#         "level": {
#             "facility": "AAA",
#             "severity": "alerts"
#         },
#         "persistent": {
#             "size": 4096
#         },
#         "policy": {
#             "invert_result": true,
#             "match_list": "list01"
#         },
#         "vrfs": [
#             {
#                 "name": "vrf01",
#                 "source_interface": "Ethernet1"
#             },
#             {
#                 "hosts": [
#                     {
#                         "name": "24.1.1.1",
#                         "port": 33
#                     },
#                     {
#                         "name": "hostvrf1",
#                         "port": 514,
#                         "protocol": "tcp"
#                     }
#                 ],
#                 "name": "vrf02"
#             }
#         ]
#     },
#

# Using rendered:
  - name: Render provided configuration
    arista.eos.eos_logging_global:
      config:
        format:
          timestamp:
            traditional:
              timezone: True
        level:
          facility: "AAA"
          severity: "alerts"
        persistent:
          size: 4096
        policy:
          invert_result: True
          match_list: "list01"
        hosts:
          - name: "host01"
            protocol: "tcp"
          - name: "11.11.11.1"
            port: 25
        vrfs:
          - name: "vrf01"
            source_interface: "Ethernet1"
          - name: "vrf02"
            hosts:
              - name: "hostvrf1"
                protocol: "tcp"
              - name: "24.1.1.1"
                port: "33"
# Module Execution:

# "rendered": [
#         "logging host host01 protocol tcp",
#         "logging host 11.11.11.1 25",
#         "logging vrf vrf01 source-interface Ethernet1",
#         "logging vrf vrf02 host hostvrf1 protocol tcp",
#         "logging vrf vrf02 host 24.1.1.1 33",
#         "logging format timestamp traditional timezone",
#         "logging level AAA alerts",
#         "logging persistent 4096",
#         "logging policy match invert-result match-list list01 discard"
#     ]
#
</pre>  <h3 id="authors">Authors</h3> <ul class="simple"> <li>Gomathi Selvi Srinivasan (@GomathiselviS)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://docs.ansible.com/ansible/latest/collections/arista/eos/eos_logging_global_module.html" class="_attribution-link" target="_blank">https://docs.ansible.com/ansible/latest/collections/arista/eos/eos_logging_global_module.html</a>
  </p>
</div>
