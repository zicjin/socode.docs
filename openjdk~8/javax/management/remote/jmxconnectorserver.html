<h1>Class JMXConnectorServer</h1>   <ul class="inheritance"> <li><a href="../../../java/lang/object">java.lang.Object</a></li> <li> <ul class="inheritance"> <li><a href="../notificationbroadcastersupport">javax.management.NotificationBroadcasterSupport</a></li> <li> <ul class="inheritance"> <li>javax.management.remote.JMXConnectorServer</li> </ul> </li> </ul> </li> </ul>   <dl> <dt>All Implemented Interfaces:</dt> <dd>
<a href="../mbeanregistration">MBeanRegistration</a>, <a href="../notificationbroadcaster">NotificationBroadcaster</a>, <a href="../notificationemitter">NotificationEmitter</a>, <a href="jmxaddressable">JMXAddressable</a>, <a href="jmxconnectorservermbean">JMXConnectorServerMBean</a>
</dd> </dl> <dl> <dt>Direct Known Subclasses:</dt> <dd><a href="rmi/rmiconnectorserver">RMIConnectorServer</a></dd> </dl>   <pre data-language="java">public abstract class JMXConnectorServer
extends NotificationBroadcasterSupport
implements JMXConnectorServerMBean, MBeanRegistration, JMXAddressable</pre> <div>

<p>Superclass of every connector server. A connector server is attached to an MBean server. It listens for client connection requests and creates a connection for each one.</p> <p>A connector server is associated with an MBean server either by registering it in that MBean server, or by passing the MBean server to its constructor.</p> <p>A connector server is inactive when created. It only starts listening for client connections when the <a href="jmxconnectorservermbean#start--"><code>start</code></a> method is called. A connector server stops listening for client connections when the <a href="jmxconnectorservermbean#stop--"><code>stop</code></a> method is called or when the connector server is unregistered from its MBean server.</p> <p>Stopping a connector server does not unregister it from its MBean server. A connector server once stopped cannot be restarted.</p> <p>Each time a client connection is made or broken, a notification of class <a href="jmxconnectionnotification"><code>JMXConnectionNotification</code></a> is emitted.</p>
</div> <dl> <dt>Since:</dt> <dd>1.5</dd> </dl>       <h2 id="field.detail">Fields</h2>   <h3 id="AUTHENTICATOR">AUTHENTICATOR</h3> <pre data-language="java">public static final String AUTHENTICATOR</pre> <div>

<p>Name of the attribute that specifies the authenticator for a connector server. The value associated with this attribute, if any, must be an object that implements the interface <a href="jmxauthenticator"><code>JMXAuthenticator</code></a>.</p>
</div>      <h2 id="constructor.detail">Constructors</h2>   <h3 id="JMXConnectorServer--">JMXConnectorServer</h3> <pre data-language="java">public JMXConnectorServer()</pre> <div>

<p>Constructs a connector server that will be registered as an MBean in the MBean server it is attached to. This constructor is typically called by one of the <code>createMBean</code> methods when creating, within an MBean server, a connector server that makes it available remotely.</p>
</div>    <h3 id="JMXConnectorServer-javax.management.MBeanServer-">JMXConnectorServer</h3> <pre data-language="java">public JMXConnectorServer(MBeanServer mbeanServer)</pre> <div>

<p>Constructs a connector server that is attached to the given MBean server. A connector server that is created in this way can be registered in a different MBean server, or not registered in any MBean server.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>mbeanServer</code> - the MBean server that this connector server is attached to. Null if this connector server will be attached to an MBean server by being registered in it.</dd> </dl>     <h2 id="method.detail">Methods</h2>   <h3 id="getMBeanServer--">getMBeanServer</h3> <pre data-language="java">public MBeanServer getMBeanServer()</pre> <div>

<p>Returns the MBean server that this connector server is attached to.</p>
</div> <dl> <dt>Returns:</dt> <dd>the MBean server that this connector server is attached to, or null if it is not yet attached to an MBean server.</dd> </dl>    <h3 id="setMBeanServerForwarder-javax.management.remote.MBeanServerForwarder-">setMBeanServerForwarder</h3> <pre data-language="java">public void setMBeanServerForwarder(MBeanServerForwarder mbsf)</pre> <p>Description copied from interface: <code><a href="jmxconnectorservermbean#setMBeanServerForwarder-javax.management.remote.MBeanServerForwarder-">JMXConnectorServerMBean</a></code></p> <div>

<p>Inserts an object that intercepts requests for the MBean server that arrive through this connector server. This object will be supplied as the <code>MBeanServer</code> for any new connection created by this connector server. Existing connections are unaffected.</p> <p>This method can be called more than once with different <a href="mbeanserverforwarder"><code>MBeanServerForwarder</code></a> objects. The result is a chain of forwarders. The last forwarder added is the first in the chain. In more detail:</p> <ul> <li>
<p>If this connector server is already associated with an <code>MBeanServer</code> object, then that object is given to <a href="mbeanserverforwarder#setMBeanServer-javax.management.MBeanServer-"><code>mbsf.setMBeanServer</code></a>. If doing so produces an exception, this method throws the same exception without any other effect.</p> </li>
<li>
<p>If this connector is not already associated with an <code>MBeanServer</code> object, or if the <code>mbsf.setMBeanServer</code> call just mentioned succeeds, then <code>mbsf</code> becomes this connector server's <code>MBeanServer</code>.</p> </li>
</ul>
</div> <dl> <dt>Specified by:</dt> <dd>
<code><a href="jmxconnectorservermbean#setMBeanServerForwarder-javax.management.remote.MBeanServerForwarder-">setMBeanServerForwarder</a></code> in interface <code><a href="jmxconnectorservermbean">JMXConnectorServerMBean</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>mbsf</code> - the new <code>MBeanServerForwarder</code>.</dd> </dl>    <h3 id="getConnectionIds--">getConnectionIds</h3> <pre data-language="java">public String[] getConnectionIds()</pre> <p>Description copied from interface: <code><a href="jmxconnectorservermbean#getConnectionIds--">JMXConnectorServerMBean</a></code></p> <div>

<p>The list of IDs for currently-open connections to this connector server.</p>
</div> <dl> <dt>Specified by:</dt> <dd>
<code><a href="jmxconnectorservermbean#getConnectionIds--">getConnectionIds</a></code> in interface <code><a href="jmxconnectorservermbean">JMXConnectorServerMBean</a></code>
</dd> <dt>Returns:</dt> <dd>a new string array containing the list of IDs. If there are no currently-open connections, this array will be empty.</dd> </dl>    <h3 id="toJMXConnector-java.util.Map-">toJMXConnector</h3> <pre data-language="java">public JMXConnector toJMXConnector(Map&lt;String,?&gt; env)
                            throws IOException</pre> <div>

<p>Returns a client stub for this connector server. A client stub is a serializable object whose <a href="jmxconnector#connect-java.util.Map-"><code>connect</code></a> method can be used to make one new connection to this connector server.</p> <p>A given connector need not support the generation of client stubs. However, the connectors specified by the JMX Remote API do (JMXMP Connector and RMI Connector).</p> <p>The default implementation of this method uses <a href="jmxconnectorservermbean#getAddress--"><code>JMXConnectorServerMBean.getAddress()</code></a> and <a href="jmxconnectorfactory"><code>JMXConnectorFactory</code></a> to generate the stub, with code equivalent to the following:</p> <pre data-language="java">JMXServiceURL addr = getAddress();
 return JMXConnectorFactory.newJMXConnector(addr, env);</pre> <p>A connector server for which this is inappropriate must override this method so that it either implements the appropriate logic or throws <a href="../../../java/lang/unsupportedoperationexception"><code>UnsupportedOperationException</code></a>.</p>
</div> <dl> <dt>Specified by:</dt> <dd>
<code><a href="jmxconnectorservermbean#toJMXConnector-java.util.Map-">toJMXConnector</a></code> in interface <code><a href="jmxconnectorservermbean">JMXConnectorServerMBean</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>env</code> - client connection parameters of the same sort that could be provided to <a href="jmxconnector#connect-java.util.Map-"><code>JMXConnector.connect(Map)</code></a>. Can be null, which is equivalent to an empty map.</dd> <dt>Returns:</dt> <dd>a client stub that can be used to make a new connection to this connector server.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java/lang/unsupportedoperationexception">UnsupportedOperationException</a></code> - if this connector server does not support the generation of client stubs.</dd> <dd>
<code><a href="../../../java/lang/illegalstateexception">IllegalStateException</a></code> - if the JMXConnectorServer is not started (see <a href="jmxconnectorservermbean#isActive--"><code>JMXConnectorServerMBean.isActive()</code></a>).</dd> <dd>
<code><a href="../../../java/io/ioexception">IOException</a></code> - if a communications problem means that a stub cannot be created.</dd> </dl>    <h3 id="getNotificationInfo--">getNotificationInfo</h3> <pre data-language="java">public MBeanNotificationInfo[] getNotificationInfo()</pre> <div>

<p>Returns an array indicating the notifications that this MBean sends. The implementation in <code>JMXConnectorServer</code> returns an array with one element, indicating that it can emit notifications of class <a href="jmxconnectionnotification"><code>JMXConnectionNotification</code></a> with the types defined in that class. A subclass that can emit other notifications should return an array that contains this element plus descriptions of the other notifications.</p>
</div> <dl> <dt>Specified by:</dt> <dd>
<code><a href="../notificationbroadcaster#getNotificationInfo--">getNotificationInfo</a></code> in interface <code><a href="../notificationbroadcaster">NotificationBroadcaster</a></code>
</dd> <dt>Overrides:</dt> <dd>
<code><a href="../notificationbroadcastersupport#getNotificationInfo--">getNotificationInfo</a></code> in class <code><a href="../notificationbroadcastersupport">NotificationBroadcasterSupport</a></code>
</dd> <dt>Returns:</dt> <dd>the array of possible notifications.</dd> </dl>    <h3 id="connectionOpened-java.lang.String-java.lang.String-java.lang.Object-">connectionOpened</h3> <pre data-language="java">protected void connectionOpened(String connectionId,
                                String message,
                                Object userData)</pre> <div>

<p>Called by a subclass when a new client connection is opened. Adds <code>connectionId</code> to the list returned by <a href="jmxconnectorserver#getConnectionIds--"><code>getConnectionIds()</code></a>, then emits a <a href="jmxconnectionnotification"><code>JMXConnectionNotification</code></a> with type <a href="jmxconnectionnotification#OPENED"><code>JMXConnectionNotification.OPENED</code></a>.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>connectionId</code> - the ID of the new connection. This must be different from the ID of any connection previously opened by this connector server.</dd> <dd>
<code>message</code> - the message for the emitted <a href="jmxconnectionnotification"><code>JMXConnectionNotification</code></a>. Can be null. See <a href="../notification#getMessage--"><code>Notification.getMessage()</code></a>.</dd> <dd>
<code>userData</code> - the <code>userData</code> for the emitted <a href="jmxconnectionnotification"><code>JMXConnectionNotification</code></a>. Can be null. See <a href="../notification#getUserData--"><code>Notification.getUserData()</code></a>.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java/lang/nullpointerexception">NullPointerException</a></code> - if <code>connectionId</code> is null.</dd> </dl>    <h3 id="connectionClosed-java.lang.String-java.lang.String-java.lang.Object-">connectionClosed</h3> <pre data-language="java">protected void connectionClosed(String connectionId,
                                String message,
                                Object userData)</pre> <div>

<p>Called by a subclass when a client connection is closed normally. Removes <code>connectionId</code> from the list returned by <a href="jmxconnectorserver#getConnectionIds--"><code>getConnectionIds()</code></a>, then emits a <a href="jmxconnectionnotification"><code>JMXConnectionNotification</code></a> with type <a href="jmxconnectionnotification#CLOSED"><code>JMXConnectionNotification.CLOSED</code></a>.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>connectionId</code> - the ID of the closed connection.</dd> <dd>
<code>message</code> - the message for the emitted <a href="jmxconnectionnotification"><code>JMXConnectionNotification</code></a>. Can be null. See <a href="../notification#getMessage--"><code>Notification.getMessage()</code></a>.</dd> <dd>
<code>userData</code> - the <code>userData</code> for the emitted <a href="jmxconnectionnotification"><code>JMXConnectionNotification</code></a>. Can be null. See <a href="../notification#getUserData--"><code>Notification.getUserData()</code></a>.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java/lang/nullpointerexception">NullPointerException</a></code> - if <code>connectionId</code> is null.</dd> </dl>    <h3 id="connectionFailed-java.lang.String-java.lang.String-java.lang.Object-">connectionFailed</h3> <pre data-language="java">protected void connectionFailed(String connectionId,
                                String message,
                                Object userData)</pre> <div>

<p>Called by a subclass when a client connection fails. Removes <code>connectionId</code> from the list returned by <a href="jmxconnectorserver#getConnectionIds--"><code>getConnectionIds()</code></a>, then emits a <a href="jmxconnectionnotification"><code>JMXConnectionNotification</code></a> with type <a href="jmxconnectionnotification#FAILED"><code>JMXConnectionNotification.FAILED</code></a>.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>connectionId</code> - the ID of the failed connection.</dd> <dd>
<code>message</code> - the message for the emitted <a href="jmxconnectionnotification"><code>JMXConnectionNotification</code></a>. Can be null. See <a href="../notification#getMessage--"><code>Notification.getMessage()</code></a>.</dd> <dd>
<code>userData</code> - the <code>userData</code> for the emitted <a href="jmxconnectionnotification"><code>JMXConnectionNotification</code></a>. Can be null. See <a href="../notification#getUserData--"><code>Notification.getUserData()</code></a>.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java/lang/nullpointerexception">NullPointerException</a></code> - if <code>connectionId</code> is null.</dd> </dl>    <h3 id="preRegister-javax.management.MBeanServer-javax.management.ObjectName-">preRegister</h3> <pre data-language="java">public ObjectName preRegister(MBeanServer mbs,
                              ObjectName name)</pre> <div>

<p>Called by an MBean server when this connector server is registered in that MBean server. This connector server becomes attached to the MBean server and its <a href="jmxconnectorserver#getMBeanServer--"><code>getMBeanServer()</code></a> method will return <code>mbs</code>.</p> <p>If this connector server is already attached to an MBean server, this method has no effect. The MBean server it is attached to is not necessarily the one it is being registered in.</p>
</div> <dl> <dt>Specified by:</dt> <dd>
<code><a href="../mbeanregistration#preRegister-javax.management.MBeanServer-javax.management.ObjectName-">preRegister</a></code> in interface <code><a href="../mbeanregistration">MBeanRegistration</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>mbs</code> - the MBean server in which this connection server is being registered.</dd> <dd>
<code>name</code> - The object name of the MBean.</dd> <dt>Returns:</dt> <dd>The name under which the MBean is to be registered.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java/lang/nullpointerexception">NullPointerException</a></code> - if <code>mbs</code> or <code>name</code> is null.</dd> </dl>    <h3 id="postRegister-java.lang.Boolean-">postRegister</h3> <pre data-language="java">public void postRegister(Boolean registrationDone)</pre> <p>Description copied from interface: <code><a href="../mbeanregistration#postRegister-java.lang.Boolean-">MBeanRegistration</a></code></p> <div>
<p>Allows the MBean to perform any operations needed after having been registered in the MBean server or after the registration has failed. </p>
<p>If the implementation of this method throws a <a href="../../../java/lang/runtimeexception"><code>RuntimeException</code></a> or an <a href="../../../java/lang/error"><code>Error</code></a>, the MBean Server will rethrow those inside a <a href="../runtimembeanexception"><code>RuntimeMBeanException</code></a> or <a href="../runtimeerrorexception"><code>RuntimeErrorException</code></a>, respectively. However, throwing an exception in <code>postRegister</code> will not change the state of the MBean: if the MBean was already registered (<code>registrationDone</code> is <code>true</code>), the MBean will remain registered. </p> <p>This might be confusing for the code calling <code>createMBean()</code> or <code>registerMBean()</code>, as such code might assume that MBean registration has failed when such an exception is raised. Therefore it is recommended that implementations of <code>postRegister</code> do not throw Runtime Exceptions or Errors if it can be avoided.</p>
</div> <dl> <dt>Specified by:</dt> <dd>
<code><a href="../mbeanregistration#postRegister-java.lang.Boolean-">postRegister</a></code> in interface <code><a href="../mbeanregistration">MBeanRegistration</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>registrationDone</code> - Indicates whether or not the MBean has been successfully registered in the MBean server. The value false means that the registration phase has failed.</dd> </dl>    <h3 id="preDeregister--">preDeregister</h3> <pre data-language="java">public void preDeregister()
                   throws Exception</pre> <div>

<p>Called by an MBean server when this connector server is unregistered from that MBean server. If this connector server was attached to that MBean server by being registered in it, and if the connector server is still active, then unregistering it will call the <a href="jmxconnectorservermbean#stop--"><code>stop</code></a> method. If the <code>stop</code> method throws an exception, the unregistration attempt will fail. It is recommended to call the <code>stop</code> method explicitly before unregistering the MBean.</p>
</div> <dl> <dt>Specified by:</dt> <dd>
<code><a href="../mbeanregistration#preDeregister--">preDeregister</a></code> in interface <code><a href="../mbeanregistration">MBeanRegistration</a></code>
</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java/io/ioexception">IOException</a></code> - if thrown by the <a href="jmxconnectorservermbean#stop--"><code>stop</code></a> method.</dd> <dd>
<code><a href="../../../java/lang/exception">Exception</a></code> - This exception will be caught by the MBean server and re-thrown as an <a href="../mbeanregistrationexception"><code>MBeanRegistrationException</code></a>.</dd> </dl>    <h3 id="postDeregister--">postDeregister</h3> <pre data-language="java">public void postDeregister()</pre> <p>Description copied from interface: <code><a href="../mbeanregistration#postDeregister--">MBeanRegistration</a></code></p> <div>
<p>Allows the MBean to perform any operations needed after having been unregistered in the MBean server. </p>
<p>If the implementation of this method throws a <a href="../../../java/lang/runtimeexception"><code>RuntimeException</code></a> or an <a href="../../../java/lang/error"><code>Error</code></a>, the MBean Server will rethrow those inside a <a href="../runtimembeanexception"><code>RuntimeMBeanException</code></a> or <a href="../runtimeerrorexception"><code>RuntimeErrorException</code></a>, respectively. However, throwing an exception in <code>postDeregister</code> will not change the state of the MBean: the MBean was already successfully deregistered and will remain so. </p> <p>This might be confusing for the code calling <code>unregisterMBean()</code>, as it might assume that MBean deregistration has failed. Therefore it is recommended that implementations of <code>postDeregister</code> do not throw Runtime Exceptions or Errors if it can be avoided.</p>
</div> <dl> <dt>Specified by:</dt> <dd>
<code><a href="../mbeanregistration#postDeregister--">postDeregister</a></code> in interface <code><a href="../mbeanregistration">MBeanRegistration</a></code>
</dd> </dl>     <div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993&ndash;2017, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    
  </p>
</div>
