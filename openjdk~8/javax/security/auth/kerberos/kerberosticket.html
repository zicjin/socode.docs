<h1>Class KerberosTicket</h1>   <ul class="inheritance"> <li><a href="../../../../java/lang/object">java.lang.Object</a></li> <li> <ul class="inheritance"> <li>javax.security.auth.kerberos.KerberosTicket</li> </ul> </li> </ul>   <dl> <dt>All Implemented Interfaces:</dt> <dd>
<a href="../../../../java/io/serializable">Serializable</a>, <a href="../destroyable">Destroyable</a>, <a href="../refreshable">Refreshable</a>
</dd> </dl>   <pre data-language="java">public class KerberosTicket
extends Object
implements Destroyable, Refreshable, Serializable</pre> <div>
<p>This class encapsulates a Kerberos ticket and associated information as viewed from the client's point of view. It captures all information that the Key Distribution Center (KDC) sends to the client in the reply message KDC-REP defined in the Kerberos Protocol Specification (<a href="http://www.ietf.org/rfc/rfc4120.txt">RFC 4120</a>). </p>
<p> All Kerberos JAAS login modules that authenticate a user to a KDC should use this class. Where available, the login module might even read this information from a ticket cache in the operating system instead of directly communicating with the KDC. During the commit phase of the JAAS authentication process, the JAAS login module should instantiate this class and store the instance in the private credential set of a <a href="../subject"><code>Subject</code></a>.</p>
<p> It might be necessary for the application to be granted a <a href="../privatecredentialpermission"><code>PrivateCredentialPermission</code></a> if it needs to access a KerberosTicket instance from a Subject. This permission is not needed when the application depends on the default JGSS Kerberos mechanism to access the KerberosTicket. In that case, however, the application will need an appropriate <a href="servicepermission"><code>ServicePermission</code></a>. </p>
<p> Note that this class is applicable to both ticket granting tickets and other regular service tickets. A ticket granting ticket is just a special case of a more generalized service ticket.</p>
</div> <dl> <dt>Since:</dt> <dd>1.4</dd> <dt>See Also:</dt> <dd>
<a href="../subject"><code>Subject</code></a>, <a href="../privatecredentialpermission"><code>PrivateCredentialPermission</code></a>, <a href="../login/logincontext"><code>LoginContext</code></a>, <a href="/openjdk~8_web/org/ietf/jgss/gsscredential"><code>GSSCredential</code></a>, <a href="/openjdk~8_web/org/ietf/jgss/gssmanager"><code>GSSManager</code></a>, Serialized Form</dd> </dl>       <h2 id="constructor.detail">Constructors</h2>   <h3 id="KerberosTicket-byte:A-javax.security.auth.kerberos.KerberosPrincipal-javax.security.auth.kerberos.KerberosPrincipal-byte:A-int-boolean:A-java.util.Date-java.util.Date-java.util.Date-java.util.Date-java.net.InetAddress:A-">KerberosTicket</h3> <pre data-language="java">public KerberosTicket(byte[] asn1Encoding,
                      KerberosPrincipal client,
                      KerberosPrincipal server,
                      byte[] sessionKey,
                      int keyType,
                      boolean[] flags,
                      Date authTime,
                      Date startTime,
                      Date endTime,
                      Date renewTill,
                      InetAddress[] clientAddresses)</pre> <p>Constructs a KerberosTicket using credentials information that a client either receives from a KDC or reads from a cache.</p> <dl> <dt>Parameters:</dt> <dd>
<code>asn1Encoding</code> - the ASN.1 encoding of the ticket as defined by the Kerberos protocol specification.</dd> <dd>
<code>client</code> - the client that owns this service ticket</dd> <dd>
<code>server</code> - the service that this ticket is for</dd> <dd>
<code>sessionKey</code> - the raw bytes for the session key that must be used to encrypt the authenticator that will be sent to the server</dd> <dd>
<code>keyType</code> - the key type for the session key as defined by the Kerberos protocol specification.</dd> <dd>
<code>flags</code> - the ticket flags. Each element in this array indicates the value for the corresponding bit in the ASN.1 BitString that represents the ticket flags. If the number of elements in this array is less than the number of flags used by the Kerberos protocol, then the missing flags will be filled in with false.</dd> <dd>
<code>authTime</code> - the time of initial authentication for the client</dd> <dd>
<code>startTime</code> - the time after which the ticket will be valid. This may be null in which case the value of authTime is treated as the startTime.</dd> <dd>
<code>endTime</code> - the time after which the ticket will no longer be valid</dd> <dd>
<code>renewTill</code> - an absolute expiration time for the ticket, including all renewal that might be possible. This field may be null for tickets that are not renewable.</dd> <dd>
<code>clientAddresses</code> - the addresses from where the ticket may be used by the client. This field may be null when the ticket is usable from any address.</dd> </dl>     <h2 id="method.detail">Methods</h2>   <h3 id="getClient--">getClient</h3> <pre data-language="java">public final KerberosPrincipal getClient()</pre> <p>Returns the client principal associated with this ticket.</p> <dl> <dt>Returns:</dt> <dd>the client principal.</dd> </dl>    <h3 id="getServer--">getServer</h3> <pre data-language="java">public final KerberosPrincipal getServer()</pre> <p>Returns the service principal associated with this ticket.</p> <dl> <dt>Returns:</dt> <dd>the service principal.</dd> </dl>    <h3 id="getSessionKey--">getSessionKey</h3> <pre data-language="java">public final SecretKey getSessionKey()</pre> <p>Returns the session key associated with this ticket.</p> <dl> <dt>Returns:</dt> <dd>the session key.</dd> </dl>    <h3 id="getSessionKeyType--">getSessionKeyType</h3> <pre data-language="java">public final int getSessionKeyType()</pre> <p>Returns the key type of the session key associated with this ticket as defined by the Kerberos Protocol Specification.</p> <dl> <dt>Returns:</dt> <dd>the key type of the session key associated with this ticket.</dd> <dt>See Also:</dt> <dd><a href="kerberosticket#getSessionKey--"><code>getSessionKey()</code></a></dd> </dl>    <h3 id="isForwardable--">isForwardable</h3> <pre data-language="java">public final boolean isForwardable()</pre> <p>Determines if this ticket is forwardable.</p> <dl> <dt>Returns:</dt> <dd>true if this ticket is forwardable, false if not.</dd> </dl>    <h3 id="isForwarded--">isForwarded</h3> <pre data-language="java">public final boolean isForwarded()</pre> <p>Determines if this ticket had been forwarded or was issued based on authentication involving a forwarded ticket-granting ticket.</p> <dl> <dt>Returns:</dt> <dd>true if this ticket had been forwarded or was issued based on authentication involving a forwarded ticket-granting ticket, false otherwise.</dd> </dl>    <h3 id="isProxiable--">isProxiable</h3> <pre data-language="java">public final boolean isProxiable()</pre> <p>Determines if this ticket is proxiable.</p> <dl> <dt>Returns:</dt> <dd>true if this ticket is proxiable, false if not.</dd> </dl>    <h3 id="isProxy--">isProxy</h3> <pre data-language="java">public final boolean isProxy()</pre> <p>Determines is this ticket is a proxy-ticket.</p> <dl> <dt>Returns:</dt> <dd>true if this ticket is a proxy-ticket, false if not.</dd> </dl>    <h3 id="isPostdated--">isPostdated</h3> <pre data-language="java">public final boolean isPostdated()</pre> <p>Determines is this ticket is post-dated.</p> <dl> <dt>Returns:</dt> <dd>true if this ticket is post-dated, false if not.</dd> </dl>    <h3 id="isRenewable--">isRenewable</h3> <pre data-language="java">public final boolean isRenewable()</pre> <p>Determines is this ticket is renewable. If so, the <a href="kerberosticket#refresh--"><code>refresh</code></a> method can be called, assuming the validity period for renewing is not already over.</p> <dl> <dt>Returns:</dt> <dd>true if this ticket is renewable, false if not.</dd> </dl>    <h3 id="isInitial--">isInitial</h3> <pre data-language="java">public final boolean isInitial()</pre> <p>Determines if this ticket was issued using the Kerberos AS-Exchange protocol, and not issued based on some ticket-granting ticket.</p> <dl> <dt>Returns:</dt> <dd>true if this ticket was issued using the Kerberos AS-Exchange protocol, false if not.</dd> </dl>    <h3 id="getFlags--">getFlags</h3> <pre data-language="java">public final boolean[] getFlags()</pre> <p>Returns the flags associated with this ticket. Each element in the returned array indicates the value for the corresponding bit in the ASN.1 BitString that represents the ticket flags.</p> <dl> <dt>Returns:</dt> <dd>the flags associated with this ticket.</dd> </dl>    <h3 id="getAuthTime--">getAuthTime</h3> <pre data-language="java">public final Date getAuthTime()</pre> <p>Returns the time that the client was authenticated.</p> <dl> <dt>Returns:</dt> <dd>the time that the client was authenticated or null if not set.</dd> </dl>    <h3 id="getStartTime--">getStartTime</h3> <pre data-language="java">public final Date getStartTime()</pre> <p>Returns the start time for this ticket's validity period.</p> <dl> <dt>Returns:</dt> <dd>the start time for this ticket's validity period or null if not set.</dd> </dl>    <h3 id="getEndTime--">getEndTime</h3> <pre data-language="java">public final Date getEndTime()</pre> <p>Returns the expiration time for this ticket's validity period.</p> <dl> <dt>Returns:</dt> <dd>the expiration time for this ticket's validity period.</dd> </dl>    <h3 id="getRenewTill--">getRenewTill</h3> <pre data-language="java">public final Date getRenewTill()</pre> <p>Returns the latest expiration time for this ticket, including all renewals. This will return a null value for non-renewable tickets.</p> <dl> <dt>Returns:</dt> <dd>the latest expiration time for this ticket.</dd> </dl>    <h3 id="getClientAddresses--">getClientAddresses</h3> <pre data-language="java">public final InetAddress[] getClientAddresses()</pre> <p>Returns a list of addresses from where the ticket can be used.</p> <dl> <dt>Returns:</dt> <dd>ths list of addresses or null, if the field was not provided.</dd> </dl>    <h3 id="getEncoded--">getEncoded</h3> <pre data-language="java">public final byte[] getEncoded()</pre> <p>Returns an ASN.1 encoding of the entire ticket.</p> <dl> <dt>Returns:</dt> <dd>an ASN.1 encoding of the entire ticket.</dd> </dl>    <h3 id="isCurrent--">isCurrent</h3> <pre data-language="java">public boolean isCurrent()</pre> <p>Determines if this ticket is still current.</p> <dl> <dt>Specified by:</dt> <dd>
<code><a href="../refreshable#isCurrent--">isCurrent</a></code> in interface <code><a href="../refreshable">Refreshable</a></code>
</dd> <dt>Returns:</dt> <dd>true if this <code>Object</code> is currently current, false otherwise.</dd> </dl>    <h3 id="refresh--">refresh</h3> <pre data-language="java">public void refresh()
             throws RefreshFailedException</pre> <p>Extends the validity period of this ticket. The ticket will contain a new session key if the refresh operation succeeds. The refresh operation will fail if the ticket is not renewable or the latest allowable renew time has passed. Any other error returned by the KDC will also cause this method to fail. Note: This method is not synchronized with the the accessor methods of this object. Hence callers need to be aware of multiple threads that might access this and try to renew it at the same time.</p> <dl> <dt>Specified by:</dt> <dd>
<code><a href="../refreshable#refresh--">refresh</a></code> in interface <code><a href="../refreshable">Refreshable</a></code>
</dd> <dt>Throws:</dt> <dd>
<code><a href="../refreshfailedexception">RefreshFailedException</a></code> - if the ticket is not renewable, or the latest allowable renew time has passed, or the KDC returns some error.</dd> <dt>See Also:</dt> <dd>
<a href="kerberosticket#isRenewable--"><code>isRenewable()</code></a>, <a href="kerberosticket#getRenewTill--"><code>getRenewTill()</code></a>
</dd> </dl>    <h3 id="destroy--">destroy</h3> <pre data-language="java">public void destroy()
             throws DestroyFailedException</pre> <p>Destroys the ticket and destroys any sensitive information stored in it.</p> <dl> <dt>Specified by:</dt> <dd>
<code><a href="../destroyable#destroy--">destroy</a></code> in interface <code><a href="../destroyable">Destroyable</a></code>
</dd> <dt>Throws:</dt> <dd>
<code><a href="../destroyfailedexception">DestroyFailedException</a></code> - if the destroy operation fails. 
</dd> </dl>    <h3 id="isDestroyed--">isDestroyed</h3> <pre data-language="java">public boolean isDestroyed()</pre> <p>Determines if this ticket has been destroyed.</p> <dl> <dt>Specified by:</dt> <dd>
<code><a href="../destroyable#isDestroyed--">isDestroyed</a></code> in interface <code><a href="../destroyable">Destroyable</a></code>
</dd> <dt>Returns:</dt> <dd>true if this <code>Object</code> has been destroyed, false otherwise.</dd> </dl>    <h3 id="toString--">toString</h3> <pre data-language="java">public String toString()</pre> <p>Description copied from class: <code><a href="../../../../java/lang/object#toString--">Object</a></code></p> <div>
<p>Returns a string representation of the object. In general, the <code>toString</code> method returns a string that "textually represents" this object. The result should be a concise but informative representation that is easy for a person to read. It is recommended that all subclasses override this method. </p>
<p> The <code>toString</code> method for class <code>Object</code> returns a string consisting of the name of the class of which the object is an instance, the at-sign character `<code>@</code>', and the unsigned hexadecimal representation of the hash code of the object. In other words, this method returns a string equal to the value of: </p>
<pre data-language="java">getClass().getName() + '@' + Integer.toHexString(hashCode())</pre>
</div> <dl> <dt>Overrides:</dt> <dd>
<code><a href="../../../../java/lang/object#toString--">toString</a></code> in class <code><a href="../../../../java/lang/object">Object</a></code>
</dd> <dt>Returns:</dt> <dd>a string representation of the object.</dd> </dl>    <h3 id="hashCode--">hashCode</h3> <pre data-language="java">public int hashCode()</pre> <p>Returns a hashcode for this KerberosTicket.</p> <dl> <dt>Overrides:</dt> <dd>
<code><a href="../../../../java/lang/object#hashCode--">hashCode</a></code> in class <code><a href="../../../../java/lang/object">Object</a></code>
</dd> <dt>Returns:</dt> <dd>a hashCode() for the <code>KerberosTicket</code>
</dd> <dt>Since:</dt> <dd>1.6</dd> <dt>See Also:</dt> <dd>
<a href="../../../../java/lang/object#equals-java.lang.Object-"><code>Object.equals(java.lang.Object)</code></a>, <a href="../../../../java/lang/system#identityHashCode-java.lang.Object-"><code>System.identityHashCode(java.lang.Object)</code></a>
</dd> </dl>    <h3 id="equals-java.lang.Object-">equals</h3> <pre data-language="java">public boolean equals(Object other)</pre> <p>Compares the specified Object with this KerberosTicket for equality. Returns true if the given object is also a <code>KerberosTicket</code> and the two <code>KerberosTicket</code> instances are equivalent.</p> <dl> <dt>Overrides:</dt> <dd>
<code><a href="../../../../java/lang/object#equals-java.lang.Object-">equals</a></code> in class <code><a href="../../../../java/lang/object">Object</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>other</code> - the Object to compare to</dd> <dt>Returns:</dt> <dd>true if the specified object is equal to this KerberosTicket, false otherwise. NOTE: Returns false if either of the KerberosTicket objects has been destroyed.</dd> <dt>Since:</dt> <dd>1.6</dd> <dt>See Also:</dt> <dd>
<a href="../../../../java/lang/object#hashCode--"><code>Object.hashCode()</code></a>, <a href="../../../../java/util/hashmap"><code>HashMap</code></a>
</dd> </dl>     <div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993&ndash;2017, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    
  </p>
</div>
