<h1>Class Signature</h1>   <ul class="inheritance"> <li><a href="../lang/object">java.lang.Object</a></li> <li> <ul class="inheritance"> <li><a href="signaturespi">java.security.SignatureSpi</a></li> <li> <ul class="inheritance"> <li>java.security.Signature</li> </ul> </li> </ul> </li> </ul>     <pre data-language="java">public abstract class Signature
extends SignatureSpi</pre> <div>
<p>The Signature class is used to provide applications the functionality of a digital signature algorithm. Digital signatures are used for authentication and integrity assurance of digital data. </p>
<p> The signature algorithm can be, among others, the NIST standard DSA, using DSA and SHA-1. The DSA algorithm using the SHA-1 message digest algorithm can be specified as <code>SHA1withDSA</code>. In the case of RSA, there are multiple choices for the message digest algorithm, so the signing algorithm could be specified as, for example, <code>MD2withRSA</code>, <code>MD5withRSA</code>, or <code>SHA1withRSA</code>. The algorithm name must be specified, as there is no default. </p>
<p> A Signature object can be used to generate and verify digital signatures. </p>
<p> There are three phases to the use of a Signature object for either signing data or verifying a signature:</p>
<ol> <li>Initialization, with either <ul> <li>a public key, which initializes the signature for verification (see <a href="signature#initVerify-java.security.PublicKey-"><code>initVerify</code></a>), or </li>
<li>a private key (and optionally a Secure Random Number Generator), which initializes the signature for signing (see <a href="signature#initSign-java.security.PrivateKey-"><code>initSign(PrivateKey)</code></a> and <a href="signature#initSign-java.security.PrivateKey-java.security.SecureRandom-"><code>initSign(PrivateKey, SecureRandom)</code></a>). </li>
</ul> </li>
<li>Updating <p>Depending on the type of initialization, this will update the bytes to be signed or verified. See the <a href="signature#update-byte-"><code>update</code></a> methods. </p>
</li>
<li>Signing or Verifying a signature on all updated bytes. See the <a href="signature#sign--"><code>sign</code></a> methods and the <a href="signature#verify-byte:A-"><code>verify</code></a> method. </li>
</ol> <p>Note that this class is abstract and extends from <code>SignatureSpi</code> for historical reasons. Application developers should only take notice of the methods defined in this <code>Signature</code> class; all the methods in the superclass are intended for cryptographic service providers who wish to supply their own implementations of digital signature algorithms. </p>
<p> Every implementation of the Java platform is required to support the following standard <code>Signature</code> algorithms: </p>
<ul> <li><code>SHA1withDSA</code></li> <li><code>SHA1withRSA</code></li> <li><code>SHA256withRSA</code></li> </ul> These algorithms are described in the <a href="https://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#Signature"> Signature section</a> of the Java Cryptography Architecture Standard Algorithm Name Documentation. Consult the release documentation for your implementation to see if any other algorithms are supported.</div>       <h2 id="field.detail">Fields</h2>   <h3 id="UNINITIALIZED">UNINITIALIZED</h3> <pre data-language="java">protected static final int UNINITIALIZED</pre> <p>Possible <a href="signature#state"><code>state</code></a> value, signifying that this signature object has not yet been initialized.</p>     <h3 id="SIGN">SIGN</h3> <pre data-language="java">protected static final int SIGN</pre> <p>Possible <a href="signature#state"><code>state</code></a> value, signifying that this signature object has been initialized for signing.</p>     <h3 id="VERIFY">VERIFY</h3> <pre data-language="java">protected static final int VERIFY</pre> <p>Possible <a href="signature#state"><code>state</code></a> value, signifying that this signature object has been initialized for verification.</p>     <h3 id="state">state</h3> <pre data-language="java">protected int state</pre> <p>Current state of this signature object.</p>     <h2 id="constructor.detail">Constructors</h2>   <h3 id="Signature-java.lang.String-">Signature</h3> <pre data-language="java">protected Signature(String algorithm)</pre> <p>Creates a Signature object for the specified algorithm.</p> <dl> <dt>Parameters:</dt> <dd>
<code>algorithm</code> - the standard string name of the algorithm. See the Signature section in the <a href="https://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#Signature"> Java Cryptography Architecture Standard Algorithm Name Documentation</a> for information about standard algorithm names.</dd> </dl>     <h2 id="method.detail">Methods</h2>   <h3 id="getInstance-java.lang.String-">getInstance</h3> <pre data-language="java">public static Signature getInstance(String algorithm)
                             throws NoSuchAlgorithmException</pre> <div>
<p>Returns a Signature object that implements the specified signature algorithm. </p>
<p> This method traverses the list of registered security Providers, starting with the most preferred Provider. A new Signature object encapsulating the SignatureSpi implementation from the first Provider that supports the specified algorithm is returned. </p>
<p> Note that the list of registered providers may be retrieved via the <a href="security#getProviders--"><code>Security.getProviders()</code></a> method.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>algorithm</code> - the standard name of the algorithm requested. See the Signature section in the <a href="https://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#Signature"> Java Cryptography Architecture Standard Algorithm Name Documentation</a> for information about standard algorithm names.</dd> <dt>Returns:</dt> <dd>the new Signature object.</dd> <dt>Throws:</dt> <dd>
<code><a href="nosuchalgorithmexception">NoSuchAlgorithmException</a></code> - if no Provider supports a Signature implementation for the specified algorithm.</dd> <dt>See Also:</dt> <dd><a href="provider"><code>Provider</code></a></dd> </dl>    <h3 id="getInstance-java.lang.String-java.lang.String-">getInstance</h3> <pre data-language="java">public static Signature getInstance(String algorithm,
                                    String provider)
                             throws NoSuchAlgorithmException,
                                    NoSuchProviderException</pre> <div>
<p>Returns a Signature object that implements the specified signature algorithm. </p>
<p> A new Signature object encapsulating the SignatureSpi implementation from the specified provider is returned. The specified provider must be registered in the security provider list. </p>
<p> Note that the list of registered providers may be retrieved via the <a href="security#getProviders--"><code>Security.getProviders()</code></a> method.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>algorithm</code> - the name of the algorithm requested. See the Signature section in the <a href="https://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#Signature"> Java Cryptography Architecture Standard Algorithm Name Documentation</a> for information about standard algorithm names.</dd> <dd>
<code>provider</code> - the name of the provider.</dd> <dt>Returns:</dt> <dd>the new Signature object.</dd> <dt>Throws:</dt> <dd>
<code><a href="nosuchalgorithmexception">NoSuchAlgorithmException</a></code> - if a SignatureSpi implementation for the specified algorithm is not available from the specified provider.</dd> <dd>
<code><a href="nosuchproviderexception">NoSuchProviderException</a></code> - if the specified provider is not registered in the security provider list.</dd> <dd>
<code><a href="../lang/illegalargumentexception">IllegalArgumentException</a></code> - if the provider name is null or empty.</dd> <dt>See Also:</dt> <dd><a href="provider"><code>Provider</code></a></dd> </dl>    <h3 id="getInstance-java.lang.String-java.security.Provider-">getInstance</h3> <pre data-language="java">public static Signature getInstance(String algorithm,
                                    Provider provider)
                             throws NoSuchAlgorithmException</pre> <div>
<p>Returns a Signature object that implements the specified signature algorithm. </p>
<p> A new Signature object encapsulating the SignatureSpi implementation from the specified Provider object is returned. Note that the specified Provider object does not have to be registered in the provider list.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>algorithm</code> - the name of the algorithm requested. See the Signature section in the <a href="https://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#Signature"> Java Cryptography Architecture Standard Algorithm Name Documentation</a> for information about standard algorithm names.</dd> <dd>
<code>provider</code> - the provider.</dd> <dt>Returns:</dt> <dd>the new Signature object.</dd> <dt>Throws:</dt> <dd>
<code><a href="nosuchalgorithmexception">NoSuchAlgorithmException</a></code> - if a SignatureSpi implementation for the specified algorithm is not available from the specified Provider object.</dd> <dd>
<code><a href="../lang/illegalargumentexception">IllegalArgumentException</a></code> - if the provider is null.</dd> <dt>Since:</dt> <dd>1.4</dd> <dt>See Also:</dt> <dd><a href="provider"><code>Provider</code></a></dd> </dl>    <h3 id="getProvider--">getProvider</h3> <pre data-language="java">public final Provider getProvider()</pre> <p>Returns the provider of this signature object.</p> <dl> <dt>Returns:</dt> <dd>the provider of this signature object</dd> </dl>    <h3 id="initVerify-java.security.PublicKey-">initVerify</h3> <pre data-language="java">public final void initVerify(PublicKey publicKey)
                      throws InvalidKeyException</pre> <p>Initializes this object for verification. If this method is called again with a different argument, it negates the effect of this call.</p> <dl> <dt>Parameters:</dt> <dd>
<code>publicKey</code> - the public key of the identity whose signature is going to be verified.</dd> <dt>Throws:</dt> <dd>
<code><a href="invalidkeyexception">InvalidKeyException</a></code> - if the key is invalid.</dd> </dl>    <h3 id="initVerify-java.security.cert.Certificate-">initVerify</h3> <pre data-language="java">public final void initVerify(Certificate certificate)
                      throws InvalidKeyException</pre> <div>
<p>Initializes this object for verification, using the public key from the given certificate. </p>
<p>If the certificate is of type X.509 and has a <i>key usage</i> extension field marked as critical, and the value of the <i>key usage</i> extension field implies that the public key in the certificate and its corresponding private key are not supposed to be used for digital signatures, an <code>InvalidKeyException</code> is thrown.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>certificate</code> - the certificate of the identity whose signature is going to be verified.</dd> <dt>Throws:</dt> <dd>
<code><a href="invalidkeyexception">InvalidKeyException</a></code> - if the public key in the certificate is not encoded properly or does not include required parameter information or cannot be used for digital signature purposes.</dd> <dt>Since:</dt> <dd>1.3</dd> </dl>    <h3 id="initSign-java.security.PrivateKey-">initSign</h3> <pre data-language="java">public final void initSign(PrivateKey privateKey)
                    throws InvalidKeyException</pre> <p>Initialize this object for signing. If this method is called again with a different argument, it negates the effect of this call.</p> <dl> <dt>Parameters:</dt> <dd>
<code>privateKey</code> - the private key of the identity whose signature is going to be generated.</dd> <dt>Throws:</dt> <dd>
<code><a href="invalidkeyexception">InvalidKeyException</a></code> - if the key is invalid.</dd> </dl>    <h3 id="initSign-java.security.PrivateKey-java.security.SecureRandom-">initSign</h3> <pre data-language="java">public final void initSign(PrivateKey privateKey,
                           SecureRandom random)
                    throws InvalidKeyException</pre> <p>Initialize this object for signing. If this method is called again with a different argument, it negates the effect of this call.</p> <dl> <dt>Parameters:</dt> <dd>
<code>privateKey</code> - the private key of the identity whose signature is going to be generated.</dd> <dd>
<code>random</code> - the source of randomness for this signature.</dd> <dt>Throws:</dt> <dd>
<code><a href="invalidkeyexception">InvalidKeyException</a></code> - if the key is invalid.</dd> </dl>    <h3 id="sign--">sign</h3> <pre data-language="java">public final byte[] sign()
                  throws SignatureException</pre> <div>
<p>Returns the signature bytes of all the data updated. The format of the signature depends on the underlying signature scheme. </p>
<p>A call to this method resets this signature object to the state it was in when previously initialized for signing via a call to <code>initSign(PrivateKey)</code>. That is, the object is reset and available to generate another signature from the same signer, if desired, via new calls to <code>update</code> and <code>sign</code>.</p>
</div> <dl> <dt>Returns:</dt> <dd>the signature bytes of the signing operation's result.</dd> <dt>Throws:</dt> <dd>
<code><a href="signatureexception">SignatureException</a></code> - if this signature object is not initialized properly or if this signature algorithm is unable to process the input data provided.</dd> </dl>    <h3 id="sign-byte:A-int-int-">sign</h3> <pre data-language="java">public final int sign(byte[] outbuf,
                      int offset,
                      int len)
               throws SignatureException</pre> <div>
<p>Finishes the signature operation and stores the resulting signature bytes in the provided buffer <code>outbuf</code>, starting at <code>offset</code>. The format of the signature depends on the underlying signature scheme. </p>
<p>This signature object is reset to its initial state (the state it was in after a call to one of the <code>initSign</code> methods) and can be reused to generate further signatures with the same private key.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>outbuf</code> - buffer for the signature result.</dd> <dd>
<code>offset</code> - offset into <code>outbuf</code> where the signature is stored.</dd> <dd>
<code>len</code> - number of bytes within <code>outbuf</code> allotted for the signature.</dd> <dt>Returns:</dt> <dd>the number of bytes placed into <code>outbuf</code>.</dd> <dt>Throws:</dt> <dd>
<code><a href="signatureexception">SignatureException</a></code> - if this signature object is not initialized properly, if this signature algorithm is unable to process the input data provided, or if <code>len</code> is less than the actual signature length.</dd> <dt>Since:</dt> <dd>1.2</dd> </dl>    <h3 id="verify-byte:A-">verify</h3> <pre data-language="java">public final boolean verify(byte[] signature)
                     throws SignatureException</pre> <div>
<p>Verifies the passed-in signature. </p>
<p>A call to this method resets this signature object to the state it was in when previously initialized for verification via a call to <code>initVerify(PublicKey)</code>. That is, the object is reset and available to verify another signature from the identity whose public key was specified in the call to <code>initVerify</code>.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>signature</code> - the signature bytes to be verified.</dd> <dt>Returns:</dt> <dd>true if the signature was verified, false if not.</dd> <dt>Throws:</dt> <dd>
<code><a href="signatureexception">SignatureException</a></code> - if this signature object is not initialized properly, the passed-in signature is improperly encoded or of the wrong type, if this signature algorithm is unable to process the input data provided, etc.</dd> </dl>    <h3 id="verify-byte:A-int-int-">verify</h3> <pre data-language="java">public final boolean verify(byte[] signature,
                            int offset,
                            int length)
                     throws SignatureException</pre> <div>
<p>Verifies the passed-in signature in the specified array of bytes, starting at the specified offset. </p>
<p>A call to this method resets this signature object to the state it was in when previously initialized for verification via a call to <code>initVerify(PublicKey)</code>. That is, the object is reset and available to verify another signature from the identity whose public key was specified in the call to <code>initVerify</code>.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>signature</code> - the signature bytes to be verified.</dd> <dd>
<code>offset</code> - the offset to start from in the array of bytes.</dd> <dd>
<code>length</code> - the number of bytes to use, starting at offset.</dd> <dt>Returns:</dt> <dd>true if the signature was verified, false if not.</dd> <dt>Throws:</dt> <dd>
<code><a href="signatureexception">SignatureException</a></code> - if this signature object is not initialized properly, the passed-in signature is improperly encoded or of the wrong type, if this signature algorithm is unable to process the input data provided, etc.</dd> <dd>
<code><a href="../lang/illegalargumentexception">IllegalArgumentException</a></code> - if the <code>signature</code> byte array is null, or the <code>offset</code> or <code>length</code> is less than 0, or the sum of the <code>offset</code> and <code>length</code> is greater than the length of the <code>signature</code> byte array.</dd> <dt>Since:</dt> <dd>1.4</dd> </dl>    <h3 id="update-byte-">update</h3> <pre data-language="java">public final void update(byte b)
                  throws SignatureException</pre> <p>Updates the data to be signed or verified by a byte.</p> <dl> <dt>Parameters:</dt> <dd>
<code>b</code> - the byte to use for the update.</dd> <dt>Throws:</dt> <dd>
<code><a href="signatureexception">SignatureException</a></code> - if this signature object is not initialized properly.</dd> </dl>    <h3 id="update-byte:A-">update</h3> <pre data-language="java">public final void update(byte[] data)
                  throws SignatureException</pre> <p>Updates the data to be signed or verified, using the specified array of bytes.</p> <dl> <dt>Parameters:</dt> <dd>
<code>data</code> - the byte array to use for the update.</dd> <dt>Throws:</dt> <dd>
<code><a href="signatureexception">SignatureException</a></code> - if this signature object is not initialized properly.</dd> </dl>    <h3 id="update-byte:A-int-int-">update</h3> <pre data-language="java">public final void update(byte[] data,
                         int off,
                         int len)
                  throws SignatureException</pre> <p>Updates the data to be signed or verified, using the specified array of bytes, starting at the specified offset.</p> <dl> <dt>Parameters:</dt> <dd>
<code>data</code> - the array of bytes.</dd> <dd>
<code>off</code> - the offset to start from in the array of bytes.</dd> <dd>
<code>len</code> - the number of bytes to use, starting at offset.</dd> <dt>Throws:</dt> <dd>
<code><a href="signatureexception">SignatureException</a></code> - if this signature object is not initialized properly.</dd> </dl>    <h3 id="update-java.nio.ByteBuffer-">update</h3> <pre data-language="java">public final void update(ByteBuffer data)
                  throws SignatureException</pre> <p>Updates the data to be signed or verified using the specified ByteBuffer. Processes the <code>data.remaining()</code> bytes starting at at <code>data.position()</code>. Upon return, the buffer's position will be equal to its limit; its limit will not have changed.</p> <dl> <dt>Parameters:</dt> <dd>
<code>data</code> - the ByteBuffer</dd> <dt>Throws:</dt> <dd>
<code><a href="signatureexception">SignatureException</a></code> - if this signature object is not initialized properly.</dd> <dt>Since:</dt> <dd>1.5</dd> </dl>    <h3 id="getAlgorithm--">getAlgorithm</h3> <pre data-language="java">public final String getAlgorithm()</pre> <p>Returns the name of the algorithm for this signature object.</p> <dl> <dt>Returns:</dt> <dd>the name of the algorithm for this signature object.</dd> </dl>    <h3 id="toString--">toString</h3> <pre data-language="java">public String toString()</pre> <p>Returns a string representation of this signature object, providing information that includes the state of the object and the name of the algorithm used.</p> <dl> <dt>Overrides:</dt> <dd>
<code><a href="../lang/object#toString--">toString</a></code> in class <code><a href="../lang/object">Object</a></code>
</dd> <dt>Returns:</dt> <dd>a string representation of this signature object.</dd> </dl>    <h3 id="setParameter-java.lang.String-java.lang.Object-">setParameter</h3> <pre data-language="java">@Deprecated
public final void setParameter(String param,
                                           Object value)
                                    throws InvalidParameterException</pre> <p><strong>Deprecated.</strong> Use <a href="signature#setParameter-java.security.spec.AlgorithmParameterSpec-"><code>setParameter</code></a>.</p> <p>Sets the specified algorithm parameter to the specified value. This method supplies a general-purpose mechanism through which it is possible to set the various parameters of this object. A parameter may be any settable parameter for the algorithm, such as a parameter size, or a source of random bits for signature generation (if appropriate), or an indication of whether or not to perform a specific but optional computation. A uniform algorithm-specific naming scheme for each parameter is desirable but left unspecified at this time.</p> <dl> <dt>Parameters:</dt> <dd>
<code>param</code> - the string identifier of the parameter.</dd> <dd>
<code>value</code> - the parameter value.</dd> <dt>Throws:</dt> <dd>
<code><a href="invalidparameterexception">InvalidParameterException</a></code> - if <code>param</code> is an invalid parameter for this signature algorithm engine, the parameter is already set and cannot be set again, a security exception occurs, and so on.</dd> <dt>See Also:</dt> <dd><a href="signature#getParameter-java.lang.String-"><code>getParameter(java.lang.String)</code></a></dd> </dl>    <h3 id="setParameter-java.security.spec.AlgorithmParameterSpec-">setParameter</h3> <pre data-language="java">public final void setParameter(AlgorithmParameterSpec params)
                        throws InvalidAlgorithmParameterException</pre> <p>Initializes this signature engine with the specified parameter set.</p> <dl> <dt>Parameters:</dt> <dd>
<code>params</code> - the parameters</dd> <dt>Throws:</dt> <dd>
<code><a href="invalidalgorithmparameterexception">InvalidAlgorithmParameterException</a></code> - if the given parameters are inappropriate for this signature engine</dd> <dt>See Also:</dt> <dd><a href="signature#getParameters--"><code>getParameters()</code></a></dd> </dl>    <h3 id="getParameters--">getParameters</h3> <pre data-language="java">public final AlgorithmParameters getParameters()</pre> <div>
<p>Returns the parameters used with this signature object. </p>
<p>The returned parameters may be the same that were used to initialize this signature, or may contain a combination of default and randomly generated parameter values used by the underlying signature implementation if this signature requires algorithm parameters but was not initialized with any.</p>
</div> <dl> <dt>Returns:</dt> <dd>the parameters used with this signature, or null if this signature does not use any parameters.</dd> <dt>Since:</dt> <dd>1.4</dd> <dt>See Also:</dt> <dd><a href="signature#setParameter-java.security.spec.AlgorithmParameterSpec-"><code>setParameter(AlgorithmParameterSpec)</code></a></dd> </dl>    <h3 id="getParameter-java.lang.String-">getParameter</h3> <pre data-language="java">@Deprecated
public final Object getParameter(String param)
                                      throws InvalidParameterException</pre> <p><strong>Deprecated.</strong> </p> <p>Gets the value of the specified algorithm parameter. This method supplies a general-purpose mechanism through which it is possible to get the various parameters of this object. A parameter may be any settable parameter for the algorithm, such as a parameter size, or a source of random bits for signature generation (if appropriate), or an indication of whether or not to perform a specific but optional computation. A uniform algorithm-specific naming scheme for each parameter is desirable but left unspecified at this time.</p> <dl> <dt>Parameters:</dt> <dd>
<code>param</code> - the string name of the parameter.</dd> <dt>Returns:</dt> <dd>the object that represents the parameter value, or null if there is none.</dd> <dt>Throws:</dt> <dd>
<code><a href="invalidparameterexception">InvalidParameterException</a></code> - if <code>param</code> is an invalid parameter for this engine, or another exception occurs while trying to get this parameter.</dd> <dt>See Also:</dt> <dd><a href="signature#setParameter-java.lang.String-java.lang.Object-"><code>setParameter(String, Object)</code></a></dd> </dl>    <h3 id="clone--">clone</h3> <pre data-language="java">public Object clone()
             throws CloneNotSupportedException</pre> <p>Returns a clone if the implementation is cloneable.</p> <dl> <dt>Overrides:</dt> <dd>
<code><a href="signaturespi#clone--">clone</a></code> in class <code><a href="signaturespi">SignatureSpi</a></code>
</dd> <dt>Returns:</dt> <dd>a clone if the implementation is cloneable.</dd> <dt>Throws:</dt> <dd>
<code><a href="../lang/clonenotsupportedexception">CloneNotSupportedException</a></code> - if this is called on an implementation that does not support <code>Cloneable</code>.</dd> <dt>See Also:</dt> <dd><a href="../lang/cloneable"><code>Cloneable</code></a></dd> </dl>     <div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993&ndash;2017, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    
  </p>
</div>
