<h1>Class LongAdder</h1>   <ul class="inheritance"> <li><a href="../../../lang/object">java.lang.Object</a></li> <li> <ul class="inheritance"> <li><a href="../../../lang/number">java.lang.Number</a></li> <li> <ul class="inheritance"> <li>java.util.concurrent.atomic.LongAdder</li> </ul> </li> </ul> </li> </ul>   <dl> <dt>All Implemented Interfaces:</dt> <dd><a href="../../../io/serializable">Serializable</a></dd> </dl>   <pre data-language="java">public class LongAdder
extends Number
implements Serializable</pre> <div>
<p>One or more variables that together maintain an initially zero <code>long</code> sum. When updates (method <a href="longadder#add-long-"><code>add(long)</code></a>) are contended across threads, the set of variables may grow dynamically to reduce contention. Method <a href="longadder#sum--"><code>sum()</code></a> (or, equivalently, <a href="longadder#longValue--"><code>longValue()</code></a>) returns the current total combined across the variables maintaining the sum. </p>
<p>This class is usually preferable to <a href="atomiclong"><code>AtomicLong</code></a> when multiple threads update a common sum that is used for purposes such as collecting statistics, not for fine-grained synchronization control. Under low update contention, the two classes have similar characteristics. But under high contention, expected throughput of this class is significantly higher, at the expense of higher space consumption. </p>
<p>LongAdders can be used with a <a href="../concurrenthashmap"><code>ConcurrentHashMap</code></a> to maintain a scalable frequency map (a form of histogram or multiset). For example, to add a count to a <code>ConcurrentHashMap&lt;String,LongAdder&gt; freqs</code>, initializing if not already present, you can use <code>freqs.computeIfAbsent(k -&gt; new LongAdder()).increment();</code> </p>
<p>This class extends <a href="../../../lang/number"><code>Number</code></a>, but does <em>not</em> define methods such as <code>equals</code>, <code>hashCode</code> and <code>compareTo</code> because instances are expected to be mutated, and so are not useful as collection keys.</p>
</div> <dl> <dt>Since:</dt> <dd>1.8</dd>   </dl>       <h2 id="constructor.detail">Constructors</h2>   <h3 id="LongAdder--">LongAdder</h3> <pre data-language="java">public LongAdder()</pre> <p>Creates a new adder with initial sum of zero.</p>     <h2 id="method.detail">Methods</h2>   <h3 id="add-long-">add</h3> <pre data-language="java">public void add(long x)</pre> <p>Adds the given value.</p> <dl> <dt>Parameters:</dt> <dd>
<code>x</code> - the value to add</dd> </dl>    <h3 id="increment--">increment</h3> <pre data-language="java">public void increment()</pre> <p>Equivalent to <code>add(1)</code>.</p>    <h3 id="decrement--">decrement</h3> <pre data-language="java">public void decrement()</pre> <p>Equivalent to <code>add(-1)</code>.</p>    <h3 id="sum--">sum</h3> <pre data-language="java">public long sum()</pre> <p>Returns the current sum. The returned value is <em>NOT</em> an atomic snapshot; invocation in the absence of concurrent updates returns an accurate result, but concurrent updates that occur while the sum is being calculated might not be incorporated.</p> <dl> <dt>Returns:</dt> <dd>the sum</dd> </dl>    <h3 id="reset--">reset</h3> <pre data-language="java">public void reset()</pre> <p>Resets variables maintaining the sum to zero. This method may be a useful alternative to creating a new adder, but is only effective if there are no concurrent updates. Because this method is intrinsically racy, it should only be used when it is known that no threads are concurrently updating.</p>    <h3 id="sumThenReset--">sumThenReset</h3> <pre data-language="java">public long sumThenReset()</pre> <p>Equivalent in effect to <a href="longadder#sum--"><code>sum()</code></a> followed by <a href="longadder#reset--"><code>reset()</code></a>. This method may apply for example during quiescent points between multithreaded computations. If there are updates concurrent with this method, the returned value is <em>not</em> guaranteed to be the final value occurring before the reset.</p> <dl> <dt>Returns:</dt> <dd>the sum</dd> </dl>    <h3 id="toString--">toString</h3> <pre data-language="java">public String toString()</pre> <p>Returns the String representation of the <a href="longadder#sum--"><code>sum()</code></a>.</p> <dl> <dt>Overrides:</dt> <dd>
<code><a href="../../../lang/object#toString--">toString</a></code> in class <code><a href="../../../lang/object">Object</a></code>
</dd> <dt>Returns:</dt> <dd>the String representation of the <a href="longadder#sum--"><code>sum()</code></a>
</dd> </dl>    <h3 id="longValue--">longValue</h3> <pre data-language="java">public long longValue()</pre> <p>Equivalent to <a href="longadder#sum--"><code>sum()</code></a>.</p> <dl> <dt>Specified by:</dt> <dd>
<code><a href="../../../lang/number#longValue--">longValue</a></code> in class <code><a href="../../../lang/number">Number</a></code>
</dd> <dt>Returns:</dt> <dd>the sum</dd> </dl>    <h3 id="intValue--">intValue</h3> <pre data-language="java">public int intValue()</pre> <p>Returns the <a href="longadder#sum--"><code>sum()</code></a> as an <code>int</code> after a narrowing primitive conversion.</p> <dl> <dt>Specified by:</dt> <dd>
<code><a href="../../../lang/number#intValue--">intValue</a></code> in class <code><a href="../../../lang/number">Number</a></code>
</dd> <dt>Returns:</dt> <dd>the numeric value represented by this object after conversion to type <code>int</code>.</dd> </dl>    <h3 id="floatValue--">floatValue</h3> <pre data-language="java">public float floatValue()</pre> <p>Returns the <a href="longadder#sum--"><code>sum()</code></a> as a <code>float</code> after a widening primitive conversion.</p> <dl> <dt>Specified by:</dt> <dd>
<code><a href="../../../lang/number#floatValue--">floatValue</a></code> in class <code><a href="../../../lang/number">Number</a></code>
</dd> <dt>Returns:</dt> <dd>the numeric value represented by this object after conversion to type <code>float</code>.</dd> </dl>    <h3 id="doubleValue--">doubleValue</h3> <pre data-language="java">public double doubleValue()</pre> <p>Returns the <a href="longadder#sum--"><code>sum()</code></a> as a <code>double</code> after a widening primitive conversion.</p> <dl> <dt>Specified by:</dt> <dd>
<code><a href="../../../lang/number#doubleValue--">doubleValue</a></code> in class <code><a href="../../../lang/number">Number</a></code>
</dd> <dt>Returns:</dt> <dd>the numeric value represented by this object after conversion to type <code>double</code>.</dd> </dl>     <div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993&ndash;2017, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    
  </p>
</div>
